# Comparing `tmp/DBRetina-2.2.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.zip` & `tmp/DBRetina-2.2.5-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 1925656 bytes, number of entries: 29
-drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 02:59 DBRetina.libs/
-drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 02:59 DBRetina-2.2.4.dist-info/
-drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 02:59 kSpider2/
-drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 02:59 internal/
--rwxr-xr-x  2.0 unx  7209113 b- defN 23-May-02 02:59 _kSpider_internal.cpython-39-x86_64-linux-gnu.so
--rwxr-xr-x  2.0 unx   168193 b- defN 23-May-02 02:59 DBRetina.libs/libgomp-a34b3233.so.1.0.0
--rwxr-xr-x  2.0 unx    70993 b- defN 23-May-02 02:59 DBRetina.libs/libbz2-a273e504.so.1.0.6
--rw-r--r--  2.0 unx     1054 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/METADATA
--rw-r--r--  2.0 unx       42 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       53 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2115 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/RECORD
--rw-r--r--  2.0 unx      148 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/WHEEL
--rw-r--r--  2.0 unx     1082 b- defN 23-May-02 02:59 DBRetina-2.2.4.dist-info/LICENSE
--rw-r--r--  2.0 unx      870 b- defN 23-May-02 02:59 kSpider2/customLogger.py
--rw-r--r--  2.0 unx     4351 b- defN 23-May-02 02:59 kSpider2/ks_pairwise.py
--rw-r--r--  2.0 unx     8436 b- defN 23-May-02 02:59 kSpider2/ks_query_dbretina.py
--rw-r--r--  2.0 unx     5222 b- defN 23-May-02 02:59 kSpider2/ks_index.py
--rw-r--r--  2.0 unx     1837 b- defN 23-May-02 02:59 kSpider2/ks_dataset_indexing.py
--rw-r--r--  2.0 unx      859 b- defN 23-May-02 02:59 kSpider2/kSpider_main.py
--rw-r--r--  2.0 unx    10672 b- defN 23-May-02 02:59 kSpider2/ks_filter.py
--rw-r--r--  2.0 unx       37 b- defN 23-May-02 02:59 kSpider2/__init__.py
--rw-r--r--  2.0 unx     1467 b- defN 23-May-02 02:59 kSpider2/click_context.py
--rw-r--r--  2.0 unx     3316 b- defN 23-May-02 02:59 kSpider2/ks_fastx_to_kfs.py
--rw-r--r--  2.0 unx     9330 b- defN 23-May-02 02:59 kSpider2/ks_export.py
--rw-r--r--  2.0 unx      312 b- defN 23-May-02 02:59 kSpider2/kSpider_version.py
--rw-r--r--  2.0 unx      719 b- defN 23-May-02 02:59 kSpider2/ks_sketch_dbretina.py
--rw-r--r--  2.0 unx     8916 b- defN 23-May-02 02:59 kSpider2/ks_clustering.py
--rw-r--r--  2.0 unx     2784 b- defN 23-May-02 02:59 internal/kSpider_internal.py
--rw-r--r--  2.0 unx       32 b- defN 23-May-02 02:59 internal/__init__.py
-29 files, 7511953 bytes uncompressed, 1921866 bytes compressed:  74.4%
+Zip file size: 1925642 bytes, number of entries: 29
+drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 03:20 DBRetina.libs/
+drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 03:20 kSpider2/
+drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 03:20 DBRetina-2.2.5.dist-info/
+drwxr-xr-x  2.0 unx        0 b- stor 23-May-02 03:20 internal/
+-rwxr-xr-x  2.0 unx  7209113 b- defN 23-May-02 03:20 _kSpider_internal.cpython-39-x86_64-linux-gnu.so
+-rwxr-xr-x  2.0 unx   168193 b- defN 23-May-02 03:20 DBRetina.libs/libgomp-a34b3233.so.1.0.0
+-rwxr-xr-x  2.0 unx    70993 b- defN 23-May-02 03:20 DBRetina.libs/libbz2-a273e504.so.1.0.6
+-rw-r--r--  2.0 unx      870 b- defN 23-May-02 03:20 kSpider2/customLogger.py
+-rw-r--r--  2.0 unx     4351 b- defN 23-May-02 03:20 kSpider2/ks_pairwise.py
+-rw-r--r--  2.0 unx     8436 b- defN 23-May-02 03:20 kSpider2/ks_query_dbretina.py
+-rw-r--r--  2.0 unx     5222 b- defN 23-May-02 03:20 kSpider2/ks_index.py
+-rw-r--r--  2.0 unx     1837 b- defN 23-May-02 03:20 kSpider2/ks_dataset_indexing.py
+-rw-r--r--  2.0 unx      859 b- defN 23-May-02 03:20 kSpider2/kSpider_main.py
+-rw-r--r--  2.0 unx    10433 b- defN 23-May-02 03:20 kSpider2/ks_filter.py
+-rw-r--r--  2.0 unx       37 b- defN 23-May-02 03:20 kSpider2/__init__.py
+-rw-r--r--  2.0 unx     1467 b- defN 23-May-02 03:20 kSpider2/click_context.py
+-rw-r--r--  2.0 unx     3316 b- defN 23-May-02 03:20 kSpider2/ks_fastx_to_kfs.py
+-rw-r--r--  2.0 unx     9330 b- defN 23-May-02 03:20 kSpider2/ks_export.py
+-rw-r--r--  2.0 unx      312 b- defN 23-May-02 03:20 kSpider2/kSpider_version.py
+-rw-r--r--  2.0 unx      719 b- defN 23-May-02 03:20 kSpider2/ks_sketch_dbretina.py
+-rw-r--r--  2.0 unx     8916 b- defN 23-May-02 03:20 kSpider2/ks_clustering.py
+-rw-r--r--  2.0 unx     1054 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/METADATA
+-rw-r--r--  2.0 unx       42 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       53 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2115 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/RECORD
+-rw-r--r--  2.0 unx      148 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx     1082 b- defN 23-May-02 03:20 DBRetina-2.2.5.dist-info/LICENSE
+-rw-r--r--  2.0 unx     2784 b- defN 23-May-02 03:20 internal/kSpider_internal.py
+-rw-r--r--  2.0 unx       32 b- defN 23-May-02 03:20 internal/__init__.py
+29 files, 7511714 bytes uncompressed, 1921852 bytes compressed:  74.4%
```

## zipnote {}

```diff
@@ -1,46 +1,28 @@
 Filename: DBRetina.libs/
 Comment: 
 
-Filename: DBRetina-2.2.4.dist-info/
+Filename: kSpider2/
 Comment: 
 
-Filename: kSpider2/
+Filename: DBRetina-2.2.5.dist-info/
 Comment: 
 
 Filename: internal/
 Comment: 
 
 Filename: _kSpider_internal.cpython-39-x86_64-linux-gnu.so
 Comment: 
 
 Filename: DBRetina.libs/libgomp-a34b3233.so.1.0.0
 Comment: 
 
 Filename: DBRetina.libs/libbz2-a273e504.so.1.0.6
 Comment: 
 
-Filename: DBRetina-2.2.4.dist-info/METADATA
-Comment: 
-
-Filename: DBRetina-2.2.4.dist-info/entry_points.txt
-Comment: 
-
-Filename: DBRetina-2.2.4.dist-info/top_level.txt
-Comment: 
-
-Filename: DBRetina-2.2.4.dist-info/RECORD
-Comment: 
-
-Filename: DBRetina-2.2.4.dist-info/WHEEL
-Comment: 
-
-Filename: DBRetina-2.2.4.dist-info/LICENSE
-Comment: 
-
 Filename: kSpider2/customLogger.py
 Comment: 
 
 Filename: kSpider2/ks_pairwise.py
 Comment: 
 
 Filename: kSpider2/ks_query_dbretina.py
@@ -75,14 +57,32 @@
 
 Filename: kSpider2/ks_sketch_dbretina.py
 Comment: 
 
 Filename: kSpider2/ks_clustering.py
 Comment: 
 
+Filename: DBRetina-2.2.5.dist-info/METADATA
+Comment: 
+
+Filename: DBRetina-2.2.5.dist-info/entry_points.txt
+Comment: 
+
+Filename: DBRetina-2.2.5.dist-info/top_level.txt
+Comment: 
+
+Filename: DBRetina-2.2.5.dist-info/RECORD
+Comment: 
+
+Filename: DBRetina-2.2.5.dist-info/WHEEL
+Comment: 
+
+Filename: DBRetina-2.2.5.dist-info/LICENSE
+Comment: 
+
 Filename: internal/kSpider_internal.py
 Comment: 
 
 Filename: internal/__init__.py
 Comment: 
 
 Zip file comment:
```

## kSpider2/ks_filter.py

```diff
@@ -66,21 +66,14 @@
             'Numbers must be a comma-separated list of integers') from e
 
 
 def path_to_absolute_path(ctx, param, value):
     return value if value == "NA" else os.path.abspath(value)
 
 
-
-def get_extended_nodes(nodes, kmer_size):
-    
-    return extended_nodes
-
-
-
 @cli.command(name="filter", help_priority=3)
 @click.option('-p', '--pairwise', 'pairwise_file', callback=path_to_absolute_path, required=True, type=click.Path(exists=True), help="the pairwise TSV file")
 @click.option('-g', '--groups-file', "groups_file", callback=path_to_absolute_path, required=False, default="NA", type=click.Path(exists=False), help="single-column supergroups file")
 @click.option('--clusters-file', "clusters_file", callback=path_to_absolute_path, required=False, default="NA", type=click.Path(exists=False), help="DBRetina clusters file")
 @click.option('--cluster-ids', "cluster_ids", callback=validate_numbers, required=False, default="", help="comma-separated list of cluster IDs")
 @click.option('-d', '--dist-type', "distance_type", required=False, default="NA", show_default=True, type=click.STRING, help="select from ['min_cont', 'avg_cont', 'max_cont', 'ochiai', 'jaccard']")
 @click.option('-c', '--cutoff', required=False, type=click.FloatRange(0, 100, clamp=False), default=0.0, show_default=True, help="filter out distances < cutoff")
@@ -107,15 +100,15 @@
 
     5- cluster file with cluster IDs     | dbretina filter -p pairwise.tsv --clusters-file clusters.tsv --clusters-id 8 -o filtered.tsv 
     """
     
     # Extend must be used only when clusters file or groups file is provided
     if extend and groups_file == "NA" and clusters_file == "NA":
         ctx.obj.ERROR("DBRetina's filter command requires a groups_file or clusters_file if --extend is provided.")
-        
+
 
     # check if not any option is provided for filteration
     if distance_type == "NA" and cutoff == 0.0 and groups_file == "NA" and clusters_file == "NA":
         ctx.obj.ERROR(
             "DBRetina's filter command requires at least one option to filter the pairwise file.")
 
     # if clusters_file then must be cluster_id
@@ -203,31 +196,29 @@
                     W.write(line[2].replace('|', '\n') + '\n')
 
     unfound_ids = set(cluster_ids).difference(all_ids)
     if len(unfound_ids):
         ctx.obj.WARNING(
             f"Couldn't find the following cluster IDs: {unfound_ids}")
 
-    
+
     extended_ids_list = ".DBRetina_extended_ids_list"
-    
+
     with open(extended_ids_list, 'w') as f:
         f.write("")
-    
-    if extend:
-        # awk_script = f"""grep '^[^#;]' {pairwise_file} | tail -n+2 | LC_ALL=C awk -F'\t' 'BEGIN {{ while ( getline < "{groups_file}" ) {{ gsub(/"/, "", $1); id_map[tolower($1)]=1 }} }} {{ if ( ($3 in id_map) || ($4 in id_map) ) {{ print $3 >> "{extended_ids_list}"; print $4 >> "{extended_ids_list}"}} }}'"""
-        
+
+    if extend:    
         awk_script = f"""grep '^[^#;]' {pairwise_file} | tail -n+2 | LC_ALL=C awk -F'\t' 'BEGIN {{ while ( getline < "{groups_file}" ) {{ gsub(/"/, "", $1); id_map[tolower($1)]=1 }} }} {{ if ( (tolower($3) in id_map) || (tolower($4) in id_map) ) {{ print $0 }} }}' | awk -F'\t' '{{if (${awk_column} >= {cutoff}) {{ print $3 >> "{extended_ids_list}"; print $4 >> "{extended_ids_list}"}}}}'"""
-        
+
         result = execute_bash_command(awk_script)
-        bash_script = f"""sort -u {extended_ids_list} -o {extended_ids_list}.uniq"""
+        extended_supergroups_file = f"{output_file.replace('.tsv','')}_extended_supergroups.txt"
+        bash_script = f"""sort -u {extended_ids_list} -o {extended_supergroups_file}"""
         result = execute_bash_command(bash_script)
-        groups_file = extended_ids_list + '.uniq'
+        groups_file = extended_supergroups_file
 
-   
     # filter by both cutoff and groups
     if cutoff != 0.0 and groups_file != "NA":
         awk_script = f"""grep '^[^#;]' {pairwise_file} | tail -n+2 | LC_ALL=C awk -F'\t' 'BEGIN {{ while ( getline < "{groups_file}" ) {{ gsub(/"/, "", $1); id_map[tolower($1)]=1 }} }} {{ if ( (tolower($3) in id_map) && (tolower($4) in id_map) ) {{ print $0 }} }}' | awk -F'\t' '{{if (${awk_column} >= {cutoff}) print $0}}' >> {output_file}"""
         result = execute_bash_command(awk_script)
 
     elif cutoff != 0.0:
         ctx.obj.INFO(
@@ -240,9 +231,12 @@
         awk_script = f"""grep '^[^#;]' {pairwise_file} | tail -n+2 |LC_ALL=C awk -F'\t' 'BEGIN {{ while ( getline < "{groups_file}" ) {{ gsub(/"/, "", $1); id_map[tolower($1)]=1 }} }} {{ if ( (tolower($3) in id_map) && (tolower($4) in id_map) ) {{ print $0 }} }}' >> {output_file}"""
         result = execute_bash_command(awk_script)
 
 
     # if _tmp_file exists, remove it
     if os.path.exists(_tmp_file):
         os.remove(_tmp_file)
+        
+    if os.path.exists(extended_ids_list):
+        os.remove(extended_ids_list)
 
     ctx.obj.SUCCESS("Done.")
```

## kSpider2/kSpider_version.py

```diff
@@ -1,15 +1,15 @@
 import os
 
 #TODO there are two files with DBRetina_version, remove one.
 
 # Only update this when releasing stable
 MAJOR = 2
 MINOR = 2
-PATCH = 4
+PATCH = 5
 
 PYPI_PACKAGE = "DBRetina"
 
 def is_github_action():
     return "GITHUB_WORKFLOW" in dict(os.environ)
```

## Comparing `DBRetina-2.2.4.dist-info/METADATA` & `DBRetina-2.2.5.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: DBRetina
-Version: 2.2.4
+Version: 2.2.5
 Summary: DBRetina Python Package
 License: BSD 3-Clause
 Project-URL: Bug Reports, https://github.com/DBRetina/DBRetina/issues
 Project-URL: Source, https://github.com/DBRetina/DBRetina/issues
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Development Status :: 3 - Alpha
 Classifier: Operating System :: POSIX :: Linux
```

## Comparing `DBRetina-2.2.4.dist-info/RECORD` & `DBRetina-2.2.5.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 _kSpider_internal.cpython-39-x86_64-linux-gnu.so,sha256=rNIdDOc1LdFpSWFA47fHAr0sl_T99sjX6eaotv3DE_Y,7209113
 DBRetina.libs/libgomp-a34b3233.so.1.0.0,sha256=On6uznIxkRvi-7Gz58tMtcLg-E4MK7c3OUcrWh_uyME,168193
 DBRetina.libs/libbz2-a273e504.so.1.0.6,sha256=Ks7i35uwgx4aPZalUSQBwyfxeXGQ9BGdNInwVf00yb8,70993
-DBRetina-2.2.4.dist-info/METADATA,sha256=pmyWBvkBmhYEfAB2p895WABFsV0tM6qA0Cr78-iUolI,1054
-DBRetina-2.2.4.dist-info/entry_points.txt,sha256=HuUvdKaCNqW3VFtVnm6P-dCDkkOrVT-niI2-1C7LswI,42
-DBRetina-2.2.4.dist-info/top_level.txt,sha256=mgN01IsYPX0F4K0TlzJVvZm5nddBiNlhZMuGa4sAf8Q,53
-DBRetina-2.2.4.dist-info/RECORD,,
-DBRetina-2.2.4.dist-info/WHEEL,sha256=gREe7-l-MJWbGZG46A7WHnwwUSxA3XJYHQvGGLzmBNU,148
-DBRetina-2.2.4.dist-info/LICENSE,sha256=W1bnRBpBo-y-J4DWTqaty5UL5CzCiFqfgJX9nC87KKo,1082
 kSpider2/customLogger.py,sha256=Xx_sO1daEiRFTndMI2FEDUL4T_DHvKm38sUZ2yNXhh0,870
 kSpider2/ks_pairwise.py,sha256=NxVAYGCqEk6oNxwhWE1JumPQCTBh5j2BWB0FZXm8DvI,4351
 kSpider2/ks_query_dbretina.py,sha256=CFQAXKiY4cDXfWpfnp8YA__FAZGUbFBv1cJZ6y-eoUs,8436
 kSpider2/ks_index.py,sha256=-eA9pHplGd9_a8soGDoiWrCe_V5-1MU8QSPGknV2D0M,5222
 kSpider2/ks_dataset_indexing.py,sha256=_xzg6Z12R6mabRr9UnzJLx2Ft8xlswncNNN8izL4J4w,1837
 kSpider2/kSpider_main.py,sha256=vUxKV9fiSUpJ95FNHapVG-7hsGpQo1eCVz_Mic4A0D8,859
-kSpider2/ks_filter.py,sha256=9eyXBmP1pdI6ZY7OLczJyD_U0WZMoxD0xsqpYkE9QN0,10672
+kSpider2/ks_filter.py,sha256=VEmYA5EzbbiaN3Eb3zgdA0Z_MDJGRnFGnkNK6R0ffeE,10433
 kSpider2/__init__.py,sha256=MlBlDKuZL00E7Rjx_28goPYbJY09SW5CUAu0A4Q2Quo,37
 kSpider2/click_context.py,sha256=Ps9j6PnjvB4zBst2GoRfV3DBP4Pb17GfYKALBAY2I8o,1467
 kSpider2/ks_fastx_to_kfs.py,sha256=r3IUgtoitZL5NwzyEi-uY0tW5Z9_X1nVibxEfD_lHwU,3316
 kSpider2/ks_export.py,sha256=exMDQljquZWx8jI4ulYkCHrcKUaBLGe678TA3gcRCsA,9330
-kSpider2/kSpider_version.py,sha256=4ovqluExTkfYS1v-OI6Nh2HgYVCn_c67jH_e-KBbsjQ,312
+kSpider2/kSpider_version.py,sha256=pDuzTDh9Sj4HfRbOoCTV20Roo9csfcdU4q2mQDjQfYA,312
 kSpider2/ks_sketch_dbretina.py,sha256=PZlasGcqRIWH4mmOAtSe8s6zZXEDiYIPYrYNEbc4Bxk,719
 kSpider2/ks_clustering.py,sha256=2PW_YtFOuRO8nS-3ujTNDqmHIyMosQkKKl_R9DHwq3w,8916
+DBRetina-2.2.5.dist-info/METADATA,sha256=ITgUy4xWIy8wRU2Bs04sbPB1Zq7QI3CHcLqDIT1TyBs,1054
+DBRetina-2.2.5.dist-info/entry_points.txt,sha256=HuUvdKaCNqW3VFtVnm6P-dCDkkOrVT-niI2-1C7LswI,42
+DBRetina-2.2.5.dist-info/top_level.txt,sha256=mgN01IsYPX0F4K0TlzJVvZm5nddBiNlhZMuGa4sAf8Q,53
+DBRetina-2.2.5.dist-info/RECORD,,
+DBRetina-2.2.5.dist-info/WHEEL,sha256=gREe7-l-MJWbGZG46A7WHnwwUSxA3XJYHQvGGLzmBNU,148
+DBRetina-2.2.5.dist-info/LICENSE,sha256=W1bnRBpBo-y-J4DWTqaty5UL5CzCiFqfgJX9nC87KKo,1082
 internal/kSpider_internal.py,sha256=I8yVW1soDuOBFpWt47gOjBIiwF-EkbjACQhi0BqJj9o,2784
 internal/__init__.py,sha256=3S25GDI0myAK8OZ5Vg9kj3Y7cir1VKYlpAI8keTHWd0,32
```

## Comparing `DBRetina-2.2.4.dist-info/LICENSE` & `DBRetina-2.2.5.dist-info/LICENSE`

 * *Files identical despite different names*

