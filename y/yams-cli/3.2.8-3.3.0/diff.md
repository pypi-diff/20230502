# Comparing `tmp/yams_cli-3.2.8-py3-none-any.whl.zip` & `tmp/yams_cli-3.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 31212 bytes, number of entries: 20
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 10:22 yams_cli/__init__.py
--rw-r--r--  2.0 unx     1256 b- defN 23-Mar-22 10:22 yams_cli/connection_specs.py
--rw-r--r--  2.0 unx     4590 b- defN 23-Mar-22 10:22 yams_cli/profile.py
--rw-r--r--  2.0 unx     4306 b- defN 23-Mar-22 10:22 yams_cli/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 10:22 yams_cli/logic/__init__.py
--rw-r--r--  2.0 unx    39076 b- defN 23-Mar-22 10:22 yams_cli/logic/args.py
--rw-r--r--  2.0 unx     1944 b- defN 23-Mar-22 10:22 yams_cli/logic/cli.py
--rw-r--r--  2.0 unx    37222 b- defN 23-Mar-22 10:22 yams_cli/logic/dispatcher.py
--rw-r--r--  2.0 unx     1326 b- defN 23-Mar-22 10:22 yams_cli/logic/injection.py
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 10:22 yams_cli/logic/core/__init__.py
--rw-r--r--  2.0 unx     7917 b- defN 23-Mar-22 10:22 yams_cli/logic/core/http_client.py
--rw-r--r--  2.0 unx    39876 b- defN 23-Mar-22 10:22 yams_cli/logic/core/manager.py
--rw-r--r--  2.0 unx      979 b- defN 23-Mar-22 10:22 yams_cli/logic/core/models.py
--rw-r--r--  2.0 unx      828 b- defN 23-Mar-22 10:22 yams_cli/logic/exceptions/YamsException.py
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 10:22 yams_cli/logic/exceptions/__init__.py
--rw-r--r--  2.0 unx     9948 b- defN 23-Mar-22 10:23 yams_cli-3.2.8.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-22 10:23 yams_cli-3.2.8.dist-info/WHEEL
--rw-r--r--  2.0 unx       49 b- defN 23-Mar-22 10:23 yams_cli-3.2.8.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Mar-22 10:23 yams_cli-3.2.8.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1652 b- defN 23-Mar-22 10:23 yams_cli-3.2.8.dist-info/RECORD
-20 files, 151070 bytes uncompressed, 28502 bytes compressed:  81.1%
+Zip file size: 32137 bytes, number of entries: 20
+-rw-r--r--  2.0 unx        0 b- defN 23-May-02 07:49 yams_cli/__init__.py
+-rw-r--r--  2.0 unx     1256 b- defN 23-May-02 07:49 yams_cli/connection_specs.py
+-rw-r--r--  2.0 unx     4590 b- defN 23-May-02 07:49 yams_cli/profile.py
+-rw-r--r--  2.0 unx     7246 b- defN 23-May-02 07:49 yams_cli/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-02 07:49 yams_cli/logic/__init__.py
+-rw-r--r--  2.0 unx    39116 b- defN 23-May-02 07:49 yams_cli/logic/args.py
+-rw-r--r--  2.0 unx     1944 b- defN 23-May-02 07:49 yams_cli/logic/cli.py
+-rw-r--r--  2.0 unx    39239 b- defN 23-May-02 07:49 yams_cli/logic/dispatcher.py
+-rw-r--r--  2.0 unx     1326 b- defN 23-May-02 07:49 yams_cli/logic/injection.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-02 07:49 yams_cli/logic/core/__init__.py
+-rw-r--r--  2.0 unx     7917 b- defN 23-May-02 07:49 yams_cli/logic/core/http_client.py
+-rw-r--r--  2.0 unx    39876 b- defN 23-May-02 07:49 yams_cli/logic/core/manager.py
+-rw-r--r--  2.0 unx      979 b- defN 23-May-02 07:49 yams_cli/logic/core/models.py
+-rw-r--r--  2.0 unx      828 b- defN 23-May-02 07:49 yams_cli/logic/exceptions/YamsException.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-02 07:49 yams_cli/logic/exceptions/__init__.py
+-rw-r--r--  2.0 unx     9948 b- defN 23-May-02 07:51 yams_cli-3.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-02 07:51 yams_cli-3.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       49 b- defN 23-May-02 07:51 yams_cli-3.3.0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-May-02 07:51 yams_cli-3.3.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1652 b- defN 23-May-02 07:51 yams_cli-3.3.0.dist-info/RECORD
+20 files, 156067 bytes uncompressed, 29427 bytes compressed:  81.1%
```

## zipnote {}

```diff
@@ -39,23 +39,23 @@
 
 Filename: yams_cli/logic/exceptions/YamsException.py
 Comment: 
 
 Filename: yams_cli/logic/exceptions/__init__.py
 Comment: 
 
-Filename: yams_cli-3.2.8.dist-info/METADATA
+Filename: yams_cli-3.3.0.dist-info/METADATA
 Comment: 
 
-Filename: yams_cli-3.2.8.dist-info/WHEEL
+Filename: yams_cli-3.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: yams_cli-3.2.8.dist-info/entry_points.txt
+Filename: yams_cli-3.3.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: yams_cli-3.2.8.dist-info/top_level.txt
+Filename: yams_cli-3.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: yams_cli-3.2.8.dist-info/RECORD
+Filename: yams_cli-3.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## yams_cli/utils.py

```diff
@@ -1,20 +1,25 @@
 #!/usr/bin/env python
 # -*- coding: utf-8 -*-
 
+import time
+import os
+import requests
 import re
 import sys
 import json
 import logging
 import keyword
 import string
 import random
 import pkg_resources
 from dateutil.parser import parse
 from pytz import utc
+from functools import wraps
+from pathlib import Path
 
 log = logging.getLogger('yams-client')
 
 
 def configure_logging(loglevel, logfile=None):
     """ Configure logging to the defined level using (if provided) a file.
     :param loglevel: logging level
@@ -90,14 +95,34 @@
                 return False
 
         return wrapper
 
     return decorator
 
 
+def format_upgrade_msg(current_version, latest_version):
+    return f"The current yams-cli version is {current_version}, but a newer one ({latest_version}) is available. Please consider upgrading."
+
+
+def latest_version_warning(func):
+    """
+    In happy path will print in stderr if the cli is not the latest version
+    In the case of any error we are not going to print do anything
+    """
+    @wraps(func)
+    def wrapper(*args, **kwargs):
+        current_version = get_version()
+        latest_version = get_latest_version()
+        if latest_version and latest_version != current_version:
+            log.info(format_upgrade_msg(current_version=current_version, latest_version=latest_version))
+        return func(*args, **kwargs)
+
+    return wrapper
+
+
 def generate_pretty_print(content):
     """ Pretty printing the json content.
     :param content:
     :return:
     """
     return json.dumps(content, sort_keys=True, indent=4, separators=(',', ': '))
 
@@ -134,14 +159,79 @@
         version = pkg_resources.require("yams-cli")[0].version
     except pkg_resources.ResolutionError:
         version = '0.0.1'
 
     return version
 
 
+def fetch_latest_pypi_version():
+    """
+    fetches the public pypi page
+    attempts to parse the html to find the cli version
+    returns the latest cli version if available
+    in case of any failure it returns None
+    """
+    PYPY_URL = 'https://pypi.org/pypi/yams-cli/json' 
+    TIMEOUT_SECONDS = 1
+    try:
+        r = requests.get(url=PYPY_URL, timeout=TIMEOUT_SECONDS)
+        status = r.status_code
+        if status != 200: 
+            return None
+
+        body = r.json()
+        yams_version =  body["info"]["version"]
+        return yams_version
+    except: 
+        return None
+
+
+def get_latest_version(
+        file_path =  Path.home() / '.yams/.version',
+        threshold_seconds = 86400, # 1 day = 86400 seconds
+        fetch_latest_from = fetch_latest_pypi_version
+    ):
+    """
+    Attempts to get the latest version from file or pypi.
+    Returns None if failure
+    """
+    YAMS_VERSION_PATH = file_path
+    THRESHOLD_SECONDS = threshold_seconds
+    FETCH_LATEST_VERSION = fetch_latest_from
+
+    def _write_file(latest_version):
+        with open(YAMS_VERSION_PATH, mode='w') as f:
+            print(latest_version, file=f)
+
+    def _read_file_version():
+        with open(YAMS_VERSION_PATH, mode='r') as f:
+            file_version = f.readline().strip()
+            return file_version
+    
+    try:
+        if os.path.exists(YAMS_VERSION_PATH):
+            file_last_modified_time = YAMS_VERSION_PATH.lstat().st_mtime 
+            host_current_time = time.time()
+            if host_current_time > file_last_modified_time + THRESHOLD_SECONDS:
+                latest_version = FETCH_LATEST_VERSION()
+                if latest_version:
+                    _write_file(latest_version)
+                return latest_version
+            else:
+                return _read_file_version()
+        else:
+            latest_version = FETCH_LATEST_VERSION()
+            if latest_version:
+                open(os.path.abspath(YAMS_VERSION_PATH), 'a').close()
+                _write_file(latest_version)
+            return latest_version
+    except:
+        return None
+
+
 def is_date(text, fuzzy=False):
     """
     Return whether the string can be interpreted as a date.
 
     :param text: str, string to check for date
     :param fuzzy: bool, ignore unknown tokens in string if True
     """
```

## yams_cli/logic/args.py

```diff
@@ -1,14 +1,14 @@
 from __future__ import division, absolute_import, print_function
 
 import sys
 import argparse
 import textwrap
 
-from yams_cli.utils import get_version
+from yams_cli.utils import get_version, get_latest_version, format_upgrade_msg
 
 MAIN_DESCRIPTION = '''YAMS CLI\nhttps://yams.mpi-internal.com\n#yams @ Slack'''
 
 # Common arguments
 distribution_id = {
     'args': ['--distribution-id'],
     'required': True,
```

## yams_cli/logic/dispatcher.py

```diff
@@ -2,28 +2,26 @@
 # -*- coding: utf-8 -*-
 
 import logging
 import json
 import os
 import sys
 import termios
-import time
 import signal
 import urllib
 import re
 import tempfile
 import urllib.parse
 
 from injector import inject
-from requests import ConnectionError
 from datetime import datetime
 from yams_cli.logic.core.manager import Manager, StaticsPathBuilder, DocumentsPathBuilder, ImagesPathBuilder
 from yams_cli.profile import Profile
-from yams_cli.utils import generate_pretty_print, id_generator, configure_logging, str2bool, dispatcher_exception_safe, \
-    get_directory, get_timestamp, is_not_blank
+from yams_cli.utils import generate_pretty_print,  str2bool, dispatcher_exception_safe, \
+    get_directory, get_timestamp, latest_version_warning
 
 
 log = logging.getLogger('yams-cli.dispatcher')
 
 DEFAULT_BUCKET_STATICS = "false"
 DEFAULT_BUCKET_MAX_AGE = 2678400  # 31 days
 
@@ -38,80 +36,100 @@
     def tenant_id(self):
         return self._profile.get_profile_value('tenant_id')
 
     # ######################################################
     # TENANTS
     # ######################################################
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def tenant_info(self, args):
         tenant = self._manager.get_tenant(self.tenant_id)
         self.show_result(tenant)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def tenant_list(self, args):
         result = self._manager.get_tenants()
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def tenant_update(self, args):
         sdrn = args['sdrn']
         admin_email = args['admin_email']
         result = self._manager.update_tenant(self.tenant_id, sdrn, admin_email)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def tenant_delete(self, args):
         self._manager.delete_tenant(self.tenant_id)
         log.info("Tenant successfully deleted")
         return True
 
     # ######################################################
     # DISTRIBUTIONS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_info(self, args):
         distribution_id = args['distribution_id']
         distribution_info = self._manager.get_distribution(self.tenant_id, distribution_id)
         self.show_result(distribution_info)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_list(self, args):
         result = self._manager.get_distributions(self.tenant_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_create(self, args):
         dns_name = args['dns_name']
         auto_format = args['auto_format']
         result = self._manager.create_distribution(self.tenant_id, dns_name, auto_format)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_update(self, args):
         distribution_id = args['distribution_id']
         auto_format = args['auto_format']
         result = self._manager.update_distribution(self.tenant_id, distribution_id, auto_format)
         self.show_result(result)
         log.info("Distribution is in process of being updated")
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_delete(self, args):
         distribution_id = args['distribution_id']
         self._manager.delete_distribution(self.tenant_id, distribution_id)
         log.info("Distribution is in process of being deleted")
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def distribution_log_forwarder_s3(self, args):
         distribution_id = args['distribution_id']
         s3_bucket, prefix, remove = None, None, False
         if args.get('s3_bucket'):
             s3_bucket = args['s3_bucket']
         if args.get('prefix'):
@@ -122,230 +140,280 @@
         self.show_result(result)
         log.info("Distribution log-forwarder-s3 is in process of being updated")
         return True
 
     # ######################################################
     # DOMAINS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def domain_info(self, args):
         domain_id = args['domain_id']
         domain_info = self._manager.get_domain(self.tenant_id, domain_id)
         self.show_result(domain_info)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def domain_list(self, args):
         result = self._manager.get_domains(self.tenant_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def domain_create(self, args):
         domain_name = args['domain_name']
         domain_status = args['domain_status']
         result = self._manager.create_domain(self.tenant_id, domain_name, domain_status)
         self.show_result({
             "tenant_id": result.tenant_id,
             "domain_id": result.domain_id,
             "alias": result.alias
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def domain_delete(self, args):
         domain_id = args['domain_id']
         self._manager.delete_domain(self.tenant_id, domain_id)
         log.info("Domain successfully deleted")
         return True
 
     # ######################################################
     # RULES
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def rule_list(self, args):
         domain_id = args['domain_id']
         result = self._manager.get_rules(self.tenant_id, domain_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def rule_info(self, args):
         domain_id = args['domain_id']
         rule_id = args['rule_id']
         result = self._manager.get_rule(self.tenant_id, domain_id, rule_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def rule_create(self, args):
         domain_id = args['domain_id']
         rule_json = self._get_json_or_none(args, 'rule_json')
         create_rule_result = self._manager.create_rule(self.tenant_id, domain_id, rule_json)
         # log.info("create rule: {}".format(create_rule_result))
         self.show_result({
             "tenant_id": create_rule_result.tenant_id,
             "domain_id": create_rule_result.domain_id,
             "rule_id": create_rule_result.rule_id,
             "alias": create_rule_result.alias
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def rule_delete(self, args):
         domain_id = args['domain_id']
         rule_id = args['rule_id']
         self._manager.delete_rule(self.tenant_id, domain_id, rule_id)
         log.info("Rule successfully deleted")
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def rule_update(self, args):
         domain_id = args['domain_id']
         rule_id = args['rule_id']
         rule_json = self._get_json_or_none(args, 'rule_json')
         result = self._manager.update_rule(self.tenant_id, domain_id, rule_id, rule_json)
         self.show_result(result)
         return True
 
     # ######################################################
     # POLICIES
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def policy_list(self, args):
         result = self._manager.get_policies(self.tenant_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def policy_info(self, args):
         policy_id = args['policy_id']
         result = self._manager.get_policy(self.tenant_id, policy_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def policy_create(self, args):
         policy_json = self._get_json_or_none(args, 'policy_json')
         create_policy_result = self._manager.create_policy(self.tenant_id, policy_json)
         self.show_result({
             "tenant_id": create_policy_result.tenant_id,
             "policy_id": create_policy_result.policy_id
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def policy_update(self, args):
         policy_json = self._get_json_or_none(args, 'policy_json')
         policy_id = args['policy_id']
         result = self._manager.update_policy(self.tenant_id, policy_id, policy_json)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def policy_delete(self, args):
         policy_id = args['policy_id']
         self._manager.delete_policy(self.tenant_id, policy_id)
         log.info("Policy successfully deleted")
         return True
 
     # ######################################################
     # ACCESS-KEYS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_list(self, args):
         result = self._manager.get_access_keys(self.tenant_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_info(self, args):
         accesskey_id = args['accesskey_id']
         result = self._manager.get_access_key(self.tenant_id, accesskey_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_create(self, args):
         description = args.get('description')
         result = self._manager.create_access_key(self.tenant_id, description)
         self.show_result({
             "tenant_id": result.tenant_id,
             "access_key_id": result.access_key_id,
             "private_key": result.private_key
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_provide(self, args):
         public_key = args['public_key']
         description = args.get('description')
         result = self._manager.provide_access_key(self.tenant_id, public_key, description)
         self.show_result({
             "tenant_id": result.tenant_id,
             "access_key_id": result.access_key_id
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_update(self, args):
         accesskey_id = args['accesskey_id']
         description = args.get('description')
         active = None
         if args.get('enable'):
             active = True
         if args.get('disable'):
             active = False
         result = self._manager.update_access_key(self.tenant_id, accesskey_id, active, description)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_delete(self, args):
         accesskey_id = args['accesskey_id']
         self._manager.delete_access_key(self.tenant_id, accesskey_id)
         log.info("AccessKey successfully deleted")
         return True
 
     # ######################################################
     # ATTACHED-POLICIES
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_list_policies(self, args):
         accesskey_id = args['accesskey_id']
         result = self._manager.get_attached_policies(self.tenant_id, accesskey_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_attach_policy(self, args):
         accesskey_id = args['accesskey_id']
         policy_id = args['policy_id']
         result = self._manager.attach_policy(self.tenant_id, accesskey_id, policy_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def accesskey_detach_policy(self, args):
         accesskey_id = args['accesskey_id']
         policy_id = args['policy_id']
         result = self._manager.detach_policy(self.tenant_id, accesskey_id, policy_id)
         self.show_result(result)
         return True
 
     # ######################################################
     # WATERMARKS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def watermark_list(self, args):
         domain_id = args['domain_id']
         result = self._manager.list_watermarks(self.tenant_id, domain_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def watermark_fetch(self, args):
         domain_id = args['domain_id']
         watermark_id = args['watermark_id']
         filename = args.get('watermark_file')
         if filename is None:
             if args.get('store_file'):
@@ -354,14 +422,16 @@
         result = self._manager.get_watermark(self.tenant_id, domain_id, watermark_id)
         if filename:
             with open(filename, 'wb') as f:
                 f.write(result.content)
                 log.info("Object file saved at {}".format(filename))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def watermark_create(self, args):
         watermark_file = args['watermark_file']
         alias = args.get('alias')
 
         if not os.path.exists(watermark_file):
             log.error("Given watermark file does not exist: {}".format(watermark_file))
@@ -379,69 +449,83 @@
         self.show_result({
             "tenant_id": result.tenant_id,
             "domain_id": result.domain_id,
             "watermark_id": result.watermark_id
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def watermark_update(self, args):
         domain_id = args['domain_id']
         watermark_id = args['watermark_id']
         alias = args.get('alias')
         result = self._manager.update_watermark(self.tenant_id, domain_id, watermark_id, alias)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def watermark_delete(self, args):
         domain_id = args['domain_id']
         watermark_id = args['watermark_id']
         self._manager.delete_watermark(self.tenant_id, domain_id, watermark_id)
         log.info("Watermark successfully deleted")
         return True
 
     # ######################################################
     # METRICS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def metrics_list(self, args):
         domain_id = args.get('domain_id')
         bucket_id = args.get('bucket_id')
         result = self._manager.get_bucket_metric_names(self.tenant_id, domain_id, bucket_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def metrics_info(self, args):
         domain_id = args.get('domain_id')
         bucket_id = args.get('bucket_id')
         metric_name = args.get('metric_name')
         year_month = args['year_month']
         result = self._manager.get_bucket_metric(self.tenant_id, domain_id, bucket_id, metric_name, year_month)
         self.show_result(result)
         return True
 
     # ######################################################
     # BUCKETS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def bucket_list(self, args):
         domain_id = args['domain_id']
         result = self._manager.get_buckets(self.tenant_id, domain_id)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def bucket_info(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         self.show_result(self._manager.get_bucket(self.tenant_id, domain_id, bucket_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def bucket_create(self, args):
         domain_id = args['domain_id']
         bucket_name = args['bucket_name']
         bucket_continent = args['bucket_continent']
 
         bucket_statics = args.get('bucket_statics')
@@ -459,14 +543,16 @@
             "tenant_id": result.tenant_id,
             "domain_id": result.domain_id,
             "bucket_id": result.bucket_id,
             "alias": result.alias
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def bucket_update(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         bucket_name = args.get('bucket_name')
         bucket_cache_max_age = args.get('bucket_cache_max_age')
 
@@ -475,34 +561,40 @@
             bucket_statics = str2bool(bucket_statics)
 
         result = self._manager.update_bucket(self.tenant_id, domain_id, bucket_id, bucket_name,
                                              bucket_statics, bucket_cache_max_age)
         self.show_result(result)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def bucket_delete(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         self._manager.delete_bucket(self.tenant_id, domain_id, bucket_id)
         log.info("Bucket successfully deleted")
         return True
 
     # ######################################################
     # OBJECTS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_describe(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
 
         print(self._manager.head_object(self.tenant_id, domain_id, bucket_id, object_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_fetch(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         filename = args.get('directory')
         if filename is None:
@@ -521,14 +613,16 @@
         get_object_result = self._manager.get_object(self.tenant_id, domain_id, bucket_id, object_id)
         with open(filename, 'wb') as f:
             if get_object_result.content is not None and len(get_object_result.content) > 0:
                 f.write(get_object_result.content)
             log.info("Object file saved at {}".format(filename))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_list(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         options = {}
         if args.get("show_recoverable"):
             options["show-recoverable"] = True
@@ -581,14 +675,16 @@
                                            record.get('object_id'))
 
         if args.get('show_recoverable'):
             line += "\t{}".format(record.get('deleted'))
 
         print(line)
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_push(self, args):
         file_or_directory = args['object']
         if not os.path.exists(file_or_directory):
             log.error("Given file or path does not exist: {}".format(file_or_directory))
             return False
 
@@ -627,45 +723,53 @@
             "tenant_id": result.tenant_id,
             "domain_id": result.domain_id,
             "bucket_id": result.bucket_id,
             "object_id": result.object_id
         })
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_remove(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         force = args.get('force', False)
 
         self._manager.delete_object(self.tenant_id, domain_id, bucket_id, object_id, force)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_restore(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
 
         self._manager.delete_delete_marker(self.tenant_id, domain_id, bucket_id, object_id)
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_uncache(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
 
         self.show_result(self._manager.uncache_object(self.tenant_id, domain_id, bucket_id, object_id))
         return True
 
     # ######################################################
     # OBJECTS METADATA
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def object_metadata_info(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
 
         self.show_result(self._manager.get_object_metadata(self.tenant_id, domain_id, bucket_id, object_id))
@@ -678,102 +782,126 @@
         expiration = args.get('expiration')
         self._manager.update_object_metadata(self.tenant_id, domain_id, bucket_id, object_id, expiration)
         return True
 
     # ######################################################
     # ML MODELS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def processing_start(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         models = args['models'].split(',')
 
         self.show_result(self._manager.processing_start(self.tenant_id, domain_id, bucket_id, object_id, models))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def processing_sync(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         models = args['models'].split(',')
 
         self.show_result(self._manager.processing_sync(self.tenant_id, domain_id, bucket_id, object_id, models))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_list(self, args):
         self.show_result(self._manager.get_models_list(self.tenant_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_list(self, args):
         self.show_result(self._manager.get_models_config_list(self.tenant_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_info(self, args):
         config_id = args['config_id']
         self.show_result(self._manager.get_model_config_info(self.tenant_id, config_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_create(self, args):
         config = args['config']
         self.show_result(self._manager.post_model_config(self.tenant_id, config))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_delete(self, args):
         config_id = args['config_id']
         self.show_result(self._manager.delete_model_config(self.tenant_id, config_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_list_attached(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
 
         self.show_result(self._manager.list_attached_model_configs(self.tenant_id, domain_id, bucket_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_attach(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         config_id = args['config_id']
 
         self.show_result(self._manager.attach_model_config(self.tenant_id, domain_id, bucket_id, config_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_detach(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         config_id = args['config_id']
 
         self.show_result(self._manager.detach_model_config(self.tenant_id, domain_id, bucket_id, config_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def ml_models_config_replace(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         config_id_from = args['config_id_from']
         config_id_to = args['config_id_to']
 
         self.show_result(self._manager.replace_model_config(self.tenant_id, domain_id, bucket_id, config_id_from,
                                                             config_id_to))
         return True
 
     # ######################################################
     # IMAGES
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def image_fetch(self, args):
         rule_id = args.get('rule_id')
         rule_json = args.get('rule_json')
         page = args.get('page')
 
         path_builder = ImagesPathBuilder(
@@ -798,14 +926,16 @@
             log.warning(path_builder.error_message())
             return False
         return True
 
     # ######################################################
     # DOCUMENTS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def document_fetch(self, args):
         rule_id = args.get('rule_id')
         rule_json = args.get('rule_json')
 
         path_builder = DocumentsPathBuilder(
             tenant_id=self.tenant_id,
@@ -830,14 +960,16 @@
             return False
 
         return True
 
     # ######################################################
     # STATICS
     # ######################################################
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def static_fetch(self, args):
         path_builder = StaticsPathBuilder(
             tenant_id=self.tenant_id,
             domain_id=args.get('domain_id'),
             bucket_id=args.get('bucket_id'),
             bucket_alias=args.get('bucket_alias'),
@@ -851,49 +983,59 @@
             return False
 
         return True
 
     # ######################################################
     # VIDEOS
     # ######################################################
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
+
     def video_processing_start(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         self.show_result(self._manager.start_video_processing(self.tenant_id, domain_id, bucket_id, object_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def video_processing_status(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         processing_id = args['processing_id']
         self.show_result(self._manager.video_processing_status(self.tenant_id, domain_id, bucket_id, processing_id))
         return True
 
     # ######################################################
     # JOBS
     # ######################################################
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def job_list(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         self.show_result(self._manager.get_job_list(self.tenant_id, domain_id, bucket_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def job_info(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         job_id = args['job_id']
         self.show_result(self._manager.get_job_info(self.tenant_id, domain_id, bucket_id, job_id))
         return True
 
+
+    @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def job_create(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         job = args['job']
         self.show_result(self._manager.post_job(self.tenant_id, domain_id, bucket_id, job))
         return True
```

## Comparing `yams_cli-3.2.8.dist-info/METADATA` & `yams_cli-3.3.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: yams-cli
-Version: 3.2.8
+Version: 3.3.0
 Summary: Yams CLI 
 Author: Team Edge
 Author-email: infrastructure-platform-edge@adevinta.com
 Classifier: Programming Language :: Python :: 3.7
 Description-Content-Type: text/markdown
 Requires-Dist: requests (==2.27.1)
 Requires-Dist: configparser (==5.2.0)
```

## Comparing `yams_cli-3.2.8.dist-info/RECORD` & `yams_cli-3.3.0.dist-info/RECORD`

 * *Files 21% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 yams_cli/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/connection_specs.py,sha256=Ky-C-GEtasrkDCnQc4gy9aU1aIwtDWO_KjApqm32zVE,1256
 yams_cli/profile.py,sha256=zxk4K6imy750LrFf9DAvuA-FlEwlmJEK6OVuQh9SShE,4590
-yams_cli/utils.py,sha256=lRUfkA4nS6UpuDgsAKBux4z0dAu0Qjwq3FKpMowk9R4,4306
+yams_cli/utils.py,sha256=9HnYlYJYQZumOIkj1Dk8X2TpkZysbXxaloGZY7Jz0X8,7246
 yams_cli/logic/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli/logic/args.py,sha256=pXesCzuvJ1bzAWr8jsRU9E1p7-9rQJUd4HEsOoXqxhM,39076
+yams_cli/logic/args.py,sha256=xG14hMPeU_DxmDumzfenAUavmg6l9K-vw6YKfoOqlvU,39116
 yams_cli/logic/cli.py,sha256=B3VJvlW20KxJui5HIOq9VoL008ydV1GauS9fRTurTuM,1944
-yams_cli/logic/dispatcher.py,sha256=sIqUR98rMy9jtOu8ZyeYaJEHwck73dt_euHckM9L2Ss,37222
+yams_cli/logic/dispatcher.py,sha256=3FffSJR-CuIw4MDiXDw6tKV3okX78uoKx6QbQBHqUNo,39239
 yams_cli/logic/injection.py,sha256=M_H2aTxLCdGaCSled8LCQxZVyFT7n2zoISIxXe4L8lw,1326
 yams_cli/logic/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/logic/core/http_client.py,sha256=dS8v8IgfriAsw1pcMfmVR6TPhB1e-SfNuJP1RlcmbVA,7917
 yams_cli/logic/core/manager.py,sha256=jiAAYD-xuf8EFZR9h7DLcMldn2KGrcEL_3Y5amJJgsg,39876
 yams_cli/logic/core/models.py,sha256=a1aKZgeuapxdhYJX2uQzFtVsMZiV7N8yy6SZ0pM1Z6E,979
 yams_cli/logic/exceptions/YamsException.py,sha256=VseM49ggqCG4TzhToEGFlQndKII7oPlyN3rmaL7fqvk,828
 yams_cli/logic/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli-3.2.8.dist-info/METADATA,sha256=bXc02X8IgUI4dhSjWvpJ14J8_WPXNAWOggtm9MSg9Ks,9948
-yams_cli-3.2.8.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-yams_cli-3.2.8.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
-yams_cli-3.2.8.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
-yams_cli-3.2.8.dist-info/RECORD,,
+yams_cli-3.3.0.dist-info/METADATA,sha256=LW9Ac8uq_a7yf9M2XhudqltCWn3md0bkD-PNBi7f5nM,9948
+yams_cli-3.3.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+yams_cli-3.3.0.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
+yams_cli-3.3.0.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
+yams_cli-3.3.0.dist-info/RECORD,,
```

