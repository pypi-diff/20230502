# Comparing `tmp/coconut-2.2.0.tar.gz` & `tmp/coconut-3.0.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "coconut-2.2.0.tar", last modified: Fri Dec 30 20:35:52 2022, max compression
+gzip compressed data, was "coconut-3.0.0.tar", last modified: Tue May  2 02:29:14 2023, max compression
```

## Comparing `coconut-2.2.0.tar` & `coconut-3.0.0.tar`

### file list

```diff
@@ -1,109 +1,109 @@
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.817879 coconut-2.2.0/
--rw-rw-rw-   0        0        0    13882 2022-12-30 20:33:44.000000 coconut-2.2.0/CONTRIBUTING.md
--rw-rw-rw-   0        0        0   186363 2022-12-30 20:33:44.000000 coconut-2.2.0/DOCS.md
--rw-rw-rw-   0        0        0    11482 2022-12-30 20:33:44.000000 coconut-2.2.0/FAQ.md
--rw-rw-rw-   0        0        0    66321 2022-10-25 03:13:34.000000 coconut-2.2.0/HELP.md
--rw-rw-rw-   0        0        0    11560 2022-09-26 07:50:23.000000 coconut-2.2.0/LICENSE.txt
--rw-rw-rw-   0        0        0      472 2022-11-14 01:33:04.000000 coconut-2.2.0/MANIFEST.in
--rw-rw-rw-   0        0        0     7071 2022-12-30 20:35:52.817879 coconut-2.2.0/PKG-INFO
--rw-rw-rw-   0        0        0     3651 2022-11-14 01:33:04.000000 coconut-2.2.0/README.rst
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.760888 coconut-2.2.0/__coconut__/
--rw-rw-rw-   0        0        0     1271 2022-11-14 01:33:04.000000 coconut-2.2.0/__coconut__/__init__.py
--rw-rw-rw-   0        0        0    38770 2022-12-30 20:33:44.000000 coconut-2.2.0/__coconut__/__init__.pyi
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-2.2.0/__coconut__/py.typed
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.763878 coconut-2.2.0/_coconut/
--rw-rw-rw-   0        0        0     1279 2022-11-14 01:33:04.000000 coconut-2.2.0/_coconut/__init__.py
--rw-rw-rw-   0        0        0     4560 2022-12-30 20:33:44.000000 coconut-2.2.0/_coconut/__init__.pyi
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-2.2.0/_coconut/py.typed
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.776879 coconut-2.2.0/coconut/
--rw-rw-rw-   0        0        0     1345 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/__coconut__.py
--rw-rw-rw-   0        0        0     1458 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/__coconut__.pyi
--rw-rw-rw-   0        0        0     1480 2022-10-25 03:13:34.000000 coconut-2.2.0/coconut/__init__.py
--rw-rw-rw-   0        0        0      978 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/__init__.pyi
--rw-rw-rw-   0        0        0     1243 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/__main__.py
--rw-rw-rw-   0        0        0    13726 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/_pyparsing.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.782878 coconut-2.2.0/coconut/command/
--rw-rw-rw-   0        0        0      798 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/command/__init__.py
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/command/__init__.pyi
--rw-rw-rw-   0        0        0     8190 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/command/cli.py
--rw-rw-rw-   0        0        0    41496 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/command/command.py
--rw-rw-rw-   0        0        0      708 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/command/command.pyi
--rw-rw-rw-   0        0        0     2526 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/command/mypy.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.783878 coconut-2.2.0/coconut/command/resources/
--rw-rw-rw-   0        0        0       28 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/command/resources/zcoconut.pth
--rw-rw-rw-   0        0        0    22814 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/command/util.py
--rw-rw-rw-   0        0        0     2237 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/command/watch.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.788880 coconut-2.2.0/coconut/compiler/
--rw-rw-rw-   0        0        0      801 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/compiler/__init__.py
--rw-rw-rw-   0        0        0   179180 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/compiler.py
--rw-rw-rw-   0        0        0    93385 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/grammar.py
--rw-rw-rw-   0        0        0    30254 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/header.py
--rw-rw-rw-   0        0        0    57894 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/matching.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.789879 coconut-2.2.0/coconut/compiler/templates/
--rw-rw-rw-   0        0        0    90179 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/templates/header.py_template
--rw-rw-rw-   0        0        0    46923 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/compiler/util.py
--rw-rw-rw-   0        0        0    34587 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/constants.py
--rw-rw-rw-   0        0        0     9485 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/convenience.py
--rw-rw-rw-   0        0        0     2958 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/convenience.pyi
--rw-rw-rw-   0        0        0     9131 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/exceptions.py
--rw-rw-rw-   0        0        0     4779 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/highlighter.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.793880 coconut-2.2.0/coconut/icoconut/
--rw-rw-rw-   0        0        0      803 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/icoconut/__init__.py
--rw-rw-rw-   0        0        0     1428 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/icoconut/__main__.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.794879 coconut-2.2.0/coconut/icoconut/coconut/
--rw-rw-rw-   0        0        0      141 2022-12-30 20:35:51.000000 coconut-2.2.0/coconut/icoconut/coconut/kernel.json
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.794879 coconut-2.2.0/coconut/icoconut/coconut_py/
--rw-rw-rw-   0        0        0      183 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/icoconut/coconut_py/kernel.json
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.795879 coconut-2.2.0/coconut/icoconut/coconut_py2/
--rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/icoconut/coconut_py2/kernel.json
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.796880 coconut-2.2.0/coconut/icoconut/coconut_py3/
--rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/icoconut/coconut_py3/kernel.json
--rw-rw-rw-   0        0        0     5752 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/icoconut/embed.py
--rw-rw-rw-   0        0        0    11331 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/icoconut/root.py
--rw-rw-rw-   0        0        0     5147 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/integrations.py
--rw-rw-rw-   0        0        0     1596 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/main.py
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/py.typed
--rw-rw-rw-   0        0        0    11949 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/requirements.py
--rw-rw-rw-   0        0        0    12966 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/root.py
--rw-rw-rw-   0        0        0    18709 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/terminal.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.799890 coconut-2.2.0/coconut/tests/
--rw-rw-rw-   0        0        0      806 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/__init__.py
--rw-rw-rw-   0        0        0     1849 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/__main__.py
--rw-rw-rw-   0        0        0     4488 2022-11-02 08:58:28.000000 coconut-2.2.0/coconut/tests/constants_test.py
--rw-rw-rw-   0        0        0    28266 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/main_test.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.801879 coconut-2.2.0/coconut/tests/src/
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.749879 coconut-2.2.0/coconut/tests/src/cocotest/
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.807879 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/
--rw-rw-rw-   0        0        0       92 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/__init__.coco
--rw-rw-rw-   0        0        0     3896 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/main.coco
--rw-rw-rw-   0        0        0    60360 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/primary.coco
--rw-rw-rw-   0        0        0     4864 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/specific.coco
--rw-rw-rw-   0        0        0    41114 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/suite.coco
--rw-rw-rw-   0        0        0    15927 2022-10-25 03:13:34.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/tutorial.coco
--rw-rw-rw-   0        0        0    44358 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/agnostic/util.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.808880 coconut-2.2.0/coconut/tests/src/cocotest/non_strict/
--rw-rw-rw-   0        0        0     2140 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.809879 coconut-2.2.0/coconut/tests/src/cocotest/target_2/
--rw-rw-rw-   0        0        0      364 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_2/py2_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.810880 coconut-2.2.0/coconut/tests/src/cocotest/target_3/
--rw-rw-rw-   0        0        0     1196 2022-11-14 01:33:04.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_3/py3_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.811879 coconut-2.2.0/coconut/tests/src/cocotest/target_35/
--rw-rw-rw-   0        0        0      352 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_35/py35_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.812888 coconut-2.2.0/coconut/tests/src/cocotest/target_36/
--rw-rw-rw-   0        0        0     1475 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_36/py36_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.813879 coconut-2.2.0/coconut/tests/src/cocotest/target_38/
--rw-rw-rw-   0        0        0      265 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_38/py38_test.coco
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.813879 coconut-2.2.0/coconut/tests/src/cocotest/target_sys/
--rw-rw-rw-   0        0        0     3483 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
--rw-rw-rw-   0        0        0    18030 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/extras.coco
--rw-rw-rw-   0        0        0      204 2022-09-26 07:50:23.000000 coconut-2.2.0/coconut/tests/src/runnable.coco
--rw-rw-rw-   0        0        0      519 2022-12-30 20:33:44.000000 coconut-2.2.0/coconut/tests/src/runner.coco
--rw-rw-rw-   0        0        0    12156 2022-10-25 03:13:34.000000 coconut-2.2.0/coconut/util.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.816888 coconut-2.2.0/coconut.egg-info/
--rw-rw-rw-   0        0        0     2284 2022-12-30 20:35:52.000000 coconut-2.2.0/coconut.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0     2390 2022-11-14 01:33:04.000000 coconut-2.2.0/conf.py
--rw-rw-rw-   0        0        0       68 2022-09-26 07:50:23.000000 coconut-2.2.0/pyproject.toml
--rw-rw-rw-   0        0        0      116 2022-12-30 20:35:52.822878 coconut-2.2.0/setup.cfg
--rw-rw-rw-   0        0        0     2890 2022-10-25 03:13:34.000000 coconut-2.2.0/setup.py
-drwxrwxrwx   0        0        0        0 2022-12-30 20:35:52.814879 coconut-2.2.0/xontrib/
--rw-rw-rw-   0        0        0     1169 2022-10-25 03:13:34.000000 coconut-2.2.0/xontrib/coconut.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.931683 coconut-3.0.0/
+-rw-rw-rw-   0        0        0    13882 2022-12-30 20:33:44.000000 coconut-3.0.0/CONTRIBUTING.md
+-rw-rw-rw-   0        0        0   196774 2023-05-02 02:24:13.000000 coconut-3.0.0/DOCS.md
+-rw-rw-rw-   0        0        0    11482 2022-12-30 20:33:44.000000 coconut-3.0.0/FAQ.md
+-rw-rw-rw-   0        0        0    66315 2023-05-02 02:24:13.000000 coconut-3.0.0/HELP.md
+-rw-rw-rw-   0        0        0    11560 2022-09-26 07:50:23.000000 coconut-3.0.0/LICENSE.txt
+-rw-rw-rw-   0        0        0      494 2023-05-02 02:24:13.000000 coconut-3.0.0/MANIFEST.in
+-rw-rw-rw-   0        0        0     7034 2023-05-02 02:29:14.932672 coconut-3.0.0/PKG-INFO
+-rw-rw-rw-   0        0        0     3651 2022-11-14 01:33:04.000000 coconut-3.0.0/README.rst
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.883672 coconut-3.0.0/__coconut__/
+-rw-rw-rw-   0        0        0     1271 2022-11-14 01:33:04.000000 coconut-3.0.0/__coconut__/__init__.py
+-rw-rw-rw-   0        0        0    42877 2023-05-02 02:24:13.000000 coconut-3.0.0/__coconut__/__init__.pyi
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.0/__coconut__/py.typed
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.885672 coconut-3.0.0/_coconut/
+-rw-rw-rw-   0        0        0     1279 2022-11-14 01:33:04.000000 coconut-3.0.0/_coconut/__init__.py
+-rw-rw-rw-   0        0        0     5369 2023-05-02 02:24:13.000000 coconut-3.0.0/_coconut/__init__.pyi
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.0/_coconut/py.typed
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.897673 coconut-3.0.0/coconut/
+-rw-rw-rw-   0        0        0     1345 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/__coconut__.py
+-rw-rw-rw-   0        0        0     1869 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/__coconut__.pyi
+-rw-rw-rw-   0        0        0     1480 2022-10-25 03:13:34.000000 coconut-3.0.0/coconut/__init__.py
+-rw-rw-rw-   0        0        0      978 2022-11-14 01:33:04.000000 coconut-3.0.0/coconut/__init__.pyi
+-rw-rw-rw-   0        0        0     1243 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/__main__.py
+-rw-rw-rw-   0        0        0    13868 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/_pyparsing.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.902673 coconut-3.0.0/coconut/command/
+-rw-rw-rw-   0        0        0      798 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/command/__init__.py
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.0/coconut/command/__init__.pyi
+-rw-rw-rw-   0        0        0     8542 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/command/cli.py
+-rw-rw-rw-   0        0        0    44104 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/command/command.py
+-rw-rw-rw-   0        0        0      708 2022-11-14 01:33:04.000000 coconut-3.0.0/coconut/command/command.pyi
+-rw-rw-rw-   0        0        0     2526 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/command/mypy.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.903671 coconut-3.0.0/coconut/command/resources/
+-rw-rw-rw-   0        0        0       28 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/command/resources/zcoconut.pth
+-rw-rw-rw-   0        0        0    24020 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/command/util.py
+-rw-rw-rw-   0        0        0     2237 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/command/watch.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.908672 coconut-3.0.0/coconut/compiler/
+-rw-rw-rw-   0        0        0      801 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/compiler/__init__.py
+-rw-rw-rw-   0        0        0   195563 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/compiler.py
+-rw-rw-rw-   0        0        0    95136 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/grammar.py
+-rw-rw-rw-   0        0        0    32502 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/header.py
+-rw-rw-rw-   0        0        0    60114 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/matching.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.909673 coconut-3.0.0/coconut/compiler/templates/
+-rw-rw-rw-   0        0        0    96326 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/templates/header.py_template
+-rw-rw-rw-   0        0        0    47748 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/compiler/util.py
+-rw-rw-rw-   0        0        0    36740 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/constants.py
+-rw-rw-rw-   0        0        0     9485 2022-11-14 01:33:04.000000 coconut-3.0.0/coconut/convenience.py
+-rw-rw-rw-   0        0        0     2958 2023-01-12 05:21:37.000000 coconut-3.0.0/coconut/convenience.pyi
+-rw-rw-rw-   0        0        0    10005 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/exceptions.py
+-rw-rw-rw-   0        0        0     4779 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/highlighter.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.912673 coconut-3.0.0/coconut/icoconut/
+-rw-rw-rw-   0        0        0      803 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/icoconut/__init__.py
+-rw-rw-rw-   0        0        0     1428 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/icoconut/__main__.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.912673 coconut-3.0.0/coconut/icoconut/coconut/
+-rw-rw-rw-   0        0        0      141 2023-05-02 02:29:13.000000 coconut-3.0.0/coconut/icoconut/coconut/kernel.json
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.913673 coconut-3.0.0/coconut/icoconut/coconut_py/
+-rw-rw-rw-   0        0        0      183 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/icoconut/coconut_py/kernel.json
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.914673 coconut-3.0.0/coconut/icoconut/coconut_py2/
+-rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/icoconut/coconut_py2/kernel.json
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.914673 coconut-3.0.0/coconut/icoconut/coconut_py3/
+-rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/icoconut/coconut_py3/kernel.json
+-rw-rw-rw-   0        0        0     5752 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/icoconut/embed.py
+-rw-rw-rw-   0        0        0    11331 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/icoconut/root.py
+-rw-rw-rw-   0        0        0     6598 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/integrations.py
+-rw-rw-rw-   0        0        0     1596 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/main.py
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.0/coconut/py.typed
+-rw-rw-rw-   0        0        0    12097 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/requirements.py
+-rw-rw-rw-   0        0        0    15881 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/root.py
+-rw-rw-rw-   0        0        0    20140 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/terminal.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.917672 coconut-3.0.0/coconut/tests/
+-rw-rw-rw-   0        0        0      806 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/__init__.py
+-rw-rw-rw-   0        0        0     1849 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/__main__.py
+-rw-rw-rw-   0        0        0     4661 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/constants_test.py
+-rw-rw-rw-   0        0        0    29964 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/main_test.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.919672 coconut-3.0.0/coconut/tests/src/
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.874672 coconut-3.0.0/coconut/tests/src/cocotest/
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.924673 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/
+-rw-rw-rw-   0        0        0       92 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/__init__.coco
+-rw-rw-rw-   0        0        0     3896 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/main.coco
+-rw-rw-rw-   0        0        0    63480 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/primary.coco
+-rw-rw-rw-   0        0        0     4853 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/specific.coco
+-rw-rw-rw-   0        0        0    42601 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/suite.coco
+-rw-rw-rw-   0        0        0    15927 2022-10-25 03:13:34.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/tutorial.coco
+-rw-rw-rw-   0        0        0    47956 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/agnostic/util.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.925672 coconut-3.0.0/coconut/tests/src/cocotest/non_strict/
+-rw-rw-rw-   0        0        0     2259 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.926672 coconut-3.0.0/coconut/tests/src/cocotest/target_2/
+-rw-rw-rw-   0        0        0      364 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_2/py2_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.926672 coconut-3.0.0/coconut/tests/src/cocotest/target_3/
+-rw-rw-rw-   0        0        0     1196 2023-04-16 03:49:55.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_3/py3_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.927672 coconut-3.0.0/coconut/tests/src/cocotest/target_35/
+-rw-rw-rw-   0        0        0      352 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_35/py35_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.927672 coconut-3.0.0/coconut/tests/src/cocotest/target_36/
+-rw-rw-rw-   0        0        0     2133 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_36/py36_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.928672 coconut-3.0.0/coconut/tests/src/cocotest/target_38/
+-rw-rw-rw-   0        0        0      265 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_38/py38_test.coco
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.929672 coconut-3.0.0/coconut/tests/src/cocotest/target_sys/
+-rw-rw-rw-   0        0        0     3487 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
+-rw-rw-rw-   0        0        0    20691 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/tests/src/extras.coco
+-rw-rw-rw-   0        0        0      204 2022-09-26 07:50:23.000000 coconut-3.0.0/coconut/tests/src/runnable.coco
+-rw-rw-rw-   0        0        0      519 2022-12-30 20:33:44.000000 coconut-3.0.0/coconut/tests/src/runner.coco
+-rw-rw-rw-   0        0        0    12302 2023-05-02 02:24:13.000000 coconut-3.0.0/coconut/util.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.931683 coconut-3.0.0/coconut.egg-info/
+-rw-rw-rw-   0        0        0     2284 2023-05-02 02:29:14.000000 coconut-3.0.0/coconut.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0     2390 2022-11-14 01:33:04.000000 coconut-3.0.0/conf.py
+-rw-rw-rw-   0        0        0       68 2022-09-26 07:50:23.000000 coconut-3.0.0/pyproject.toml
+-rw-rw-rw-   0        0        0      116 2023-05-02 02:29:14.938670 coconut-3.0.0/setup.cfg
+-rw-rw-rw-   0        0        0     2890 2023-04-11 02:46:26.000000 coconut-3.0.0/setup.py
+drwxrwxrwx   0        0        0        0 2023-05-02 02:29:14.929672 coconut-3.0.0/xontrib/
+-rw-rw-rw-   0        0        0     1195 2023-05-02 02:24:13.000000 coconut-3.0.0/xontrib/coconut.py
```

### Comparing `coconut-2.2.0/CONTRIBUTING.md` & `coconut-3.0.0/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/DOCS.md` & `coconut-3.0.0/DOCS.md`

 * *Files 2% similar despite different names*

```diff
@@ -242,11407 +242,12058 @@
 00000f10: 6e75 745b 6f70 745f 6465 705f 312c 6f70  nut[opt_dep_1,op
 00000f20: 745f 6465 705f 325d 0d0a 6060 600d 0a0d  t_dep_2]..```...
 00000f30: 0a54 6865 2066 756c 6c20 6c69 7374 206f  .The full list o
 00000f40: 6620 6f70 7469 6f6e 616c 2064 6570 656e  f optional depen
 00000f50: 6465 6e63 6965 7320 6973 3a0d 0a0d 0a2d  dencies is:....-
 00000f60: 2060 616c 6c60 3a20 616c 6961 7320 666f   `all`: alias fo
 00000f70: 7220 606a 7570 7974 6572 2c77 6174 6368  r `jupyter,watch
-00000f80: 2c6a 6f62 732c 6d79 7079 2c62 6163 6b70  ,jobs,mypy,backp
-00000f90: 6f72 7473 2c78 6f6e 7368 6020 2874 6869  orts,xonsh` (thi
-00000fa0: 7320 6973 2074 6865 2072 6563 6f6d 6d65  s is the recomme
-00000fb0: 6e64 6564 2077 6179 2074 6f20 696e 7374  nded way to inst
-00000fc0: 616c 6c20 6120 6665 6174 7572 652d 636f  all a feature-co
-00000fd0: 6d70 6c65 7465 2076 6572 7369 6f6e 206f  mplete version o
-00000fe0: 6620 436f 636f 6e75 7429 2e0d 0a2d 2060  f Coconut)...- `
-00000ff0: 6a75 7079 7465 7260 2f60 6970 7974 686f  jupyter`/`ipytho
-00001000: 6e60 3a20 656e 6162 6c65 7320 7573 6520  n`: enables use 
-00001010: 6f66 2074 6865 2060 2d2d 6a75 7079 7465  of the `--jupyte
-00001020: 7260 202f 2060 2d2d 6970 7974 686f 6e60  r` / `--ipython`
-00001030: 2066 6c61 672e 0d0a 2d20 6077 6174 6368   flag...- `watch
-00001040: 603a 2065 6e61 626c 6573 2075 7365 206f  `: enables use o
-00001050: 6620 7468 6520 602d 2d77 6174 6368 6020  f the `--watch` 
-00001060: 666c 6167 2e0d 0a2d 2060 6a6f 6273 603a  flag...- `jobs`:
-00001070: 2069 6d70 726f 7665 7320 7573 6520 6f66   improves use of
-00001080: 2074 6865 2060 2d2d 6a6f 6273 6020 666c   the `--jobs` fl
-00001090: 6167 2e0d 0a2d 2060 6d79 7079 603a 2065  ag...- `mypy`: e
-000010a0: 6e61 626c 6573 2075 7365 206f 6620 7468  nables use of th
-000010b0: 6520 602d 2d6d 7970 7960 2066 6c61 672e  e `--mypy` flag.
-000010c0: 0d0a 2d20 6062 6163 6b70 6f72 7473 603a  ..- `backports`:
-000010d0: 2069 6e73 7461 6c6c 7320 6c69 6272 6172   installs librar
-000010e0: 6965 7320 7468 6174 2062 6163 6b70 6f72  ies that backpor
-000010f0: 7420 6e65 7765 7220 5079 7468 6f6e 2066  t newer Python f
-00001100: 6561 7475 7265 7320 746f 206f 6c64 6572  eatures to older
-00001110: 2076 6572 7369 6f6e 732c 2077 6869 6368   versions, which
-00001120: 2043 6f63 6f6e 7574 2077 696c 6c20 6175   Coconut will au
-00001130: 746f 6d61 7469 6361 6c6c 7920 7573 6520  tomatically use 
-00001140: 696e 7374 6561 6420 6f66 2074 6865 2073  instead of the s
-00001150: 7461 6e64 6172 6420 6c69 6272 6172 7920  tandard library 
-00001160: 6966 2074 6865 2073 7461 6e64 6172 6420  if the standard 
-00001170: 6c69 6272 6172 7920 6973 206e 6f74 2061  library is not a
-00001180: 7661 696c 6162 6c65 2e20 5370 6563 6966  vailable. Specif
-00001190: 6963 616c 6c79 3a0d 0a20 202d 2049 6e73  ically:..  - Ins
-000011a0: 7461 6c6c 7320 5b60 7479 7069 6e67 605d  talls [`typing`]
-000011b0: 2868 7474 7073 3a2f 2f70 7970 692e 6f72  (https://pypi.or
-000011c0: 672f 7072 6f6a 6563 742f 7479 7069 6e67  g/project/typing
-000011d0: 2f29 2061 6e64 205b 6074 7970 696e 675f  /) and [`typing_
-000011e0: 6578 7465 6e73 696f 6e73 605d 2868 7474  extensions`](htt
-000011f0: 7073 3a2f 2f70 7970 692e 6f72 672f 7072  ps://pypi.org/pr
-00001200: 6f6a 6563 742f 7479 7069 6e67 2d65 7874  oject/typing-ext
-00001210: 656e 7369 6f6e 732f 2920 746f 2062 6163  ensions/) to bac
-00001220: 6b70 6f72 7420 5b60 7479 7069 6e67 605d  kport [`typing`]
-00001230: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
-00001240: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
-00001250: 7279 2f74 7970 696e 672e 6874 6d6c 292e  ry/typing.html).
-00001260: 0d0a 2020 2d20 496e 7374 616c 6c73 205b  ..  - Installs [
-00001270: 6061 656e 756d 605d 2868 7474 7073 3a2f  `aenum`](https:/
-00001280: 2f70 7970 692e 6f72 672f 7072 6f6a 6563  /pypi.org/projec
-00001290: 742f 6165 6e75 6d29 2074 6f20 6261 636b  t/aenum) to back
-000012a0: 706f 7274 205b 6065 6e75 6d60 5d28 6874  port [`enum`](ht
-000012b0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
-000012c0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
-000012d0: 656e 756d 2e68 746d 6c29 2e0d 0a20 202d  enum.html)...  -
-000012e0: 2049 6e73 7461 6c6c 7320 5b60 7472 6f6c   Installs [`trol
-000012f0: 6c69 7573 605d 2868 7474 7073 3a2f 2f70  lius`](https://p
-00001300: 7970 692e 7079 7468 6f6e 2e6f 7267 2f70  ypi.python.org/p
-00001310: 7970 692f 7472 6f6c 6c69 7573 2920 746f  ypi/trollius) to
-00001320: 2062 6163 6b70 6f72 7420 5b60 6173 796e   backport [`asyn
-00001330: 6369 6f60 5d28 6874 7470 733a 2f2f 646f  cio`](https://do
-00001340: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-00001350: 6c69 6272 6172 792f 6173 796e 6369 6f2e  library/asyncio.
-00001360: 6874 6d6c 292e 0d0a 2020 2d20 496e 7374  html)...  - Inst
-00001370: 616c 6c73 205b 6064 6174 6163 6c61 7373  alls [`dataclass
-00001380: 6573 605d 2868 7474 7073 3a2f 2f70 7970  es`](https://pyp
-00001390: 692e 6f72 672f 7072 6f6a 6563 742f 6461  i.org/project/da
-000013a0: 7461 636c 6173 7365 732f 2920 746f 2062  taclasses/) to b
-000013b0: 6163 6b70 6f72 7420 5b60 6461 7461 636c  ackport [`datacl
-000013c0: 6173 7365 7360 5d28 6874 7470 733a 2f2f  asses`](https://
-000013d0: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-000013e0: 332f 6c69 6272 6172 792f 6461 7461 636c  3/library/datacl
-000013f0: 6173 7365 732e 6874 6d6c 292e 0d0a 2d20  asses.html)...- 
-00001400: 6078 6f6e 7368 603a 2065 6e61 626c 6573  `xonsh`: enables
-00001410: 2075 7365 206f 6620 436f 636f 6e75 7427   use of Coconut'
-00001420: 7320 5b60 786f 6e73 6860 2073 7570 706f  s [`xonsh` suppo
-00001430: 7274 5d28 2378 6f6e 7368 2d73 7570 706f  rt](#xonsh-suppo
-00001440: 7274 292e 0d0a 2d20 606b 6572 6e65 6c60  rt)...- `kernel`
-00001450: 3a20 6c69 6768 7477 6569 6768 7420 7375  : lightweight su
-00001460: 6273 6574 206f 6620 606a 7570 7974 6572  bset of `jupyter
-00001470: 6020 7468 6174 206f 6e6c 7920 696e 636c  ` that only incl
-00001480: 7564 6573 2074 6865 2064 6570 656e 6465  udes the depende
-00001490: 6e63 6965 7320 7468 6174 2061 7265 2073  ncies that are s
-000014a0: 7472 6963 746c 7920 6e65 6365 7373 6172  trictly necessar
-000014b0: 7920 666f 7220 436f 636f 6e75 7427 7320  y for Coconut's 
-000014c0: 5b4a 7570 7974 6572 206b 6572 6e65 6c5d  [Jupyter kernel]
-000014d0: 2823 6b65 726e 656c 292e 0d0a 2d20 6074  (#kernel)...- `t
-000014e0: 6573 7473 603a 2065 7665 7279 7468 696e  ests`: everythin
-000014f0: 6720 6e65 6365 7373 6172 7920 746f 2074  g necessary to t
-00001500: 6573 7420 7468 6520 436f 636f 6e75 7420  est the Coconut 
-00001510: 6c61 6e67 7561 6765 2069 7473 656c 662e  language itself.
-00001520: 0d0a 2d20 6064 6f63 7360 3a20 6576 6572  ..- `docs`: ever
-00001530: 7974 6869 6e67 206e 6563 6573 7361 7279  ything necessary
-00001540: 2074 6f20 6275 696c 6420 436f 636f 6e75   to build Coconu
-00001550: 7427 7320 646f 6375 6d65 6e74 6174 696f  t's documentatio
-00001560: 6e2e 0d0a 2d20 6064 6576 603a 2065 7665  n...- `dev`: eve
-00001570: 7279 7468 696e 6720 6e65 6365 7373 6172  rything necessar
-00001580: 7920 746f 2064 6576 656c 6f70 206f 6e20  y to develop on 
-00001590: 7468 6520 436f 636f 6e75 7420 6c61 6e67  the Coconut lang
-000015a0: 7561 6765 2069 7473 656c 662c 2069 6e63  uage itself, inc
-000015b0: 6c75 6469 6e67 2061 6c6c 206f 6620 7468  luding all of th
-000015c0: 6520 6465 7065 6e64 656e 6369 6573 2061  e dependencies a
-000015d0: 626f 7665 2e0d 0a0d 0a23 2323 2320 4465  bove.....#### De
-000015e0: 7665 6c6f 7020 5665 7273 696f 6e0d 0a0d  velop Version...
-000015f0: 0a41 6c74 6572 6e61 7469 7665 6c79 2c20  .Alternatively, 
-00001600: 6966 2079 6f75 2077 616e 7420 746f 2074  if you want to t
-00001610: 6573 7420 6f75 7420 436f 636f 6e75 7427  est out Coconut'
-00001620: 7320 6c61 7465 7374 2061 6e64 2067 7265  s latest and gre
-00001630: 6174 6573 742c 2065 6e74 6572 0d0a 6060  atest, enter..``
-00001640: 600d 0a70 6970 2069 6e73 7461 6c6c 2063  `..pip install c
-00001650: 6f63 6f6e 7574 2d64 6576 656c 6f70 0d0a  oconut-develop..
-00001660: 6060 600d 0a77 6869 6368 2077 696c 6c20  ```..which will 
-00001670: 696e 7374 616c 6c20 7468 6520 6d6f 7374  install the most
-00001680: 2072 6563 656e 7420 776f 726b 696e 6720   recent working 
-00001690: 7665 7273 696f 6e20 6672 6f6d 2043 6f63  version from Coc
-000016a0: 6f6e 7574 2773 205b 6064 6576 656c 6f70  onut's [`develop
-000016b0: 6020 6272 616e 6368 5d28 6874 7470 733a  ` branch](https:
-000016c0: 2f2f 6769 7468 7562 2e63 6f6d 2f65 7668  //github.com/evh
-000016d0: 7562 2f63 6f63 6f6e 7574 2f74 7265 652f  ub/coconut/tree/
-000016e0: 6465 7665 6c6f 7029 2e20 4f70 7469 6f6e  develop). Option
-000016f0: 616c 2064 6570 656e 6465 6e63 7920 696e  al dependency in
-00001700: 7374 616c 6c61 7469 6f6e 2069 7320 7375  stallation is su
-00001710: 7070 6f72 7465 6420 696e 2074 6865 2073  pported in the s
-00001720: 616d 6520 6d61 6e6e 6572 2061 7320 6162  ame manner as ab
-00001730: 6f76 652e 2046 6f72 206d 6f72 6520 696e  ove. For more in
-00001740: 666f 726d 6174 696f 6e20 6f6e 2074 6865  formation on the
-00001750: 2063 7572 7265 6e74 2064 6576 656c 6f70   current develop
-00001760: 6d65 6e74 2062 7569 6c64 2c20 6368 6563  ment build, chec
-00001770: 6b20 6f75 7420 7468 6520 5b64 6576 656c  k out the [devel
-00001780: 6f70 6d65 6e74 2076 6572 7369 6f6e 206f  opment version o
-00001790: 6620 7468 6973 2064 6f63 756d 656e 7461  f this documenta
-000017a0: 7469 6f6e 5d28 6874 7470 3a2f 2f63 6f63  tion](http://coc
-000017b0: 6f6e 7574 2e72 6561 6474 6865 646f 6373  onut.readthedocs
-000017c0: 2e69 6f2f 656e 2f64 6576 656c 6f70 2f44  .io/en/develop/D
-000017d0: 4f43 532e 6874 6d6c 292e 2042 6520 7761  OCS.html). Be wa
-000017e0: 726e 6564 3a20 6063 6f63 6f6e 7574 2d64  rned: `coconut-d
-000017f0: 6576 656c 6f70 6020 6973 206c 696b 656c  evelop` is likel
-00001800: 7920 746f 2062 6520 756e 7374 6162 6c65  y to be unstable
-00001810: e280 9469 6620 796f 7520 6669 6e64 2061  ...if you find a
-00001820: 2062 7567 2c20 706c 6561 7365 2072 6570   bug, please rep
-00001830: 6f72 7420 6974 2062 7920 5b63 7265 6174  ort it by [creat
-00001840: 696e 6720 6120 6e65 7720 6973 7375 655d  ing a new issue]
-00001850: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00001860: 636f 6d2f 6576 6875 622f 636f 636f 6e75  com/evhub/coconu
-00001870: 742f 6973 7375 6573 2f6e 6577 292e 0d0a  t/issues/new)...
-00001880: 0d0a 2323 2043 6f6d 7069 6c61 7469 6f6e  ..## Compilation
-00001890: 0d0a 0d0a 6060 607b 636f 6e74 656e 7473  ....```{contents
-000018a0: 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a  }..---..local:..
-000018b0: 6465 7074 683a 2031 0d0a 2d2d 2d0d 0a60  depth: 1..---..`
-000018c0: 6060 0d0a 0d0a 2323 2323 2055 7361 6765  ``....#### Usage
-000018d0: 0d0a 0d0a 6060 600d 0a63 6f63 6f6e 7574  ....```..coconut
-000018e0: 205b 2d68 5d20 5b2d 2d61 6e64 2073 6f75   [-h] [--and sou
-000018f0: 7263 6520 5b64 6573 7420 2e2e 2e5d 5d20  rce [dest ...]] 
-00001900: 5b2d 765d 205b 2d74 2076 6572 7369 6f6e  [-v] [-t version
-00001910: 5d20 5b2d 695d 205b 2d70 5d20 5b2d 615d  ] [-i] [-p] [-a]
-00001920: 205b 2d6c 5d20 5b2d 6b5d 205b 2d77 5d0d   [-l] [-k] [-w].
-00001930: 0a20 2020 2020 2020 205b 2d72 5d20 5b2d  .        [-r] [-
-00001940: 6e5d 205b 2d64 5d20 5b2d 715d 205b 2d73  n] [-d] [-q] [-s
-00001950: 5d20 5b2d 2d6e 6f2d 7463 6f5d 205b 2d2d  ] [--no-tco] [--
-00001960: 6e6f 2d77 7261 705d 205b 2d63 2063 6f64  no-wrap] [-c cod
-00001970: 655d 205b 2d6a 2070 726f 6365 7373 6573  e] [-j processes
-00001980: 5d20 5b2d 665d 0d0a 2020 2020 2020 2020  ] [-f]..        
-00001990: 5b2d 2d6d 696e 6966 795d 205b 2d2d 6a75  [--minify] [--ju
-000019a0: 7079 7465 7220 2e2e 2e5d 205b 2d2d 6d79  pyter ...] [--my
-000019b0: 7079 202e 2e2e 5d20 5b2d 2d61 7267 7620  py ...] [--argv 
-000019c0: 2e2e 2e5d 205b 2d2d 7475 746f 7269 616c  ...] [--tutorial
-000019d0: 5d20 5b2d 2d64 6f63 735d 0d0a 2020 2020  ] [--docs]..    
-000019e0: 2020 2020 5b2d 2d73 7479 6c65 206e 616d      [--style nam
-000019f0: 655d 205b 2d2d 6869 7374 6f72 792d 6669  e] [--history-fi
-00001a00: 6c65 2070 6174 685d 205b 2d2d 7669 2d6d  le path] [--vi-m
-00001a10: 6f64 655d 205b 2d2d 7265 6375 7273 696f  ode] [--recursio
-00001a20: 6e2d 6c69 6d69 7420 6c69 6d69 745d 0d0a  n-limit limit]..
+00000f80: 2c6d 7970 792c 6261 636b 706f 7274 732c  ,mypy,backports,
+00000f90: 786f 6e73 6860 2028 7468 6973 2069 7320  xonsh` (this is 
+00000fa0: 7468 6520 7265 636f 6d6d 656e 6465 6420  the recommended 
+00000fb0: 7761 7920 746f 2069 6e73 7461 6c6c 2061  way to install a
+00000fc0: 2066 6561 7475 7265 2d63 6f6d 706c 6574   feature-complet
+00000fd0: 6520 7665 7273 696f 6e20 6f66 2043 6f63  e version of Coc
+00000fe0: 6f6e 7574 292e 0d0a 2d20 606a 7570 7974  onut)...- `jupyt
+00000ff0: 6572 602f 6069 7079 7468 6f6e 603a 2065  er`/`ipython`: e
+00001000: 6e61 626c 6573 2075 7365 206f 6620 7468  nables use of th
+00001010: 6520 602d 2d6a 7570 7974 6572 6020 2f20  e `--jupyter` / 
+00001020: 602d 2d69 7079 7468 6f6e 6020 666c 6167  `--ipython` flag
+00001030: 2e0d 0a2d 2060 7761 7463 6860 3a20 656e  ...- `watch`: en
+00001040: 6162 6c65 7320 7573 6520 6f66 2074 6865  ables use of the
+00001050: 2060 2d2d 7761 7463 6860 2066 6c61 672e   `--watch` flag.
+00001060: 0d0a 2d20 606d 7970 7960 3a20 656e 6162  ..- `mypy`: enab
+00001070: 6c65 7320 7573 6520 6f66 2074 6865 2060  les use of the `
+00001080: 2d2d 6d79 7079 6020 666c 6167 2e0d 0a2d  --mypy` flag...-
+00001090: 2060 6261 636b 706f 7274 7360 3a20 696e   `backports`: in
+000010a0: 7374 616c 6c73 206c 6962 7261 7269 6573  stalls libraries
+000010b0: 2074 6861 7420 6261 636b 706f 7274 206e   that backport n
+000010c0: 6577 6572 2050 7974 686f 6e20 6665 6174  ewer Python feat
+000010d0: 7572 6573 2074 6f20 6f6c 6465 7220 7665  ures to older ve
+000010e0: 7273 696f 6e73 2c20 7768 6963 6820 436f  rsions, which Co
+000010f0: 636f 6e75 7420 7769 6c6c 2061 7574 6f6d  conut will autom
+00001100: 6174 6963 616c 6c79 2075 7365 2069 6e73  atically use ins
+00001110: 7465 6164 206f 6620 7468 6520 7374 616e  tead of the stan
+00001120: 6461 7264 206c 6962 7261 7279 2069 6620  dard library if 
+00001130: 7468 6520 7374 616e 6461 7264 206c 6962  the standard lib
+00001140: 7261 7279 2069 7320 6e6f 7420 6176 6169  rary is not avai
+00001150: 6c61 626c 652e 2053 7065 6369 6669 6361  lable. Specifica
+00001160: 6c6c 793a 0d0a 2020 2d20 496e 7374 616c  lly:..  - Instal
+00001170: 6c73 205b 6074 7970 696e 6760 5d28 6874  ls [`typing`](ht
+00001180: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
+00001190: 726f 6a65 6374 2f74 7970 696e 672f 2920  roject/typing/) 
+000011a0: 616e 6420 5b60 7479 7069 6e67 5f65 7874  and [`typing_ext
+000011b0: 656e 7369 6f6e 7360 5d28 6874 7470 733a  ensions`](https:
+000011c0: 2f2f 7079 7069 2e6f 7267 2f70 726f 6a65  //pypi.org/proje
+000011d0: 6374 2f74 7970 696e 672d 6578 7465 6e73  ct/typing-extens
+000011e0: 696f 6e73 2f29 2074 6f20 6261 636b 706f  ions/) to backpo
+000011f0: 7274 205b 6074 7970 696e 6760 5d28 6874  rt [`typing`](ht
+00001200: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+00001210: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+00001220: 7479 7069 6e67 2e68 746d 6c29 2e0d 0a20  typing.html)... 
+00001230: 202d 2049 6e73 7461 6c6c 7320 5b60 6165   - Installs [`ae
+00001240: 6e75 6d60 5d28 6874 7470 733a 2f2f 7079  num`](https://py
+00001250: 7069 2e6f 7267 2f70 726f 6a65 6374 2f61  pi.org/project/a
+00001260: 656e 756d 2920 746f 2062 6163 6b70 6f72  enum) to backpor
+00001270: 7420 5b60 656e 756d 605d 2868 7474 7073  t [`enum`](https
+00001280: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+00001290: 7267 2f33 2f6c 6962 7261 7279 2f65 6e75  rg/3/library/enu
+000012a0: 6d2e 6874 6d6c 292e 0d0a 2020 2d20 496e  m.html)...  - In
+000012b0: 7374 616c 6c73 205b 6074 726f 6c6c 6975  stalls [`trolliu
+000012c0: 7360 5d28 6874 7470 733a 2f2f 7079 7069  s`](https://pypi
+000012d0: 2e70 7974 686f 6e2e 6f72 672f 7079 7069  .python.org/pypi
+000012e0: 2f74 726f 6c6c 6975 7329 2074 6f20 6261  /trollius) to ba
+000012f0: 636b 706f 7274 205b 6061 7379 6e63 696f  ckport [`asyncio
+00001300: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+00001310: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+00001320: 7261 7279 2f61 7379 6e63 696f 2e68 746d  rary/asyncio.htm
+00001330: 6c29 2e0d 0a20 202d 2049 6e73 7461 6c6c  l)...  - Install
+00001340: 7320 5b60 6461 7461 636c 6173 7365 7360  s [`dataclasses`
+00001350: 5d28 6874 7470 733a 2f2f 7079 7069 2e6f  ](https://pypi.o
+00001360: 7267 2f70 726f 6a65 6374 2f64 6174 6163  rg/project/datac
+00001370: 6c61 7373 6573 2f29 2074 6f20 6261 636b  lasses/) to back
+00001380: 706f 7274 205b 6064 6174 6163 6c61 7373  port [`dataclass
+00001390: 6573 605d 2868 7474 7073 3a2f 2f64 6f63  es`](https://doc
+000013a0: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+000013b0: 6962 7261 7279 2f64 6174 6163 6c61 7373  ibrary/dataclass
+000013c0: 6573 2e68 746d 6c29 2e0d 0a2d 2060 786f  es.html)...- `xo
+000013d0: 6e73 6860 3a20 656e 6162 6c65 7320 7573  nsh`: enables us
+000013e0: 6520 6f66 2043 6f63 6f6e 7574 2773 205b  e of Coconut's [
+000013f0: 6078 6f6e 7368 6020 7375 7070 6f72 745d  `xonsh` support]
+00001400: 2823 786f 6e73 682d 7375 7070 6f72 7429  (#xonsh-support)
+00001410: 2e0d 0a2d 2060 6b65 726e 656c 603a 206c  ...- `kernel`: l
+00001420: 6967 6874 7765 6967 6874 2073 7562 7365  ightweight subse
+00001430: 7420 6f66 2060 6a75 7079 7465 7260 2074  t of `jupyter` t
+00001440: 6861 7420 6f6e 6c79 2069 6e63 6c75 6465  hat only include
+00001450: 7320 7468 6520 6465 7065 6e64 656e 6369  s the dependenci
+00001460: 6573 2074 6861 7420 6172 6520 7374 7269  es that are stri
+00001470: 6374 6c79 206e 6563 6573 7361 7279 2066  ctly necessary f
+00001480: 6f72 2043 6f63 6f6e 7574 2773 205b 4a75  or Coconut's [Ju
+00001490: 7079 7465 7220 6b65 726e 656c 5d28 236b  pyter kernel](#k
+000014a0: 6572 6e65 6c29 2e0d 0a2d 2060 7465 7374  ernel)...- `test
+000014b0: 7360 3a20 6576 6572 7974 6869 6e67 206e  s`: everything n
+000014c0: 6563 6573 7361 7279 2074 6f20 7465 7374  ecessary to test
+000014d0: 2074 6865 2043 6f63 6f6e 7574 206c 616e   the Coconut lan
+000014e0: 6775 6167 6520 6974 7365 6c66 2e0d 0a2d  guage itself...-
+000014f0: 2060 646f 6373 603a 2065 7665 7279 7468   `docs`: everyth
+00001500: 696e 6720 6e65 6365 7373 6172 7920 746f  ing necessary to
+00001510: 2062 7569 6c64 2043 6f63 6f6e 7574 2773   build Coconut's
+00001520: 2064 6f63 756d 656e 7461 7469 6f6e 2e0d   documentation..
+00001530: 0a2d 2060 6465 7660 3a20 6576 6572 7974  .- `dev`: everyt
+00001540: 6869 6e67 206e 6563 6573 7361 7279 2074  hing necessary t
+00001550: 6f20 6465 7665 6c6f 7020 6f6e 2074 6865  o develop on the
+00001560: 2043 6f63 6f6e 7574 206c 616e 6775 6167   Coconut languag
+00001570: 6520 6974 7365 6c66 2c20 696e 636c 7564  e itself, includ
+00001580: 696e 6720 616c 6c20 6f66 2074 6865 2064  ing all of the d
+00001590: 6570 656e 6465 6e63 6965 7320 6162 6f76  ependencies abov
+000015a0: 652e 0d0a 0d0a 2323 2323 2044 6576 656c  e.....#### Devel
+000015b0: 6f70 2056 6572 7369 6f6e 0d0a 0d0a 416c  op Version....Al
+000015c0: 7465 726e 6174 6976 656c 792c 2069 6620  ternatively, if 
+000015d0: 796f 7520 7761 6e74 2074 6f20 7465 7374  you want to test
+000015e0: 206f 7574 2043 6f63 6f6e 7574 2773 206c   out Coconut's l
+000015f0: 6174 6573 7420 616e 6420 6772 6561 7465  atest and greate
+00001600: 7374 2c20 656e 7465 720d 0a60 6060 0d0a  st, enter..```..
+00001610: 7069 7020 696e 7374 616c 6c20 636f 636f  pip install coco
+00001620: 6e75 742d 6465 7665 6c6f 700d 0a60 6060  nut-develop..```
+00001630: 0d0a 7768 6963 6820 7769 6c6c 2069 6e73  ..which will ins
+00001640: 7461 6c6c 2074 6865 206d 6f73 7420 7265  tall the most re
+00001650: 6365 6e74 2077 6f72 6b69 6e67 2076 6572  cent working ver
+00001660: 7369 6f6e 2066 726f 6d20 436f 636f 6e75  sion from Coconu
+00001670: 7427 7320 5b60 6465 7665 6c6f 7060 2062  t's [`develop` b
+00001680: 7261 6e63 685d 2868 7474 7073 3a2f 2f67  ranch](https://g
+00001690: 6974 6875 622e 636f 6d2f 6576 6875 622f  ithub.com/evhub/
+000016a0: 636f 636f 6e75 742f 7472 6565 2f64 6576  coconut/tree/dev
+000016b0: 656c 6f70 292e 204f 7074 696f 6e61 6c20  elop). Optional 
+000016c0: 6465 7065 6e64 656e 6379 2069 6e73 7461  dependency insta
+000016d0: 6c6c 6174 696f 6e20 6973 2073 7570 706f  llation is suppo
+000016e0: 7274 6564 2069 6e20 7468 6520 7361 6d65  rted in the same
+000016f0: 206d 616e 6e65 7220 6173 2061 626f 7665   manner as above
+00001700: 2e20 466f 7220 6d6f 7265 2069 6e66 6f72  . For more infor
+00001710: 6d61 7469 6f6e 206f 6e20 7468 6520 6375  mation on the cu
+00001720: 7272 656e 7420 6465 7665 6c6f 706d 656e  rrent developmen
+00001730: 7420 6275 696c 642c 2063 6865 636b 206f  t build, check o
+00001740: 7574 2074 6865 205b 6465 7665 6c6f 706d  ut the [developm
+00001750: 656e 7420 7665 7273 696f 6e20 6f66 2074  ent version of t
+00001760: 6869 7320 646f 6375 6d65 6e74 6174 696f  his documentatio
+00001770: 6e5d 2868 7474 703a 2f2f 636f 636f 6e75  n](http://coconu
+00001780: 742e 7265 6164 7468 6564 6f63 732e 696f  t.readthedocs.io
+00001790: 2f65 6e2f 6465 7665 6c6f 702f 444f 4353  /en/develop/DOCS
+000017a0: 2e68 746d 6c29 2e20 4265 2077 6172 6e65  .html). Be warne
+000017b0: 643a 2060 636f 636f 6e75 742d 6465 7665  d: `coconut-deve
+000017c0: 6c6f 7060 2069 7320 6c69 6b65 6c79 2074  lop` is likely t
+000017d0: 6f20 6265 2075 6e73 7461 626c 65e2 8094  o be unstable...
+000017e0: 6966 2079 6f75 2066 696e 6420 6120 6275  if you find a bu
+000017f0: 672c 2070 6c65 6173 6520 7265 706f 7274  g, please report
+00001800: 2069 7420 6279 205b 6372 6561 7469 6e67   it by [creating
+00001810: 2061 206e 6577 2069 7373 7565 5d28 6874   a new issue](ht
+00001820: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001830: 2f65 7668 7562 2f63 6f63 6f6e 7574 2f69  /evhub/coconut/i
+00001840: 7373 7565 732f 6e65 7729 2e0d 0a0d 0a23  ssues/new).....#
+00001850: 2320 436f 6d70 696c 6174 696f 6e0d 0a0d  # Compilation...
+00001860: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+00001870: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+00001880: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
+00001890: 0a0d 0a23 2323 2320 5573 6167 650d 0a0d  ...#### Usage...
+000018a0: 0a60 6060 0d0a 636f 636f 6e75 7420 5b2d  .```..coconut [-
+000018b0: 685d 205b 2d2d 616e 6420 736f 7572 6365  h] [--and source
+000018c0: 205b 6465 7374 202e 2e2e 5d5d 205b 2d76   [dest ...]] [-v
+000018d0: 5d20 5b2d 7420 7665 7273 696f 6e5d 205b  ] [-t version] [
+000018e0: 2d69 5d20 5b2d 705d 205b 2d61 5d20 5b2d  -i] [-p] [-a] [-
+000018f0: 6c5d 205b 2d6b 5d20 5b2d 775d 0d0a 2020  l] [-k] [-w]..  
+00001900: 2020 2020 2020 5b2d 725d 205b 2d6e 5d20        [-r] [-n] 
+00001910: 5b2d 645d 205b 2d71 5d20 5b2d 735d 205b  [-d] [-q] [-s] [
+00001920: 2d2d 6e6f 2d74 636f 5d20 5b2d 2d6e 6f2d  --no-tco] [--no-
+00001930: 7772 6170 2d74 7970 6573 5d20 5b2d 6320  wrap-types] [-c 
+00001940: 636f 6465 5d20 5b2d 6a20 7072 6f63 6573  code] [-j proces
+00001950: 7365 735d 0d0a 2020 2020 2020 2020 5b2d  ses]..        [-
+00001960: 665d 205b 2d2d 6d69 6e69 6679 5d20 5b2d  f] [--minify] [-
+00001970: 2d6a 7570 7974 6572 202e 2e2e 5d20 5b2d  -jupyter ...] [-
+00001980: 2d6d 7970 7920 2e2e 2e5d 205b 2d2d 6172  -mypy ...] [--ar
+00001990: 6776 202e 2e2e 5d20 5b2d 2d74 7574 6f72  gv ...] [--tutor
+000019a0: 6961 6c5d 0d0a 2020 2020 2020 2020 5b2d  ial]..        [-
+000019b0: 2d64 6f63 735d 205b 2d2d 7374 796c 6520  -docs] [--style 
+000019c0: 6e61 6d65 5d20 5b2d 2d68 6973 746f 7279  name] [--history
+000019d0: 2d66 696c 6520 7061 7468 5d20 5b2d 2d76  -file path] [--v
+000019e0: 692d 6d6f 6465 5d0d 0a20 2020 2020 2020  i-mode]..       
+000019f0: 205b 2d2d 7265 6375 7273 696f 6e2d 6c69   [--recursion-li
+00001a00: 6d69 7420 6c69 6d69 745d 205b 2d2d 7374  mit limit] [--st
+00001a10: 6163 6b2d 7369 7a65 206b 6273 5d20 5b2d  ack-size kbs] [-
+00001a20: 2d73 6974 652d 696e 7374 616c 6c5d 0d0a  -site-install]..
 00001a30: 2020 2020 2020 2020 5b2d 2d73 6974 652d          [--site-
-00001a40: 696e 7374 616c 6c5d 205b 2d2d 7369 7465  install] [--site
-00001a50: 2d75 6e69 6e73 7461 6c6c 5d20 5b2d 2d76  -uninstall] [--v
-00001a60: 6572 626f 7365 5d20 5b2d 2d74 7261 6365  erbose] [--trace
-00001a70: 5d20 5b2d 2d70 726f 6669 6c65 5d0d 0a20  ] [--profile].. 
-00001a80: 2020 2020 2020 205b 736f 7572 6365 5d20         [source] 
-00001a90: 5b64 6573 745d 0d0a 6060 600d 0a0d 0a23  [dest]..```....#
-00001aa0: 2323 2323 2050 6f73 6974 696f 6e61 6c20  #### Positional 
-00001ab0: 4172 6775 6d65 6e74 730d 0a0d 0a60 6060  Arguments....```
-00001ac0: 0d0a 736f 7572 6365 2020 2020 2020 2020  ..source        
-00001ad0: 2020 2020 2020 7061 7468 2074 6f20 7468        path to th
-00001ae0: 6520 436f 636f 6e75 7420 6669 6c65 2f66  e Coconut file/f
-00001af0: 6f6c 6465 7220 746f 2063 6f6d 7069 6c65  older to compile
-00001b00: 0d0a 6465 7374 2020 2020 2020 2020 2020  ..dest          
-00001b10: 2020 2020 2020 6465 7374 696e 6174 696f        destinatio
-00001b20: 6e20 6469 7265 6374 6f72 7920 666f 7220  n directory for 
-00001b30: 636f 6d70 696c 6564 2066 696c 6573 2028  compiled files (
-00001b40: 6465 6661 756c 7473 2074 6f0d 0a20 2020  defaults to..   
-00001b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b60: 2074 6865 2073 6f75 7263 6520 6469 7265   the source dire
-00001b70: 6374 6f72 7929 0d0a 6060 600d 0a0d 0a23  ctory)..```....#
-00001b80: 2323 2323 204f 7074 696f 6e61 6c20 4172  #### Optional Ar
-00001b90: 6775 6d65 6e74 730d 0a0d 0a60 6060 0d0a  guments....```..
-00001ba0: 6f70 7469 6f6e 616c 2061 7267 756d 656e  optional argumen
-00001bb0: 7473 3a0d 0a20 202d 682c 202d 2d68 656c  ts:..  -h, --hel
-00001bc0: 7020 2020 2020 2020 2020 2020 2073 686f  p            sho
-00001bd0: 7720 7468 6973 2068 656c 7020 6d65 7373  w this help mess
-00001be0: 6167 6520 616e 6420 6578 6974 0d0a 2020  age and exit..  
-00001bf0: 2d2d 616e 6420 736f 7572 6365 205b 6465  --and source [de
-00001c00: 7374 202e 2e2e 5d0d 0a20 2020 2020 2020  st ...]..       
-00001c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c20: 2061 6464 2061 6e20 6164 6469 7469 6f6e   add an addition
-00001c30: 616c 2073 6f75 7263 652f 6465 7374 2070  al source/dest p
-00001c40: 6169 7220 746f 2063 6f6d 7069 6c65 0d0a  air to compile..
-00001c50: 2020 2d76 2c20 2d56 2c20 2d2d 7665 7273    -v, -V, --vers
-00001c60: 696f 6e20 2020 2020 7072 696e 7420 436f  ion     print Co
-00001c70: 636f 6e75 7420 616e 6420 5079 7468 6f6e  conut and Python
-00001c80: 2076 6572 7369 6f6e 2069 6e66 6f72 6d61   version informa
-00001c90: 7469 6f6e 0d0a 2020 2d74 2076 6572 7369  tion..  -t versi
-00001ca0: 6f6e 2c20 2d2d 7461 7267 6574 2076 6572  on, --target ver
-00001cb0: 7369 6f6e 0d0a 2020 2020 2020 2020 2020  sion..          
-00001cc0: 2020 2020 2020 2020 2020 2020 2020 7370                sp
-00001cd0: 6563 6966 7920 7461 7267 6574 2050 7974  ecify target Pyt
-00001ce0: 686f 6e20 7665 7273 696f 6e20 2864 6566  hon version (def
-00001cf0: 6175 6c74 7320 746f 2075 6e69 7665 7273  aults to univers
-00001d00: 616c 290d 0a20 202d 692c 202d 2d69 6e74  al)..  -i, --int
-00001d10: 6572 6163 7420 2020 2020 2020 2066 6f72  eract        for
-00001d20: 6365 2074 6865 2069 6e74 6572 7072 6574  ce the interpret
-00001d30: 6572 2074 6f20 7374 6172 7420 286f 7468  er to start (oth
-00001d40: 6572 7769 7365 2073 7461 7274 7320 6966  erwise starts if
-00001d50: 206e 6f20 6f74 6865 7220 636f 6d6d 616e   no other comman
-00001d60: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
-00001d70: 2020 2020 2020 2020 2020 2069 7320 6769             is gi
-00001d80: 7665 6e29 2028 696d 706c 6965 7320 2d2d  ven) (implies --
-00001d90: 7275 6e29 0d0a 2020 2d70 2c20 2d2d 7061  run)..  -p, --pa
-00001da0: 636b 6167 6520 2020 2020 2020 2020 636f  ckage         co
-00001db0: 6d70 696c 6520 736f 7572 6365 2061 7320  mpile source as 
-00001dc0: 7061 7274 206f 6620 6120 7061 636b 6167  part of a packag
-00001dd0: 6520 2864 6566 6175 6c74 7320 746f 206f  e (defaults to o
-00001de0: 6e6c 7920 6966 2073 6f75 7263 6520 6973  nly if source is
-00001df0: 2061 0d0a 2020 2020 2020 2020 2020 2020   a..            
-00001e00: 2020 2020 2020 2020 2020 2020 6469 7265              dire
-00001e10: 6374 6f72 7929 0d0a 2020 2d61 2c20 2d2d  ctory)..  -a, --
-00001e20: 7374 616e 6461 6c6f 6e65 2c20 2d2d 7374  standalone, --st
-00001e30: 616e 642d 616c 6f6e 650d 0a20 2020 2020  and-alone..     
-00001e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e50: 2020 2063 6f6d 7069 6c65 2073 6f75 7263     compile sourc
-00001e60: 6520 6173 2073 7461 6e64 616c 6f6e 6520  e as standalone 
-00001e70: 6669 6c65 7320 2864 6566 6175 6c74 7320  files (defaults 
-00001e80: 746f 206f 6e6c 7920 6966 2073 6f75 7263  to only if sourc
-00001e90: 6520 6973 2061 0d0a 2020 2020 2020 2020  e is a..        
-00001ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001eb0: 7369 6e67 6c65 2066 696c 6529 0d0a 2020  single file)..  
-00001ec0: 2d6c 2c20 2d2d 6c69 6e65 2d6e 756d 6265  -l, --line-numbe
-00001ed0: 7273 2c20 2d2d 6c69 6e65 6e75 6d62 6572  rs, --linenumber
-00001ee0: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
-00001ef0: 2020 2020 2020 2020 2020 2061 6464 206c             add l
-00001f00: 696e 6520 6e75 6d62 6572 2063 6f6d 6d65  ine number comme
-00001f10: 6e74 7320 666f 7220 6561 7365 206f 6620  nts for ease of 
-00001f20: 6465 6275 6767 696e 670d 0a20 202d 6b2c  debugging..  -k,
-00001f30: 202d 2d6b 6565 702d 6c69 6e65 732c 202d   --keep-lines, -
-00001f40: 2d6b 6565 706c 696e 6573 0d0a 2020 2020  -keeplines..    
-00001f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f60: 2020 2020 696e 636c 7564 6520 736f 7572      include sour
-00001f70: 6365 2063 6f64 6520 696e 2063 6f6d 6d65  ce code in comme
-00001f80: 6e74 7320 666f 7220 6561 7365 206f 6620  nts for ease of 
-00001f90: 6465 6275 6767 696e 670d 0a20 202d 772c  debugging..  -w,
-00001fa0: 202d 2d77 6174 6368 2020 2020 2020 2020   --watch        
-00001fb0: 2020 2077 6174 6368 2061 2064 6972 6563     watch a direc
-00001fc0: 746f 7279 2061 6e64 2072 6563 6f6d 7069  tory and recompi
-00001fd0: 6c65 206f 6e20 6368 616e 6765 730d 0a20  le on changes.. 
-00001fe0: 202d 722c 202d 2d72 756e 2020 2020 2020   -r, --run      
-00001ff0: 2020 2020 2020 2065 7865 6375 7465 2063         execute c
-00002000: 6f6d 7069 6c65 6420 5079 7468 6f6e 0d0a  ompiled Python..
-00002010: 2020 2d6e 2c20 2d2d 6e6f 2d77 7269 7465    -n, --no-write
-00002020: 2c20 2d2d 6e6f 7772 6974 650d 0a20 2020  , --nowrite..   
-00002030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002040: 2020 2020 2064 6973 6162 6c65 2077 7269       disable wri
-00002050: 7469 6e67 2063 6f6d 7069 6c65 6420 5079  ting compiled Py
-00002060: 7468 6f6e 0d0a 2020 2d64 2c20 2d2d 6469  thon..  -d, --di
-00002070: 7370 6c61 7920 2020 2020 2020 2020 7072  splay         pr
-00002080: 696e 7420 636f 6d70 696c 6564 2050 7974  int compiled Pyt
-00002090: 686f 6e0d 0a20 202d 712c 202d 2d71 7569  hon..  -q, --qui
-000020a0: 6574 2020 2020 2020 2020 2020 2073 7570  et           sup
-000020b0: 7072 6573 7320 616c 6c20 696e 666f 726d  press all inform
-000020c0: 6174 696f 6e61 6c20 6f75 7470 7574 2028  ational output (
-000020d0: 636f 6d62 696e 6520 7769 7468 202d 2d64  combine with --d
-000020e0: 6973 706c 6179 2074 6f20 7772 6974 650d  isplay to write.
-000020f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002100: 2020 2020 2020 2020 2072 756e 6e61 626c           runnabl
-00002110: 6520 636f 6465 2074 6f20 7374 646f 7574  e code to stdout
-00002120: 290d 0a20 202d 732c 202d 2d73 7472 6963  )..  -s, --stric
-00002130: 7420 2020 2020 2020 2020 2065 6e66 6f72  t          enfor
-00002140: 6365 2063 6f64 6520 636c 6561 6e6c 696e  ce code cleanlin
-00002150: 6573 7320 7374 616e 6461 7264 730d 0a20  ess standards.. 
-00002160: 202d 2d6e 6f2d 7463 6f2c 202d 2d6e 6f74   --no-tco, --not
-00002170: 636f 2020 2020 2064 6973 6162 6c65 2074  co     disable t
-00002180: 6169 6c20 6361 6c6c 206f 7074 696d 697a  ail call optimiz
-00002190: 6174 696f 6e0d 0a20 202d 2d6e 6f2d 7772  ation..  --no-wr
-000021a0: 6170 2c20 2d2d 6e6f 7772 6170 2020 2064  ap, --nowrap   d
-000021b0: 6973 6162 6c65 2077 7261 7070 696e 6720  isable wrapping 
-000021c0: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
-000021d0: 2069 6e20 7374 7269 6e67 7320 616e 6420   in strings and 
-000021e0: 7475 726e 206f 6666 2027 6672 6f6d 0d0a  turn off 'from..
+00001a40: 756e 696e 7374 616c 6c5d 205b 2d2d 7665  uninstall] [--ve
+00001a50: 7262 6f73 655d 205b 2d2d 7472 6163 655d  rbose] [--trace]
+00001a60: 205b 2d2d 7072 6f66 696c 655d 0d0a 2020   [--profile]..  
+00001a70: 2020 2020 2020 5b73 6f75 7263 655d 205b        [source] [
+00001a80: 6465 7374 5d0d 0a60 6060 0d0a 0d0a 2323  dest]..```....##
+00001a90: 2323 2320 506f 7369 7469 6f6e 616c 2041  ### Positional A
+00001aa0: 7267 756d 656e 7473 0d0a 0d0a 6060 600d  rguments....```.
+00001ab0: 0a73 6f75 7263 6520 2020 2020 2020 2020  .source         
+00001ac0: 2020 2020 2070 6174 6820 746f 2074 6865       path to the
+00001ad0: 2043 6f63 6f6e 7574 2066 696c 652f 666f   Coconut file/fo
+00001ae0: 6c64 6572 2074 6f20 636f 6d70 696c 650d  lder to compile.
+00001af0: 0a64 6573 7420 2020 2020 2020 2020 2020  .dest           
+00001b00: 2020 2020 2064 6573 7469 6e61 7469 6f6e       destination
+00001b10: 2064 6972 6563 746f 7279 2066 6f72 2063   directory for c
+00001b20: 6f6d 7069 6c65 6420 6669 6c65 7320 2864  ompiled files (d
+00001b30: 6566 6175 6c74 7320 746f 0d0a 2020 2020  efaults to..    
+00001b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b50: 7468 6520 736f 7572 6365 2064 6972 6563  the source direc
+00001b60: 746f 7279 290d 0a60 6060 0d0a 0d0a 2323  tory)..```....##
+00001b70: 2323 2320 4f70 7469 6f6e 616c 2041 7267  ### Optional Arg
+00001b80: 756d 656e 7473 0d0a 0d0a 6060 600d 0a20  uments....```.. 
+00001b90: 202d 682c 202d 2d68 656c 7020 2020 2020   -h, --help     
+00001ba0: 2020 2020 2020 2073 686f 7720 7468 6973         show this
+00001bb0: 2068 656c 7020 6d65 7373 6167 6520 616e   help message an
+00001bc0: 6420 6578 6974 0d0a 2020 2d2d 616e 6420  d exit..  --and 
+00001bd0: 736f 7572 6365 205b 6465 7374 202e 2e2e  source [dest ...
+00001be0: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
+00001bf0: 2020 2020 2020 2020 2020 2061 6464 2061             add a
+00001c00: 6e20 6164 6469 7469 6f6e 616c 2073 6f75  n additional sou
+00001c10: 7263 652f 6465 7374 2070 6169 7220 746f  rce/dest pair to
+00001c20: 2063 6f6d 7069 6c65 0d0a 2020 2d76 2c20   compile..  -v, 
+00001c30: 2d56 2c20 2d2d 7665 7273 696f 6e20 2020  -V, --version   
+00001c40: 2020 7072 696e 7420 436f 636f 6e75 7420    print Coconut 
+00001c50: 616e 6420 5079 7468 6f6e 2076 6572 7369  and Python versi
+00001c60: 6f6e 2069 6e66 6f72 6d61 7469 6f6e 0d0a  on information..
+00001c70: 2020 2d74 2076 6572 7369 6f6e 2c20 2d2d    -t version, --
+00001c80: 7461 7267 6574 2076 6572 7369 6f6e 0d0a  target version..
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 7370 6563 6966 7920          specify 
+00001cb0: 7461 7267 6574 2050 7974 686f 6e20 7665  target Python ve
+00001cc0: 7273 696f 6e20 2864 6566 6175 6c74 7320  rsion (defaults 
+00001cd0: 746f 2075 6e69 7665 7273 616c 290d 0a20  to universal).. 
+00001ce0: 202d 692c 202d 2d69 6e74 6572 6163 7420   -i, --interact 
+00001cf0: 2020 2020 2020 2066 6f72 6365 2074 6865         force the
+00001d00: 2069 6e74 6572 7072 6574 6572 2074 6f20   interpreter to 
+00001d10: 7374 6172 7420 286f 7468 6572 7769 7365  start (otherwise
+00001d20: 2073 7461 7274 7320 6966 206e 6f20 6f74   starts if no ot
+00001d30: 6865 7220 636f 6d6d 616e 640d 0a20 2020  her command..   
+00001d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d50: 2020 2020 2069 7320 6769 7665 6e29 2028       is given) (
+00001d60: 696d 706c 6965 7320 2d2d 7275 6e29 0d0a  implies --run)..
+00001d70: 2020 2d70 2c20 2d2d 7061 636b 6167 6520    -p, --package 
+00001d80: 2020 2020 2020 2020 636f 6d70 696c 6520          compile 
+00001d90: 736f 7572 6365 2061 7320 7061 7274 206f  source as part o
+00001da0: 6620 6120 7061 636b 6167 6520 2864 6566  f a package (def
+00001db0: 6175 6c74 7320 746f 206f 6e6c 7920 6966  aults to only if
+00001dc0: 2073 6f75 7263 6520 6973 2061 0d0a 2020   source is a..  
+00001dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001de0: 2020 2020 2020 6469 7265 6374 6f72 7929        directory)
+00001df0: 0d0a 2020 2d61 2c20 2d2d 7374 616e 6461  ..  -a, --standa
+00001e00: 6c6f 6e65 2c20 2d2d 7374 616e 642d 616c  lone, --stand-al
+00001e10: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00001e20: 2020 2020 2020 2020 2020 2020 2063 6f6d               com
+00001e30: 7069 6c65 2073 6f75 7263 6520 6173 2073  pile source as s
+00001e40: 7461 6e64 616c 6f6e 6520 6669 6c65 7320  tandalone files 
+00001e50: 2864 6566 6175 6c74 7320 746f 206f 6e6c  (defaults to onl
+00001e60: 7920 6966 2073 6f75 7263 6520 6973 2061  y if source is a
+00001e70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001e80: 2020 2020 2020 2020 2020 7369 6e67 6c65            single
+00001e90: 2066 696c 6529 0d0a 2020 2d6c 2c20 2d2d   file)..  -l, --
+00001ea0: 6c69 6e65 2d6e 756d 6265 7273 2c20 2d2d  line-numbers, --
+00001eb0: 6c69 6e65 6e75 6d62 6572 730d 0a20 2020  linenumbers..   
+00001ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ed0: 2020 2020 2061 6464 206c 696e 6520 6e75       add line nu
+00001ee0: 6d62 6572 2063 6f6d 6d65 6e74 7320 666f  mber comments fo
+00001ef0: 7220 6561 7365 206f 6620 6465 6275 6767  r ease of debugg
+00001f00: 696e 670d 0a20 202d 6b2c 202d 2d6b 6565  ing..  -k, --kee
+00001f10: 702d 6c69 6e65 732c 202d 2d6b 6565 706c  p-lines, --keepl
+00001f20: 696e 6573 0d0a 2020 2020 2020 2020 2020  ines..          
+00001f30: 2020 2020 2020 2020 2020 2020 2020 696e                in
+00001f40: 636c 7564 6520 736f 7572 6365 2063 6f64  clude source cod
+00001f50: 6520 696e 2063 6f6d 6d65 6e74 7320 666f  e in comments fo
+00001f60: 7220 6561 7365 206f 6620 6465 6275 6767  r ease of debugg
+00001f70: 696e 670d 0a20 202d 772c 202d 2d77 6174  ing..  -w, --wat
+00001f80: 6368 2020 2020 2020 2020 2020 2077 6174  ch           wat
+00001f90: 6368 2061 2064 6972 6563 746f 7279 2061  ch a directory a
+00001fa0: 6e64 2072 6563 6f6d 7069 6c65 206f 6e20  nd recompile on 
+00001fb0: 6368 616e 6765 730d 0a20 202d 722c 202d  changes..  -r, -
+00001fc0: 2d72 756e 2020 2020 2020 2020 2020 2020  -run            
+00001fd0: 2065 7865 6375 7465 2063 6f6d 7069 6c65   execute compile
+00001fe0: 6420 5079 7468 6f6e 0d0a 2020 2d6e 2c20  d Python..  -n, 
+00001ff0: 2d2d 6e6f 2d77 7269 7465 2c20 2d2d 6e6f  --no-write, --no
+00002000: 7772 6974 650d 0a20 2020 2020 2020 2020  write..         
+00002010: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00002020: 6973 6162 6c65 2077 7269 7469 6e67 2063  isable writing c
+00002030: 6f6d 7069 6c65 6420 5079 7468 6f6e 0d0a  ompiled Python..
+00002040: 2020 2d64 2c20 2d2d 6469 7370 6c61 7920    -d, --display 
+00002050: 2020 2020 2020 2020 7072 696e 7420 636f          print co
+00002060: 6d70 696c 6564 2050 7974 686f 6e0d 0a20  mpiled Python.. 
+00002070: 202d 712c 202d 2d71 7569 6574 2020 2020   -q, --quiet    
+00002080: 2020 2020 2020 2073 7570 7072 6573 7320         suppress 
+00002090: 616c 6c20 696e 666f 726d 6174 696f 6e61  all informationa
+000020a0: 6c20 6f75 7470 7574 2028 636f 6d62 696e  l output (combin
+000020b0: 6520 7769 7468 202d 2d64 6973 706c 6179  e with --display
+000020c0: 2074 6f20 7772 6974 650d 0a20 2020 2020   to write..     
+000020d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020e0: 2020 2072 756e 6e61 626c 6520 636f 6465     runnable code
+000020f0: 2074 6f20 7374 646f 7574 290d 0a20 202d   to stdout)..  -
+00002100: 732c 202d 2d73 7472 6963 7420 2020 2020  s, --strict     
+00002110: 2020 2020 2065 6e66 6f72 6365 2063 6f64       enforce cod
+00002120: 6520 636c 6561 6e6c 696e 6573 7320 7374  e cleanliness st
+00002130: 616e 6461 7264 730d 0a20 202d 2d6e 6f2d  andards..  --no-
+00002140: 7463 6f2c 202d 2d6e 6f74 636f 2020 2020  tco, --notco    
+00002150: 2064 6973 6162 6c65 2074 6169 6c20 6361   disable tail ca
+00002160: 6c6c 206f 7074 696d 697a 6174 696f 6e0d  ll optimization.
+00002170: 0a20 202d 2d6e 6f2d 7772 6170 2d74 7970  .  --no-wrap-typ
+00002180: 6573 2c20 2d2d 6e6f 7772 6170 7479 7065  es, --nowraptype
+00002190: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
+000021a0: 2020 2020 2020 2020 2020 2064 6973 6162             disab
+000021b0: 6c65 2077 7261 7070 696e 6720 7479 7065  le wrapping type
+000021c0: 2061 6e6e 6f74 6174 696f 6e73 2069 6e20   annotations in 
+000021d0: 7374 7269 6e67 7320 616e 6420 7475 726e  strings and turn
+000021e0: 206f 6666 2027 6672 6f6d 0d0a 2020 2020   off 'from..    
 000021f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002200: 2020 2020 2020 2020 5f5f 6675 7475 7265          __future
-00002210: 5f5f 2069 6d70 6f72 7420 616e 6e6f 7461  __ import annota
-00002220: 7469 6f6e 7327 2062 6568 6176 696f 720d  tions' behavior.
-00002230: 0a20 202d 6320 636f 6465 2c20 2d2d 636f  .  -c code, --co
-00002240: 6465 2063 6f64 6520 2072 756e 2043 6f63  de code  run Coc
-00002250: 6f6e 7574 2070 6173 7365 6420 696e 2061  onut passed in a
-00002260: 7320 6120 7374 7269 6e67 2028 6361 6e20  s a string (can 
-00002270: 616c 736f 2062 6520 7069 7065 6420 696e  also be piped in
-00002280: 746f 2073 7464 696e 290d 0a20 202d 6a20  to stdin)..  -j 
-00002290: 7072 6f63 6573 7365 732c 202d 2d6a 6f62  processes, --job
-000022a0: 7320 7072 6f63 6573 7365 730d 0a20 2020  s processes..   
+00002200: 2020 2020 5f5f 6675 7475 7265 5f5f 2069      __future__ i
+00002210: 6d70 6f72 7420 616e 6e6f 7461 7469 6f6e  mport annotation
+00002220: 7327 2062 6568 6176 696f 720d 0a20 202d  s' behavior..  -
+00002230: 6320 636f 6465 2c20 2d2d 636f 6465 2063  c code, --code c
+00002240: 6f64 6520 2072 756e 2043 6f63 6f6e 7574  ode  run Coconut
+00002250: 2070 6173 7365 6420 696e 2061 7320 6120   passed in as a 
+00002260: 7374 7269 6e67 2028 6361 6e20 616c 736f  string (can also
+00002270: 2062 6520 7069 7065 6420 696e 746f 2073   be piped into s
+00002280: 7464 696e 290d 0a20 202d 6a20 7072 6f63  tdin)..  -j proc
+00002290: 6573 7365 732c 202d 2d6a 6f62 7320 7072  esses, --jobs pr
+000022a0: 6f63 6573 7365 730d 0a20 2020 2020 2020  ocesses..       
 000022b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000022c0: 2020 2020 206e 756d 6265 7220 6f66 2061       number of a
-000022d0: 6464 6974 696f 6e61 6c20 7072 6f63 6573  dditional proces
-000022e0: 7365 7320 746f 2075 7365 2028 6465 6661  ses to use (defa
-000022f0: 756c 7473 2074 6f20 3029 2028 7061 7373  ults to 0) (pass
-00002300: 2027 7379 7327 2074 6f0d 0a20 2020 2020   'sys' to..     
-00002310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002320: 2020 2075 7365 206d 6163 6869 6e65 2064     use machine d
-00002330: 6566 6175 6c74 290d 0a20 202d 662c 202d  efault)..  -f, -
-00002340: 2d66 6f72 6365 2020 2020 2020 2020 2020  -force          
-00002350: 2066 6f72 6365 2072 652d 636f 6d70 696c   force re-compil
-00002360: 6174 696f 6e20 6576 656e 2077 6865 6e20  ation even when 
-00002370: 736f 7572 6365 2063 6f64 6520 616e 6420  source code and 
-00002380: 636f 6d70 696c 6174 696f 6e20 7061 7261  compilation para
-00002390: 6d65 7465 7273 0d0a 2020 2020 2020 2020  meters..        
-000023a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023b0: 6861 7665 6e27 7420 6368 616e 6765 640d  haven't changed.
-000023c0: 0a20 202d 2d6d 696e 6966 7920 2020 2020  .  --minify     
-000023d0: 2020 2020 2020 2020 2072 6564 7563 6520           reduce 
-000023e0: 7369 7a65 206f 6620 636f 6d70 696c 6564  size of compiled
-000023f0: 2050 7974 686f 6e0d 0a20 202d 2d6a 7570   Python..  --jup
-00002400: 7974 6572 202e 2e2e 2c20 2d2d 6970 7974  yter ..., --ipyt
-00002410: 686f 6e20 2e2e 2e0d 0a20 2020 2020 2020  hon .....       
-00002420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002430: 2072 756e 204a 7570 7974 6572 2f49 5079   run Jupyter/IPy
-00002440: 7468 6f6e 2077 6974 6820 436f 636f 6e75  thon with Coconu
-00002450: 7420 6173 2074 6865 206b 6572 6e65 6c20  t as the kernel 
-00002460: 2872 656d 6169 6e69 6e67 2061 7267 7320  (remaining args 
-00002470: 7061 7373 6564 0d0a 2020 2020 2020 2020  passed..        
-00002480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002490: 746f 204a 7570 7974 6572 290d 0a20 202d  to Jupyter)..  -
-000024a0: 2d6d 7970 7920 2e2e 2e20 2020 2020 2020  -mypy ...       
-000024b0: 2020 2020 2072 756e 204d 7950 7920 6f6e       run MyPy on
-000024c0: 2063 6f6d 7069 6c65 6420 5079 7468 6f6e   compiled Python
-000024d0: 2028 7265 6d61 696e 696e 6720 6172 6773   (remaining args
-000024e0: 2070 6173 7365 6420 746f 204d 7950 7929   passed to MyPy)
-000024f0: 2028 696d 706c 6965 730d 0a20 2020 2020   (implies..     
-00002500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002510: 2020 202d 2d70 6163 6b61 6765 290d 0a20     --package).. 
-00002520: 202d 2d61 7267 7620 2e2e 2e2c 202d 2d61   --argv ..., --a
-00002530: 7267 7320 2e2e 2e0d 0a20 2020 2020 2020  rgs .....       
-00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002550: 2073 6574 2073 7973 2e61 7267 7620 746f   set sys.argv to
-00002560: 2073 6f75 7263 6520 706c 7573 2072 656d   source plus rem
-00002570: 6169 6e69 6e67 2061 7267 7320 666f 7220  aining args for 
-00002580: 7573 6520 696e 2074 6865 2043 6f63 6f6e  use in the Cocon
-00002590: 7574 0d0a 2020 2020 2020 2020 2020 2020  ut..            
-000025a0: 2020 2020 2020 2020 2020 2020 7363 7269              scri
-000025b0: 7074 2062 6569 6e67 2072 756e 0d0a 2020  pt being run..  
-000025c0: 2d2d 7475 746f 7269 616c 2020 2020 2020  --tutorial      
-000025d0: 2020 2020 2020 6f70 656e 2043 6f63 6f6e        open Cocon
-000025e0: 7574 2773 2074 7574 6f72 6961 6c20 696e  ut's tutorial in
-000025f0: 2074 6865 2064 6566 6175 6c74 2077 6562   the default web
-00002600: 2062 726f 7773 6572 0d0a 2020 2d2d 646f   browser..  --do
-00002610: 6373 2c20 2d2d 646f 6375 6d65 6e74 6174  cs, --documentat
-00002620: 696f 6e0d 0a20 2020 2020 2020 2020 2020  ion..           
-00002630: 2020 2020 2020 2020 2020 2020 206f 7065               ope
-00002640: 6e20 436f 636f 6e75 7427 7320 646f 6375  n Coconut's docu
-00002650: 6d65 6e74 6174 696f 6e20 696e 2074 6865  mentation in the
-00002660: 2064 6566 6175 6c74 2077 6562 2062 726f   default web bro
-00002670: 7773 6572 0d0a 2020 2d2d 7374 796c 6520  wser..  --style 
-00002680: 6e61 6d65 2020 2020 2020 2020 2020 7365  name          se
-00002690: 7420 5079 676d 656e 7473 2073 796e 7461  t Pygments synta
-000026a0: 7820 6869 6768 6c69 6768 7469 6e67 2073  x highlighting s
-000026b0: 7479 6c65 2028 6f72 2027 6c69 7374 2720  tyle (or 'list' 
-000026c0: 746f 206c 6973 7420 7374 796c 6573 290d  to list styles).
-000026d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000026e0: 2020 2020 2020 2020 2028 6465 6661 756c           (defaul
-000026f0: 7473 2074 6f20 434f 434f 4e55 545f 5354  ts to COCONUT_ST
-00002700: 594c 4520 656e 7669 726f 6e6d 656e 7420  YLE environment 
-00002710: 7661 7269 6162 6c65 2069 6620 6974 2065  variable if it e
-00002720: 7869 7374 732c 0d0a 2020 2020 2020 2020  xists,..        
-00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002740: 6f74 6865 7277 6973 6520 2764 6566 6175  otherwise 'defau
-00002750: 6c74 2729 0d0a 2020 2d2d 6869 7374 6f72  lt')..  --histor
-00002760: 792d 6669 6c65 2070 6174 6820 2020 7365  y-file path   se
-00002770: 7420 6869 7374 6f72 7920 6669 6c65 2028  t history file (
-00002780: 6f72 2027 2720 666f 7220 6e6f 2066 696c  or '' for no fil
-00002790: 6529 2028 6361 6e20 6265 206d 6f64 6966  e) (can be modif
-000027a0: 6965 6420 6279 2073 6574 7469 6e67 0d0a  ied by setting..
-000027b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027c0: 2020 2020 2020 2020 434f 434f 4e55 545f          COCONUT_
-000027d0: 484f 4d45 2065 6e76 6972 6f6e 6d65 6e74  HOME environment
-000027e0: 2076 6172 6961 626c 6529 0d0a 2020 2d2d   variable)..  --
-000027f0: 7669 2d6d 6f64 652c 202d 2d76 696d 6f64  vi-mode, --vimod
-00002800: 6520 2020 656e 6162 6c65 2076 6920 6d6f  e   enable vi mo
-00002810: 6465 2069 6e20 7468 6520 696e 7465 7270  de in the interp
-00002820: 7265 7465 7220 2863 7572 7265 6e74 6c79  reter (currently
-00002830: 2073 6574 2074 6f20 4661 6c73 6529 2028   set to False) (
-00002840: 6361 6e20 6265 0d0a 2020 2020 2020 2020  can be..        
-00002850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002860: 6d6f 6469 6669 6564 2062 7920 7365 7474  modified by sett
-00002870: 696e 6720 434f 434f 4e55 545f 5649 5f4d  ing COCONUT_VI_M
-00002880: 4f44 4520 656e 7669 726f 6e6d 656e 7420  ODE environment 
-00002890: 7661 7269 6162 6c65 290d 0a20 202d 2d72  variable)..  --r
-000028a0: 6563 7572 7369 6f6e 2d6c 696d 6974 206c  ecursion-limit l
-000028b0: 696d 6974 2c20 2d2d 7265 6375 7273 696f  imit, --recursio
-000028c0: 6e6c 696d 6974 206c 696d 6974 0d0a 2020  nlimit limit..  
-000028d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028e0: 2020 2020 2020 7365 7420 6d61 7869 6d75        set maximu
-000028f0: 6d20 7265 6375 7273 696f 6e20 6465 7074  m recursion dept
-00002900: 6820 696e 2063 6f6d 7069 6c65 7220 2864  h in compiler (d
-00002910: 6566 6175 6c74 7320 746f 2032 3039 3029  efaults to 2090)
-00002920: 0d0a 2020 2d2d 7369 7465 2d69 6e73 7461  ..  --site-insta
-00002930: 6c6c 2c20 2d2d 7369 7465 696e 7374 616c  ll, --siteinstal
-00002940: 6c0d 0a20 2020 2020 2020 2020 2020 2020  l..             
-00002950: 2020 2020 2020 2020 2020 2073 6574 2075             set u
-00002960: 7020 636f 636f 6e75 742e 636f 6e76 656e  p coconut.conven
-00002970: 6965 6e63 6520 746f 2062 6520 696d 706f  ience to be impo
-00002980: 7274 6564 206f 6e20 5079 7468 6f6e 2073  rted on Python s
-00002990: 7461 7274 0d0a 2020 2d2d 7369 7465 2d75  tart..  --site-u
-000029a0: 6e69 6e73 7461 6c6c 2c20 2d2d 7369 7465  ninstall, --site
-000029b0: 756e 696e 7374 616c 6c0d 0a20 2020 2020  uninstall..     
-000029c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029d0: 2020 2072 6576 6572 7420 7468 6520 6566     revert the ef
-000029e0: 6665 6374 7320 6f66 202d 2d73 6974 652d  fects of --site-
-000029f0: 696e 7374 616c 6c0d 0a20 202d 2d76 6572  install..  --ver
-00002a00: 626f 7365 2020 2020 2020 2020 2020 2020  bose            
-00002a10: 2070 7269 6e74 2076 6572 626f 7365 2064   print verbose d
-00002a20: 6562 7567 206f 7574 7075 740d 0a20 202d  ebug output..  -
-00002a30: 2d74 7261 6365 2020 2020 2020 2020 2020  -trace          
-00002a40: 2020 2020 2070 7269 6e74 2076 6572 626f       print verbo
-00002a50: 7365 2070 6172 7369 6e67 2064 6174 6120  se parsing data 
-00002a60: 286f 6e6c 7920 6176 6169 6c61 626c 6520  (only available 
-00002a70: 696e 2063 6f63 6f6e 7574 2d64 6576 656c  in coconut-devel
-00002a80: 6f70 290d 0a20 202d 2d70 726f 6669 6c65  op)..  --profile
-00002a90: 2020 2020 2020 2020 2020 2020 2063 6f6c               col
-00002aa0: 6c65 6374 2061 6e64 2070 7269 6e74 2074  lect and print t
-00002ab0: 696d 696e 6720 696e 666f 2028 6f6e 6c79  iming info (only
-00002ac0: 2061 7661 696c 6162 6c65 2069 6e20 636f   available in co
-00002ad0: 636f 6e75 742d 6465 7665 6c6f 7029 0d0a  conut-develop)..
-00002ae0: 6060 600d 0a0d 0a23 2323 2320 436f 636f  ```....#### Coco
-00002af0: 6e75 7420 5363 7269 7074 730d 0a0d 0a54  nut Scripts....T
-00002b00: 6f20 7275 6e20 6120 436f 636f 6e75 7420  o run a Coconut 
-00002b10: 6669 6c65 2061 7320 6120 7363 7269 7074  file as a script
-00002b20: 2c20 436f 636f 6e75 7420 7072 6f76 6964  , Coconut provid
-00002b30: 6573 2074 6865 2063 6f6d 6d61 6e64 0d0a  es the command..
-00002b40: 6060 600d 0a63 6f63 6f6e 7574 2d72 756e  ```..coconut-run
-00002b50: 203c 736f 7572 6365 3e20 3c61 7267 733e   <source> <args>
-00002b60: 0d0a 6060 600d 0a61 7320 616e 2061 6c69  ..```..as an ali
-00002b70: 6173 2066 6f72 0d0a 6060 600d 0a63 6f63  as for..```..coc
-00002b80: 6f6e 7574 202d 2d72 756e 202d 2d71 7569  onut --run --qui
-00002b90: 6574 202d 2d74 6172 6765 7420 7379 7320  et --target sys 
-00002ba0: 3c73 6f75 7263 653e 202d 2d61 7267 7620  <source> --argv 
-00002bb0: 3c61 7267 733e 0d0a 6060 600d 0a77 6869  <args>..```..whi
-00002bc0: 6368 2077 696c 6c20 7175 6965 746c 7920  ch will quietly 
-00002bd0: 636f 6d70 696c 6520 616e 6420 7275 6e20  compile and run 
-00002be0: 603c 736f 7572 6365 3e60 2c20 7061 7373  `<source>`, pass
-00002bf0: 696e 6720 616e 7920 6164 6469 7469 6f6e  ing any addition
-00002c00: 616c 2061 7267 756d 656e 7473 2074 6f20  al arguments to 
-00002c10: 7468 6520 7363 7269 7074 2c20 6d69 6d69  the script, mimi
-00002c20: 636b 696e 6720 686f 7720 7468 6520 6070  cking how the `p
-00002c30: 7974 686f 6e60 2063 6f6d 6d61 6e64 2077  ython` command w
-00002c40: 6f72 6b73 2e0d 0a0d 0a60 636f 636f 6e75  orks.....`coconu
-00002c50: 742d 7275 6e60 2063 616e 2062 6520 7573  t-run` can be us
-00002c60: 6564 2069 6e20 6120 556e 6978 2073 6865  ed in a Unix she
-00002c70: 6261 6e67 206c 696e 6520 746f 2063 7265  bang line to cre
-00002c80: 6174 6520 6120 436f 636f 6e75 7420 7363  ate a Coconut sc
-00002c90: 7269 7074 2062 7920 6164 6469 6e67 2074  ript by adding t
-00002ca0: 6865 2066 6f6c 6c6f 7769 6e67 206c 696e  he following lin
-00002cb0: 6520 746f 2074 6865 2073 7461 7274 206f  e to the start o
-00002cc0: 6620 796f 7572 2073 6372 6970 743a 0d0a  f your script:..
-00002cd0: 6060 6062 6173 680d 0a23 212f 7573 722f  ```bash..#!/usr/
-00002ce0: 6269 6e2f 656e 7620 636f 636f 6e75 742d  bin/env coconut-
-00002cf0: 7275 6e0d 0a60 6060 0d0a 0d0a 2323 2323  run..```....####
-00002d00: 204e 616d 696e 6720 536f 7572 6365 2046   Naming Source F
-00002d10: 696c 6573 0d0a 0d0a 436f 636f 6e75 7420  iles....Coconut 
-00002d20: 736f 7572 6365 2066 696c 6573 2073 686f  source files sho
-00002d30: 756c 642c 2073 6f20 7468 6520 636f 6d70  uld, so the comp
-00002d40: 696c 6572 2063 616e 2072 6563 6f67 6e69  iler can recogni
-00002d50: 7a65 2074 6865 6d2c 2075 7365 2074 6865  ze them, use the
-00002d60: 2065 7874 656e 7369 6f6e 2060 2e63 6f63   extension `.coc
-00002d70: 6f60 2028 7072 6566 6572 7265 6429 2c20  o` (preferred), 
-00002d80: 602e 636f 6360 2c20 6f72 2060 2e63 6f63  `.coc`, or `.coc
-00002d90: 6f6e 7574 602e 2057 6865 6e20 436f 636f  onut`. When Coco
-00002da0: 6e75 7420 636f 6d70 696c 6573 2061 2060  nut compiles a `
-00002db0: 2e63 6f63 6f60 2028 6f72 2060 2e63 6f63  .coco` (or `.coc
-00002dc0: 602f 602e 636f 636f 6e75 7460 2920 6669  `/`.coconut`) fi
-00002dd0: 6c65 2c20 6974 2077 696c 6c20 636f 6d70  le, it will comp
-00002de0: 696c 6520 746f 2061 6e6f 7468 6572 2066  ile to another f
-00002df0: 696c 6520 7769 7468 2074 6865 2073 616d  ile with the sam
-00002e00: 6520 6e61 6d65 2c20 6578 6365 7074 2077  e name, except w
-00002e10: 6974 6820 602e 7079 6020 696e 7374 6561  ith `.py` instea
-00002e20: 6420 6f66 2060 2e63 6f63 6f60 2c20 7768  d of `.coco`, wh
-00002e30: 6963 6820 7769 6c6c 2068 6f6c 6420 7468  ich will hold th
-00002e40: 6520 636f 6d70 696c 6564 2063 6f64 652e  e compiled code.
-00002e50: 2049 6620 616e 2065 7874 656e 7369 6f6e   If an extension
-00002e60: 206f 7468 6572 2074 6861 6e20 602e 7079   other than `.py
-00002e70: 6020 6973 2064 6573 6972 6564 2066 6f72  ` is desired for
-00002e80: 2074 6865 2063 6f6d 7069 6c65 6420 6669   the compiled fi
-00002e90: 6c65 732c 2073 7563 6820 6173 2060 2e70  les, such as `.p
-00002ea0: 7964 6560 2066 6f72 205b 5079 7468 6f6e  yde` for [Python
-00002eb0: 2050 726f 6365 7373 696e 675d 2868 7474   Processing](htt
-00002ec0: 703a 2f2f 7079 2e70 726f 6365 7373 696e  p://py.processin
-00002ed0: 672e 6f72 672f 292c 2074 6865 6e20 7468  g.org/), then th
-00002ee0: 6174 2065 7874 656e 7369 6f6e 2063 616e  at extension can
-00002ef0: 2062 6520 7075 7420 6265 666f 7265 2060   be put before `
-00002f00: 2e63 6f63 6f60 2069 6e20 7468 6520 736f  .coco` in the so
-00002f10: 7572 6365 2066 696c 6520 6e61 6d65 2c20  urce file name, 
-00002f20: 616e 6420 6974 2077 696c 6c20 6265 2075  and it will be u
-00002f30: 7365 6420 696e 7374 6561 6420 6f66 2060  sed instead of `
-00002f40: 2e70 7960 2066 6f72 2074 6865 2063 6f6d  .py` for the com
-00002f50: 7069 6c65 6420 6669 6c65 732e 2046 6f72  piled files. For
-00002f60: 2065 7861 6d70 6c65 2c20 606e 616d 652e   example, `name.
-00002f70: 636f 636f 6020 7769 6c6c 2063 6f6d 7069  coco` will compi
-00002f80: 6c65 2074 6f20 606e 616d 652e 7079 602c  le to `name.py`,
-00002f90: 2077 6865 7265 6173 2060 6e61 6d65 2e70   whereas `name.p
-00002fa0: 7964 652e 636f 636f 6020 7769 6c6c 2063  yde.coco` will c
-00002fb0: 6f6d 7069 6c65 2074 6f20 606e 616d 652e  ompile to `name.
-00002fc0: 7079 6465 602e 0d0a 0d0a 2323 2323 2043  pyde`.....#### C
-00002fd0: 6f6d 7069 6c61 7469 6f6e 204d 6f64 6573  ompilation Modes
-00002fe0: 0d0a 0d0a 4669 6c65 7320 636f 6d70 696c  ....Files compil
-00002ff0: 6564 2062 7920 7468 6520 6063 6f63 6f6e  ed by the `cocon
-00003000: 7574 6020 636f 6d6d 616e 642d 6c69 6e65  ut` command-line
-00003010: 2075 7469 6c69 7479 2077 696c 6c20 7661   utility will va
-00003020: 7279 2062 6173 6564 206f 6e20 636f 6d70  ry based on comp
-00003030: 696c 6174 696f 6e20 7061 7261 6d65 7465  ilation paramete
-00003040: 7273 2e20 4966 2061 6e20 656e 7469 7265  rs. If an entire
-00003050: 2064 6972 6563 746f 7279 206f 6620 6669   directory of fi
-00003060: 6c65 7320 6973 2063 6f6d 7069 6c65 6420  les is compiled 
-00003070: 2877 6869 6368 2074 6865 2063 6f6d 7069  (which the compi
-00003080: 6c65 7220 7769 6c6c 2073 6561 7263 6820  ler will search 
-00003090: 7265 6375 7273 6976 656c 7920 666f 7220  recursively for 
-000030a0: 616e 7920 666f 6c64 6572 7320 636f 6e74  any folders cont
-000030b0: 6169 6e69 6e67 2060 2e63 6f63 6f60 2c20  aining `.coco`, 
-000030c0: 602e 636f 6360 2c20 6f72 2060 2e63 6f63  `.coc`, or `.coc
-000030d0: 6f6e 7574 6020 6669 6c65 7329 2c20 6120  onut` files), a 
-000030e0: 605f 5f63 6f63 6f6e 7574 5f5f 2e70 7960  `__coconut__.py`
-000030f0: 2066 696c 6520 7769 6c6c 2062 6520 6372   file will be cr
-00003100: 6561 7465 6420 746f 2068 6f75 7365 206e  eated to house n
-00003110: 6563 6573 7361 7279 2066 756e 6374 696f  ecessary functio
-00003120: 6e73 2028 7061 636b 6167 6520 6d6f 6465  ns (package mode
-00003130: 292c 2077 6865 7265 6173 2069 6620 6f6e  ), whereas if on
-00003140: 6c79 2061 2073 696e 676c 6520 6669 6c65  ly a single file
-00003150: 2069 7320 636f 6d70 696c 6564 2c20 7468   is compiled, th
-00003160: 6174 2069 6e66 6f72 6d61 7469 6f6e 2077  at information w
-00003170: 696c 6c20 6265 2073 746f 7265 6420 7769  ill be stored wi
-00003180: 7468 696e 2061 2068 6561 6465 7220 696e  thin a header in
-00003190: 7369 6465 2074 6865 2066 696c 6520 2873  side the file (s
-000031a0: 7461 6e64 616c 6f6e 6520 6d6f 6465 292e  tandalone mode).
-000031b0: 2053 7461 6e64 616c 6f6e 6520 6d6f 6465   Standalone mode
-000031c0: 2069 7320 6265 7474 6572 2066 6f72 2073   is better for s
-000031d0: 696e 676c 6520 6669 6c65 7320 6265 6361  ingle files beca
-000031e0: 7573 6520 6974 2067 6574 7320 7269 6420  use it gets rid 
-000031f0: 6f66 2074 6865 206f 7665 7268 6561 6420  of the overhead 
-00003200: 696e 766f 6c76 6564 2069 6e20 696d 706f  involved in impo
-00003210: 7274 696e 6720 605f 5f63 6f63 6f6e 7574  rting `__coconut
-00003220: 5f5f 2e70 7960 2c20 6275 7420 7061 636b  __.py`, but pack
-00003230: 6167 6520 6d6f 6465 2069 7320 6265 7474  age mode is bett
-00003240: 6572 2066 6f72 206c 6172 6765 2070 6163  er for large pac
-00003250: 6b61 6765 7320 6265 6361 7573 6520 6974  kages because it
-00003260: 2067 6574 7320 7269 6420 6f66 2074 6865   gets rid of the
-00003270: 206e 6565 6420 746f 2072 756e 2074 6865   need to run the
-00003280: 2073 616d 6520 436f 636f 6e75 7420 6865   same Coconut he
-00003290: 6164 6572 2063 6f64 6520 6167 6169 6e20  ader code again 
-000032a0: 696e 2065 7665 7279 2066 696c 652c 2073  in every file, s
-000032b0: 696e 6365 2069 7420 6361 6e20 6a75 7374  ince it can just
-000032c0: 2062 6520 696d 706f 7274 6564 2066 726f   be imported fro
-000032d0: 6d20 605f 5f63 6f63 6f6e 7574 5f5f 2e70  m `__coconut__.p
-000032e0: 7960 2e0d 0a0d 0a42 7920 6465 6661 756c  y`.....By defaul
-000032f0: 742c 2069 6620 7468 6520 6073 6f75 7263  t, if the `sourc
-00003300: 6560 2061 7267 756d 656e 7420 746f 2074  e` argument to t
-00003310: 6865 2063 6f6d 6d61 6e64 2d6c 696e 6520  he command-line 
-00003320: 7574 696c 6974 7920 6973 2061 2066 696c  utility is a fil
-00003330: 652c 2069 7420 7769 6c6c 2070 6572 666f  e, it will perfo
-00003340: 726d 2073 7461 6e64 616c 6f6e 6520 636f  rm standalone co
-00003350: 6d70 696c 6174 696f 6e20 6f6e 2069 742c  mpilation on it,
-00003360: 2077 6865 7265 6173 2069 6620 6974 2069   whereas if it i
-00003370: 7320 6120 6469 7265 6374 6f72 792c 2069  s a directory, i
-00003380: 7420 7769 6c6c 2072 6563 7572 7369 7665  t will recursive
-00003390: 6c79 2073 6561 7263 6820 666f 7220 616c  ly search for al
-000033a0: 6c20 602e 636f 636f 6020 286f 7220 602e  l `.coco` (or `.
-000033b0: 636f 6360 202f 2060 2e63 6f63 6f6e 7574  coc` / `.coconut
-000033c0: 6029 2066 696c 6573 2061 6e64 2070 6572  `) files and per
-000033d0: 666f 726d 2070 6163 6b61 6765 2063 6f6d  form package com
-000033e0: 7069 6c61 7469 6f6e 206f 6e20 7468 656d  pilation on them
-000033f0: 2e20 5468 7573 2c20 696e 206d 6f73 7420  . Thus, in most 
-00003400: 6361 7365 732c 2074 6865 206d 6f64 6520  cases, the mode 
-00003410: 6368 6f73 656e 2062 7920 436f 636f 6e75  chosen by Coconu
-00003420: 7420 6175 746f 6d61 7469 6361 6c6c 7920  t automatically 
-00003430: 7769 6c6c 2062 6520 7468 6520 7269 6768  will be the righ
-00003440: 7420 6f6e 652e 2042 7574 2069 6620 6974  t one. But if it
-00003450: 2069 7320 7665 7279 2069 6d70 6f72 7461   is very importa
-00003460: 6e74 2074 6861 7420 6e6f 2061 6464 6974  nt that no addit
-00003470: 696f 6e61 6c20 6669 6c65 7320 6c69 6b65  ional files like
-00003480: 2060 5f5f 636f 636f 6e75 745f 5f2e 7079   `__coconut__.py
-00003490: 6020 6265 2063 7265 6174 6564 2c20 666f  ` be created, fo
-000034a0: 7220 6578 616d 706c 652c 2074 6865 6e20  r example, then 
-000034b0: 7468 6520 636f 6d6d 616e 642d 6c69 6e65  the command-line
-000034c0: 2075 7469 6c69 7479 2063 616e 2061 6c73   utility can als
-000034d0: 6f20 6265 2066 6f72 6365 6420 746f 2075  o be forced to u
-000034e0: 7365 2061 2073 7065 6369 6669 6320 6d6f  se a specific mo
-000034f0: 6465 2077 6974 6820 7468 6520 602d 2d70  de with the `--p
-00003500: 6163 6b61 6765 6020 2860 2d70 6029 2061  ackage` (`-p`) a
-00003510: 6e64 2060 2d2d 7374 616e 6461 6c6f 6e65  nd `--standalone
-00003520: 6020 2860 2d61 6029 2066 6c61 6773 2e0d  ` (`-a`) flags..
-00003530: 0a0d 0a23 2323 2320 436f 6d70 6174 6962  ...#### Compatib
-00003540: 6c65 2050 7974 686f 6e20 5665 7273 696f  le Python Versio
-00003550: 6e73 0d0a 0d0a 5768 696c 6520 436f 636f  ns....While Coco
-00003560: 6e75 7420 7379 6e74 6178 2069 7320 6261  nut syntax is ba
-00003570: 7365 6420 6f66 6620 6f66 2074 6865 206c  sed off of the l
-00003580: 6174 6573 7420 5079 7468 6f6e 2033 2c20  atest Python 3, 
-00003590: 436f 636f 6e75 7420 636f 6465 2063 6f6d  Coconut code com
-000035a0: 7069 6c65 6420 696e 2075 6e69 7665 7273  piled in univers
-000035b0: 616c 206d 6f64 6520 2874 6865 2064 6566  al mode (the def
-000035c0: 6175 6c74 2060 2d2d 7461 7267 6574 6029  ault `--target`)
-000035d0: e280 9461 6e64 2074 6865 2043 6f63 6f6e  ...and the Cocon
-000035e0: 7574 2063 6f6d 7069 6c65 7220 6974 7365  ut compiler itse
-000035f0: 6c66 e280 9473 686f 756c 6420 7275 6e20  lf...should run 
-00003600: 6f6e 2061 6e79 2050 7974 686f 6e20 7665  on any Python ve
-00003610: 7273 696f 6e20 603e 3d20 322e 3660 206f  rsion `>= 2.6` o
-00003620: 6e20 7468 6520 6032 2e78 6020 6272 616e  n the `2.x` bran
-00003630: 6368 206f 7220 603e 3d20 332e 3260 206f  ch or `>= 3.2` o
-00003640: 6e20 7468 6520 6033 2e78 6020 6272 616e  n the `3.x` bran
-00003650: 6368 2028 616e 6420 6f6e 2065 6974 6865  ch (and on eithe
-00003660: 7220 5b43 5079 7468 6f6e 5d28 6874 7470  r [CPython](http
-00003670: 733a 2f2f 7777 772e 7079 7468 6f6e 2e6f  s://www.python.o
-00003680: 7267 2f29 206f 7220 5b50 7950 795d 2868  rg/) or [PyPy](h
-00003690: 7474 703a 2f2f 7079 7079 2e6f 7267 2f29  ttp://pypy.org/)
-000036a0: 292e 0d0a 0d0a 546f 206d 616b 6520 436f  ).....To make Co
-000036b0: 636f 6e75 7420 6275 696c 742d 696e 7320  conut built-ins 
-000036c0: 756e 6976 6572 7361 6c20 6163 726f 7373  universal across
-000036d0: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
-000036e0: 2c20 436f 636f 6e75 7420 6d61 6b65 7320  , Coconut makes 
-000036f0: 6176 6169 6c61 626c 6520 6f6e 2061 6e79  available on any
-00003700: 2050 7974 686f 6e20 7665 7273 696f 6e20   Python version 
-00003710: 6275 696c 742d 696e 7320 7468 6174 206f  built-ins that o
-00003720: 6e6c 7920 6578 6973 7420 696e 206c 6174  nly exist in lat
-00003730: 6572 2076 6572 7369 6f6e 732c 2069 6e63  er versions, inc
-00003740: 6c75 6469 6e67 202a 2a61 7574 6f6d 6174  luding **automat
-00003750: 6963 616c 6c79 206f 7665 7277 7269 7469  ically overwriti
-00003760: 6e67 2050 7974 686f 6e20 3220 6275 696c  ng Python 2 buil
-00003770: 742d 696e 7320 7769 7468 2074 6865 6972  t-ins with their
-00003780: 2050 7974 686f 6e20 3320 636f 756e 7465   Python 3 counte
-00003790: 7270 6172 7473 2e2a 2a20 4164 6469 7469  rparts.** Additi
-000037a0: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-000037b0: 616c 736f 205b 6f76 6572 7772 6974 6573  also [overwrites
-000037c0: 2073 6f6d 6520 5079 7468 6f6e 2033 2062   some Python 3 b
-000037d0: 7569 6c74 2d69 6e73 2066 6f72 206f 7074  uilt-ins for opt
-000037e0: 696d 697a 6174 696f 6e20 616e 6420 656e  imization and en
-000037f0: 6861 6e63 656d 656e 7420 7075 7270 6f73  hancement purpos
-00003800: 6573 5d28 2365 6e68 616e 6365 642d 6275  es](#enhanced-bu
-00003810: 696c 742d 696e 7329 2e20 4966 2061 6363  ilt-ins). If acc
-00003820: 6573 7320 746f 2074 6865 206f 7269 6769  ess to the origi
-00003830: 6e61 6c20 5079 7468 6f6e 2076 6572 7369  nal Python versi
-00003840: 6f6e 7320 6f66 2061 6e79 206f 7665 7277  ons of any overw
-00003850: 7269 7474 656e 2062 7569 6c74 2d69 6e73  ritten built-ins
-00003860: 2069 7320 6465 7369 7265 642c 2074 6865   is desired, the
-00003870: 206f 6c64 2062 7569 6c74 2d69 6e73 2063   old built-ins c
-00003880: 616e 2062 6520 7265 7472 6965 7665 6420  an be retrieved 
-00003890: 6279 2070 7265 6669 7869 6e67 2074 6865  by prefixing the
-000038a0: 6d20 7769 7468 2060 7079 5f60 2e20 5370  m with `py_`. Sp
-000038b0: 6563 6966 6963 616c 6c79 2c20 7468 6520  ecifically, the 
-000038c0: 6f76 6572 7772 6974 7465 6e20 6275 696c  overwritten buil
-000038d0: 742d 696e 7320 6172 653a 0d0a 0d0a 2d20  t-ins are:....- 
-000038e0: 6070 795f 6368 7260 0d0a 2d20 6070 795f  `py_chr`..- `py_
-000038f0: 6865 7860 0d0a 2d20 6070 795f 696e 7075  hex`..- `py_inpu
-00003900: 7460 0d0a 2d20 6070 795f 696e 7460 0d0a  t`..- `py_int`..
-00003910: 2d20 6070 795f 6d61 7060 0d0a 2d20 6070  - `py_map`..- `p
-00003920: 795f 6f62 6a65 6374 600d 0a2d 2060 7079  y_object`..- `py
-00003930: 5f6f 6374 600d 0a2d 2060 7079 5f6f 7065  _oct`..- `py_ope
-00003940: 6e60 0d0a 2d20 6070 795f 7072 696e 7460  n`..- `py_print`
-00003950: 0d0a 2d20 6070 795f 7261 6e67 6560 0d0a  ..- `py_range`..
-00003960: 2d20 6070 795f 7374 7260 0d0a 2d20 6070  - `py_str`..- `p
-00003970: 795f 7375 7065 7260 0d0a 2d20 6070 795f  y_super`..- `py_
-00003980: 7a69 7060 0d0a 2d20 6070 795f 6669 6c74  zip`..- `py_filt
-00003990: 6572 600d 0a2d 2060 7079 5f72 6576 6572  er`..- `py_rever
-000039a0: 7365 6460 0d0a 2d20 6070 795f 656e 756d  sed`..- `py_enum
-000039b0: 6572 6174 6560 0d0a 2d20 6070 795f 7261  erate`..- `py_ra
-000039c0: 775f 696e 7075 7460 0d0a 2d20 6070 795f  w_input`..- `py_
-000039d0: 7872 616e 6765 600d 0a2d 2060 7079 5f72  xrange`..- `py_r
-000039e0: 6570 7260 0d0a 2d20 6070 795f 6272 6561  epr`..- `py_brea
-000039f0: 6b70 6f69 6e74 600d 0a0d 0a5f 4e6f 7465  kpoint`...._Note
-00003a00: 3a20 436f 636f 6e75 7427 7320 6072 6570  : Coconut's `rep
-00003a10: 7260 2063 616e 2062 6520 736f 6d65 7768  r` can be somewh
-00003a20: 6174 2074 7269 636b 792c 2061 7320 6974  at tricky, as it
-00003a30: 2077 696c 6c20 6174 7465 6d70 7420 746f   will attempt to
-00003a40: 2072 656d 6f76 6520 7468 6520 6075 6020   remove the `u` 
-00003a50: 6265 666f 7265 2072 6570 7273 206f 6620  before reprs of 
-00003a60: 756e 6963 6f64 6520 7374 7269 6e67 7320  unicode strings 
-00003a70: 6f6e 2050 7974 686f 6e20 322c 2062 7574  on Python 2, but
-00003a80: 2077 696c 6c20 6e6f 7420 616c 7761 7973   will not always
-00003a90: 2062 6520 6162 6c65 2074 6f20 646f 2073   be able to do s
-00003aa0: 6f20 6966 2074 6865 2075 6e69 636f 6465  o if the unicode
-00003ab0: 2073 7472 696e 6720 6973 206e 6573 7465   string is neste
-00003ac0: 642e 5f0d 0a0d 0a46 6f72 2073 7461 6e64  d._....For stand
-00003ad0: 6172 6420 6c69 6272 6172 7920 636f 6d70  ard library comp
-00003ae0: 6174 6962 696c 6974 792c 202a 2a43 6f63  atibility, **Coc
-00003af0: 6f6e 7574 2061 7574 6f6d 6174 6963 616c  onut automatical
-00003b00: 6c79 206d 6170 7320 696d 706f 7274 7320  ly maps imports 
-00003b10: 756e 6465 7220 5079 7468 6f6e 2033 206e  under Python 3 n
-00003b20: 616d 6573 2074 6f20 696d 706f 7274 7320  ames to imports 
-00003b30: 756e 6465 7220 5079 7468 6f6e 2032 206e  under Python 2 n
-00003b40: 616d 6573 2a2a 2e20 5468 7573 2c20 436f  ames**. Thus, Co
-00003b50: 636f 6e75 7420 7769 6c6c 2061 7574 6f6d  conut will autom
-00003b60: 6174 6963 616c 6c79 2074 616b 6520 6361  atically take ca
-00003b70: 7265 206f 6620 616e 7920 7374 616e 6461  re of any standa
-00003b80: 7264 206c 6962 7261 7279 206d 6f64 756c  rd library modul
-00003b90: 6573 2074 6861 7420 7765 7265 2072 656e  es that were ren
-00003ba0: 616d 6564 2066 726f 6d20 5079 7468 6f6e  amed from Python
-00003bb0: 2032 2074 6f20 5079 7468 6f6e 2033 2069   2 to Python 3 i
-00003bc0: 6620 6a75 7374 2074 6865 2050 7974 686f  f just the Pytho
-00003bd0: 6e20 3320 6e61 6d65 2069 7320 7573 6564  n 3 name is used
-00003be0: 2e20 466f 7220 6d6f 6475 6c65 7320 6f72  . For modules or
-00003bf0: 2070 6163 6b61 6765 7320 7468 6174 206f   packages that o
-00003c00: 6e6c 7920 6578 6973 7420 696e 2050 7974  nly exist in Pyt
-00003c10: 686f 6e20 332c 2068 6f77 6576 6572 2c20  hon 3, however, 
-00003c20: 436f 636f 6e75 7420 6861 7320 6e6f 2077  Coconut has no w
-00003c30: 6179 206f 6620 6d61 696e 7461 696e 696e  ay of maintainin
-00003c40: 6720 636f 6d70 6174 6962 696c 6974 792e  g compatibility.
-00003c50: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
-00003c60: 2c20 436f 636f 6e75 7420 616c 6c6f 7773  , Coconut allows
-00003c70: 2074 6865 205b 605f 5f73 6574 5f6e 616d   the [`__set_nam
-00003c80: 655f 5f60 5d28 6874 7470 733a 2f2f 646f  e__`](https://do
-00003c90: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-00003ca0: 7265 6665 7265 6e63 652f 6461 7461 6d6f  reference/datamo
-00003cb0: 6465 6c2e 6874 6d6c 236f 626a 6563 742e  del.html#object.
-00003cc0: 5f5f 7365 745f 6e61 6d65 5f5f 2920 6d61  __set_name__) ma
-00003cd0: 6769 6320 6d65 7468 6f64 2066 6f72 2064  gic method for d
-00003ce0: 6573 6372 6970 746f 7273 2074 6f20 776f  escriptors to wo
-00003cf0: 726b 206f 6e20 616e 7920 5079 7468 6f6e  rk on any Python
-00003d00: 2076 6572 7369 6f6e 2e0d 0a0d 0a46 696e   version.....Fin
-00003d10: 616c 6c79 2c20 7768 696c 6520 436f 636f  ally, while Coco
-00003d20: 6e75 7420 7769 6c6c 2074 7279 2074 6f20  nut will try to 
-00003d30: 636f 6d70 696c 6520 5079 7468 6f6e 2d33  compile Python-3
-00003d40: 2d73 7065 6369 6669 6320 7379 6e74 6178  -specific syntax
-00003d50: 2074 6f20 6974 7320 756e 6976 6572 7361   to its universa
-00003d60: 6c20 6571 7569 7661 6c65 6e74 2c20 7468  l equivalent, th
-00003d70: 6520 666f 6c6c 6f77 696e 6720 636f 6e73  e following cons
-00003d80: 7472 7563 7473 2068 6176 6520 6e6f 2065  tructs have no e
-00003d90: 7175 6976 616c 656e 7420 696e 2050 7974  quivalent in Pyt
-00003da0: 686f 6e20 322c 2061 6e64 2072 6571 7569  hon 2, and requi
-00003db0: 7265 2074 6865 2073 7065 6369 6669 6361  re the specifica
-00003dc0: 7469 6f6e 206f 6620 6120 7461 7267 6574  tion of a target
-00003dd0: 206f 6620 6174 206c 6561 7374 2060 3360   of at least `3`
-00003de0: 2074 6f20 6265 2075 7365 643a 0d0a 0d0a   to be used:....
-00003df0: 2d20 7468 6520 606e 6f6e 6c6f 6361 6c60  - the `nonlocal`
-00003e00: 206b 6579 776f 7264 2c0d 0a2d 206b 6579   keyword,..- key
-00003e10: 776f 7264 2d6f 6e6c 7920 6675 6e63 7469  word-only functi
-00003e20: 6f6e 2070 6172 616d 6574 6572 7320 2875  on parameters (u
-00003e30: 7365 205b 7061 7474 6572 6e2d 6d61 7463  se [pattern-matc
-00003e40: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
-00003e50: 6669 6e69 7469 6f6e 5d28 2370 6174 7465  finition](#patte
-00003e60: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
-00003e70: 7469 6f6e 7329 2066 6f72 2075 6e69 7665  tions) for unive
-00003e80: 7273 616c 2063 6f64 6529 2c0d 0a2d 2060  rsal code),..- `
-00003e90: 6173 796e 6360 2061 6e64 2060 6177 6169  async` and `awai
-00003ea0: 7460 2073 7461 7465 6d65 6e74 7320 2872  t` statements (r
-00003eb0: 6571 7569 7265 7320 602d 2d74 6172 6765  equires `--targe
-00003ec0: 7420 332e 3560 292c 0d0a 2d20 603a 3d60  t 3.5`),..- `:=`
-00003ed0: 2061 7373 6967 6e6d 656e 7420 6578 7072   assignment expr
-00003ee0: 6573 7369 6f6e 7320 2872 6571 7569 7265  essions (require
-00003ef0: 7320 602d 2d74 6172 6765 7420 332e 3860  s `--target 3.8`
-00003f00: 292c 0d0a 2d20 706f 7369 7469 6f6e 616c  ),..- positional
-00003f10: 2d6f 6e6c 7920 6675 6e63 7469 6f6e 2070  -only function p
-00003f20: 6172 616d 6574 6572 7320 2875 7365 205b  arameters (use [
-00003f30: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00003f40: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-00003f50: 7469 6f6e 5d28 2370 6174 7465 726e 2d6d  tion](#pattern-m
-00003f60: 6174 6368 696e 672d 6675 6e63 7469 6f6e  atching-function
-00003f70: 7329 2066 6f72 2075 6e69 7665 7273 616c  s) for universal
-00003f80: 2063 6f64 6529 2028 7265 7175 6972 6573   code) (requires
-00003f90: 2060 2d2d 7461 7267 6574 2033 2e38 6029   `--target 3.8`)
-00003fa0: 2c0d 0a2d 2060 615b 782c 202a 795d 6020  ,..- `a[x, *y]` 
-00003fb0: 7661 7269 6164 6963 2067 656e 6572 6963  variadic generic
-00003fc0: 2073 796e 7461 7820 2875 7365 205b 7479   syntax (use [ty
-00003fd0: 7065 2070 6172 616d 6574 6572 2073 796e  pe parameter syn
-00003fe0: 7461 785d 2823 7479 7065 2d70 6172 616d  tax](#type-param
-00003ff0: 6574 6572 2d73 796e 7461 7829 2066 6f72  eter-syntax) for
-00004000: 2075 6e69 7665 7273 616c 2063 6f64 6529   universal code)
-00004010: 2028 7265 7175 6972 6573 2060 2d2d 7461   (requires `--ta
-00004020: 7267 6574 2033 2e31 3160 292c 2061 6e64  rget 3.11`), and
-00004030: 0d0a 2d20 6065 7863 6570 742a 6020 6d75  ..- `except*` mu
-00004040: 6c74 692d 6578 6365 7074 2073 7461 7465  lti-except state
-00004050: 6d65 6e74 7320 2872 6571 7569 7265 7320  ments (requires 
-00004060: 602d 2d74 6172 6765 7420 332e 3131 6029  `--target 3.11`)
-00004070: 2e0d 0a0d 0a23 2323 2320 416c 6c6f 7761  .....#### Allowa
-00004080: 626c 6520 5461 7267 6574 730d 0a0d 0a49  ble Targets....I
-00004090: 6620 7468 6520 7665 7273 696f 6e20 6f66  f the version of
-000040a0: 2050 7974 686f 6e20 7468 6174 2074 6865   Python that the
-000040b0: 2063 6f6d 7069 6c65 6420 636f 6465 2077   compiled code w
-000040c0: 696c 6c20 6265 2072 756e 6e69 6e67 206f  ill be running o
-000040d0: 6e20 6973 206b 6e6f 776e 2061 6865 6164  n is known ahead
-000040e0: 206f 6620 7469 6d65 2c20 6120 7461 7267   of time, a targ
-000040f0: 6574 2073 686f 756c 6420 6265 2073 7065  et should be spe
-00004100: 6369 6669 6564 2077 6974 6820 602d 2d74  cified with `--t
-00004110: 6172 6765 7460 2e20 5468 6520 6769 7665  arget`. The give
-00004120: 6e20 7461 7267 6574 2077 696c 6c20 6f6e  n target will on
-00004130: 6c79 2061 6666 6563 7420 7468 6520 636f  ly affect the co
-00004140: 6d70 696c 6564 2063 6f64 6520 616e 6420  mpiled code and 
-00004150: 7768 6574 6865 7220 6f72 206e 6f74 2074  whether or not t
-00004160: 6865 2050 7974 686f 6e2d 332d 7370 6563  he Python-3-spec
-00004170: 6966 6963 2073 796e 7461 7820 6465 7461  ific syntax deta
-00004180: 696c 6564 2061 626f 7665 2069 7320 616c  iled above is al
-00004190: 6c6f 7765 642e 2057 6865 7265 2050 7974  lowed. Where Pyt
-000041a0: 686f 6e20 7379 6e74 6178 2064 6966 6665  hon syntax diffe
-000041b0: 7273 2061 6372 6f73 7320 7665 7273 696f  rs across versio
-000041c0: 6e73 2c20 436f 636f 6e75 7420 7379 6e74  ns, Coconut synt
-000041d0: 6178 2077 696c 6c20 616c 7761 7973 2066  ax will always f
-000041e0: 6f6c 6c6f 7720 7468 6520 6c61 7465 7374  ollow the latest
-000041f0: 2050 7974 686f 6e20 3320 6163 726f 7373   Python 3 across
-00004200: 2061 6c6c 2074 6172 6765 7473 2e20 5468   all targets. Th
-00004210: 6520 7375 7070 6f72 7465 6420 7461 7267  e supported targ
-00004220: 6574 7320 6172 653a 0d0a 0d0a 2d20 6075  ets are:....- `u
-00004230: 6e69 7665 7273 616c 6020 2864 6566 6175  niversal` (defau
-00004240: 6c74 2920 2877 696c 6c20 776f 726b 206f  lt) (will work o
-00004250: 6e20 5f61 6e79 5f20 6f66 2074 6865 2062  n _any_ of the b
-00004260: 656c 6f77 292c 0d0a 2d20 6032 602c 2060  elow),..- `2`, `
-00004270: 322e 3660 2028 7769 6c6c 2077 6f72 6b20  2.6` (will work 
-00004280: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
-00004290: 3d20 322e 3660 2062 7574 2060 3c20 3360  = 2.6` but `< 3`
-000042a0: 292c 0d0a 2d20 6032 2e37 6020 2877 696c  ),..- `2.7` (wil
-000042b0: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
-000042c0: 7468 6f6e 2060 3e3d 2032 2e37 6020 6275  thon `>= 2.7` bu
-000042d0: 7420 603c 2033 6029 2c0d 0a2d 2060 3360  t `< 3`),..- `3`
-000042e0: 2c20 6033 2e32 6020 2877 696c 6c20 776f  , `3.2` (will wo
-000042f0: 726b 206f 6e20 616e 7920 5079 7468 6f6e  rk on any Python
-00004300: 2060 3e3d 2033 2e32 6029 2c0d 0a2d 2060   `>= 3.2`),..- `
-00004310: 332e 3360 2028 7769 6c6c 2077 6f72 6b20  3.3` (will work 
-00004320: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
-00004330: 3d20 332e 3360 292c 0d0a 2d20 6033 2e34  = 3.3`),..- `3.4
-00004340: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
-00004350: 616e 7920 5079 7468 6f6e 2060 3e3d 2033  any Python `>= 3
-00004360: 2e34 6029 2c0d 0a2d 2060 332e 3560 2028  .4`),..- `3.5` (
-00004370: 7769 6c6c 2077 6f72 6b20 6f6e 2061 6e79  will work on any
-00004380: 2050 7974 686f 6e20 603e 3d20 332e 3560   Python `>= 3.5`
-00004390: 292c 0d0a 2d20 6033 2e36 6020 2877 696c  ),..- `3.6` (wil
-000043a0: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
-000043b0: 7468 6f6e 2060 3e3d 2033 2e36 6029 2c0d  thon `>= 3.6`),.
-000043c0: 0a2d 2060 332e 3760 2028 7769 6c6c 2077  .- `3.7` (will w
-000043d0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
-000043e0: 6e20 603e 3d20 332e 3760 292c 0d0a 2d20  n `>= 3.7`),..- 
-000043f0: 6033 2e38 6020 2877 696c 6c20 776f 726b  `3.8` (will work
-00004400: 206f 6e20 616e 7920 5079 7468 6f6e 2060   on any Python `
-00004410: 3e3d 2033 2e38 6029 2c0d 0a2d 2060 332e  >= 3.8`),..- `3.
-00004420: 3960 2028 7769 6c6c 2077 6f72 6b20 6f6e  9` (will work on
-00004430: 2061 6e79 2050 7974 686f 6e20 603e 3d20   any Python `>= 
-00004440: 332e 3960 292c 0d0a 2d20 6033 2e31 3060  3.9`),..- `3.10`
-00004450: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
-00004460: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
-00004470: 3130 6029 2c0d 0a2d 2060 332e 3131 6020  10`),..- `3.11` 
-00004480: 2877 696c 6c20 776f 726b 206f 6e20 616e  (will work on an
-00004490: 7920 5079 7468 6f6e 2060 3e3d 2033 2e31  y Python `>= 3.1
-000044a0: 3160 292c 0d0a 2d20 6033 2e31 3260 2028  1`),..- `3.12` (
-000044b0: 7769 6c6c 2077 6f72 6b20 6f6e 2061 6e79  will work on any
-000044c0: 2050 7974 686f 6e20 603e 3d20 332e 3132   Python `>= 3.12
-000044d0: 6029 2c20 616e 640d 0a2d 2060 7379 7360  `), and..- `sys`
-000044e0: 2028 6368 6f6f 7365 7320 7468 6520 7461   (chooses the ta
-000044f0: 7267 6574 2063 6f72 7265 7370 6f6e 6469  rget correspondi
-00004500: 6e67 2074 6f20 7468 6520 6375 7272 656e  ng to the curren
-00004510: 7420 5079 7468 6f6e 2076 6572 7369 6f6e  t Python version
-00004520: 292e 0d0a 0d0a 5f4e 6f74 653a 2050 6572  )....._Note: Per
-00004530: 696f 6473 2061 7265 2069 676e 6f72 6564  iods are ignored
-00004540: 2069 6e20 7461 7267 6574 2073 7065 6369   in target speci
-00004550: 6669 6361 7469 6f6e 732c 2073 7563 6820  fications, such 
-00004560: 7468 6174 2074 6865 2074 6172 6765 7420  that the target 
-00004570: 6032 3760 2069 7320 6571 7569 7661 6c65  `27` is equivale
-00004580: 6e74 2074 6f20 7468 6520 7461 7267 6574  nt to the target
-00004590: 2060 322e 3760 2e5f 0d0a 0d0a 2323 2323   `2.7`._....####
-000045a0: 2060 7374 7269 6374 6020 4d6f 6465 0d0a   `strict` Mode..
-000045b0: 0d0a 4966 2074 6865 2060 2d2d 7374 7269  ..If the `--stri
-000045c0: 6374 6020 2860 2d73 6020 666f 7220 7368  ct` (`-s` for sh
-000045d0: 6f72 7429 2066 6c61 6720 6973 2065 6e61  ort) flag is ena
-000045e0: 626c 6564 2c20 436f 636f 6e75 7420 7769  bled, Coconut wi
-000045f0: 6c6c 2070 6572 666f 726d 2061 6464 6974  ll perform addit
-00004600: 696f 6e61 6c20 6368 6563 6b73 206f 6e20  ional checks on 
-00004610: 7468 6520 636f 6465 2062 6569 6e67 2063  the code being c
-00004620: 6f6d 7069 6c65 642e 2049 7420 6973 2072  ompiled. It is r
-00004630: 6563 6f6d 6d65 6e64 6564 2074 6861 7420  ecommended that 
-00004640: 796f 7520 7573 6520 7468 6520 602d 2d73  you use the `--s
-00004650: 7472 6963 7460 2066 6c61 6720 6966 2079  trict` flag if y
-00004660: 6f75 2061 7265 2073 7461 7274 696e 6720  ou are starting 
-00004670: 6120 6e65 7720 436f 636f 6e75 7420 7072  a new Coconut pr
-00004680: 6f6a 6563 742c 2061 7320 6974 2077 696c  oject, as it wil
-00004690: 6c20 6865 6c70 2079 6f75 2077 7269 7465  l help you write
-000046a0: 2063 6c65 616e 6572 2063 6f64 652e 2053   cleaner code. S
-000046b0: 7065 6369 6669 6361 6c6c 792c 2074 6865  pecifically, the
-000046c0: 2065 7874 7261 2063 6865 636b 7320 646f   extra checks do
-000046d0: 6e65 2062 7920 602d 2d73 7472 6963 7460  ne by `--strict`
-000046e0: 2061 7265 3a0d 0a0d 0a2d 2064 6973 6162   are:....- disab
-000046f0: 6c69 6e67 2064 6570 7265 6361 7465 6420  ling deprecated 
-00004700: 6665 6174 7572 6573 2028 6d61 6b69 6e67  features (making
-00004710: 2074 6865 6d20 656e 7469 7265 6c79 2075   them entirely u
-00004720: 6e61 7661 696c 6162 6c65 2074 6f20 636f  navailable to co
-00004730: 6465 2063 6f6d 7069 6c65 6420 7769 7468  de compiled with
-00004740: 2060 2d2d 7374 7269 6374 6029 2c0d 0a2d   `--strict`),..-
-00004750: 2065 7272 6f72 7320 696e 7374 6561 6420   errors instead 
-00004760: 6f66 2077 6172 6e69 6e67 7320 6f6e 2075  of warnings on u
-00004770: 6e75 7365 6420 696d 706f 7274 7320 2875  nused imports (u
-00004780: 6e6c 6573 7320 7468 6579 2068 6176 6520  nless they have 
-00004790: 6120 6023 204e 4f51 4160 206f 7220 6023  a `# NOQA` or `#
-000047a0: 206e 6f71 6160 2063 6f6d 6d65 6e74 292c   noqa` comment),
-000047b0: 0d0a 2d20 6572 726f 7273 2069 6e73 7465  ..- errors inste
-000047c0: 6164 206f 6620 7761 726e 696e 6773 2077  ad of warnings w
-000047d0: 6865 6e20 6f76 6572 7772 6974 696e 6720  hen overwriting 
-000047e0: 6275 696c 742d 696e 7320 2875 6e6c 6573  built-ins (unles
-000047f0: 7320 6120 6261 636b 736c 6173 6820 6973  s a backslash is
-00004800: 2075 7365 6420 746f 2065 7363 6170 6520   used to escape 
-00004810: 7468 6520 6275 696c 742d 696e 206e 616d  the built-in nam
-00004820: 6529 2c0d 0a2d 2077 6172 6e69 6e67 206f  e),..- warning o
-00004830: 6e20 6d69 7373 696e 6720 605f 5f69 6e69  n missing `__ini
-00004840: 745f 5f2e 636f 636f 6020 6669 6c65 7320  t__.coco` files 
-00004850: 7768 656e 2063 6f6d 7069 6c69 6e67 2069  when compiling i
-00004860: 6e20 602d 2d70 6163 6b61 6765 6020 6d6f  n `--package` mo
-00004870: 6465 2c0d 0a2d 2074 6872 6f77 696e 6720  de,..- throwing 
-00004880: 6572 726f 7273 206f 6e20 7661 7269 6f75  errors on variou
-00004890: 7320 7374 796c 6520 7072 6f62 6c65 6d73  s style problems
-000048a0: 2028 7365 6520 6c69 7374 2062 656c 6f77   (see list below
-000048b0: 292e 0d0a 0d0a 5468 6520 7374 796c 6520  ).....The style 
-000048c0: 6973 7375 6573 2077 6869 6368 2077 696c  issues which wil
-000048d0: 6c20 6361 7573 6520 602d 2d73 7472 6963  l cause `--stric
-000048e0: 7460 2074 6f20 7468 726f 7720 616e 2065  t` to throw an e
-000048f0: 7272 6f72 2061 7265 3a0d 0a0d 0a2d 206d  rror are:....- m
-00004900: 6978 696e 6720 6f66 2074 6162 7320 616e  ixing of tabs an
-00004910: 6420 7370 6163 6573 2028 7769 7468 6f75  d spaces (withou
-00004920: 7420 602d 2d73 7472 6963 7460 2077 696c  t `--strict` wil
-00004930: 6c20 7368 6f77 2061 2077 6172 6e69 6e67  l show a warning
-00004940: 292c 0d0a 2d20 7573 6520 6f66 2060 6672  ),..- use of `fr
-00004950: 6f6d 205f 5f66 7574 7572 655f 5f60 2069  om __future__` i
-00004960: 6d70 6f72 7473 2028 436f 636f 6e75 7420  mports (Coconut 
-00004970: 646f 6573 2074 6865 7365 2061 7574 6f6d  does these autom
-00004980: 6174 6963 616c 6c79 2920 2877 6974 686f  atically) (witho
-00004990: 7574 2060 2d2d 7374 7269 6374 6020 7769  ut `--strict` wi
-000049a0: 6c6c 2073 686f 7720 6120 7761 726e 696e  ll show a warnin
-000049b0: 6729 2c0d 0a2d 2069 6e68 6572 6974 696e  g),..- inheritin
-000049c0: 6720 6672 6f6d 2060 6f62 6a65 6374 6020  g from `object` 
-000049d0: 696e 2063 6c61 7373 6573 2028 436f 636f  in classes (Coco
-000049e0: 6e75 7420 646f 6573 2074 6869 7320 6175  nut does this au
-000049f0: 746f 6d61 7469 6361 6c6c 7929 2028 7769  tomatically) (wi
-00004a00: 7468 6f75 7420 602d 2d73 7472 6963 7460  thout `--strict`
-00004a10: 2077 696c 6c20 7368 6f77 2061 2077 6172   will show a war
-00004a20: 6e69 6e67 292c 0d0a 2d20 7365 6d69 636f  ning),..- semico
-00004a30: 6c6f 6e73 2061 7420 656e 6420 6f66 206c  lons at end of l
-00004a40: 696e 6573 2028 7769 7468 6f75 7420 602d  ines (without `-
-00004a50: 2d73 7472 6963 7460 2077 696c 6c20 7368  -strict` will sh
-00004a60: 6f77 2061 2077 6172 6e69 6e67 292c 0d0a  ow a warning),..
-00004a70: 2d20 7573 6520 6f66 2060 7560 2074 6f20  - use of `u` to 
-00004a80: 6465 6e6f 7465 2055 6e69 636f 6465 2073  denote Unicode s
-00004a90: 7472 696e 6773 2028 616c 6c20 436f 636f  trings (all Coco
-00004aa0: 6e75 7420 7374 7269 6e67 7320 6172 6520  nut strings are 
-00004ab0: 556e 6963 6f64 6520 7374 7269 6e67 7329  Unicode strings)
-00004ac0: 2028 7769 7468 6f75 7420 602d 2d73 7472   (without `--str
-00004ad0: 6963 7460 2077 696c 6c20 7368 6f77 2061  ict` will show a
-00004ae0: 2077 6172 6e69 6e67 292c 0d0a 2d20 6d69   warning),..- mi
-00004af0: 7373 696e 6720 6e65 7720 6c69 6e65 2061  ssing new line a
-00004b00: 7420 656e 6420 6f66 2066 696c 652c 0d0a  t end of file,..
-00004b10: 2d20 7472 6169 6c69 6e67 2077 6869 7465  - trailing white
-00004b20: 7370 6163 6520 6174 2065 6e64 206f 6620  space at end of 
-00004b30: 6c69 6e65 732c 0d0a 2d20 7573 6520 6f66  lines,..- use of
-00004b40: 2074 6865 2050 7974 686f 6e2d 7374 796c   the Python-styl
-00004b50: 6520 606c 616d 6264 6160 2073 7461 7465  e `lambda` state
-00004b60: 6d65 6e74 2028 7573 6520 5b43 6f63 6f6e  ment (use [Cocon
-00004b70: 7574 2773 206c 616d 6264 6120 7379 6e74  ut's lambda synt
-00004b80: 6178 5d28 236c 616d 6264 6173 2920 696e  ax](#lambdas) in
-00004b90: 7374 6561 6429 2c0d 0a2d 2075 7365 206f  stead),..- use o
-00004ba0: 6620 6261 636b 736c 6173 6820 636f 6e74  f backslash cont
-00004bb0: 696e 7561 7469 6f6e 2028 7573 6520 5b70  inuation (use [p
-00004bc0: 6172 656e 7468 6574 6963 616c 2063 6f6e  arenthetical con
-00004bd0: 7469 6e75 6174 696f 6e5d 2823 656e 6861  tinuation](#enha
-00004be0: 6e63 6564 2d70 6172 656e 7468 6574 6963  nced-parenthetic
-00004bf0: 616c 2d63 6f6e 7469 6e75 6174 696f 6e29  al-continuation)
-00004c00: 2069 6e73 7465 6164 292c 0d0a 2d20 5079   instead),..- Py
-00004c10: 7468 6f6e 2d33 2e31 302f 5045 502d 3633  thon-3.10/PEP-63
-00004c20: 342d 7374 796c 6520 646f 7474 6564 206e  4-style dotted n
-00004c30: 616d 6573 2069 6e20 7061 7474 6572 6e2d  ames in pattern-
-00004c40: 6d61 7463 6869 6e67 2028 436f 636f 6e75  matching (Coconu
-00004c50: 7420 7374 796c 6520 6973 2074 6f20 7072  t style is to pr
-00004c60: 6566 6163 6520 7468 6573 6520 7769 7468  eface these with
-00004c70: 2060 3d3d 6029 2c20 616e 640d 0a2d 2075   `==`), and..- u
-00004c80: 7365 206f 6620 603a 6020 696e 7374 6561  se of `:` instea
-00004c90: 6420 6f66 2060 3c3a 6020 746f 2073 7065  d of `<:` to spe
-00004ca0: 6369 6679 2075 7070 6572 2062 6f75 6e64  cify upper bound
-00004cb0: 7320 696e 205b 436f 636f 6e75 7427 7320  s in [Coconut's 
-00004cc0: 7479 7065 2070 6172 616d 6574 6572 2073  type parameter s
-00004cd0: 796e 7461 785d 2823 7479 7065 2d70 6172  yntax](#type-par
-00004ce0: 616d 6574 6572 2d73 796e 7461 7829 2e0d  ameter-syntax)..
-00004cf0: 0a0d 0a23 2320 496e 7465 6772 6174 696f  ...## Integratio
-00004d00: 6e73 0d0a 0d0a 6060 607b 636f 6e74 656e  ns....```{conten
-00004d10: 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a  ts}..---..local:
-00004d20: 0d0a 6465 7074 683a 2032 0d0a 2d2d 2d0d  ..depth: 2..---.
-00004d30: 0a60 6060 0d0a 0d0a 2323 2323 2053 796e  .```....#### Syn
-00004d40: 7461 7820 4869 6768 6c69 6768 7469 6e67  tax Highlighting
-00004d50: 0d0a 0d0a 5465 7874 2065 6469 746f 7273  ....Text editors
-00004d60: 2077 6974 6820 7375 7070 6f72 7420 666f   with support fo
-00004d70: 7220 436f 636f 6e75 7420 7379 6e74 6178  r Coconut syntax
-00004d80: 2068 6967 686c 6967 6874 696e 6720 6172   highlighting ar
-00004d90: 653a 0d0a 0d0a 2d20 2a2a 5653 436f 6465  e:....- **VSCode
-00004da0: 2a2a 3a20 496e 7374 616c 6c20 5b43 6f63  **: Install [Coc
-00004db0: 6f6e 7574 2028 4f66 6669 6369 616c 295d  onut (Official)]
-00004dc0: 2868 7474 7073 3a2f 2f6d 6172 6b65 7470  (https://marketp
-00004dd0: 6c61 6365 2e76 6973 7561 6c73 7475 6469  lace.visualstudi
-00004de0: 6f2e 636f 6d2f 6974 656d 733f 6974 656d  o.com/items?item
-00004df0: 4e61 6d65 3d65 7668 7562 2e63 6f63 6f6e  Name=evhub.cocon
-00004e00: 7574 2920 2866 6f72 202a 2a56 5343 6f64  ut) (for **VSCod
-00004e10: 6975 6d2a 2a2c 2069 6e73 7461 6c6c 2066  ium**, install f
-00004e20: 726f 6d20 4f70 656e 2056 5358 205b 6865  rom Open VSX [he
-00004e30: 7265 5d28 6874 7470 733a 2f2f 6f70 656e  re](https://open
-00004e40: 2d76 7378 2e6f 7267 2f65 7874 656e 7369  -vsx.org/extensi
-00004e50: 6f6e 2f65 7668 7562 2f63 6f63 6f6e 7574  on/evhub/coconut
-00004e60: 2920 696e 7374 6561 6429 2e0d 0a2d 202a  ) instead)...- *
-00004e70: 2a53 7562 6c69 6d65 5465 7874 2a2a 3a20  *SublimeText**: 
-00004e80: 5365 6520 5375 626c 696d 6554 6578 7420  See SublimeText 
-00004e90: 7365 6374 696f 6e20 6265 6c6f 772e 0d0a  section below...
-00004ea0: 2d20 2a2a 5370 7964 6572 2a2a 2028 6f72  - **Spyder** (or
-00004eb0: 2061 6e79 206f 7468 6572 2065 6469 746f   any other edito
-00004ec0: 7220 7468 6174 2073 7570 706f 7274 7320  r that supports 
-00004ed0: 2a2a 5079 676d 656e 7473 2a2a 293a 2053  **Pygments**): S
-00004ee0: 6565 2050 7967 6d65 6e74 7320 7365 6374  ee Pygments sect
-00004ef0: 696f 6e20 6265 6c6f 772e 0d0a 2d20 2a2a  ion below...- **
-00004f00: 5669 6d2a 2a3a 2053 6565 205b 6063 6f63  Vim**: See [`coc
-00004f10: 6f6e 7574 2e76 696d 605d 2868 7474 7073  onut.vim`](https
-00004f20: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00004f30: 6e69 636d 616e 6961 632f 636f 636f 6e75  nicmaniac/coconu
-00004f40: 742e 7669 6d29 2e0d 0a2d 202a 2a45 6d61  t.vim)...- **Ema
-00004f50: 6373 2a2a 3a20 5365 6520 5b60 636f 636f  cs**: See [`coco
-00004f60: 6e75 742d 6d6f 6465 605d 2868 7474 7073  nut-mode`](https
-00004f70: 3a2f 2f67 6974 6875 622e 636f 6d2f 4e69  ://github.com/Ni
-00004f80: 636b 5365 6167 756c 6c2f 636f 636f 6e75  ckSeagull/coconu
-00004f90: 742d 6d6f 6465 292e 0d0a 2d20 2a2a 4174  t-mode)...- **At
-00004fa0: 6f6d 2a2a 3a20 5365 6520 5b60 6c61 6e67  om**: See [`lang
-00004fb0: 7561 6765 2d63 6f63 6f6e 7574 605d 2868  uage-coconut`](h
-00004fc0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00004fd0: 6d2f 656e 696c 7365 6e31 362f 6c61 6e67  m/enilsen16/lang
-00004fe0: 7561 6765 2d63 6f63 6f6e 7574 292e 0d0a  uage-coconut)...
-00004ff0: 0d0a 416c 7465 726e 6174 6976 656c 792c  ..Alternatively,
-00005000: 2069 6620 6e6f 6e65 206f 6620 7468 6520   if none of the 
-00005010: 6162 6f76 6520 776f 726b 2066 6f72 2079  above work for y
-00005020: 6f75 2c20 796f 7520 6361 6e20 6a75 7374  ou, you can just
-00005030: 2074 7265 6174 2043 6f63 6f6e 7574 2061   treat Coconut a
-00005040: 7320 5079 7468 6f6e 2e20 5369 6d70 6c79  s Python. Simply
-00005050: 2073 6574 2075 7020 796f 7572 2065 6469   set up your edi
-00005060: 746f 7220 736f 2069 7420 696e 7465 7270  tor so it interp
-00005070: 7265 7473 2061 6c6c 2060 2e63 6f63 6f60  rets all `.coco`
-00005080: 2066 696c 6573 2061 7320 5079 7468 6f6e   files as Python
-00005090: 2061 6e64 2074 6861 7420 7368 6f75 6c64   and that should
-000050a0: 2068 6967 686c 6967 6874 206d 6f73 7420   highlight most 
-000050b0: 6f66 2079 6f75 7220 636f 6465 2077 656c  of your code wel
-000050c0: 6c20 656e 6f75 6768 2028 652e 672e 2066  l enough (e.g. f
-000050d0: 6f72 2049 6e74 656c 6c69 4a20 4944 4541  or IntelliJ IDEA
-000050e0: 2073 6565 205b 7265 6769 7374 6572 696e   see [registerin
-000050f0: 6720 6669 6c65 2074 7970 6573 5d28 6874  g file types](ht
-00005100: 7470 733a 2f2f 7777 772e 6a65 7462 7261  tps://www.jetbra
-00005110: 696e 732e 636f 6d2f 6865 6c70 2f69 6465  ins.com/help/ide
-00005120: 612f 6372 6561 7469 6e67 2d61 6e64 2d72  a/creating-and-r
-00005130: 6567 6973 7465 7269 6e67 2d66 696c 652d  egistering-file-
-00005140: 7479 7065 732e 6874 6d6c 2929 2e0d 0a0d  types.html))....
-00005150: 0a23 2323 2323 2053 7562 6c69 6d65 5465  .##### SublimeTe
-00005160: 7874 0d0a 0d0a 436f 636f 6e75 7420 7379  xt....Coconut sy
-00005170: 6e74 6178 2068 6967 686c 6967 6874 696e  ntax highlightin
-00005180: 6720 666f 7220 5375 626c 696d 6554 6578  g for SublimeTex
-00005190: 7420 7265 7175 6972 6573 2074 6861 7420  t requires that 
-000051a0: 5b50 6163 6b61 6765 2043 6f6e 7472 6f6c  [Package Control
-000051b0: 5d28 6874 7470 733a 2f2f 7061 636b 6167  ](https://packag
-000051c0: 6563 6f6e 7472 6f6c 2e69 6f2f 696e 7374  econtrol.io/inst
-000051d0: 616c 6c61 7469 6f6e 292c 2074 6865 2073  allation), the s
-000051e0: 7461 6e64 6172 6420 7061 636b 6167 6520  tandard package 
-000051f0: 6d61 6e61 6765 7220 666f 7220 5375 626c  manager for Subl
-00005200: 696d 6554 6578 742c 2062 6520 696e 7374  imeText, be inst
-00005210: 616c 6c65 642e 204f 6e63 6520 7468 6174  alled. Once that
-00005220: 2069 7320 646f 6e65 2c20 7369 6d70 6c79   is done, simply
-00005230: 3a0d 0a0d 0a31 2e20 6f70 656e 2074 6865  :....1. open the
-00005240: 2053 7562 6c69 6d65 5465 7874 2063 6f6d   SublimeText com
-00005250: 6d61 6e64 2070 616c 6574 7465 2062 7920  mand palette by 
-00005260: 7072 6573 7369 6e67 2060 4374 726c 2b53  pressing `Ctrl+S
-00005270: 6869 6674 2b50 6020 286f 7220 6043 6d64  hift+P` (or `Cmd
-00005280: 2b53 6869 6674 2b50 6020 6f6e 204d 6163  +Shift+P` on Mac
-00005290: 292c 0d0a 322e 2074 7970 6520 616e 6420  ),..2. type and 
-000052a0: 656e 7465 7220 6050 6163 6b61 6765 2043  enter `Package C
-000052b0: 6f6e 7472 6f6c 3a20 496e 7374 616c 6c20  ontrol: Install 
-000052c0: 5061 636b 6167 6560 2c20 616e 640d 0a33  Package`, and..3
-000052d0: 2e20 6669 6e61 6c6c 7920 7479 7065 2061  . finally type a
-000052e0: 6e64 2065 6e74 6572 2060 436f 636f 6e75  nd enter `Coconu
-000052f0: 7460 2e0d 0a0d 0a54 6f20 6d61 6b65 2073  t`.....To make s
-00005300: 7572 6520 6576 6572 7974 6869 6e67 2069  ure everything i
-00005310: 7320 776f 726b 696e 6720 7072 6f70 6572  s working proper
-00005320: 6c79 2c20 6f70 656e 2061 2060 2e63 6f63  ly, open a `.coc
-00005330: 6f60 2066 696c 652c 2061 6e64 206d 616b  o` file, and mak
-00005340: 6520 7375 7265 2060 436f 636f 6e75 7460  e sure `Coconut`
-00005350: 2061 7070 6561 7273 2069 6e20 7468 6520   appears in the 
-00005360: 626f 7474 6f6d 2072 6967 6874 2d68 616e  bottom right-han
-00005370: 6420 636f 726e 6572 2e20 4966 2073 6f6d  d corner. If som
-00005380: 6574 6869 6e67 2065 6c73 6520 6170 7065  ething else appe
-00005390: 6172 732c 206c 696b 6520 6050 6c61 696e  ars, like `Plain
-000053a0: 2054 6578 7460 2c20 636c 6963 6b20 6f6e   Text`, click on
-000053b0: 2069 742c 2073 656c 6563 7420 604f 7065   it, select `Ope
-000053c0: 6e20 616c 6c20 7769 7468 2063 7572 7265  n all with curre
-000053d0: 6e74 2065 7874 656e 7369 6f6e 2061 732e  nt extension as.
-000053e0: 2e2e 6020 6174 2074 6865 2074 6f70 206f  ..` at the top o
-000053f0: 6620 7468 6520 7265 7375 6c74 696e 6720  f the resulting 
-00005400: 6d65 6e75 2c20 616e 6420 7468 656e 2073  menu, and then s
-00005410: 656c 6563 7420 6043 6f63 6f6e 7574 602e  elect `Coconut`.
-00005420: 0d0a 0d0a 5f4e 6f74 653a 2043 6f63 6f6e  ...._Note: Cocon
-00005430: 7574 2073 796e 7461 7820 6869 6768 6c69  ut syntax highli
-00005440: 6768 7469 6e67 2066 6f72 2053 7562 6c69  ghting for Subli
-00005450: 6d65 5465 7874 2069 7320 7072 6f76 6964  meText is provid
-00005460: 6564 2062 7920 7468 6520 5b73 7562 6c69  ed by the [subli
-00005470: 6d65 2d63 6f63 6f6e 7574 5d28 6874 7470  me-coconut](http
-00005480: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
-00005490: 7668 7562 2f73 7562 6c69 6d65 2d63 6f63  vhub/sublime-coc
-000054a0: 6f6e 7574 2920 7061 636b 6167 652e 5f0d  onut) package._.
-000054b0: 0a0d 0a23 2323 2323 2050 7967 6d65 6e74  ...##### Pygment
-000054c0: 730d 0a0d 0a54 6865 2073 616d 6520 6070  s....The same `p
-000054d0: 6970 2069 6e73 7461 6c6c 2063 6f63 6f6e  ip install cocon
-000054e0: 7574 6020 636f 6d6d 616e 6420 7468 6174  ut` command that
-000054f0: 2069 6e73 7461 6c6c 7320 7468 6520 436f   installs the Co
-00005500: 636f 6e75 7420 636f 6d6d 616e 642d 6c69  conut command-li
-00005510: 6e65 2075 7469 6c69 7479 2077 696c 6c20  ne utility will 
-00005520: 616c 736f 2069 6e73 7461 6c6c 2074 6865  also install the
-00005530: 2060 636f 636f 6e75 7460 2050 7967 6d65   `coconut` Pygme
-00005540: 6e74 7320 6c65 7865 722e 2048 6f77 2074  nts lexer. How t
-00005550: 6f20 7573 6520 7468 6973 206c 6578 6572  o use this lexer
-00005560: 2064 6570 656e 6473 206f 6e20 7468 6520   depends on the 
-00005570: 5079 676d 656e 7473 2d65 6e61 626c 6564  Pygments-enabled
-00005580: 2061 7070 6c69 6361 7469 6f6e 2062 6569   application bei
-00005590: 6e67 2075 7365 642c 2062 7574 2069 6e20  ng used, but in 
-000055a0: 6765 6e65 7261 6c20 7369 6d70 6c79 2075  general simply u
-000055b0: 7365 2074 6865 2060 2e63 6f63 6f60 2066  se the `.coco` f
-000055c0: 696c 6520 6578 7465 6e73 696f 6e20 2873  ile extension (s
-000055d0: 686f 756c 6420 6265 2061 6c6c 2079 6f75  hould be all you
-000055e0: 206e 6565 6420 746f 2064 6f20 666f 7220   need to do for 
-000055f0: 5370 7964 6572 2920 616e 642f 6f72 2065  Spyder) and/or e
-00005600: 6e74 6572 2060 636f 636f 6e75 7460 2061  nter `coconut` a
-00005610: 7320 7468 6520 6c61 6e67 7561 6765 2062  s the language b
-00005620: 6569 6e67 2068 6967 686c 6967 6874 6564  eing highlighted
-00005630: 2061 6e64 2050 7967 6d65 6e74 7320 7368   and Pygments sh
-00005640: 6f75 6c64 2062 6520 6162 6c65 2074 6f20  ould be able to 
-00005650: 6669 6775 7265 2069 7420 6f75 742e 0d0a  figure it out...
-00005660: 0d0a 466f 7220 6578 616d 706c 652c 2074  ..For example, t
-00005670: 6869 7320 646f 6375 6d65 6e74 6174 696f  his documentatio
-00005680: 6e20 6973 2067 656e 6572 6174 6564 2077  n is generated w
-00005690: 6974 6820 5b53 7068 696e 785d 2868 7474  ith [Sphinx](htt
-000056a0: 703a 2f2f 7777 772e 7370 6869 6e78 2d64  p://www.sphinx-d
-000056b0: 6f63 2e6f 7267 2f65 6e2f 7374 6162 6c65  oc.org/en/stable
-000056c0: 2f29 2c20 7769 7468 2074 6865 2073 796e  /), with the syn
-000056d0: 7461 7820 6869 6768 6c69 6768 7469 6e67  tax highlighting
-000056e0: 2079 6f75 2073 6565 2063 7265 6174 6564   you see created
-000056f0: 2062 7920 6164 6469 6e67 2074 6865 206c   by adding the l
-00005700: 696e 650d 0a60 6060 636f 636f 6e75 745f  ine..```coconut_
-00005710: 7079 7468 6f6e 0d0a 6869 6768 6c69 6768  python..highligh
-00005720: 745f 6c61 6e67 7561 6765 203d 2022 636f  t_language = "co
-00005730: 636f 6e75 7422 0d0a 6060 600d 0a74 6f20  conut"..```..to 
-00005740: 436f 636f 6e75 7427 7320 6063 6f6e 662e  Coconut's `conf.
-00005750: 7079 602e 0d0a 0d0a 2323 2323 2049 5079  py`.....#### IPy
-00005760: 7468 6f6e 2f4a 7570 7974 6572 2053 7570  thon/Jupyter Sup
-00005770: 706f 7274 0d0a 0d0a 4966 2079 6f75 2075  port....If you u
-00005780: 7365 205b 4950 7974 686f 6e5d 2868 7474  se [IPython](htt
-00005790: 703a 2f2f 6970 7974 686f 6e2e 6f72 672f  p://ipython.org/
-000057a0: 2920 2874 6865 2050 7974 686f 6e20 6b65  ) (the Python ke
-000057b0: 726e 656c 2066 6f72 2074 6865 205b 4a75  rnel for the [Ju
-000057c0: 7079 7465 725d 2868 7474 703a 2f2f 6a75  pyter](http://ju
-000057d0: 7079 7465 722e 6f72 672f 2920 6672 616d  pyter.org/) fram
-000057e0: 6577 6f72 6b29 206e 6f74 6562 6f6f 6b73  ework) notebooks
-000057f0: 206f 7220 636f 6e73 6f6c 652c 2043 6f63   or console, Coc
-00005800: 6f6e 7574 2063 616e 2062 6520 7573 6564  onut can be used
-00005810: 2061 7320 6120 4a75 7079 7465 7220 6b65   as a Jupyter ke
-00005820: 726e 656c 206f 7220 4950 7974 686f 6e20  rnel or IPython 
-00005830: 6578 7465 6e73 696f 6e2e 0d0a 0d0a 2323  extension.....##
-00005840: 2323 2320 4b65 726e 656c 0d0a 0d0a 4966  ### Kernel....If
-00005850: 2043 6f63 6f6e 7574 2069 7320 7573 6564   Coconut is used
-00005860: 2061 7320 6120 6b65 726e 656c 2c20 616c   as a kernel, al
-00005870: 6c20 636f 6465 2069 6e20 7468 6520 636f  l code in the co
-00005880: 6e73 6f6c 6520 6f72 206e 6f74 6562 6f6f  nsole or noteboo
-00005890: 6b20 7769 6c6c 2062 6520 7365 6e74 2064  k will be sent d
-000058a0: 6972 6563 746c 7920 746f 2043 6f63 6f6e  irectly to Cocon
-000058b0: 7574 2069 6e73 7465 6164 206f 6620 5079  ut instead of Py
-000058c0: 7468 6f6e 2074 6f20 6265 2065 7661 6c75  thon to be evalu
-000058d0: 6174 6564 2e20 4f74 6865 7277 6973 652c  ated. Otherwise,
-000058e0: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
-000058f0: 6e65 6c20 6265 6861 7665 7320 6578 6163  nel behaves exac
-00005900: 746c 7920 6c69 6b65 2074 6865 2049 5079  tly like the IPy
-00005910: 7468 6f6e 206b 6572 6e65 6c2c 2069 6e63  thon kernel, inc
-00005920: 6c75 6469 6e67 2073 7570 706f 7274 2066  luding support f
-00005930: 6f72 2060 256d 6167 6963 6020 636f 6d6d  or `%magic` comm
-00005940: 616e 6473 2e0d 0a0d 0a53 696d 706c 7920  ands.....Simply 
-00005950: 696e 7374 616c 6c69 6e67 2043 6f63 6f6e  installing Cocon
-00005960: 7574 2073 686f 756c 6420 6164 6420 6120  ut should add a 
-00005970: 6043 6f63 6f6e 7574 6020 6b65 726e 656c  `Coconut` kernel
-00005980: 2074 6f20 796f 7572 204a 7570 7974 6572   to your Jupyter
-00005990: 2f49 5079 7468 6f6e 206e 6f74 6562 6f6f  /IPython noteboo
-000059a0: 6b73 2e20 4966 2079 6f75 2061 7265 2068  ks. If you are h
-000059b0: 6176 696e 6720 6973 7375 6573 2061 6363  aving issues acc
-000059c0: 6573 7369 6e67 2074 6865 2043 6f63 6f6e  essing the Cocon
-000059d0: 7574 206b 6572 6e65 6c2c 2068 6f77 6576  ut kernel, howev
-000059e0: 6572 2c20 7468 6520 636f 6d6d 616e 6420  er, the command 
-000059f0: 6063 6f63 6f6e 7574 202d 2d6a 7570 7974  `coconut --jupyt
-00005a00: 6572 6020 7769 6c6c 2072 652d 696e 7374  er` will re-inst
-00005a10: 616c 6c20 7468 6520 6043 6f63 6f6e 7574  all the `Coconut
-00005a20: 6020 6b65 726e 656c 2074 6f20 656e 7375  ` kernel to ensu
-00005a30: 7265 2069 7420 6973 2075 7369 6e67 2074  re it is using t
-00005a40: 6865 2063 7572 7265 6e74 2050 7974 686f  he current Pytho
-00005a50: 6e20 6173 2077 656c 6c20 6173 2061 6464  n as well as add
-00005a60: 2074 6865 2061 6464 6974 696f 6e61 6c20   the additional 
-00005a70: 6b65 726e 656c 7320 6043 6f63 6f6e 7574  kernels `Coconut
-00005a80: 2028 4465 6661 756c 7420 5079 7468 6f6e   (Default Python
-00005a90: 2960 2c20 6043 6f63 6f6e 7574 2028 4465  )`, `Coconut (De
-00005aa0: 6661 756c 7420 5079 7468 6f6e 2032 2960  fault Python 2)`
-00005ab0: 2c20 616e 6420 6043 6f63 6f6e 7574 2028  , and `Coconut (
-00005ac0: 4465 6661 756c 7420 5079 7468 6f6e 2033  Default Python 3
-00005ad0: 2960 2077 6869 6368 2077 696c 6c20 7573  )` which will us
-00005ae0: 652c 2072 6573 7065 6374 6976 656c 792c  e, respectively,
-00005af0: 2074 6865 2050 7974 686f 6e20 6163 6365   the Python acce
-00005b00: 7373 6962 6c65 2061 7320 6070 7974 686f  ssible as `pytho
-00005b10: 6e60 2c20 6070 7974 686f 6e32 602c 2061  n`, `python2`, a
-00005b20: 6e64 2060 7079 7468 6f6e 3360 2028 7468  nd `python3` (th
-00005b30: 6573 6520 6b65 726e 656c 7320 6172 6520  ese kernels are 
-00005b40: 6163 6365 7373 6962 6c65 2069 6e20 7468  accessible in th
-00005b50: 6520 636f 6e73 6f6c 6520 6173 2060 636f  e console as `co
-00005b60: 636f 6e75 745f 7079 602c 2060 636f 636f  conut_py`, `coco
-00005b70: 6e75 745f 7079 3260 2c20 616e 6420 6063  nut_py2`, and `c
-00005b80: 6f63 6f6e 7574 5f70 7933 6029 2e20 4675  oconut_py3`). Fu
-00005b90: 7274 6865 726d 6f72 652c 2074 6865 2043  rthermore, the C
-00005ba0: 6f63 6f6e 7574 206b 6572 6e65 6c20 6675  oconut kernel fu
-00005bb0: 6c6c 7920 7375 7070 6f72 7473 205b 606e  lly supports [`n
-00005bc0: 625f 636f 6e64 615f 6b65 726e 656c 7360  b_conda_kernels`
-00005bd0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00005be0: 2e63 6f6d 2f41 6e61 636f 6e64 612d 506c  .com/Anaconda-Pl
-00005bf0: 6174 666f 726d 2f6e 625f 636f 6e64 615f  atform/nb_conda_
-00005c00: 6b65 726e 656c 7329 2074 6f20 656e 6162  kernels) to enab
-00005c10: 6c65 2061 6363 6573 7369 6e67 2074 6865  le accessing the
-00005c20: 2043 6f63 6f6e 7574 206b 6572 6e65 6c20   Coconut kernel 
-00005c30: 696e 206f 6e65 2043 6f6e 6461 2065 6e76  in one Conda env
-00005c40: 6972 6f6e 6d65 6e74 2066 726f 6d20 616e  ironment from an
-00005c50: 6f74 6865 7220 436f 6e64 6120 656e 7669  other Conda envi
-00005c60: 726f 6e6d 656e 742e 0d0a 0d0a 5468 6520  ronment.....The 
-00005c70: 436f 636f 6e75 7420 6b65 726e 656c 2077  Coconut kernel w
-00005c80: 696c 6c20 616c 7761 7973 2063 6f6d 7069  ill always compi
-00005c90: 6c65 2075 7369 6e67 2074 6865 2070 6172  le using the par
-00005ca0: 616d 6574 6572 733a 2060 2d2d 7461 7267  ameters: `--targ
-00005cb0: 6574 2073 7973 202d 2d6c 696e 652d 6e75  et sys --line-nu
-00005cc0: 6d62 6572 7320 2d2d 6b65 6570 2d6c 696e  mbers --keep-lin
-00005cd0: 6573 202d 2d6e 6f2d 7772 6170 602e 0d0a  es --no-wrap`...
-00005ce0: 0d0a 436f 636f 6e75 7420 616c 736f 2070  ..Coconut also p
-00005cf0: 726f 7669 6465 7320 7468 6520 666f 6c6c  rovides the foll
-00005d00: 6f77 696e 6720 636f 6e76 656e 6965 6e63  owing convenienc
-00005d10: 6520 636f 6d6d 616e 6473 3a0d 0a0d 0a2d  e commands:....-
-00005d20: 2060 636f 636f 6e75 7420 2d2d 6a75 7079   `coconut --jupy
-00005d30: 7465 7220 6e6f 7465 626f 6f6b 6020 7769  ter notebook` wi
-00005d40: 6c6c 2065 6e73 7572 6520 7468 6174 2074  ll ensure that t
-00005d50: 6865 2043 6f63 6f6e 7574 206b 6572 6e65  he Coconut kerne
-00005d60: 6c20 6973 2061 7661 696c 6162 6c65 2061  l is available a
-00005d70: 6e64 206c 6175 6e63 6820 6120 4a75 7079  nd launch a Jupy
-00005d80: 7465 722f 4950 7974 686f 6e20 6e6f 7465  ter/IPython note
-00005d90: 626f 6f6b 2e0d 0a2d 2060 636f 636f 6e75  book...- `coconu
-00005da0: 7420 2d2d 6a75 7079 7465 7220 636f 6e73  t --jupyter cons
-00005db0: 6f6c 6560 2077 696c 6c20 6c61 756e 6368  ole` will launch
-00005dc0: 2061 204a 7570 7974 6572 2f49 5079 7468   a Jupyter/IPyth
-00005dd0: 6f6e 2063 6f6e 736f 6c65 2075 7369 6e67  on console using
-00005de0: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
-00005df0: 6e65 6c2e 0d0a 2d20 6063 6f63 6f6e 7574  nel...- `coconut
-00005e00: 202d 2d6a 7570 7974 6572 206c 6162 6020   --jupyter lab` 
-00005e10: 7769 6c6c 2065 6e73 7572 6520 7468 6174  will ensure that
-00005e20: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
-00005e30: 6e65 6c20 6973 2061 7661 696c 6162 6c65  nel is available
-00005e40: 2061 6e64 206c 6175 6e63 6820 5b4a 7570   and launch [Jup
-00005e50: 7974 6572 4c61 625d 2868 7474 7073 3a2f  yterLab](https:/
-00005e60: 2f67 6974 6875 622e 636f 6d2f 6a75 7079  /github.com/jupy
-00005e70: 7465 726c 6162 2f6a 7570 7974 6572 6c61  terlab/jupyterla
-00005e80: 6229 2e0d 0a0d 0a41 6464 6974 696f 6e61  b).....Additiona
-00005e90: 6c6c 792c 205b 4a75 7079 7465 7874 5d28  lly, [Jupytext](
-00005ea0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005eb0: 6f6d 2f6d 776f 7574 732f 6a75 7079 7465  om/mwouts/jupyte
-00005ec0: 7874 2920 636f 6e74 6169 6e73 2073 7065  xt) contains spe
-00005ed0: 6369 616c 2073 7570 706f 7274 2066 6f72  cial support for
-00005ee0: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
-00005ef0: 6e65 6c20 616e 6420 436f 636f 6e75 7420  nel and Coconut 
-00005f00: 636f 6e74 6169 6e73 2073 7065 6369 616c  contains special
-00005f10: 2073 7570 706f 7274 2066 6f72 205b 5061   support for [Pa
-00005f20: 7065 726d 696c 6c5d 2868 7474 7073 3a2f  permill](https:/
-00005f30: 2f70 6170 6572 6d69 6c6c 2e72 6561 6474  /papermill.readt
-00005f40: 6865 646f 6373 2e69 6f2f 656e 2f6c 6174  hedocs.io/en/lat
-00005f50: 6573 742f 292e 0d0a 0d0a 2323 2323 2320  est/).....##### 
-00005f60: 4578 7465 6e73 696f 6e0d 0a0d 0a49 6620  Extension....If 
-00005f70: 436f 636f 6e75 7420 6973 2075 7365 6420  Coconut is used 
-00005f80: 6173 2061 6e20 6578 7465 6e73 696f 6e2c  as an extension,
-00005f90: 2061 2073 7065 6369 616c 206d 6167 6963   a special magic
-00005fa0: 2063 6f6d 6d61 6e64 2077 696c 6c20 7365   command will se
-00005fb0: 6e64 2073 6e69 7070 6574 7320 6f66 2063  nd snippets of c
-00005fc0: 6f64 6520 746f 2062 6520 6576 616c 7561  ode to be evalua
-00005fd0: 7465 6420 7573 696e 6720 436f 636f 6e75  ted using Coconu
-00005fe0: 7420 696e 7374 6561 6420 6f66 2049 5079  t instead of IPy
-00005ff0: 7468 6f6e 2c20 6275 7420 4950 7974 686f  thon, but IPytho
-00006000: 6e20 7769 6c6c 2073 7469 6c6c 2062 6520  n will still be 
-00006010: 7573 6564 2061 7320 7468 6520 6465 6661  used as the defa
-00006020: 756c 742e 0d0a 0d0a 5468 6520 6c69 6e65  ult.....The line
-00006030: 206d 6167 6963 2060 256c 6f61 645f 6578   magic `%load_ex
-00006040: 7420 636f 636f 6e75 7460 2077 696c 6c20  t coconut` will 
-00006050: 6c6f 6164 2043 6f63 6f6e 7574 2061 7320  load Coconut as 
-00006060: 616e 2065 7874 656e 7369 6f6e 2c20 7072  an extension, pr
-00006070: 6f76 6964 696e 6720 7468 6520 6025 636f  oviding the `%co
-00006080: 636f 6e75 7460 2061 6e64 2060 2525 636f  conut` and `%%co
-00006090: 636f 6e75 7460 206d 6167 6963 7320 616e  conut` magics an
-000060a0: 6420 6164 6469 6e67 2043 6f63 6f6e 7574  d adding Coconut
-000060b0: 2062 7569 6c74 2d69 6e73 2e20 5468 6520   built-ins. The 
-000060c0: 6025 636f 636f 6e75 7460 206c 696e 6520  `%coconut` line 
-000060d0: 6d61 6769 6320 7769 6c6c 2072 756e 2061  magic will run a
-000060e0: 206c 696e 6520 6f66 2043 6f63 6f6e 7574   line of Coconut
-000060f0: 2077 6974 6820 6465 6661 756c 7420 7061   with default pa
-00006100: 7261 6d65 7465 7273 2c20 616e 6420 7468  rameters, and th
-00006110: 6520 6025 2563 6f63 6f6e 7574 6020 626c  e `%%coconut` bl
-00006120: 6f63 6b20 6d61 6769 6320 7769 6c6c 2074  ock magic will t
-00006130: 616b 6520 636f 6d6d 616e 642d 6c69 6e65  ake command-line
-00006140: 2061 7267 756d 656e 7473 206f 6e20 7468   arguments on th
-00006150: 6520 6669 7273 7420 6c69 6e65 2c20 616e  e first line, an
-00006160: 6420 7275 6e20 616e 7920 436f 636f 6e75  d run any Coconu
-00006170: 7420 636f 6465 2070 726f 7669 6465 6420  t code provided 
-00006180: 696e 2074 6865 2072 6573 7420 6f66 2074  in the rest of t
-00006190: 6865 2063 656c 6c20 7769 7468 2074 686f  he cell with tho
-000061a0: 7365 2070 6172 616d 6574 6572 732e 0d0a  se parameters...
-000061b0: 0d0a 5f4e 6f74 653a 2055 6e6c 696b 6520  .._Note: Unlike 
-000061c0: 7468 6520 6e6f 726d 616c 2043 6f63 6f6e  the normal Cocon
-000061d0: 7574 2063 6f6d 6d61 6e64 2d6c 696e 652c  ut command-line,
-000061e0: 2060 2525 636f 636f 6e75 7460 2064 6566   `%%coconut` def
-000061f0: 6175 6c74 7320 746f 2074 6865 2060 7379  aults to the `sy
-00006200: 7360 2074 6172 6765 7420 7261 7468 6572  s` target rather
-00006210: 2074 6861 6e20 7468 6520 6075 6e69 7665   than the `unive
-00006220: 7273 616c 6020 7461 7267 6574 2e5f 0d0a  rsal` target._..
-00006230: 0d0a 2323 2323 204d 7950 7920 496e 7465  ..#### MyPy Inte
-00006240: 6772 6174 696f 6e0d 0a0d 0a43 6f63 6f6e  gration....Cocon
-00006250: 7574 2068 6173 2074 6865 2061 6269 6c69  ut has the abili
-00006260: 7479 2074 6f20 696e 7465 6772 6174 6520  ty to integrate 
-00006270: 7769 7468 205b 4d79 5079 5d28 6874 7470  with [MyPy](http
-00006280: 3a2f 2f6d 7970 792d 6c61 6e67 2e6f 7267  ://mypy-lang.org
-00006290: 2f29 2074 6f20 7072 6f76 6964 6520 6f70  /) to provide op
-000062a0: 7469 6f6e 616c 2073 7461 7469 6320 7479  tional static ty
-000062b0: 7065 5f63 6865 636b 696e 672c 2069 6e63  pe_checking, inc
-000062c0: 6c75 6469 6e67 2066 6f72 2061 6c6c 2043  luding for all C
-000062d0: 6f63 6f6e 7574 2062 7569 6c74 2d69 6e73  oconut built-ins
-000062e0: 2e20 5369 6d70 6c79 2070 6173 7320 602d  . Simply pass `-
-000062f0: 2d6d 7970 7960 2074 6f20 6063 6f63 6f6e  -mypy` to `cocon
-00006300: 7574 6020 746f 2065 6e61 626c 6520 4d79  ut` to enable My
-00006310: 5079 2069 6e74 6567 7261 7469 6f6e 2c20  Py integration, 
-00006320: 7468 6f75 6768 2062 6520 6361 7265 6675  though be carefu
-00006330: 6c20 746f 2070 6173 7320 6974 206f 6e6c  l to pass it onl
-00006340: 7920 6173 2074 6865 206c 6173 7420 6172  y as the last ar
-00006350: 6775 6d65 6e74 2c20 7369 6e63 6520 616c  gument, since al
-00006360: 6c20 6172 6775 6d65 6e74 7320 6166 7465  l arguments afte
-00006370: 7220 602d 2d6d 7970 7960 2061 7265 2070  r `--mypy` are p
-00006380: 6173 7365 6420 746f 2060 6d79 7079 602c  assed to `mypy`,
-00006390: 206e 6f74 2043 6f63 6f6e 7574 2e0d 0a0d   not Coconut....
-000063a0: 0a59 6f75 2063 616e 2061 6c73 6f20 7275  .You can also ru
-000063b0: 6e20 606d 7970 7960 e280 946f 7220 616e  n `mypy`...or an
-000063c0: 7920 6f74 6865 7220 7374 6174 6963 2074  y other static t
-000063d0: 7970 6520 6368 6563 6b65 72e2 8094 6469  ype checker...di
-000063e0: 7265 6374 6c79 206f 6e20 7468 6520 636f  rectly on the co
-000063f0: 6d70 696c 6564 2043 6f63 6f6e 7574 2e20  mpiled Coconut. 
-00006400: 4966 2074 6865 2073 7461 7469 6320 7479  If the static ty
-00006410: 7065 2063 6865 636b 6572 2069 7320 756e  pe checker is un
-00006420: 6162 6c65 2074 6f20 6669 6e64 2074 6865  able to find the
-00006430: 206e 6563 6573 7361 7279 2073 7475 6220   necessary stub 
-00006440: 6669 6c65 732c 2068 6f77 6576 6572 2c20  files, however, 
-00006450: 7468 656e 2079 6f75 206d 6179 206e 6565  then you may nee
-00006460: 6420 746f 3a0d 0a0d 0a31 2e20 7275 6e20  d to:....1. run 
-00006470: 6063 6f63 6f6e 7574 202d 2d6d 7970 7920  `coconut --mypy 
-00006480: 696e 7374 616c 6c60 2061 6e64 0d0a 322e  install` and..2.
-00006490: 2074 656c 6c20 796f 7572 2073 7461 7469   tell your stati
-000064a0: 6320 7479 7065 2063 6865 636b 6572 206f  c type checker o
-000064b0: 6620 6368 6f69 6365 2074 6f20 6c6f 6f6b  f choice to look
-000064c0: 2069 6e20 607e 2f2e 636f 636f 6e75 745f   in `~/.coconut_
-000064d0: 7374 7562 7360 2066 6f72 2073 7475 6220  stubs` for stub 
-000064e0: 6669 6c65 7320 2866 6f72 2060 6d79 7079  files (for `mypy
-000064f0: 602c 2074 6869 7320 6973 2064 6f6e 6520  `, this is done 
-00006500: 6279 2061 6464 696e 6720 6974 2074 6f20  by adding it to 
-00006510: 796f 7572 205b 604d 5950 5950 4154 4860  your [`MYPYPATH`
-00006520: 5d28 6874 7470 733a 2f2f 6d79 7079 2e72  ](https://mypy.r
-00006530: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
-00006540: 2f6c 6174 6573 742f 7275 6e6e 696e 675f  /latest/running_
-00006550: 6d79 7079 2e68 746d 6c23 686f 772d 696d  mypy.html#how-im
-00006560: 706f 7274 732d 6172 652d 666f 756e 6429  ports-are-found)
-00006570: 292e 0d0a 0d0a 546f 2065 7870 6c69 6369  ).....To explici
-00006580: 746c 7920 616e 6e6f 7461 7465 2079 6f75  tly annotate you
-00006590: 7220 636f 6465 2077 6974 6820 7479 7065  r code with type
-000065a0: 7320 746f 2062 6520 6368 6563 6b65 642c  s to be checked,
-000065b0: 2043 6f63 6f6e 7574 2073 7570 706f 7274   Coconut support
-000065c0: 7320 5b50 7974 686f 6e20 3320 6675 6e63  s [Python 3 func
-000065d0: 7469 6f6e 2074 7970 6520 616e 6e6f 7461  tion type annota
-000065e0: 7469 6f6e 735d 2868 7474 7073 3a2f 2f77  tions](https://w
-000065f0: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-00006600: 762f 7065 7073 2f70 6570 2d30 3438 342f  v/peps/pep-0484/
-00006610: 292c 205b 5079 7468 6f6e 2033 2e36 2076  ), [Python 3.6 v
-00006620: 6172 6961 626c 6520 7479 7065 2061 6e6e  ariable type ann
-00006630: 6f74 6174 696f 6e73 5d28 6874 7470 733a  otations](https:
-00006640: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
-00006650: 2f64 6576 2f70 6570 732f 7065 702d 3035  /dev/peps/pep-05
-00006660: 3236 2f29 2c20 616e 6420 6576 656e 2043  26/), and even C
-00006670: 6f63 6f6e 7574 2773 206f 776e 205b 656e  oconut's own [en
-00006680: 6861 6e63 6564 2074 7970 6520 616e 6e6f  hanced type anno
-00006690: 7461 7469 6f6e 2073 796e 7461 785d 2823  tation syntax](#
-000066a0: 656e 6861 6e63 6564 2d74 7970 652d 616e  enhanced-type-an
-000066b0: 6e6f 7461 7469 6f6e 292e 2042 7920 6465  notation). By de
-000066c0: 6661 756c 742c 2061 6c6c 2074 7970 6520  fault, all type 
-000066d0: 616e 6e6f 7461 7469 6f6e 7320 6172 6520  annotations are 
-000066e0: 636f 6d70 696c 6564 2074 6f20 5079 7468  compiled to Pyth
-000066f0: 6f6e 2d32 2d63 6f6d 7061 7469 626c 6520  on-2-compatible 
-00006700: 7479 7065 2063 6f6d 6d65 6e74 732c 2077  type comments, w
-00006710: 6869 6368 206d 6561 6e73 2069 7420 616c  hich means it al
-00006720: 6c20 776f 726b 7320 6f6e 2061 6e79 2050  l works on any P
-00006730: 7974 686f 6e20 7665 7273 696f 6e2e 2043  ython version. C
-00006740: 6f63 6f6e 7574 2061 6c73 6f20 7375 7070  oconut also supp
-00006750: 6f72 7473 205b 5045 5020 3639 3520 7479  orts [PEP 695 ty
-00006760: 7065 2070 6172 616d 6574 6572 2073 796e  pe parameter syn
-00006770: 7461 785d 2823 7479 7065 2d70 6172 616d  tax](#type-param
-00006780: 6574 6572 2d73 796e 7461 7829 2066 6f72  eter-syntax) for
-00006790: 2065 6173 696c 7920 6164 6469 6e67 2074   easily adding t
-000067a0: 7970 6520 7061 7261 6d65 7465 7273 2074  ype parameters t
-000067b0: 6f20 636c 6173 7365 732c 2066 756e 6374  o classes, funct
-000067c0: 696f 6e73 2c20 5b60 6461 7461 6020 7479  ions, [`data` ty
-000067d0: 7065 735d 2823 6461 7461 292c 2061 6e64  pes](#data), and
-000067e0: 2074 7970 6520 616c 6961 7365 732e 0d0a   type aliases...
-000067f0: 0d0a 436f 636f 6e75 7420 6576 656e 2073  ..Coconut even s
-00006800: 7570 706f 7274 7320 602d 2d6d 7970 7960  upports `--mypy`
-00006810: 2069 6e20 7468 6520 696e 7465 7270 7265   in the interpre
-00006820: 7465 722c 2077 6869 6368 2077 696c 6c20  ter, which will 
-00006830: 696e 7465 6c6c 6967 656e 746c 7920 7363  intelligently sc
-00006840: 616e 2065 6163 6820 6e65 7720 6c69 6e65  an each new line
-00006850: 206f 6620 636f 6465 2c20 696e 2074 6865   of code, in the
-00006860: 2063 6f6e 7465 7874 206f 6620 7072 6576   context of prev
-00006870: 696f 7573 206c 696e 6573 2c20 666f 7220  ious lines, for 
-00006880: 6e65 776c 792d 696e 7472 6f64 7563 6564  newly-introduced
-00006890: 204d 7950 7920 6572 726f 7273 2e20 466f   MyPy errors. Fo
-000068a0: 7220 6578 616d 706c 653a 0d0a 6060 6063  r example:..```c
-000068b0: 6f63 6f6e 7574 5f70 7963 6f6e 0d0a 3e3e  oconut_pycon..>>
-000068c0: 3e20 613a 2073 7472 203d 2063 6f75 6e74  > a: str = count
-000068d0: 2829 5b30 5d0d 0a3c 7374 7269 6e67 3e3a  ()[0]..<string>:
-000068e0: 3134 3a20 6572 726f 723a 2049 6e63 6f6d  14: error: Incom
-000068f0: 7061 7469 626c 6520 7479 7065 7320 696e  patible types in
-00006900: 2061 7373 6967 6e6d 656e 7420 2865 7870   assignment (exp
-00006910: 7265 7373 696f 6e20 6861 7320 7479 7065  ression has type
-00006920: 2022 696e 7422 2c20 7661 7269 6162 6c65   "int", variable
-00006930: 2068 6173 2074 7970 6520 2273 7472 2229   has type "str")
-00006940: 0d0a 3e3e 3e20 7265 7665 616c 5f74 7970  ..>>> reveal_typ
-00006950: 6528 6129 0d0a 300d 0a3c 7374 7269 6e67  e(a)..0..<string
-00006960: 3e3a 3139 3a20 6e6f 7465 3a20 5265 7665  >:19: note: Reve
-00006970: 616c 6564 2074 7970 6520 6973 2027 6275  aled type is 'bu
-00006980: 696c 7469 6e73 2e75 6e69 636f 6465 270d  iltins.unicode'.
-00006990: 0a60 6060 0d0a 5f46 6f72 206d 6f72 6520  .```.._For more 
-000069a0: 696e 666f 726d 6174 696f 6e20 6f6e 2060  information on `
-000069b0: 7265 7665 616c 5f74 7970 6560 2c20 7365  reveal_type`, se
-000069c0: 6520 5b60 7265 7665 616c 5f74 7970 6560  e [`reveal_type`
-000069d0: 2061 6e64 2060 7265 7665 616c 5f6c 6f63   and `reveal_loc
-000069e0: 616c 7360 5d28 2372 6576 6561 6c2d 7479  als`](#reveal-ty
-000069f0: 7065 2d61 6e64 2d72 6576 6561 6c2d 6c6f  pe-and-reveal-lo
-00006a00: 6361 6c73 292e 5f0d 0a0d 0a53 6f6d 6574  cals)._....Somet
-00006a10: 696d 6573 2c20 4d79 5079 2077 696c 6c20  imes, MyPy will 
-00006a20: 6e6f 7420 6b6e 6f77 2068 6f77 2074 6f20  not know how to 
-00006a30: 6861 6e64 6c65 2063 6572 7461 696e 2043  handle certain C
-00006a40: 6f63 6f6e 7574 2063 6f6e 7374 7275 6374  oconut construct
-00006a50: 732c 2073 7563 6820 6173 2060 6164 6470  s, such as `addp
-00006a60: 6174 7465 726e 602e 2046 6f72 2074 6865  attern`. For the
-00006a70: 2060 6164 6470 6174 7465 726e 6020 6361   `addpattern` ca
-00006a80: 7365 2c20 6974 2069 7320 7265 636f 6d6d  se, it is recomm
-00006a90: 656e 6465 6420 746f 2070 6173 7320 602d  ended to pass `-
-00006aa0: 2d61 6c6c 6f77 2d72 6564 6566 696e 6974  -allow-redefinit
-00006ab0: 696f 6e60 2074 6f20 4d79 5079 2028 692e  ion` to MyPy (i.
-00006ac0: 652e 2072 756e 2060 636f 636f 6e75 7420  e. run `coconut 
-00006ad0: 3c61 7267 733e 202d 2d6d 7970 7920 2d2d  <args> --mypy --
-00006ae0: 616c 6c6f 772d 7265 6465 6669 6e69 7469  allow-redefiniti
-00006af0: 6f6e 6029 2c20 7468 6f75 6768 2069 6e20  on`), though in 
-00006b00: 736f 6d65 2063 6173 6573 2060 2d2d 616c  some cases `--al
-00006b10: 6c6f 772d 7265 6465 6669 6e69 7469 6f6e  low-redefinition
-00006b20: 6020 6d61 7920 6e6f 7420 6265 2073 7566  ` may not be suf
-00006b30: 6669 6369 656e 742e 2049 6e20 7468 6174  ficient. In that
-00006b40: 2063 6173 652c 2065 6974 6865 7220 6869   case, either hi
-00006b50: 6465 2074 6865 206f 6666 656e 6469 6e67  de the offending
-00006b60: 2063 6f64 6520 7573 696e 6720 5b60 5459   code using [`TY
-00006b70: 5045 5f43 4845 434b 494e 4760 5d28 2374  PE_CHECKING`](#t
-00006b80: 7970 655f 6368 6563 6b69 6e67 2920 6f72  ype_checking) or
-00006b90: 2070 7574 2061 2060 2320 7479 7065 3a20   put a `# type: 
-00006ba0: 6967 6e6f 7265 6020 636f 6d6d 656e 7420  ignore` comment 
-00006bb0: 6f6e 2074 6865 2043 6f63 6f6e 7574 206c  on the Coconut l
-00006bc0: 696e 6520 7768 6963 6820 6973 2067 656e  ine which is gen
-00006bd0: 6572 6174 696e 6720 7468 6520 6c69 6e65  erating the line
-00006be0: 204d 7950 7920 6973 2063 6f6d 706c 6169   MyPy is complai
-00006bf0: 6e69 6e67 2061 626f 7574 2061 6e64 2074  ning about and t
-00006c00: 6865 2063 6f6d 6d65 6e74 2077 696c 6c20  he comment will 
-00006c10: 6265 2061 6464 6564 2074 6f20 6576 6572  be added to ever
-00006c20: 7920 6765 6e65 7261 7465 6420 6c69 6e65  y generated line
-00006c30: 2e0d 0a0d 0a54 6f20 6469 7374 7269 6275  .....To distribu
-00006c40: 7465 2079 6f75 7220 636f 6465 2077 6974  te your code wit
-00006c50: 6820 6368 6563 6b61 626c 6520 7479 7065  h checkable type
-00006c60: 2061 6e6e 6f74 6174 696f 6e73 2c20 796f   annotations, yo
-00006c70: 7527 6c6c 206e 6565 6420 746f 2069 6e63  u'll need to inc
-00006c80: 6c75 6465 2060 636f 636f 6e75 7460 2061  lude `coconut` a
-00006c90: 7320 6120 6465 7065 6e64 656e 6379 2028  s a dependency (
-00006ca0: 7468 6f75 6768 2061 2060 2d2d 6e6f 2d64  though a `--no-d
-00006cb0: 6570 7360 2069 6e73 7461 6c6c 2073 686f  eps` install sho
-00006cc0: 756c 6420 6265 2066 696e 6529 2c20 6173  uld be fine), as
-00006cd0: 2069 6e73 7461 6c6c 696e 6720 6974 2069   installing it i
-00006ce0: 7320 6e65 6365 7373 6172 7920 746f 206d  s necessary to m
-00006cf0: 616b 6520 7468 6520 7265 7175 6973 6974  ake the requisit
-00006d00: 6520 7374 7562 2066 696c 6573 2061 7661  e stub files ava
-00006d10: 696c 6162 6c65 2e20 596f 7527 6c6c 2061  ilable. You'll a
-00006d20: 6c73 6f20 7072 6f62 6162 6c79 2077 616e  lso probably wan
-00006d30: 7420 746f 2069 6e63 6c75 6465 2061 205b  t to include a [
-00006d40: 6070 792e 7479 7065 6460 5d28 6874 7470  `py.typed`](http
-00006d50: 733a 2f2f 7065 7073 2e70 7974 686f 6e2e  s://peps.python.
-00006d60: 6f72 672f 7065 702d 3035 3631 2f29 2066  org/pep-0561/) f
-00006d70: 696c 652e 0d0a 0d0a 2323 2323 2060 6e75  ile.....#### `nu
-00006d80: 6d70 7960 2049 6e74 6567 7261 7469 6f6e  mpy` Integration
-00006d90: 0d0a 0d0a 546f 2061 6c6c 6f77 2066 6f72  ....To allow for
-00006da0: 2062 6574 7465 7220 7573 6520 6f66 205b   better use of [
-00006db0: 606e 756d 7079 605d 2868 7474 7073 3a2f  `numpy`](https:/
-00006dc0: 2f6e 756d 7079 2e6f 7267 2f29 206f 626a  /numpy.org/) obj
-00006dd0: 6563 7473 2069 6e20 436f 636f 6e75 742c  ects in Coconut,
-00006de0: 2061 6c6c 2063 6f6d 7069 6c65 6420 436f   all compiled Co
-00006df0: 636f 6e75 7420 636f 6465 2077 696c 6c20  conut code will 
-00006e00: 646f 2061 206e 756d 6265 7220 6f66 2073  do a number of s
-00006e10: 7065 6369 616c 2074 6869 6e67 7320 746f  pecial things to
-00006e20: 2062 6574 7465 7220 696e 7465 6772 6174   better integrat
-00006e30: 6520 7769 7468 2060 6e75 6d70 7960 2028  e with `numpy` (
-00006e40: 6966 2060 6e75 6d70 7960 2069 7320 6176  if `numpy` is av
-00006e50: 6169 6c61 626c 6520 746f 2069 6d70 6f72  ailable to impor
-00006e60: 7420 7768 656e 2074 6865 2063 6f64 6520  t when the code 
-00006e70: 6973 2072 756e 292e 2053 7065 6369 6669  is run). Specifi
-00006e80: 6361 6c6c 793a 0d0a 0d0a 2d20 436f 636f  cally:....- Coco
-00006e90: 6e75 7427 7320 5b6d 756c 7469 6469 6d65  nut's [multidime
-00006ea0: 6e73 696f 6e61 6c20 6172 7261 7920 6c69  nsional array li
-00006eb0: 7465 7261 6c20 616e 6420 6172 7261 7920  teral and array 
-00006ec0: 636f 6e63 6174 656e 6174 696f 6e20 7379  concatenation sy
-00006ed0: 6e74 6178 5d28 236d 756c 7469 6469 6d65  ntax](#multidime
-00006ee0: 6e73 696f 6e61 6c2d 6172 7261 792d 6c69  nsional-array-li
-00006ef0: 7465 7261 6c63 6f6e 6361 7465 6e61 7469  teralconcatenati
-00006f00: 6f6e 2d73 796e 7461 7829 2073 7570 706f  on-syntax) suppo
-00006f10: 7274 7320 606e 756d 7079 6020 6f62 6a65  rts `numpy` obje
-00006f20: 6374 732c 2069 6e63 6c75 6469 6e67 2075  cts, including u
-00006f30: 7369 6e67 2066 6173 7420 606e 756d 7079  sing fast `numpy
-00006f40: 6020 636f 6e63 6174 656e 6174 696f 6e20  ` concatenation 
-00006f50: 6d65 7468 6f64 7320 6966 2067 6976 656e  methods if given
-00006f60: 2060 6e75 6d70 7960 2061 7272 6179 7320   `numpy` arrays 
-00006f70: 7261 7468 6572 2074 6861 6e20 436f 636f  rather than Coco
-00006f80: 6e75 7427 7320 6465 6661 756c 7420 6d75  nut's default mu
-00006f90: 6368 2073 6c6f 7765 7220 696d 706c 656d  ch slower implem
-00006fa0: 656e 7461 7469 6f6e 2062 7569 6c74 2066  entation built f
-00006fb0: 6f72 2050 7974 686f 6e20 6c69 7374 7320  or Python lists 
-00006fc0: 6f66 206c 6973 7473 2e0d 0a2d 204d 616e  of lists...- Man
-00006fd0: 7920 6f66 2043 6f63 6f6e 7574 2773 2062  y of Coconut's b
-00006fe0: 7569 6c74 2d69 6e73 2069 6e63 6c75 6465  uilt-ins include
-00006ff0: 2073 7065 6369 616c 2060 6e75 6d70 7960   special `numpy`
-00007000: 2073 7570 706f 7274 2c20 7370 6563 6966   support, specif
-00007010: 6963 616c 6c79 3a0d 0a20 202a 205b 6066  ically:..  * [`f
-00007020: 6d61 7060 5d28 2366 6d61 7029 2077 696c  map`](#fmap) wil
-00007030: 6c20 7573 6520 5b60 6e75 6d70 792e 7665  l use [`numpy.ve
-00007040: 6374 6f72 697a 6560 5d28 6874 7470 733a  ctorize`](https:
-00007050: 2f2f 6e75 6d70 792e 6f72 672f 646f 632f  //numpy.org/doc/
-00007060: 7374 6162 6c65 2f72 6566 6572 656e 6365  stable/reference
-00007070: 2f67 656e 6572 6174 6564 2f6e 756d 7079  /generated/numpy
-00007080: 2e76 6563 746f 7269 7a65 2e68 746d 6c29  .vectorize.html)
-00007090: 2074 6f20 6d61 7020 6f76 6572 2060 6e75   to map over `nu
-000070a0: 6d70 7960 2061 7272 6179 732e 0d0a 2020  mpy` arrays...  
-000070b0: 2a20 5b60 6d75 6c74 695f 656e 756d 6572  * [`multi_enumer
-000070c0: 6174 6560 5d28 236d 756c 7469 5f65 6e75  ate`](#multi_enu
-000070d0: 6d65 7261 7465 2920 616c 6c6f 7773 2066  merate) allows f
-000070e0: 6f72 2065 6173 696c 7920 6c6f 6f70 696e  or easily loopin
-000070f0: 6720 6f76 6572 2061 6c6c 2074 6865 206d  g over all the m
-00007100: 756c 7469 2d64 696d 656e 7369 6f6e 616c  ulti-dimensional
-00007110: 2069 6e64 6963 6573 2069 6e20 6120 606e   indices in a `n
-00007120: 756d 7079 6020 6172 7261 792e 0d0a 2020  umpy` array...  
-00007130: 2a20 5b60 6361 7274 6573 6961 6e5f 7072  * [`cartesian_pr
-00007140: 6f64 7563 7460 5d28 2363 6172 7465 7369  oduct`](#cartesi
-00007150: 616e 5f70 726f 6475 6374 2920 6361 6e20  an_product) can 
-00007160: 636f 6d70 7574 6520 7468 6520 4361 7274  compute the Cart
-00007170: 6573 6961 6e20 7072 6f64 7563 7420 6f66  esian product of
-00007180: 2067 6976 656e 2060 6e75 6d70 7960 2061   given `numpy` a
-00007190: 7272 6179 7320 6173 2061 2060 6e75 6d70  rrays as a `nump
-000071a0: 7960 2061 7272 6179 2e0d 0a20 202a 205b  y` array...  * [
-000071b0: 6061 6c6c 5f65 7175 616c 605d 2823 616c  `all_equal`](#al
-000071c0: 6c5f 6571 7561 6c29 2061 6c6c 6f77 7320  l_equal) allows 
-000071d0: 666f 7220 6561 7369 6c79 2063 6865 636b  for easily check
-000071e0: 696e 6720 6966 2061 6c6c 2074 6865 2065  ing if all the e
-000071f0: 6c65 6d65 6e74 7320 696e 2061 2060 6e75  lements in a `nu
-00007200: 6d70 7960 2061 7272 6179 2061 7265 2074  mpy` array are t
-00007210: 6865 2073 616d 652e 0d0a 2d20 5b60 6e75  he same...- [`nu
-00007220: 6d70 792e 6e64 6172 7261 7960 5d28 6874  mpy.ndarray`](ht
-00007230: 7470 733a 2f2f 6e75 6d70 792e 6f72 672f  tps://numpy.org/
-00007240: 646f 632f 7374 6162 6c65 2f72 6566 6572  doc/stable/refer
-00007250: 656e 6365 2f67 656e 6572 6174 6564 2f6e  ence/generated/n
-00007260: 756d 7079 2e6e 6461 7272 6179 2e68 746d  umpy.ndarray.htm
-00007270: 6c29 2069 7320 7265 6769 7374 6572 6564  l) is registered
-00007280: 2061 7320 6120 5b60 636f 6c6c 6563 7469   as a [`collecti
-00007290: 6f6e 732e 6162 632e 5365 7175 656e 6365  ons.abc.Sequence
-000072a0: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
-000072b0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
-000072c0: 7261 7279 2f63 6f6c 6c65 6374 696f 6e73  rary/collections
-000072d0: 2e61 6263 2e68 746d 6c23 636f 6c6c 6563  .abc.html#collec
-000072e0: 7469 6f6e 732e 6162 632e 5365 7175 656e  tions.abc.Sequen
-000072f0: 6365 292c 2065 6e61 626c 696e 6720 6974  ce), enabling it
-00007300: 2074 6f20 6265 2075 7365 6420 696e 205b   to be used in [
-00007310: 7365 7175 656e 6365 2070 6174 7465 726e  sequence pattern
-00007320: 735d 2823 7365 6d61 6e74 6963 732d 7370  s](#semantics-sp
-00007330: 6563 6966 6963 6174 696f 6e29 2e0d 0a2d  ecification)...-
-00007340: 2043 6f63 6f6e 7574 2073 7570 706f 7274   Coconut support
-00007350: 7320 6040 6020 666f 7220 6d61 7472 6978  s `@` for matrix
-00007360: 206d 756c 7469 706c 6963 6174 696f 6e20   multiplication 
-00007370: 6f66 2060 6e75 6d70 7960 2061 7272 6179  of `numpy` array
-00007380: 7320 6f6e 2061 6c6c 2050 7974 686f 6e20  s on all Python 
-00007390: 7665 7273 696f 6e73 2c20 6173 2077 656c  versions, as wel
-000073a0: 6c20 6173 2073 7570 706c 7969 6e67 2074  l as supplying t
-000073b0: 6865 2060 2840 2960 205b 6f70 6572 6174  he `(@)` [operat
-000073c0: 6f72 2066 756e 6374 696f 6e5d 2823 6f70  or function](#op
-000073d0: 6572 6174 6f72 2d66 756e 6374 696f 6e73  erator-functions
-000073e0: 292e 0d0a 0d0a 4164 6469 7469 6f6e 616c  ).....Additional
-000073f0: 6c79 2c20 436f 636f 6e75 7420 7072 6f76  ly, Coconut prov
-00007400: 6964 6573 2074 6865 2065 7861 6374 2073  ides the exact s
-00007410: 616d 6520 7375 7070 6f72 7420 666f 7220  ame support for 
-00007420: 5b60 7061 6e64 6173 605d 2868 7474 7073  [`pandas`](https
-00007430: 3a2f 2f70 616e 6461 732e 7079 6461 7461  ://pandas.pydata
-00007440: 2e6f 7267 2f29 2061 6e64 205b 606a 6178  .org/) and [`jax
-00007450: 2e6e 756d 7079 605d 2868 7474 7073 3a2f  .numpy`](https:/
-00007460: 2f6a 6178 2e72 6561 6474 6865 646f 6373  /jax.readthedocs
-00007470: 2e69 6f2f 656e 2f6c 6174 6573 742f 6a61  .io/en/latest/ja
-00007480: 782e 6e75 6d70 792e 6874 6d6c 292c 2069  x.numpy.html), i
-00007490: 6e63 6c75 6469 6e67 2075 7369 6e67 2060  ncluding using `
-000074a0: 6a61 782e 6e75 6d70 7960 206d 6574 686f  jax.numpy` metho
-000074b0: 6473 206f 7665 7220 606e 756d 7079 6020  ds over `numpy` 
-000074c0: 6d65 7468 6f64 7320 7768 656e 2067 6976  methods when giv
-000074d0: 656e 2060 6a61 7860 2061 7272 6179 732e  en `jax` arrays.
-000074e0: 0d0a 0d0a 2323 2323 2060 786f 6e73 6860  ....#### `xonsh`
-000074f0: 2053 7570 706f 7274 0d0a 0d0a 436f 636f   Support....Coco
-00007500: 6e75 7420 696e 7465 6772 6174 6573 2077  nut integrates w
-00007510: 6974 6820 5b60 786f 6e73 6860 5d28 6874  ith [`xonsh`](ht
-00007520: 7470 733a 2f2f 786f 6e2e 7368 2f29 2074  tps://xon.sh/) t
-00007530: 6f20 616c 6c6f 7720 7468 6520 7573 6520  o allow the use 
-00007540: 6f66 2043 6f63 6f6e 7574 2063 6f64 6520  of Coconut code 
-00007550: 6469 7265 6374 6c79 2066 726f 6d20 796f  directly from yo
-00007560: 7572 2063 6f6d 6d61 6e64 206c 696e 652e  ur command line.
-00007570: 2054 6f20 7573 6520 436f 636f 6e75 7420   To use Coconut 
-00007580: 696e 2060 786f 6e73 6860 2c20 7369 6d70  in `xonsh`, simp
-00007590: 6c79 2060 7069 7020 696e 7374 616c 6c20  ly `pip install 
-000075a0: 636f 636f 6e75 7460 2073 686f 756c 6420  coconut` should 
-000075b0: 6265 2061 6c6c 2079 6f75 206e 6565 6420  be all you need 
-000075c0: 746f 2065 6e61 626c 6520 7468 6520 7573  to enable the us
-000075d0: 6520 6f66 2043 6f63 6f6e 7574 2073 796e  e of Coconut syn
-000075e0: 7461 7820 696e 2074 6865 2060 786f 6e73  tax in the `xons
-000075f0: 6860 2073 6865 6c6c 2e20 496e 2073 6f6d  h` shell. In som
-00007600: 6520 6369 7263 756d 7374 616e 6365 732c  e circumstances,
-00007610: 2069 6e20 7061 7274 6963 756c 6172 2064   in particular d
-00007620: 6570 656e 6469 6e67 206f 6e20 7468 6520  epending on the 
-00007630: 696e 7374 616c 6c65 6420 6078 6f6e 7368  installed `xonsh
-00007640: 6020 7665 7273 696f 6e2c 2061 6464 696e  ` version, addin
-00007650: 6720 6078 6f6e 7472 6962 206c 6f61 6420  g `xontrib load 
-00007660: 636f 636f 6e75 7460 2074 6f20 796f 7572  coconut` to your
-00007670: 205b 6078 6f6e 7368 7263 605d 2868 7474   [`xonshrc`](htt
-00007680: 7073 3a2f 2f78 6f6e 2e73 682f 786f 6e73  ps://xon.sh/xons
-00007690: 6872 632e 6874 6d6c 2920 6669 6c65 206d  hrc.html) file m
-000076a0: 6967 6874 2062 6520 6e65 6365 7373 6172  ight be necessar
-000076b0: 792e 0d0a 0d0a 466f 7220 616e 2065 7861  y.....For an exa
-000076c0: 6d70 6c65 206f 6620 7573 696e 6720 436f  mple of using Co
-000076d0: 636f 6e75 7420 6672 6f6d 2060 786f 6e73  conut from `xons
-000076e0: 6860 3a0d 0a60 6060 0d0a 7573 6572 4063  h`:..```..user@c
-000076f0: 6f6d 7075 7465 7220 7e20 2420 786f 6e74  omputer ~ $ xont
-00007700: 7269 6220 6c6f 6164 2063 6f63 6f6e 7574  rib load coconut
-00007710: 0d0a 7573 6572 4063 6f6d 7075 7465 7220  ..user@computer 
-00007720: 7e20 2420 6364 202e 2f66 696c 6573 0d0a  ~ $ cd ./files..
-00007730: 7573 6572 4063 6f6d 7075 7465 7220 7e20  user@computer ~ 
-00007740: 2420 2428 6c73 202d 6c61 2920 7c3e 202e  $ $(ls -la) |> .
-00007750: 7370 6c69 746c 696e 6573 2829 207c 3e20  splitlines() |> 
-00007760: 6c65 6e0d 0a33 300d 0a60 6060 0d0a 0d0a  len..30..```....
-00007770: 4e6f 7465 2074 6861 7420 7468 6520 7761  Note that the wa
-00007780: 7920 7468 6174 2043 6f63 6f6e 7574 2069  y that Coconut i
-00007790: 6e74 6567 7261 7465 7320 7769 7468 2060  ntegrates with `
-000077a0: 786f 6e73 6860 2c20 6040 283c 636f 6465  xonsh`, `@(<code
-000077b0: 3e29 6020 7379 6e74 6178 2077 696c 6c20  >)` syntax will 
-000077c0: 6f6e 6c79 2077 6f72 6b20 7769 7468 2050  only work with P
-000077d0: 7974 686f 6e20 636f 6465 2c20 6e6f 7420  ython code, not 
-000077e0: 436f 636f 6e75 7420 636f 6465 2e0d 0a0d  Coconut code....
-000077f0: 0a41 6464 6974 696f 6e61 6c6c 792c 2043  .Additionally, C
-00007800: 6f63 6f6e 7574 2077 696c 6c20 6f6e 6c79  oconut will only
-00007810: 2063 6f6d 7069 6c65 2069 6e64 6976 6964   compile individ
-00007820: 7561 6c20 636f 6d6d 616e 6473 e280 9443  ual commands...C
-00007830: 6f63 6f6e 7574 2077 696c 6c20 6e6f 7420  oconut will not 
-00007840: 746f 7563 6820 7468 6520 602e 786f 6e73  touch the `.xons
-00007850: 6872 6360 206f 7220 616e 7920 6f74 6865  hrc` or any othe
-00007860: 7220 602e 7873 6860 2066 696c 6573 2e0d  r `.xsh` files..
-00007870: 0a0d 0a23 2320 4f70 6572 6174 6f72 730d  ...## Operators.
-00007880: 0a0d 0a60 6060 7b63 6f6e 7465 6e74 737d  ...```{contents}
-00007890: 0d0a 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64  ..---..local:..d
-000078a0: 6570 7468 3a20 310d 0a2d 2d2d 0d0a 6060  epth: 1..---..``
-000078b0: 600d 0a0d 0a23 2323 2050 7265 6365 6465  `....### Precede
-000078c0: 6e63 650d 0a0d 0a49 6e20 6f72 6465 7220  nce....In order 
-000078d0: 6f66 2070 7265 6365 6465 6e63 652c 2068  of precedence, h
-000078e0: 6967 6865 7374 2066 6972 7374 2c20 7468  ighest first, th
-000078f0: 6520 6f70 6572 6174 6f72 7320 7375 7070  e operators supp
-00007900: 6f72 7465 6420 696e 2043 6f63 6f6e 7574  orted in Coconut
-00007910: 2061 7265 3a0d 0a60 6060 0d0a 3d3d 3d3d   are:..```..====
-00007920: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00007930: 3d3d 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  == =============
-00007940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0d 0a53  =============..S
-00007950: 796d 626f 6c28 7329 2020 2020 2020 2020  ymbol(s)        
-00007960: 2020 2020 2020 4173 736f 6369 6174 6976        Associativ
-00007970: 6974 790d 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  ity..===========
-00007980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 3d3d 3d3d  =========== ====
-00007990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000079a0: 3d3d 3d3d 3d3d 0d0a 6620 7820 2020 2020  ======..f x     
-000079b0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-000079c0: 2f61 0d0a 6177 6169 7420 7820 2020 2020  /a..await x     
-000079d0: 2020 2020 2020 2020 2020 206e 2f61 0d0a             n/a..
-000079e0: 2e2e 2020 2020 2020 2020 2020 2020 2020  ..              
-000079f0: 2020 2020 2020 206e 2f61 0d0a 2a2a 2020         n/a..**  
-00007a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a10: 2020 2072 6967 6874 0d0a 2b2c 202d 2c20     right..+, -, 
-00007a20: 7e20 2020 2020 2020 2020 2020 2020 2020  ~               
-00007a30: 2075 6e61 7279 0d0a 2a2c 202f 2c20 2f2f   unary..*, /, //
-00007a40: 2c20 252c 2040 2020 2020 2020 2020 206c  , %, @         l
-00007a50: 6566 740d 0a2b 2c20 2d20 2020 2020 2020  eft..+, -       
-00007a60: 2020 2020 2020 2020 2020 2020 6c65 6674              left
-00007a70: 0d0a 3c3c 2c20 3e3e 2020 2020 2020 2020  ..<<, >>        
-00007a80: 2020 2020 2020 2020 206c 6566 740d 0a26           left..&
-00007a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007aa0: 2020 2020 2020 6c65 6674 0d0a 5e20 2020        left..^   
-00007ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ac0: 2020 206c 6566 740d 0a7c 2020 2020 2020     left..|      
-00007ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ae0: 6c65 6674 0d0a 3a3a 2020 2020 2020 2020  left..::        
-00007af0: 2020 2020 2020 2020 2020 2020 206e 2f61               n/a
-00007b00: 2028 6c61 7a79 290d 0a61 2060 6260 2063   (lazy)..a `b` c
-00007b10: 2c20 2020 2020 2020 2020 2020 2020 2020  ,               
-00007b20: 6c65 6674 2028 6361 7074 7572 6573 206c  left (captures l
-00007b30: 616d 6264 6129 0d0a 2020 616c 6c20 6375  ambda)..  all cu
-00007b40: 7374 6f6d 206f 7065 7261 746f 7273 0d0a  stom operators..
-00007b50: 3f3f 2020 2020 2020 2020 2020 2020 2020  ??              
-00007b60: 2020 2020 2020 206c 6566 7420 2873 686f         left (sho
-00007b70: 7274 2d63 6972 6375 6974 7329 0d0a 2e2e  rt-circuits)....
-00007b80: 3e2c 203c 2e2e 2c20 2e2e 2a3e 2c20 3c2a  >, <.., ..*>, <*
-00007b90: 2e2e 2c20 206e 2f61 2028 6361 7074 7572  ..,  n/a (captur
-00007ba0: 6573 206c 616d 6264 6129 0d0a 2020 2e2e  es lambda)..  ..
-00007bb0: 2a2a 3e2c 203c 2a2a 2e2e 0d0a 7c3e 2c20  **>, <**....|>, 
-00007bc0: 3c7c 2c20 7c2a 3e2c 203c 2a7c 2c20 2020  <|, |*>, <*|,   
-00007bd0: 2020 206c 6566 7420 2863 6170 7475 7265     left (capture
-00007be0: 7320 6c61 6d62 6461 290d 0a20 207c 2a2a  s lambda)..  |**
-00007bf0: 3e2c 203c 2a2a 7c0d 0a3d 3d2c 2021 3d2c  >, <**|..==, !=,
-00007c00: 203c 2c20 3e2c 0d0a 2020 3c3d 2c20 3e3d   <, >,..  <=, >=
-00007c10: 2c0d 0a20 2069 6e2c 206e 6f74 2069 6e2c  ,..  in, not in,
-00007c20: 0d0a 2020 6973 2c20 6973 206e 6f74 2020  ..  is, is not  
-00007c30: 2020 2020 2020 2020 206e 2f61 0d0a 6e6f           n/a..no
-00007c40: 7420 2020 2020 2020 2020 2020 2020 2020  t               
-00007c50: 2020 2020 2075 6e61 7279 0d0a 616e 6420       unary..and 
-00007c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c70: 2020 206c 6566 7420 2873 686f 7274 2d63     left (short-c
-00007c80: 6972 6375 6974 7329 0d0a 6f72 2020 2020  ircuits)..or    
-00007c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ca0: 206c 6566 7420 2873 686f 7274 2d63 6972   left (short-cir
-00007cb0: 6375 6974 7329 0d0a 7820 6966 2063 2065  cuits)..x if c e
-00007cc0: 6c73 6520 792c 2020 2020 2020 2020 2074  lse y,         t
-00007cd0: 6572 6e61 7279 206c 6566 7420 2873 686f  ernary left (sho
-00007ce0: 7274 2d63 6972 6375 6974 7329 0d0a 2020  rt-circuits)..  
-00007cf0: 6966 2063 2074 6865 6e20 7820 656c 7365  if c then x else
-00007d00: 2079 0d0a 2d3e 2020 2020 2020 2020 2020   y..->          
-00007d10: 2020 2020 2020 2020 2020 2072 6967 6874             right
-00007d20: 0d0a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ..==============
-00007d30: 3d3d 3d3d 3d3d 3d3d 203d 3d3d 3d3d 3d3d  ======== =======
-00007d40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00007d50: 3d3d 3d0d 0a60 6060 0d0a 0d0a 466f 7220  ===..```....For 
-00007d60: 6578 616d 706c 652c 2073 696e 6365 2061  example, since a
-00007d70: 6464 6974 696f 6e20 6861 7320 6120 6869  ddition has a hi
-00007d80: 6768 6572 2070 7265 6365 6465 6e63 6520  gher precedence 
-00007d90: 7468 616e 2070 6970 696e 672c 2065 7870  than piping, exp
-00007da0: 7265 7373 696f 6e73 206f 6620 7468 6520  ressions of the 
-00007db0: 666f 726d 2060 7820 7c3e 2079 202b 207a  form `x |> y + z
-00007dc0: 6020 6172 6520 6571 7569 7661 6c65 6e74  ` are equivalent
-00007dd0: 2074 6f20 6078 207c 3e20 2879 202b 207a   to `x |> (y + z
-00007de0: 2960 2e0d 0a0d 0a23 2323 204c 616d 6264  )`.....### Lambd
-00007df0: 6173 0d0a 0d0a 436f 636f 6e75 7420 7072  as....Coconut pr
-00007e00: 6f76 6964 6573 2074 6865 2073 696d 706c  ovides the simpl
-00007e10: 652c 2063 6c65 616e 2060 2d3e 6020 6f70  e, clean `->` op
-00007e20: 6572 6174 6f72 2061 7320 616e 2061 6c74  erator as an alt
-00007e30: 6572 6e61 7469 7665 2074 6f20 5079 7468  ernative to Pyth
-00007e40: 6f6e 2773 2060 6c61 6d62 6461 6020 7374  on's `lambda` st
-00007e50: 6174 656d 656e 7473 2e20 5468 6520 7379  atements. The sy
-00007e60: 6e74 6178 2066 6f72 2074 6865 2060 2d3e  ntax for the `->
-00007e70: 6020 6f70 6572 6174 6f72 2069 7320 6028  ` operator is `(
-00007e80: 7061 7261 6d65 7465 7273 2920 2d3e 2065  parameters) -> e
-00007e90: 7870 7265 7373 696f 6e60 2028 6f72 2060  xpression` (or `
-00007ea0: 7061 7261 6d65 7465 7220 2d3e 2065 7870  parameter -> exp
-00007eb0: 7265 7373 696f 6e60 2066 6f72 206f 6e65  ression` for one
-00007ec0: 2d61 7267 756d 656e 7420 6c61 6d62 6461  -argument lambda
-00007ed0: 7329 2e20 5468 6520 6f70 6572 6174 6f72  s). The operator
-00007ee0: 2068 6173 2074 6865 2073 616d 6520 7072   has the same pr
-00007ef0: 6563 6564 656e 6365 2061 7320 7468 6520  ecedence as the 
-00007f00: 6f6c 6420 7374 6174 656d 656e 742c 2077  old statement, w
-00007f10: 6869 6368 206d 6561 6e73 2069 7420 7769  hich means it wi
-00007f20: 6c6c 206f 6674 656e 2062 6520 6e65 6365  ll often be nece
-00007f30: 7373 6172 7920 746f 2073 7572 726f 756e  ssary to surroun
-00007f40: 6420 7468 6520 6c61 6d62 6461 2069 6e20  d the lambda in 
-00007f50: 7061 7265 6e74 6865 7365 732c 2061 6e64  parentheses, and
-00007f60: 2069 7320 7269 6768 742d 6173 736f 6369   is right-associ
-00007f70: 6174 6976 652e 0d0a 0d0a 4164 6469 7469  ative.....Additi
-00007f80: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-00007f90: 616c 736f 2073 7570 706f 7274 7320 616e  also supports an
-00007fa0: 2069 6d70 6c69 6369 7420 7573 6167 6520   implicit usage 
-00007fb0: 6f66 2074 6865 2060 2d3e 6020 6f70 6572  of the `->` oper
-00007fc0: 6174 6f72 206f 6620 7468 6520 666f 726d  ator of the form
-00007fd0: 2060 282d 3e20 6578 7072 6573 7369 6f6e   `(-> expression
-00007fe0: 2960 2c20 7768 6963 6820 6973 2065 7175  )`, which is equ
-00007ff0: 6976 616c 656e 7420 746f 2060 2828 5f3d  ivalent to `((_=
-00008000: 4e6f 6e65 2920 2d3e 2065 7870 7265 7373  None) -> express
-00008010: 696f 6e29 602c 2077 6869 6368 2061 6c6c  ion)`, which all
-00008020: 6f77 7320 616e 2069 6d70 6c69 6369 7420  ows an implicit 
-00008030: 6c61 6d62 6461 2074 6f20 6265 2075 7365  lambda to be use
-00008040: 6420 626f 7468 2077 6865 6e20 6e6f 2061  d both when no a
-00008050: 7267 756d 656e 7473 2061 7265 2072 6571  rguments are req
-00008060: 7569 7265 642c 2061 6e64 2077 6865 6e20  uired, and when 
-00008070: 6f6e 6520 6172 6775 6d65 6e74 2028 6173  one argument (as
-00008080: 7369 676e 6564 2074 6f20 605f 6029 2069  signed to `_`) i
-00008090: 7320 7265 7175 6972 6564 2e0d 0a0d 0a5f  s required....._
-000080a0: 4e6f 7465 3a20 4966 206e 6f72 6d61 6c20  Note: If normal 
-000080b0: 6c61 6d62 6461 2073 796e 7461 7820 6973  lambda syntax is
-000080c0: 2069 6e73 7566 6669 6369 656e 742c 2043   insufficient, C
-000080d0: 6f63 6f6e 7574 2061 6c73 6f20 7375 7070  oconut also supp
-000080e0: 6f72 7473 2061 6e20 6578 7465 6e64 6564  orts an extended
-000080f0: 206c 616d 6264 6120 7379 6e74 6178 2069   lambda syntax i
-00008100: 6e20 7468 6520 666f 726d 206f 6620 5b73  n the form of [s
-00008110: 7461 7465 6d65 6e74 206c 616d 6264 6173  tatement lambdas
-00008120: 5d28 2373 7461 7465 6d65 6e74 2d6c 616d  ](#statement-lam
-00008130: 6264 6173 292e 2053 7461 7465 6d65 6e74  bdas). Statement
-00008140: 206c 616d 6264 6173 2073 7570 706f 7274   lambdas support
-00008150: 2066 756c 6c20 7374 6174 656d 656e 7473   full statements
-00008160: 2072 6174 6865 7220 7468 616e 206a 7573   rather than jus
-00008170: 7420 6578 7072 6573 7369 6f6e 7320 616e  t expressions an
-00008180: 6420 616c 6c6f 7720 666f 7220 7468 6520  d allow for the 
-00008190: 7573 6520 6f66 205b 7061 7474 6572 6e2d  use of [pattern-
-000081a0: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-000081b0: 6e20 6465 6669 6e69 7469 6f6e 5d28 2370  n definition](#p
-000081c0: 6174 7465 726e 2d6d 6174 6368 696e 672d  attern-matching-
-000081d0: 6675 6e63 7469 6f6e 7329 2e5f 0d0a 0d0a  functions)._....
-000081e0: 2323 2323 2320 5261 7469 6f6e 616c 650d  ##### Rationale.
-000081f0: 0a0d 0a49 6e20 5079 7468 6f6e 2c20 6c61  ...In Python, la
-00008200: 6d62 6461 7320 6172 6520 7567 6c79 2061  mbdas are ugly a
-00008210: 6e64 2062 756c 6b79 2c20 7265 7175 6972  nd bulky, requir
-00008220: 696e 6720 7468 6520 656e 7469 7265 2077  ing the entire w
-00008230: 6f72 6420 606c 616d 6264 6160 2074 6f20  ord `lambda` to 
-00008240: 6265 2077 7269 7474 656e 206f 7574 2065  be written out e
-00008250: 7665 7279 2074 696d 6520 6f6e 6520 6973  very time one is
-00008260: 2063 6f6e 7374 7275 6374 6564 2e20 5468   constructed. Th
-00008270: 6973 2069 7320 6669 6e65 2069 6620 696e  is is fine if in
-00008280: 2d6c 696e 6520 6675 6e63 7469 6f6e 7320  -line functions 
-00008290: 6172 6520 7665 7279 2072 6172 656c 7920  are very rarely 
-000082a0: 6e65 6564 6564 2c20 6275 7420 696e 2066  needed, but in f
-000082b0: 756e 6374 696f 6e61 6c20 7072 6f67 7261  unctional progra
-000082c0: 6d6d 696e 6720 696e 2d6c 696e 6520 6675  mming in-line fu
-000082d0: 6e63 7469 6f6e 7320 6172 6520 616e 2065  nctions are an e
-000082e0: 7373 656e 7469 616c 2074 6f6f 6c2e 0d0a  ssential tool...
-000082f0: 0d0a 2323 2323 2320 5079 7468 6f6e 2044  ..##### Python D
-00008300: 6f63 730d 0a0d 0a4c 616d 6264 6120 666f  ocs....Lambda fo
-00008310: 726d 7320 286c 616d 6264 6120 6578 7072  rms (lambda expr
-00008320: 6573 7369 6f6e 7329 2068 6176 6520 7468  essions) have th
-00008330: 6520 7361 6d65 2073 796e 7461 6374 6963  e same syntactic
-00008340: 2070 6f73 6974 696f 6e20 6173 2065 7870   position as exp
-00008350: 7265 7373 696f 6e73 2e20 5468 6579 2061  ressions. They a
-00008360: 7265 2061 2073 686f 7274 6861 6e64 2074  re a shorthand t
-00008370: 6f20 6372 6561 7465 2061 6e6f 6e79 6d6f  o create anonymo
-00008380: 7573 2066 756e 6374 696f 6e73 3b20 7468  us functions; th
-00008390: 6520 6578 7072 6573 7369 6f6e 2060 2861  e expression `(a
-000083a0: 7267 756d 656e 7473 2920 2d3e 2065 7870  rguments) -> exp
-000083b0: 7265 7373 696f 6e60 2079 6965 6c64 7320  ression` yields 
-000083c0: 6120 6675 6e63 7469 6f6e 206f 626a 6563  a function objec
-000083d0: 742e 2054 6865 2075 6e6e 616d 6564 206f  t. The unnamed o
-000083e0: 626a 6563 7420 6265 6861 7665 7320 6c69  bject behaves li
-000083f0: 6b65 2061 2066 756e 6374 696f 6e20 6f62  ke a function ob
-00008400: 6a65 6374 2064 6566 696e 6564 2077 6974  ject defined wit
-00008410: 683a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  h:..```coconut..
-00008420: 6465 6620 3c6c 616d 6264 613e 2861 7267  def <lambda>(arg
-00008430: 756d 656e 7473 293a 0d0a 2020 2020 7265  uments):..    re
-00008440: 7475 726e 2065 7870 7265 7373 696f 6e0d  turn expression.
-00008450: 0a60 6060 0d0a 4e6f 7465 2074 6861 7420  .```..Note that 
-00008460: 6675 6e63 7469 6f6e 7320 6372 6561 7465  functions create
-00008470: 6420 7769 7468 206c 616d 6264 6120 666f  d with lambda fo
-00008480: 726d 7320 6361 6e6e 6f74 2063 6f6e 7461  rms cannot conta
-00008490: 696e 2073 7461 7465 6d65 6e74 7320 6f72  in statements or
-000084a0: 2061 6e6e 6f74 6174 696f 6e73 2e0d 0a0d   annotations....
-000084b0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-000084c0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-000084d0: 6060 6063 6f63 6f6e 7574 0d0a 6475 6273  ```coconut..dubs
-000084e0: 756d 7320 3d20 6d61 7028 2878 2c20 7929  ums = map((x, y)
-000084f0: 202d 3e20 322a 2878 2b79 292c 2072 616e   -> 2*(x+y), ran
-00008500: 6765 2830 2c20 3130 292c 2072 616e 6765  ge(0, 10), range
-00008510: 2831 302c 2032 3029 290d 0a64 7562 7375  (10, 20))..dubsu
-00008520: 6d73 207c 3e20 6c69 7374 207c 3e20 7072  ms |> list |> pr
-00008530: 696e 740d 0a60 6060 0d0a 0d0a 2a2a 5079  int..```....**Py
-00008540: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-00008550: 6e75 745f 7079 7468 6f6e 0d0a 6475 6273  nut_python..dubs
-00008560: 756d 7320 3d20 6d61 7028 6c61 6d62 6461  ums = map(lambda
-00008570: 2078 2c20 793a 2032 2a28 782b 7929 2c20   x, y: 2*(x+y), 
-00008580: 7261 6e67 6528 302c 2031 3029 2c20 7261  range(0, 10), ra
-00008590: 6e67 6528 3130 2c20 3230 2929 0d0a 7072  nge(10, 20))..pr
-000085a0: 696e 7428 6c69 7374 2864 7562 7375 6d73  int(list(dubsums
-000085b0: 2929 0d0a 6060 600d 0a0d 0a23 2323 2320  ))..```....#### 
-000085c0: 496d 706c 6963 6974 204c 616d 6264 6173  Implicit Lambdas
-000085d0: 0d0a 0d0a 436f 636f 6e75 7420 616c 736f  ....Coconut also
-000085e0: 2073 7570 706f 7274 7320 696d 706c 6963   supports implic
-000085f0: 6974 206c 616d 6264 6173 2c20 7768 6963  it lambdas, whic
-00008600: 6820 616c 6c6f 7720 6120 6c61 6d62 6461  h allow a lambda
-00008610: 2074 6f20 7461 6b65 2065 6974 6865 7220   to take either 
-00008620: 6e6f 2061 7267 756d 656e 7473 206f 7220  no arguments or 
-00008630: 6120 7369 6e67 6c65 2061 7267 756d 656e  a single argumen
-00008640: 742e 2049 6d70 6c69 6369 7420 6c61 6d62  t. Implicit lamb
-00008650: 6461 7320 6172 6520 666f 726d 6564 2077  das are formed w
-00008660: 6974 6820 7468 6520 7573 7561 6c20 436f  ith the usual Co
-00008670: 636f 6e75 7420 6c61 6d62 6461 206f 7065  conut lambda ope
-00008680: 7261 746f 7220 602d 3e60 2c20 696e 2074  rator `->`, in t
-00008690: 6865 2066 6f72 6d20 6028 2d3e 2065 7870  he form `(-> exp
-000086a0: 7265 7373 696f 6e29 602e 2054 6869 7320  ression)`. This 
-000086b0: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-000086c0: 2060 2828 5f3d 4e6f 6e65 2920 2d3e 2065   `((_=None) -> e
-000086d0: 7870 7265 7373 696f 6e29 602e 2057 6865  xpression)`. Whe
-000086e0: 6e20 616e 2061 7267 756d 656e 7420 6973  n an argument is
-000086f0: 2070 6173 7365 6420 746f 2061 6e20 696d   passed to an im
-00008700: 706c 6963 6974 206c 616d 6264 612c 2069  plicit lambda, i
-00008710: 7420 7769 6c6c 2062 6520 6173 7369 676e  t will be assign
-00008720: 6564 2074 6f20 605f 602c 2072 6570 6c61  ed to `_`, repla
-00008730: 6369 6e67 2074 6865 2064 6566 6175 6c74  cing the default
-00008740: 2076 616c 7565 2060 4e6f 6e65 602e 0d0a   value `None`...
-00008750: 0d0a 4265 6c6f 7720 6172 6520 7477 6f20  ..Below are two 
-00008760: 6578 616d 706c 6573 206f 6620 696d 706c  examples of impl
-00008770: 6963 6974 206c 616d 6264 6173 2e20 5468  icit lambdas. Th
-00008780: 6520 6669 7273 7420 7573 6573 2074 6865  e first uses the
-00008790: 2069 6d70 6c69 6369 7420 6172 6775 6d65   implicit argume
-000087a0: 6e74 2060 5f60 2c20 7768 696c 6520 7468  nt `_`, while th
-000087b0: 6520 7365 636f 6e64 2064 6f65 7320 6e6f  e second does no
-000087c0: 742e 0d0a 0d0a 2a2a 5369 6e67 6c65 2041  t.....**Single A
-000087d0: 7267 756d 656e 7420 4578 616d 706c 653a  rgument Example:
-000087e0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-000087f0: 7371 7561 7265 203d 2028 2d3e 205f 2a2a  square = (-> _**
-00008800: 3229 0d0a 6060 600d 0a0d 0a2a 2a4e 6f2d  2)..```....**No-
-00008810: 4172 6775 6d65 6e74 2045 7861 6d70 6c65  Argument Example
-00008820: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-00008830: 0a69 6d70 6f72 7420 7261 6e64 6f6d 0d0a  .import random..
-00008840: 0d0a 6765 745f 7261 6e64 6f6d 5f6e 756d  ..get_random_num
-00008850: 6265 7220 3d20 282d 3e20 7261 6e64 6f6d  ber = (-> random
-00008860: 2e72 616e 646f 6d28 2929 0d0a 6060 600d  .random())..```.
-00008870: 0a0d 0a5f 4e6f 7465 3a20 4e65 7374 696e  ..._Note: Nestin
-00008880: 6720 696d 706c 6963 6974 206c 616d 6264  g implicit lambd
-00008890: 6173 2063 616e 206c 6561 6420 746f 2070  as can lead to p
-000088a0: 726f 626c 656d 7320 7769 7468 2074 6865  roblems with the
-000088b0: 2073 636f 7065 206f 6620 7468 6520 605f   scope of the `_
-000088c0: 6020 7061 7261 6d65 7465 7220 746f 2065  ` parameter to e
-000088d0: 6163 6820 6c61 6d62 6461 2e20 4974 2069  ach lambda. It i
-000088e0: 7320 7265 636f 6d6d 656e 6465 6420 7468  s recommended th
-000088f0: 6174 206e 6573 7469 6e67 2069 6d70 6c69  at nesting impli
-00008900: 6369 7420 6c61 6d62 6461 7320 6265 2061  cit lambdas be a
-00008910: 766f 6964 6564 2e5f 0d0a 0d0a 2323 2320  voided._....### 
-00008920: 5061 7274 6961 6c20 4170 706c 6963 6174  Partial Applicat
-00008930: 696f 6e0d 0a0d 0a43 6f63 6f6e 7574 2075  ion....Coconut u
-00008940: 7365 7320 6120 6024 6020 7369 676e 2072  ses a `$` sign r
-00008950: 6967 6874 2061 6674 6572 2061 2066 756e  ight after a fun
-00008960: 6374 696f 6e27 7320 6e61 6d65 2062 7574  ction's name but
-00008970: 2062 6566 6f72 6520 7468 6520 6f70 656e   before the open
-00008980: 2070 6172 656e 7468 6573 6973 2075 7365   parenthesis use
-00008990: 6420 746f 2063 616c 6c20 7468 6520 6675  d to call the fu
-000089a0: 6e63 7469 6f6e 2074 6f20 6465 6e6f 7465  nction to denote
-000089b0: 2070 6172 7469 616c 2061 7070 6c69 6361   partial applica
-000089c0: 7469 6f6e 2e0d 0a0d 0a43 6f63 6f6e 7574  tion.....Coconut
-000089d0: 2773 2070 6172 7469 616c 2061 7070 6c69  's partial appli
-000089e0: 6361 7469 6f6e 2061 6c73 6f20 7375 7070  cation also supp
-000089f0: 6f72 7473 2074 6865 2075 7365 206f 6620  orts the use of 
-00008a00: 6120 603f 6020 746f 2073 6b69 7020 7061  a `?` to skip pa
-00008a10: 7274 6961 6c6c 7920 6170 706c 7969 6e67  rtially applying
-00008a20: 2061 6e20 6172 6775 6d65 6e74 2c20 6465   an argument, de
-00008a30: 6665 7272 696e 6720 6669 6c6c 696e 6720  ferring filling 
-00008a40: 696e 2074 6861 7420 6172 6775 6d65 6e74  in that argument
-00008a50: 2075 6e74 696c 2074 6865 2070 6172 7469   until the parti
-00008a60: 616c 6c79 2d61 7070 6c69 6564 2066 756e  ally-applied fun
-00008a70: 6374 696f 6e20 6973 2063 616c 6c65 642e  ction is called.
-00008a80: 2054 6869 7320 6973 2075 7365 6675 6c20   This is useful 
-00008a90: 6966 2079 6f75 2077 616e 7420 746f 2070  if you want to p
-00008aa0: 6172 7469 616c 6c79 2061 7070 6c79 2061  artially apply a
-00008ab0: 7267 756d 656e 7473 2074 6861 7420 6172  rguments that ar
-00008ac0: 656e 2774 2066 6972 7374 2069 6e20 7468  en't first in th
-00008ad0: 6520 6172 6775 6d65 6e74 206f 7264 6572  e argument order
-00008ae0: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
-00008af0: 792c 2060 3f60 2063 616e 2065 7665 6e20  y, `?` can even 
-00008b00: 6265 2075 7365 6420 6173 2074 6865 2076  be used as the v
-00008b10: 616c 7565 206f 6620 6b65 7977 6f72 6420  alue of keyword 
-00008b20: 6172 6775 6d65 6e74 7320 746f 2063 6f6e  arguments to con
-00008b30: 7665 7274 2074 6865 6d20 696e 746f 2070  vert them into p
-00008b40: 6f73 6974 696f 6e61 6c20 6172 6775 6d65  ositional argume
-00008b50: 6e74 732e 2046 6f72 2065 7861 6d70 6c65  nts. For example
-00008b60: 2c20 6066 2428 783d 3f29 6020 6973 2065  , `f$(x=?)` is e
-00008b70: 6666 6563 7469 7665 6c79 2065 7175 6976  ffectively equiv
-00008b80: 616c 656e 7420 746f 0d0a 6060 6063 6f63  alent to..```coc
-00008b90: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
-00008ba0: 206e 6577 5f66 2878 2c20 2a61 7267 732c   new_f(x, *args,
-00008bb0: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
-00008bc0: 206b 7761 7267 735b 2278 225d 203d 2078   kwargs["x"] = x
-00008bd0: 0d0a 2020 2020 7265 7475 726e 2066 282a  ..    return f(*
-00008be0: 6172 6773 2c20 2a2a 6b77 6172 6773 290d  args, **kwargs).
-00008bf0: 0a60 6060 0d0a 0d0a 2323 2323 2320 5261  .```....##### Ra
-00008c00: 7469 6f6e 616c 650d 0a0d 0a50 6172 7469  tionale....Parti
-00008c10: 616c 2061 7070 6c69 6361 7469 6f6e 2c20  al application, 
-00008c20: 6f72 2063 7572 7279 696e 672c 2069 7320  or currying, is 
-00008c30: 6120 6d61 696e 7374 6179 206f 6620 6675  a mainstay of fu
-00008c40: 6e63 7469 6f6e 616c 2070 726f 6772 616d  nctional program
-00008c50: 6d69 6e67 2c20 616e 6420 666f 7220 676f  ming, and for go
-00008c60: 6f64 2072 6561 736f 6e3a 2069 7420 616c  od reason: it al
-00008c70: 6c6f 7773 2074 6865 2064 796e 616d 6963  lows the dynamic
-00008c80: 2063 7573 746f 6d69 7a61 7469 6f6e 206f   customization o
-00008c90: 6620 6675 6e63 7469 6f6e 7320 746f 2066  f functions to f
-00008ca0: 6974 2074 6865 206e 6565 6473 206f 6620  it the needs of 
-00008cb0: 7768 6572 6520 7468 6579 2061 7265 2062  where they are b
-00008cc0: 6569 6e67 2075 7365 642e 2050 6172 7469  eing used. Parti
-00008cd0: 616c 2061 7070 6c69 6361 7469 6f6e 2061  al application a
-00008ce0: 6c6c 6f77 7320 6120 6e65 7720 6675 6e63  llows a new func
-00008cf0: 7469 6f6e 2074 6f20 6265 2063 7265 6174  tion to be creat
-00008d00: 6564 206f 7574 206f 6620 616e 206f 6c64  ed out of an old
-00008d10: 2066 756e 6374 696f 6e20 7769 7468 2073   function with s
-00008d20: 6f6d 6520 6f66 2069 7473 2061 7267 756d  ome of its argum
-00008d30: 656e 7473 2070 7265 2d73 7065 6369 6669  ents pre-specifi
-00008d40: 6564 2e0d 0a0d 0a23 2323 2323 2050 7974  ed.....##### Pyt
-00008d50: 686f 6e20 446f 6373 0d0a 0d0a 5265 7475  hon Docs....Retu
-00008d60: 726e 2061 206e 6577 2060 7061 7274 6961  rn a new `partia
-00008d70: 6c60 206f 626a 6563 7420 7768 6963 6820  l` object which 
-00008d80: 7768 656e 2063 616c 6c65 6420 7769 6c6c  when called will
-00008d90: 2062 6568 6176 6520 6c69 6b65 205f 6675   behave like _fu
-00008da0: 6e63 5f20 6361 6c6c 6564 2077 6974 6820  nc_ called with 
-00008db0: 7468 6520 706f 7369 7469 6f6e 616c 2061  the positional a
-00008dc0: 7267 756d 656e 7473 205f 6172 6773 5f20  rguments _args_ 
-00008dd0: 616e 6420 6b65 7977 6f72 6420 6172 6775  and keyword argu
-00008de0: 6d65 6e74 7320 5f6b 6579 776f 7264 735f  ments _keywords_
-00008df0: 2e20 4966 206d 6f72 6520 6172 6775 6d65  . If more argume
-00008e00: 6e74 7320 6172 6520 7375 7070 6c69 6564  nts are supplied
-00008e10: 2074 6f20 7468 6520 6361 6c6c 2c20 7468   to the call, th
-00008e20: 6579 2061 7265 2061 7070 656e 6465 6420  ey are appended 
-00008e30: 746f 205f 6172 6773 5f2e 2049 6620 6164  to _args_. If ad
-00008e40: 6469 7469 6f6e 616c 206b 6579 776f 7264  ditional keyword
-00008e50: 2061 7267 756d 656e 7473 2061 7265 2073   arguments are s
-00008e60: 7570 706c 6965 642c 2074 6865 7920 6578  upplied, they ex
-00008e70: 7465 6e64 2061 6e64 206f 7665 7272 6964  tend and overrid
-00008e80: 6520 5f6b 6579 776f 7264 735f 2e20 526f  e _keywords_. Ro
-00008e90: 7567 686c 7920 6571 7569 7661 6c65 6e74  ughly equivalent
-00008ea0: 2074 6f3a 0d0a 6060 6063 6f63 6f6e 7574   to:..```coconut
-00008eb0: 5f70 7974 686f 6e0d 0a64 6566 2070 6172  _python..def par
-00008ec0: 7469 616c 2866 756e 632c 202a 6172 6773  tial(func, *args
-00008ed0: 2c20 2a2a 6b65 7977 6f72 6473 293a 0d0a  , **keywords):..
-00008ee0: 2020 2020 6465 6620 6e65 7766 756e 6328      def newfunc(
-00008ef0: 2a66 6172 6773 2c20 2a2a 666b 6579 776f  *fargs, **fkeywo
-00008f00: 7264 7329 3a0d 0a20 2020 2020 2020 206e  rds):..        n
-00008f10: 6577 6b65 7977 6f72 6473 203d 206b 6579  ewkeywords = key
-00008f20: 776f 7264 732e 636f 7079 2829 0d0a 2020  words.copy()..  
-00008f30: 2020 2020 2020 6e65 776b 6579 776f 7264        newkeyword
-00008f40: 732e 7570 6461 7465 2866 6b65 7977 6f72  s.update(fkeywor
-00008f50: 6473 290d 0a20 2020 2020 2020 2072 6574  ds)..        ret
-00008f60: 7572 6e20 6675 6e63 282a 2861 7267 7320  urn func(*(args 
-00008f70: 2b20 6661 7267 7329 2c20 2a2a 6e65 776b  + fargs), **newk
-00008f80: 6579 776f 7264 7329 0d0a 2020 2020 6e65  eywords)..    ne
-00008f90: 7766 756e 632e 6675 6e63 203d 2066 756e  wfunc.func = fun
-00008fa0: 630d 0a20 2020 206e 6577 6675 6e63 2e61  c..    newfunc.a
-00008fb0: 7267 7320 3d20 6172 6773 0d0a 2020 2020  rgs = args..    
-00008fc0: 6e65 7766 756e 632e 6b65 7977 6f72 6473  newfunc.keywords
-00008fd0: 203d 206b 6579 776f 7264 730d 0a20 2020   = keywords..   
-00008fe0: 2072 6574 7572 6e20 6e65 7766 756e 630d   return newfunc.
-00008ff0: 0a60 6060 0d0a 5468 6520 6070 6172 7469  .```..The `parti
-00009000: 616c 6020 6f62 6a65 6374 2069 7320 7573  al` object is us
-00009010: 6564 2066 6f72 2070 6172 7469 616c 2066  ed for partial f
-00009020: 756e 6374 696f 6e20 6170 706c 6963 6174  unction applicat
-00009030: 696f 6e20 7768 6963 6820 e280 9c66 7265  ion which ...fre
-00009040: 657a 6573 e280 9d20 736f 6d65 2070 6f72  ezes... some por
-00009050: 7469 6f6e 206f 6620 6120 6675 6e63 7469  tion of a functi
-00009060: 6f6e 2773 2061 7267 756d 656e 7473 2061  on's arguments a
-00009070: 6e64 2f6f 7220 6b65 7977 6f72 6473 2072  nd/or keywords r
-00009080: 6573 756c 7469 6e67 2069 6e20 6120 6e65  esulting in a ne
-00009090: 7720 6f62 6a65 6374 2077 6974 6820 6120  w object with a 
-000090a0: 7369 6d70 6c69 6669 6564 2073 6967 6e61  simplified signa
-000090b0: 7475 7265 2e0d 0a0d 0a23 2323 2323 2045  ture.....##### E
-000090c0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-000090d0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-000090e0: 7574 0d0a 6578 706e 756d 7320 3d20 7261  ut..expnums = ra
-000090f0: 6e67 6528 3529 207c 3e20 6d61 7024 2870  nge(5) |> map$(p
-00009100: 6f77 2428 3f2c 2032 2929 0d0a 6578 706e  ow$(?, 2))..expn
-00009110: 756d 7320 7c3e 206c 6973 7420 7c3e 2070  ums |> list |> p
-00009120: 7269 6e74 0d0a 6060 600d 0a0d 0a2a 2a50  rint..```....**P
-00009130: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
-00009140: 6f6e 7574 5f70 7974 686f 6e0d 0a23 2075  onut_python..# u
-00009150: 6e6c 696b 6520 7468 6973 2073 696d 706c  nlike this simpl
-00009160: 6520 6c61 6d62 6461 2c20 2420 7072 6f64  e lambda, $ prod
-00009170: 7563 6573 2061 2070 6963 6b6c 6561 626c  uces a pickleabl
-00009180: 6520 6f62 6a65 6374 0d0a 6578 706e 756d  e object..expnum
-00009190: 7320 3d20 6d61 7028 6c61 6d62 6461 2078  s = map(lambda x
-000091a0: 3a20 706f 7728 782c 2032 292c 2072 616e  : pow(x, 2), ran
-000091b0: 6765 2835 2929 0d0a 7072 696e 7428 6c69  ge(5))..print(li
-000091c0: 7374 2865 7870 6e75 6d73 2929 0d0a 6060  st(expnums))..``
-000091d0: 600d 0a0d 0a23 2323 2050 6970 6573 0d0a  `....### Pipes..
-000091e0: 0d0a 436f 636f 6e75 7420 7573 6573 2070  ..Coconut uses p
-000091f0: 6970 6520 6f70 6572 6174 6f72 7320 666f  ipe operators fo
-00009200: 7220 7069 7065 6c69 6e65 2d73 7479 6c65  r pipeline-style
-00009210: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
-00009220: 6174 696f 6e2e 2041 6c6c 2074 6865 206f  ation. All the o
-00009230: 7065 7261 746f 7273 2068 6176 6520 6120  perators have a 
-00009240: 7072 6563 6564 656e 6365 2069 6e2d 6265  precedence in-be
-00009250: 7477 6565 6e20 6675 6e63 7469 6f6e 2063  tween function c
-00009260: 6f6d 706f 7369 7469 6f6e 2070 6970 6573  omposition pipes
-00009270: 2061 6e64 2063 6f6d 7061 7269 736f 6e73   and comparisons
-00009280: 2c20 616e 6420 6172 6520 6c65 6674 2d61  , and are left-a
-00009290: 7373 6f63 6961 7469 7665 2e20 416c 6c20  ssociative. All 
-000092a0: 6f70 6572 6174 6f72 7320 616c 736f 2073  operators also s
-000092b0: 7570 706f 7274 2069 6e2d 706c 6163 6520  upport in-place 
-000092c0: 7665 7273 696f 6e73 2e20 5468 6520 6469  versions. The di
-000092d0: 6666 6572 656e 7420 6f70 6572 6174 6f72  fferent operator
-000092e0: 7320 6172 653a 0d0a 6060 6063 6f63 6f6e  s are:..```cocon
-000092f0: 7574 0d0a 287c 3e29 2020 2020 3d3e 2070  ut..(|>)    => p
-00009300: 6970 6520 666f 7277 6172 640d 0a28 7c2a  ipe forward..(|*
-00009310: 3e29 2020 203d 3e20 6d75 6c74 6970 6c65  >)   => multiple
-00009320: 2d61 7267 756d 656e 7420 7069 7065 2066  -argument pipe f
-00009330: 6f72 7761 7264 0d0a 287c 2a2a 3e29 2020  orward..(|**>)  
-00009340: 3d3e 206b 6579 776f 7264 2061 7267 756d  => keyword argum
-00009350: 656e 7420 7069 7065 2066 6f72 7761 7264  ent pipe forward
-00009360: 0d0a 283c 7c29 2020 2020 3d3e 2070 6970  ..(<|)    => pip
-00009370: 6520 6261 636b 7761 7264 0d0a 283c 2a7c  e backward..(<*|
-00009380: 2920 2020 3d3e 206d 756c 7469 706c 652d  )   => multiple-
-00009390: 6172 6775 6d65 6e74 2070 6970 6520 6261  argument pipe ba
-000093a0: 636b 7761 7264 0d0a 283c 2a2a 7c29 2020  ckward..(<**|)  
-000093b0: 3d3e 206b 6579 776f 7264 2061 7267 756d  => keyword argum
-000093c0: 656e 7420 7069 7065 2062 6163 6b77 6172  ent pipe backwar
-000093d0: 640d 0a28 7c3f 3e29 2020 203d 3e20 4e6f  d..(|?>)   => No
-000093e0: 6e65 2d61 7761 7265 2070 6970 6520 666f  ne-aware pipe fo
-000093f0: 7277 6172 640d 0a28 7c3f 2a3e 2920 203d  rward..(|?*>)  =
-00009400: 3e20 4e6f 6e65 2d61 7761 7265 206d 756c  > None-aware mul
-00009410: 7469 2d61 7267 2070 6970 6520 666f 7277  ti-arg pipe forw
-00009420: 6172 640d 0a28 7c3f 2a2a 3e29 203d 3e20  ard..(|?**>) => 
-00009430: 4e6f 6e65 2d61 7761 7265 206b 6579 776f  None-aware keywo
-00009440: 7264 2061 7267 2070 6970 6520 666f 7277  rd arg pipe forw
-00009450: 6172 640d 0a28 3c3f 7c29 2020 203d 3e20  ard..(<?|)   => 
-00009460: 4e6f 6e65 2d61 7761 7265 2070 6970 6520  None-aware pipe 
-00009470: 6261 636b 7761 7264 0d0a 283c 2a3f 7c29  backward..(<*?|)
-00009480: 2020 3d3e 204e 6f6e 652d 6177 6172 6520    => None-aware 
-00009490: 6d75 6c74 692d 6172 6720 7069 7065 2062  multi-arg pipe b
-000094a0: 6163 6b77 6172 640d 0a28 3c2a 2a3f 7c29  ackward..(<**?|)
-000094b0: 203d 3e20 4e6f 6e65 2d61 7761 7265 206b   => None-aware k
-000094c0: 6579 776f 7264 2061 7267 2070 6970 6520  eyword arg pipe 
-000094d0: 6261 636b 7761 7264 0d0a 6060 600d 0a0d  backward..```...
-000094e0: 0a41 6464 6974 696f 6e61 6c6c 792c 2061  .Additionally, a
-000094f0: 6c6c 2070 6970 6520 6f70 6572 6174 6f72  ll pipe operator
-00009500: 7320 7375 7070 6f72 7420 6120 6c61 6d62  s support a lamb
-00009510: 6461 2061 7320 7468 6520 6c61 7374 2061  da as the last a
-00009520: 7267 756d 656e 742c 2064 6573 7069 7465  rgument, despite
-00009530: 206c 616d 6264 6173 2068 6176 696e 6720   lambdas having 
-00009540: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
-00009550: 6365 2e20 5468 7573 2c20 6061 207c 3e20  ce. Thus, `a |> 
-00009560: 7820 2d3e 2062 207c 3e20 6360 2069 7320  x -> b |> c` is 
-00009570: 6571 7569 7661 6c65 6e74 2074 6f20 6061  equivalent to `a
-00009580: 207c 3e20 2878 202d 3e20 6220 7c3e 2063   |> (x -> b |> c
-00009590: 2960 2c20 6e6f 7420 6061 207c 3e20 2878  )`, not `a |> (x
-000095a0: 202d 3e20 6229 207c 3e20 6360 2e0d 0a0d   -> b) |> c`....
-000095b0: 0a54 6865 204e 6f6e 652d 6177 6172 6520  .The None-aware 
-000095c0: 7069 7065 206f 7065 7261 746f 7273 2068  pipe operators h
-000095d0: 6572 6520 6172 6520 6571 7569 7661 6c65  ere are equivale
-000095e0: 6e74 2074 6f20 6120 5b6d 6f6e 6164 6963  nt to a [monadic
-000095f0: 2062 696e 645d 2868 7474 7073 3a2f 2f65   bind](https://e
-00009600: 6e2e 7769 6b69 7065 6469 612e 6f72 672f  n.wikipedia.org/
-00009610: 7769 6b69 2f4d 6f6e 6164 5f28 6675 6e63  wiki/Monad_(func
-00009620: 7469 6f6e 616c 5f70 726f 6772 616d 6d69  tional_programmi
-00009630: 6e67 2929 2074 7265 6174 696e 6720 7468  ng)) treating th
-00009640: 6520 6f62 6a65 6374 2061 7320 6120 604d  e object as a `M
-00009650: 6179 6265 6020 6d6f 6e61 6420 636f 6d70  aybe` monad comp
-00009660: 6f73 6564 206f 6620 6569 7468 6572 2060  osed of either `
-00009670: 4e6f 6e65 6020 6f72 2074 6865 2067 6976  None` or the giv
-00009680: 656e 206f 626a 6563 742e 204e 6f74 6520  en object. Note 
-00009690: 7468 6174 206f 6e6c 7920 7468 6520 6f62  that only the ob
-000096a0: 6a65 6374 2062 6569 6e67 2070 6970 6564  ject being piped
-000096b0: 2c20 6e6f 7420 7468 6520 6675 6e63 7469  , not the functi
-000096c0: 6f6e 2062 6569 6e67 2070 6970 6564 2069  on being piped i
-000096d0: 6e74 6f2c 206d 6179 2062 6520 604e 6f6e  nto, may be `Non
-000096e0: 6560 2066 6f72 2060 4e6f 6e65 602d 6177  e` for `None`-aw
-000096f0: 6172 6520 7069 7065 732e 0d0a 0d0a 5f4e  are pipes....._N
-00009700: 6f74 653a 2054 6f20 7669 7375 616c 6c79  ote: To visually
-00009710: 2073 7072 6561 6420 6f70 6572 6174 696f   spread operatio
-00009720: 6e73 2061 6372 6f73 7320 7365 7665 7261  ns across severa
-00009730: 6c20 6c69 6e65 732c 206a 7573 7420 7573  l lines, just us
-00009740: 6520 5b70 6172 656e 7468 6574 6963 616c  e [parenthetical
-00009750: 2063 6f6e 7469 6e75 6174 696f 6e5d 2823   continuation](#
-00009760: 656e 6861 6e63 6564 2d70 6172 656e 7468  enhanced-parenth
-00009770: 6574 6963 616c 2d63 6f6e 7469 6e75 6174  etical-continuat
-00009780: 696f 6e29 2e5f 0d0a 0d0a 2323 2323 2320  ion)._....##### 
-00009790: 4f70 7469 6d69 7a61 7469 6f6e 730d 0a0d  Optimizations...
-000097a0: 0a49 7420 6973 2063 6f6d 6d6f 6e20 696e  .It is common in
-000097b0: 2043 6f63 6f6e 7574 2074 6f20 7772 6974   Coconut to writ
-000097c0: 6520 636f 6465 2074 6861 7420 7573 6573  e code that uses
-000097d0: 2070 6970 6573 2074 6f20 7061 7373 2061   pipes to pass a
-000097e0: 6e20 6f62 6a65 6374 2074 6872 6f75 6768  n object through
-000097f0: 2061 2073 6572 6965 7320 6f66 205b 7061   a series of [pa
-00009800: 7274 6961 6c73 5d28 2370 6172 7469 616c  rtials](#partial
-00009810: 2d61 7070 6c69 6361 7469 6f6e 2920 616e  -application) an
-00009820: 642f 6f72 205b 696d 706c 6963 6974 2070  d/or [implicit p
-00009830: 6172 7469 616c 735d 2823 696d 706c 6963  artials](#implic
-00009840: 6974 2d70 6172 7469 616c 2d61 7070 6c69  it-partial-appli
-00009850: 6361 7469 6f6e 292c 2061 7320 696e 0d0a  cation), as in..
-00009860: 6060 6063 6f63 6f6e 7574 0d0a 6f62 6a20  ```coconut..obj 
-00009870: 7c3e 202e 6174 7472 6962 7574 6520 7c3e  |> .attribute |>
-00009880: 202e 6d65 7468 6f64 2861 7267 7329 207c   .method(args) |
-00009890: 3e20 6675 6e63 2428 6172 6773 2920 7c3e  > func$(args) |>
-000098a0: 202e 5b69 6e64 6578 5d0d 0a60 6060 0d0a   .[index]..```..
-000098b0: 7768 6963 6820 6973 206f 6674 656e 206d  which is often m
-000098c0: 7563 6820 6d6f 7265 2072 6561 6461 626c  uch more readabl
-000098d0: 652c 2061 7320 6974 2061 6c6c 6f77 7320  e, as it allows 
-000098e0: 7468 6520 6f70 6572 6174 696f 6e73 2074  the operations t
-000098f0: 6f20 6265 2077 7269 7474 656e 2069 6e20  o be written in 
-00009900: 7468 6520 6f72 6465 7220 696e 2077 6869  the order in whi
-00009910: 6368 2074 6865 7920 6172 6520 7065 7266  ch they are perf
-00009920: 6f72 6d65 642c 2069 6e73 7465 6164 206f  ormed, instead o
-00009930: 6620 6173 2069 6e0d 0a60 6060 636f 636f  f as in..```coco
-00009940: 6e75 745f 7079 7468 6f6e 0d0a 6675 6e63  nut_python..func
-00009950: 2861 7267 732c 206f 626a 2e61 7474 7269  (args, obj.attri
-00009960: 6275 7465 2e6d 6574 686f 6428 6172 6773  bute.method(args
-00009970: 2929 5b69 6e64 6578 5d0d 0a60 6060 0d0a  ))[index]..```..
-00009980: 7768 6572 6520 6066 756e 6360 2068 6173  where `func` has
-00009990: 2074 6f20 676f 2061 7420 7468 6520 6265   to go at the be
-000099a0: 6769 6e6e 696e 672e 0d0a 0d0a 4966 2043  ginning.....If C
-000099b0: 6f63 6f6e 7574 2063 6f6d 7069 6c65 6420  oconut compiled 
-000099c0: 6561 6368 206f 6620 7468 6520 7061 7274  each of the part
-000099d0: 6961 6c73 2069 6e20 7468 6520 7069 7065  ials in the pipe
-000099e0: 2073 796e 7461 7820 6173 2061 6e20 6163   syntax as an ac
-000099f0: 7475 616c 2070 6172 7469 616c 2061 7070  tual partial app
-00009a00: 6c69 6361 7469 6f6e 206f 626a 6563 742c  lication object,
-00009a10: 2069 7420 776f 756c 6420 6d61 6b65 2074   it would make t
-00009a20: 6865 2043 6f63 6f6e 7574 2d73 7479 6c65  he Coconut-style
-00009a30: 2073 796e 7461 7820 7369 676e 6966 6963   syntax signific
-00009a40: 616e 746c 7920 736c 6f77 6572 2074 6861  antly slower tha
-00009a50: 6e20 7468 6520 5079 7468 6f6e 2d73 7479  n the Python-sty
-00009a60: 6c65 2073 796e 7461 782e 2054 6875 732c  le syntax. Thus,
-00009a70: 2043 6f63 6f6e 7574 2064 6f65 7320 6e6f   Coconut does no
-00009a80: 7420 646f 2074 6861 742e 2049 6620 616e  t do that. If an
-00009a90: 7920 6f66 2074 6865 2061 626f 7665 2073  y of the above s
-00009aa0: 7479 6c65 7320 6f66 2070 6172 7469 616c  tyles of partial
-00009ab0: 7320 6f72 2069 6d70 6c69 6369 7420 7061  s or implicit pa
-00009ac0: 7274 6961 6c73 2061 7265 2075 7365 6420  rtials are used 
-00009ad0: 696e 2070 6970 6573 2c20 7468 6579 2077  in pipes, they w
-00009ae0: 696c 6c20 7768 656e 6576 6572 2070 6f73  ill whenever pos
-00009af0: 7369 626c 6520 6265 2063 6f6d 7069 6c65  sible be compile
-00009b00: 6420 746f 2074 6865 2050 7974 686f 6e2d  d to the Python-
-00009b10: 7374 796c 6520 7379 6e74 6178 2c20 7072  style syntax, pr
-00009b20: 6f64 7563 696e 6720 6e6f 2069 6e74 6572  oducing no inter
-00009b30: 6d65 6469 6174 6520 7061 7274 6961 6c20  mediate partial 
-00009b40: 6170 706c 6963 6174 696f 6e20 6f62 6a65  application obje
-00009b50: 6374 732e 0d0a 0d0a 5468 6973 2061 7070  cts.....This app
-00009b60: 6c69 6573 2065 7665 6e20 746f 2069 6e2d  lies even to in-
-00009b70: 706c 6163 6520 7069 7065 7320 7375 6368  place pipes such
-00009b80: 2061 7320 607c 3e3d 602e 0d0a 0d0a 2323   as `|>=`.....##
-00009b90: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-00009ba0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-00009bb0: 636f 636f 6e75 740d 0a64 6566 2073 7128  coconut..def sq(
-00009bc0: 7829 203d 2078 2a2a 320d 0a28 312c 2032  x) = x**2..(1, 2
-00009bd0: 2920 7c2a 3e20 282b 2920 7c3e 2073 7120  ) |*> (+) |> sq 
-00009be0: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
-00009bf0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-00009c00: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-00009c10: 0a69 6d70 6f72 7420 6f70 6572 6174 6f72  .import operator
-00009c20: 0d0a 6465 6620 7371 2878 293a 2072 6574  ..def sq(x): ret
-00009c30: 7572 6e20 782a 2a32 0d0a 7072 696e 7428  urn x**2..print(
-00009c40: 7371 286f 7065 7261 746f 722e 6164 6428  sq(operator.add(
-00009c50: 312c 2032 2929 290d 0a60 6060 0d0a 0d0a  1, 2)))..```....
-00009c60: 2323 2320 4675 6e63 7469 6f6e 2043 6f6d  ### Function Com
-00009c70: 706f 7369 7469 6f6e 0d0a 0d0a 436f 636f  position....Coco
-00009c80: 6e75 7420 6861 7320 7468 7265 6520 6261  nut has three ba
-00009c90: 7369 6320 6675 6e63 7469 6f6e 2063 6f6d  sic function com
-00009ca0: 706f 7369 7469 6f6e 206f 7065 7261 746f  position operato
-00009cb0: 7273 3a20 602e 2e60 2c20 602e 2e3e 602c  rs: `..`, `..>`,
-00009cc0: 2061 6e64 2060 3c2e 2e60 2e20 426f 7468   and `<..`. Both
-00009cd0: 2060 2e2e 6020 616e 6420 603c 2e2e 6020   `..` and `<..` 
-00009ce0: 7573 6520 6d61 7468 2d73 7479 6c65 2022  use math-style "
-00009cf0: 6261 636b 7761 7264 7322 2066 756e 6374  backwards" funct
-00009d00: 696f 6e20 636f 6d70 6f73 6974 696f 6e2c  ion composition,
-00009d10: 2077 6865 7265 2074 6865 2066 6972 7374   where the first
-00009d20: 2066 756e 6374 696f 6e20 6973 2063 616c   function is cal
-00009d30: 6c65 6420 6c61 7374 2c20 7768 696c 6520  led last, while 
-00009d40: 602e 2e3e 6020 7573 6573 2022 666f 7277  `..>` uses "forw
-00009d50: 6172 6473 2220 6675 6e63 7469 6f6e 2063  ards" function c
-00009d60: 6f6d 706f 7369 7469 6f6e 2c20 7768 6572  omposition, wher
-00009d70: 6520 7468 6520 6669 7273 7420 6675 6e63  e the first func
-00009d80: 7469 6f6e 2069 7320 6361 6c6c 6564 2066  tion is called f
-00009d90: 6972 7374 2e20 466f 7277 6172 6473 2061  irst. Forwards a
-00009da0: 6e64 2062 6163 6b77 6172 6473 2066 756e  nd backwards fun
-00009db0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
-00009dc0: 6e20 7069 7065 7320 6361 6e6e 6f74 2062  n pipes cannot b
-00009dd0: 6520 7573 6564 2074 6f67 6574 6865 7220  e used together 
-00009de0: 696e 2074 6865 2073 616d 6520 6578 7072  in the same expr
-00009df0: 6573 7369 6f6e 2028 756e 6c69 6b65 206e  ession (unlike n
-00009e00: 6f72 6d61 6c20 7069 7065 7329 2061 6e64  ormal pipes) and
-00009e10: 2068 6176 6520 7072 6563 6564 656e 6365   have precedence
-00009e20: 2069 6e2d 6265 7477 6565 6e20 604e 6f6e   in-between `Non
-00009e30: 6560 2d63 6f61 6c65 7363 696e 6720 616e  e`-coalescing an
-00009e40: 6420 6e6f 726d 616c 2070 6970 6573 2e0d  d normal pipes..
-00009e50: 0a0d 0a54 6865 2060 2e2e 3e60 2061 6e64  ...The `..>` and
-00009e60: 2060 3c2e 2e60 2066 756e 6374 696f 6e20   `<..` function 
-00009e70: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-00009e80: 206f 7065 7261 746f 7273 2061 6c73 6f20   operators also 
-00009e90: 6861 7665 206d 756c 7469 2d61 7267 2c20  have multi-arg, 
-00009ea0: 6b65 7977 6f72 642c 2061 6e64 204e 6f6e  keyword, and Non
-00009eb0: 6520 7661 7269 616e 7473 2061 7320 7769  e variants as wi
-00009ec0: 7468 205b 6e6f 726d 616c 2070 6970 6573  th [normal pipes
-00009ed0: 5d28 2370 6970 6573 292e 2054 6865 2066  ](#pipes). The f
-00009ee0: 756c 6c20 6c69 7374 206f 6620 6675 6e63  ull list of func
-00009ef0: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-00009f00: 2070 6970 6520 6f70 6572 6174 6f72 7320   pipe operators 
-00009f10: 6973 3a0d 0a60 6060 0d0a 2e2e 3e20 2020  is:..```....>   
-00009f20: 203d 3e20 666f 7277 6172 6473 2066 756e   => forwards fun
-00009f30: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
-00009f40: 6e20 7069 7065 0d0a 3c2e 2e20 2020 203d  n pipe..<..    =
-00009f50: 3e20 6261 636b 7761 7264 7320 6675 6e63  > backwards func
-00009f60: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-00009f70: 2070 6970 650d 0a2e 2e2a 3e20 2020 3d3e   pipe....*>   =>
-00009f80: 2066 6f72 7761 7264 7320 6d75 6c74 692d   forwards multi-
-00009f90: 6172 6720 6675 6e63 7469 6f6e 2063 6f6d  arg function com
-00009fa0: 706f 7369 7469 6f6e 2070 6970 650d 0a3c  position pipe..<
-00009fb0: 2a2e 2e20 2020 3d3e 2062 6163 6b77 6172  *..   => backwar
-00009fc0: 6473 206d 756c 7469 2d61 7267 2066 756e  ds multi-arg fun
-00009fd0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
-00009fe0: 6e20 7069 7065 0d0a 2e2e 2a2a 3e20 203d  n pipe....**>  =
-00009ff0: 3e20 666f 7277 6172 6473 206b 6579 776f  > forwards keywo
-0000a000: 7264 2061 7267 2066 756e 6374 696f 6e20  rd arg function 
-0000a010: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-0000a020: 0d0a 3c2a 2a2e 2e20 203d 3e20 6261 636b  ..<**..  => back
-0000a030: 7761 7264 7320 6b65 7977 6f72 6420 6172  wards keyword ar
-0000a040: 6720 6675 6e63 7469 6f6e 2063 6f6d 706f  g function compo
-0000a050: 7369 7469 6f6e 2070 6970 650d 0a2e 2e3f  sition pipe....?
-0000a060: 3e20 2020 3d3e 2066 6f72 7761 7264 7320  >   => forwards 
-0000a070: 4e6f 6e65 2d61 7761 7265 2066 756e 6374  None-aware funct
-0000a080: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
-0000a090: 7069 7065 0d0a 3c3f 2e2e 2020 203d 3e20  pipe..<?..   => 
-0000a0a0: 6261 636b 7761 7264 7320 4e6f 6e65 2d61  backwards None-a
-0000a0b0: 7761 7265 2066 756e 6374 696f 6e20 636f  ware function co
-0000a0c0: 6d70 6f73 6974 696f 6e20 7069 7065 0d0a  mposition pipe..
-0000a0d0: 2e2e 3f2a 3e20 203d 3e20 666f 7277 6172  ..?*>  => forwar
-0000a0e0: 6473 204e 6f6e 652d 6177 6172 6520 6d75  ds None-aware mu
-0000a0f0: 6c74 692d 6172 6720 6675 6e63 7469 6f6e  lti-arg function
-0000a100: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
-0000a110: 650d 0a3c 2a3f 2e2e 2020 3d3e 2062 6163  e..<*?..  => bac
-0000a120: 6b77 6172 6473 204e 6f6e 652d 6177 6172  kwards None-awar
-0000a130: 6520 6d75 6c74 692d 6172 6720 6675 6e63  e multi-arg func
-0000a140: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-0000a150: 2070 6970 650d 0a2e 2e3f 2a2a 3e20 3d3e   pipe....?**> =>
-0000a160: 2066 6f72 7761 7264 7320 4e6f 6e65 2d61   forwards None-a
-0000a170: 7761 7265 206b 6579 776f 7264 2061 7267  ware keyword arg
-0000a180: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-0000a190: 6974 696f 6e20 7069 7065 0d0a 3c2a 2a3f  ition pipe..<**?
-0000a1a0: 2e2e 203d 3e20 6261 636b 7761 7264 7320  .. => backwards 
-0000a1b0: 4e6f 6e65 2d61 7761 7265 206b 6579 776f  None-aware keywo
-0000a1c0: 7264 2061 7267 2066 756e 6374 696f 6e20  rd arg function 
-0000a1d0: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-0000a1e0: 0d0a 6060 600d 0a0d 0a4e 6f74 6520 7468  ..```....Note th
-0000a1f0: 6174 2060 4e6f 6e65 602d 6177 6172 6520  at `None`-aware 
-0000a200: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-0000a210: 7469 6f6e 2070 6970 6573 2064 6f6e 2774  tion pipes don't
-0000a220: 2061 6c6c 6f77 2065 6974 6865 7220 6675   allow either fu
-0000a230: 6e63 7469 6f6e 2074 6f20 6265 2060 4e6f  nction to be `No
-0000a240: 6e65 60e2 8094 7261 7468 6572 2c20 7468  ne`...rather, th
-0000a250: 6579 2061 6c6c 6f77 2074 6865 2072 6574  ey allow the ret
-0000a260: 7572 6e20 6f66 2074 6865 2066 6972 7374  urn of the first
-0000a270: 2065 7661 6c75 6174 6564 2066 756e 6374   evaluated funct
-0000a280: 696f 6e20 746f 2062 6520 604e 6f6e 6560  ion to be `None`
-0000a290: 2c20 696e 2077 6869 6368 2063 6173 6520  , in which case 
-0000a2a0: 604e 6f6e 6560 2069 7320 7265 7475 726e  `None` is return
-0000a2b0: 6564 2069 6d6d 6564 6961 7465 6c79 2072  ed immediately r
-0000a2c0: 6174 6865 7220 7468 616e 2063 616c 6c69  ather than calli
-0000a2d0: 6e67 2074 6865 206e 6578 7420 6675 6e63  ng the next func
-0000a2e0: 7469 6f6e 2e0d 0a0d 0a54 6865 2060 2e2e  tion.....The `..
-0000a2f0: 6020 6f70 6572 6174 6f72 2068 6173 206c  ` operator has l
-0000a300: 6f77 6572 2070 7265 6365 6465 6e63 6520  ower precedence 
-0000a310: 7468 616e 2060 6177 6169 7460 2062 7574  than `await` but
-0000a320: 2068 6967 6865 7220 7072 6563 6564 656e   higher preceden
-0000a330: 6365 2074 6861 6e20 602a 2a60 2077 6869  ce than `**` whi
-0000a340: 6c65 2074 6865 2060 2e2e 3e60 2070 6970  le the `..>` pip
-0000a350: 6520 6f70 6572 6174 6f72 7320 6861 7665  e operators have
-0000a360: 2061 2070 7265 6365 6465 6e63 6520 6469   a precedence di
-0000a370: 7265 6374 6c79 2068 6967 6865 7220 7468  rectly higher th
-0000a380: 616e 206e 6f72 6d61 6c20 7069 7065 732e  an normal pipes.
-0000a390: 0d0a 0d0a 416c 6c20 6675 6e63 7469 6f6e  ....All function
-0000a3a0: 2063 6f6d 706f 7369 7469 6f6e 206f 7065   composition ope
-0000a3b0: 7261 746f 7273 2061 6c73 6f20 6861 7665  rators also have
-0000a3c0: 2069 6e2d 706c 6163 6520 7665 7273 696f   in-place versio
-0000a3d0: 6e73 2028 652e 672e 2060 2e2e 3d60 292e  ns (e.g. `..=`).
-0000a3e0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-0000a3f0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-0000a400: 2a0d 0a60 6060 636f 636f 6e75 740d 0a66  *..```coconut..f
-0000a410: 6f67 203d 2066 2e2e 670d 0a66 5f69 6e74  og = f..g..f_int
-0000a420: 6f5f 6720 3d20 6620 2e2e 3e20 670d 0a60  o_g = f ..> g..`
-0000a430: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0000a440: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0000a450: 7468 6f6e 0d0a 2320 756e 6c69 6b65 2074  thon..# unlike t
-0000a460: 6865 7365 2073 696d 706c 6520 6c61 6d62  hese simple lamb
-0000a470: 6461 732c 2043 6f63 6f6e 7574 2070 726f  das, Coconut pro
-0000a480: 6475 6365 7320 7069 636b 6c65 6162 6c65  duces pickleable
-0000a490: 206f 626a 6563 7473 0d0a 666f 6720 3d20   objects..fog = 
-0000a4a0: 6c61 6d62 6461 202a 6172 6773 2c20 2a2a  lambda *args, **
-0000a4b0: 6b77 6172 6773 3a20 6628 6728 2a61 7267  kwargs: f(g(*arg
-0000a4c0: 732c 202a 2a6b 7761 7267 7329 290d 0a66  s, **kwargs))..f
-0000a4d0: 5f69 6e74 6f5f 6720 3d20 6c61 6d62 6461  _into_g = lambda
-0000a4e0: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
-0000a4f0: 3a20 6728 6628 2a61 7267 732c 202a 2a6b  : g(f(*args, **k
-0000a500: 7761 7267 7329 290d 0a60 6060 0d0a 0d0a  wargs))..```....
-0000a510: 2323 2320 4974 6572 6174 6f72 2053 6c69  ### Iterator Sli
-0000a520: 6369 6e67 0d0a 0d0a 436f 636f 6e75 7420  cing....Coconut 
-0000a530: 7573 6573 2061 2060 2460 2073 6967 6e20  uses a `$` sign 
-0000a540: 7269 6768 7420 6166 7465 7220 616e 2069  right after an i
-0000a550: 7465 7261 746f 7220 6265 666f 7265 2061  terator before a
-0000a560: 2073 6c69 6365 2074 6f20 7065 7266 6f72   slice to perfor
-0000a570: 6d20 6974 6572 6174 6f72 2073 6c69 6369  m iterator slici
-0000a580: 6e67 2c20 6173 2069 6e20 6069 7424 5b3a  ng, as in `it$[:
-0000a590: 355d 602e 2043 6f63 6f6e 7574 2773 2069  5]`. Coconut's i
-0000a5a0: 7465 7261 746f 7220 736c 6963 696e 6720  terator slicing 
-0000a5b0: 776f 726b 7320 6d75 6368 2074 6865 2073  works much the s
-0000a5c0: 616d 6520 6173 2050 7974 686f 6e27 7320  ame as Python's 
-0000a5d0: 7365 7175 656e 6365 2073 6c69 6369 6e67  sequence slicing
-0000a5e0: 2c20 616e 6420 6c6f 6f6b 7320 6d75 6368  , and looks much
-0000a5f0: 2074 6865 2073 616d 6520 6173 2043 6f63   the same as Coc
-0000a600: 6f6e 7574 2773 2070 6172 7469 616c 2061  onut's partial a
-0000a610: 7070 6c69 6361 7469 6f6e 2c20 6275 7420  pplication, but 
-0000a620: 7769 7468 2062 7261 636b 6574 7320 696e  with brackets in
-0000a630: 7374 6561 6420 6f66 2070 6172 656e 7468  stead of parenth
-0000a640: 6573 6573 2e0d 0a0d 0a49 7465 7261 746f  eses.....Iterato
-0000a650: 7220 736c 6963 696e 6720 776f 726b 7320  r slicing works 
-0000a660: 6a75 7374 206c 696b 6520 7365 7175 656e  just like sequen
-0000a670: 6365 2073 6c69 6369 6e67 2c20 696e 636c  ce slicing, incl
-0000a680: 7564 696e 6720 7375 7070 6f72 7420 666f  uding support fo
-0000a690: 7220 6e65 6761 7469 7665 2069 6e64 6963  r negative indic
-0000a6a0: 6573 2061 6e64 2073 6c69 6365 732c 2061  es and slices, a
-0000a6b0: 6e64 2073 7570 706f 7274 2066 6f72 2060  nd support for `
-0000a6c0: 736c 6963 6560 206f 626a 6563 7473 2069  slice` objects i
-0000a6d0: 6e20 7468 6520 7361 6d65 2077 6179 2061  n the same way a
-0000a6e0: 7320 6361 6e20 6265 2064 6f6e 6520 7769  s can be done wi
-0000a6f0: 7468 206e 6f72 6d61 6c20 736c 6963 696e  th normal slicin
-0000a700: 672e 2049 7465 7261 746f 7220 736c 6963  g. Iterator slic
-0000a710: 696e 6720 6d61 6b65 7320 6e6f 2067 7561  ing makes no gua
-0000a720: 7261 6e74 6565 2c20 686f 7765 7665 722c  rantee, however,
-0000a730: 2074 6861 7420 7468 6520 6f72 6967 696e   that the origin
-0000a740: 616c 2069 7465 7261 746f 7220 7061 7373  al iterator pass
-0000a750: 6564 2074 6f20 6974 2062 6520 7072 6573  ed to it be pres
-0000a760: 6572 7665 6420 2874 6f20 7072 6573 6572  erved (to preser
-0000a770: 7665 2074 6865 2069 7465 7261 746f 722c  ve the iterator,
-0000a780: 2075 7365 2043 6f63 6f6e 7574 2773 205b   use Coconut's [
-0000a790: 6072 6569 7465 7261 626c 6560 5d28 2372  `reiterable`](#r
-0000a7a0: 6569 7465 7261 626c 6529 2062 7569 6c74  eiterable) built
-0000a7b0: 2d69 6e29 2e0d 0a0d 0a43 6f63 6f6e 7574  -in).....Coconut
-0000a7c0: 2773 2069 7465 7261 746f 7220 736c 6963  's iterator slic
-0000a7d0: 696e 6720 6973 2076 6572 7920 7369 6d69  ing is very simi
-0000a7e0: 6c61 7220 746f 2050 7974 686f 6e27 7320  lar to Python's 
-0000a7f0: 6069 7465 7274 6f6f 6c73 2e69 736c 6963  `itertools.islic
-0000a800: 6560 2c20 6275 7420 756e 6c69 6b65 2060  e`, but unlike `
-0000a810: 6974 6572 746f 6f6c 732e 6973 6c69 6365  itertools.islice
-0000a820: 602c 2043 6f63 6f6e 7574 2773 2069 7465  `, Coconut's ite
-0000a830: 7261 746f 7220 736c 6963 696e 6720 7375  rator slicing su
-0000a840: 7070 6f72 7473 206e 6567 6174 6976 6520  pports negative 
-0000a850: 696e 6469 6365 732c 2061 6e64 2077 696c  indices, and wil
-0000a860: 6c20 7072 6566 6572 656e 7469 616c 6c79  l preferentially
-0000a870: 2063 616c 6c20 616e 206f 626a 6563 7427   call an object'
-0000a880: 7320 605f 5f69 7465 725f 6765 7469 7465  s `__iter_getite
-0000a890: 6d5f 5f60 2028 436f 636f 6e75 742d 7370  m__` (Coconut-sp
-0000a8a0: 6563 6966 6963 206d 6167 6963 206d 6574  ecific magic met
-0000a8b0: 686f 642c 2070 7265 6665 7272 6564 2920  hod, preferred) 
-0000a8c0: 6f72 2060 5f5f 6765 7469 7465 6d5f 5f60  or `__getitem__`
-0000a8d0: 2028 6765 6e65 7261 6c20 5079 7468 6f6e   (general Python
-0000a8e0: 206d 6167 6963 206d 6574 686f 6429 2c20   magic method), 
-0000a8f0: 6966 2074 6865 7920 6578 6973 742e 2043  if they exist. C
-0000a900: 6f63 6f6e 7574 2773 2069 7465 7261 746f  oconut's iterato
-0000a910: 7220 736c 6963 696e 6720 6973 2061 6c73  r slicing is als
-0000a920: 6f20 6f70 7469 6d69 7a65 6420 746f 2077  o optimized to w
-0000a930: 6f72 6b20 7765 6c6c 2077 6974 6820 616c  ork well with al
-0000a940: 6c20 6f66 2043 6f63 6f6e 7574 2773 2062  l of Coconut's b
-0000a950: 7569 6c74 2d69 6e20 6f62 6a65 6374 732c  uilt-in objects,
-0000a960: 206f 6e6c 7920 636f 6d70 7574 696e 6720   only computing 
-0000a970: 7468 6520 656c 656d 656e 7473 206f 6620  the elements of 
-0000a980: 6561 6368 2074 6861 7420 6172 6520 6163  each that are ac
-0000a990: 7475 616c 6c79 206e 6563 6573 7361 7279  tually necessary
-0000a9a0: 2074 6f20 6578 7472 6163 7420 7468 6520   to extract the 
-0000a9b0: 6465 7369 7265 6420 736c 6963 652e 0d0a  desired slice...
-0000a9c0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0000a9d0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0000a9e0: 0a60 6060 636f 636f 6e75 740d 0a6d 6170  .```coconut..map
-0000a9f0: 2878 202d 3e20 782a 322c 2072 616e 6765  (x -> x*2, range
-0000aa00: 2831 302a 2a31 3030 2929 245b 2d31 5d20  (10**100))$[-1] 
-0000aa10: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
-0000aa20: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-0000aa30: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
-0000aa40: 686f 7574 2061 2063 6f6d 706c 6963 6174  hout a complicat
-0000aa50: 6564 2069 7465 7261 746f 7220 736c 6963  ed iterator slic
-0000aa60: 696e 6720 6675 6e63 7469 6f6e 2061 6e64  ing function and
-0000aa70: 2069 6e73 7065 6374 696f 6e20 6f66 2063   inspection of c
-0000aa80: 7573 746f 6d20 6f62 6a65 6374 732e 2054  ustom objects. T
-0000aa90: 6865 206e 6563 6573 7361 7279 2064 6566  he necessary def
-0000aaa0: 696e 6974 696f 6e73 2069 6e20 5079 7468  initions in Pyth
-0000aab0: 6f6e 2063 616e 2062 6520 666f 756e 6420  on can be found 
-0000aac0: 696e 2074 6865 2043 6f63 6f6e 7574 2068  in the Coconut h
-0000aad0: 6561 6465 722e 5f0d 0a0d 0a23 2323 2049  eader._....### I
-0000aae0: 7465 7261 746f 7220 4368 6169 6e69 6e67  terator Chaining
-0000aaf0: 0d0a 0d0a 436f 636f 6e75 7420 7573 6573  ....Coconut uses
-0000ab00: 2074 6865 2060 3a3a 6020 6f70 6572 6174   the `::` operat
-0000ab10: 6f72 2066 6f72 2069 7465 7261 746f 7220  or for iterator 
-0000ab20: 6368 6169 6e69 6e67 2e20 436f 636f 6e75  chaining. Coconu
-0000ab30: 7427 7320 6974 6572 6174 6f72 2063 6861  t's iterator cha
-0000ab40: 696e 696e 6720 6973 2064 6f6e 6520 6c61  ining is done la
-0000ab50: 7a69 6c79 2c20 696e 2074 6861 7420 7468  zily, in that th
-0000ab60: 6520 6172 6775 6d65 6e74 7320 6172 6520  e arguments are 
-0000ab70: 6e6f 7420 6576 616c 7561 7465 6420 756e  not evaluated un
-0000ab80: 7469 6c20 7468 6579 2061 7265 206e 6565  til they are nee
-0000ab90: 6465 642e 2049 7420 6861 7320 6120 7072  ded. It has a pr
-0000aba0: 6563 6564 656e 6365 2069 6e2d 6265 7477  ecedence in-betw
-0000abb0: 6565 6e20 6269 7477 6973 6520 6f72 2061  een bitwise or a
-0000abc0: 6e64 2069 6e66 6978 2063 616c 6c73 2e20  nd infix calls. 
-0000abd0: 4368 6169 6e73 2061 7265 2072 6569 7465  Chains are reite
-0000abe0: 7261 626c 6520 2863 616e 2062 6520 6974  rable (can be it
-0000abf0: 6572 6174 6564 206f 7665 7220 6d75 6c74  erated over mult
-0000ac00: 6970 6c65 2074 696d 6573 2061 6e64 2067  iple times and g
-0000ac10: 6574 2074 6865 2073 616d 6520 7265 7375  et the same resu
-0000ac20: 6c74 2920 6f6e 6c79 2077 6865 6e20 7468  lt) only when th
-0000ac30: 6520 6974 6572 6174 6f72 7320 7061 7373  e iterators pass
-0000ac40: 6564 2069 6e20 6172 6520 7265 6974 6572  ed in are reiter
-0000ac50: 6162 6c65 2e20 5468 6520 696e 2d70 6c61  able. The in-pla
-0000ac60: 6365 206f 7065 7261 746f 7220 6973 2060  ce operator is `
-0000ac70: 3a3a 3d60 2e0d 0a0d 0a5f 4e6f 7465 2074  ::=`....._Note t
-0000ac80: 6861 7420 5b6c 617a 7920 6c69 7374 735d  hat [lazy lists]
-0000ac90: 2823 6c61 7a79 2d6c 6973 7473 2920 616e  (#lazy-lists) an
-0000aca0: 6420 5b66 6c61 7474 656e 5d28 2366 6c61  d [flatten](#fla
-0000acb0: 7474 656e 2920 6172 6520 7573 6564 2075  tten) are used u
-0000acc0: 6e64 6572 2074 6865 2068 6f6f 6420 746f  nder the hood to
-0000acd0: 2069 6d70 6c65 6d65 6e74 2063 6861 696e   implement chain
-0000ace0: 696e 6720 7375 6368 2074 6861 7420 6061  ing such that `a
-0000acf0: 203a 3a20 6260 2069 7320 6571 7569 7661   :: b` is equiva
-0000ad00: 6c65 6e74 2074 6f20 6066 6c61 7474 656e  lent to `flatten
-0000ad10: 2828 7c61 2c20 627c 2929 602e 5f0d 0a0d  ((|a, b|))`._...
-0000ad20: 0a23 2323 2323 2052 6174 696f 6e61 6c65  .##### Rationale
-0000ad30: 0d0a 0d0a 4120 7573 6566 756c 2074 6f6f  ....A useful too
-0000ad40: 6c20 746f 206d 616b 6520 776f 726b 696e  l to make workin
-0000ad50: 6720 7769 7468 2069 7465 7261 746f 7273  g with iterators
-0000ad60: 2061 7320 6561 7379 2061 7320 776f 726b   as easy as work
-0000ad70: 696e 6720 7769 7468 2073 6571 7565 6e63  ing with sequenc
-0000ad80: 6573 2069 7320 7468 6520 6162 696c 6974  es is the abilit
-0000ad90: 7920 746f 206c 617a 696c 7920 636f 6d62  y to lazily comb
-0000ada0: 696e 6520 6d75 6c74 6970 6c65 2069 7465  ine multiple ite
-0000adb0: 7261 746f 7273 2074 6f67 6574 6865 722e  rators together.
-0000adc0: 2054 6869 7320 6f70 6572 6174 696f 6e20   This operation 
-0000add0: 6973 2063 616c 6c65 6420 6368 6169 6e2c  is called chain,
-0000ade0: 2061 6e64 2069 7320 6571 7569 7661 6c65   and is equivale
-0000adf0: 6e74 2074 6f20 6164 6469 7469 6f6e 2077  nt to addition w
-0000ae00: 6974 6820 7365 7175 656e 6365 732c 2065  ith sequences, e
-0000ae10: 7863 6570 7420 7468 6174 206e 6f74 6869  xcept that nothi
-0000ae20: 6e67 2067 6574 7320 6576 616c 7561 7465  ng gets evaluate
-0000ae30: 6420 756e 7469 6c20 6974 2069 7320 6e65  d until it is ne
-0000ae40: 6564 6564 2e0d 0a0d 0a23 2323 2323 2050  eded.....##### P
-0000ae50: 7974 686f 6e20 446f 6373 0d0a 0d0a 4d61  ython Docs....Ma
-0000ae60: 6b65 2061 6e20 6974 6572 6174 6f72 2074  ke an iterator t
-0000ae70: 6861 7420 7265 7475 726e 7320 656c 656d  hat returns elem
-0000ae80: 656e 7473 2066 726f 6d20 7468 6520 6669  ents from the fi
-0000ae90: 7273 7420 6974 6572 6162 6c65 2075 6e74  rst iterable unt
-0000aea0: 696c 2069 7420 6973 2065 7868 6175 7374  il it is exhaust
-0000aeb0: 6564 2c20 7468 656e 2070 726f 6365 6564  ed, then proceed
-0000aec0: 7320 746f 2074 6865 206e 6578 7420 6974  s to the next it
-0000aed0: 6572 6162 6c65 2c20 756e 7469 6c20 616c  erable, until al
-0000aee0: 6c20 6f66 2074 6865 2069 7465 7261 626c  l of the iterabl
-0000aef0: 6573 2061 7265 2065 7868 6175 7374 6564  es are exhausted
-0000af00: 2e20 5573 6564 2066 6f72 2074 7265 6174  . Used for treat
-0000af10: 696e 6720 636f 6e73 6563 7574 6976 6520  ing consecutive 
-0000af20: 7365 7175 656e 6365 7320 6173 2061 2073  sequences as a s
-0000af30: 696e 676c 6520 7365 7175 656e 6365 2e20  ingle sequence. 
-0000af40: 4368 6169 6e65 6420 696e 7075 7473 2061  Chained inputs a
-0000af50: 7265 2065 7661 6c75 6174 6564 206c 617a  re evaluated laz
-0000af60: 696c 792e 2052 6f75 6768 6c79 2065 7175  ily. Roughly equ
-0000af70: 6976 616c 656e 7420 746f 3a0d 0a60 6060  ivalent to:..```
-0000af80: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0000af90: 6465 6620 6368 6169 6e28 2a69 7465 7261  def chain(*itera
-0000afa0: 626c 6573 293a 0d0a 2020 2020 2320 6368  bles):..    # ch
-0000afb0: 6169 6e28 2741 4243 272c 2027 4445 4627  ain('ABC', 'DEF'
-0000afc0: 2920 2d2d 3e20 4120 4220 4320 4420 4520  ) --> A B C D E 
-0000afd0: 460d 0a20 2020 2066 6f72 2069 7420 696e  F..    for it in
-0000afe0: 2069 7465 7261 626c 6573 3a0d 0a20 2020   iterables:..   
-0000aff0: 2020 2020 2066 6f72 2065 6c65 6d65 6e74       for element
-0000b000: 2069 6e20 6974 3a0d 0a20 2020 2020 2020   in it:..       
-0000b010: 2020 2020 2079 6965 6c64 2065 6c65 6d65       yield eleme
-0000b020: 6e74 0d0a 6060 600d 0a0d 0a23 2323 2323  nt..```....#####
-0000b030: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0000b040: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0000b050: 6f6e 7574 0d0a 6465 6620 4e28 6e3d 3029  onut..def N(n=0)
-0000b060: 203d 2028 6e2c 2920 3a3a 204e 286e 2b31   = (n,) :: N(n+1
-0000b070: 2920 2023 206e 6f20 696e 6669 6e69 7465  )  # no infinite
-0000b080: 206c 6f6f 7020 6265 6361 7573 6520 3a3a   loop because ::
-0000b090: 2069 7320 6c61 7a79 0d0a 0d0a 2872 616e   is lazy....(ran
-0000b0a0: 6765 282d 3130 2c20 3029 203a 3a20 4e28  ge(-10, 0) :: N(
-0000b0b0: 2929 245b 353a 3135 5d20 7c3e 206c 6973  ))$[5:15] |> lis
-0000b0c0: 7420 7c3e 2070 7269 6e74 0d0a 6060 600d  t |> print..```.
-0000b0d0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0000b0e0: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
-0000b0f0: 6974 686f 7574 2061 2063 6f6d 706c 6963  ithout a complic
-0000b100: 6174 6564 2069 7465 7261 746f 7220 636f  ated iterator co
-0000b110: 6d70 7265 6865 6e73 696f 6e20 696e 2070  mprehension in p
-0000b120: 6c61 6365 206f 6620 7468 6520 6c61 7a79  lace of the lazy
-0000b130: 2063 6861 696e 696e 672e 2053 6565 2074   chaining. See t
-0000b140: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
-0000b150: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
-0000b160: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2320  syntax._....### 
-0000b170: 496e 6669 7820 4675 6e63 7469 6f6e 730d  Infix Functions.
-0000b180: 0a0d 0a43 6f63 6f6e 7574 2061 6c6c 6f77  ...Coconut allow
-0000b190: 7320 666f 7220 696e 6669 7820 6675 6e63  s for infix func
-0000b1a0: 7469 6f6e 2063 616c 6c69 6e67 2c20 7768  tion calling, wh
-0000b1b0: 6572 6520 616e 2065 7870 7265 7373 696f  ere an expressio
-0000b1c0: 6e20 7468 6174 2065 7661 6c75 6174 6573  n that evaluates
-0000b1d0: 2074 6f20 6120 6675 6e63 7469 6f6e 2069   to a function i
-0000b1e0: 7320 7375 7272 6f75 6e64 6564 2062 7920  s surrounded by 
-0000b1f0: 6261 636b 7469 636b 7320 616e 6420 7468  backticks and th
-0000b200: 656e 2063 616e 2068 6176 6520 6172 6775  en can have argu
-0000b210: 6d65 6e74 7320 706c 6163 6564 2069 6e20  ments placed in 
-0000b220: 6672 6f6e 7420 6f66 206f 7220 6265 6869  front of or behi
-0000b230: 6e64 2069 742e 2049 6e66 6978 2063 616c  nd it. Infix cal
-0000b240: 6c69 6e67 2068 6173 2061 2070 7265 6365  ling has a prece
-0000b250: 6465 6e63 6520 696e 2d62 6574 7765 656e  dence in-between
-0000b260: 2063 6861 696e 696e 6720 616e 6420 604e   chaining and `N
-0000b270: 6f6e 6560 2d63 6f61 6c65 7363 696e 672c  one`-coalescing,
-0000b280: 2061 6e64 2069 7320 6c65 6674 2d61 7373   and is left-ass
-0000b290: 6f63 6961 7469 7665 2e0d 0a0d 0a54 6865  ociative.....The
-0000b2a0: 2061 6c6c 6f77 6162 6c65 206e 6f74 6174   allowable notat
-0000b2b0: 696f 6e73 2066 6f72 2069 6e66 6978 2063  ions for infix c
-0000b2c0: 616c 6c73 2061 7265 3a0d 0a60 6060 636f  alls are:..```co
-0000b2d0: 636f 6e75 740d 0a78 2060 6660 2079 2020  conut..x `f` y  
-0000b2e0: 3d3e 2020 6628 782c 2079 290d 0a60 6660  =>  f(x, y)..`f`
-0000b2f0: 2078 2020 2020 3d3e 2020 6628 7829 0d0a   x    =>  f(x)..
-0000b300: 7820 6066 6020 2020 203d 3e20 2066 2878  x `f`    =>  f(x
-0000b310: 290d 0a60 6660 2020 2020 2020 3d3e 2020  )..`f`      =>  
-0000b320: 6628 290d 0a60 6060 0d0a 4164 6469 7469  f()..```..Additi
-0000b330: 6f6e 616c 6c79 2c20 696e 6669 7820 6e6f  onally, infix no
-0000b340: 7461 7469 6f6e 2073 7570 706f 7274 7320  tation supports 
-0000b350: 6120 6c61 6d62 6461 2061 7320 7468 6520  a lambda as the 
-0000b360: 6c61 7374 2061 7267 756d 656e 742c 2064  last argument, d
-0000b370: 6573 7069 7465 206c 616d 6264 6173 2068  espite lambdas h
-0000b380: 6176 696e 6720 6120 6c6f 7765 7220 7072  aving a lower pr
-0000b390: 6563 6564 656e 6365 2e20 5468 7573 2c20  ecedence. Thus, 
-0000b3a0: 6060 6120 6066 756e 6360 2062 202d 3e20  ``a `func` b -> 
-0000b3b0: 6360 6020 6973 2065 7175 6976 616c 656e  c`` is equivalen
-0000b3c0: 7420 746f 2060 6675 6e63 2861 2c20 6220  t to `func(a, b 
-0000b3d0: 2d3e 2063 2960 2e0d 0a0d 0a43 6f63 6f6e  -> c)`.....Cocon
-0000b3e0: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
-0000b3f0: 2069 6e66 6978 2066 756e 6374 696f 6e20   infix function 
-0000b400: 6465 6669 6e69 7469 6f6e 2074 6f20 6d61  definition to ma
-0000b410: 6b65 2064 6566 696e 696e 6720 6675 6e63  ke defining func
-0000b420: 7469 6f6e 7320 7468 6174 2061 7265 2069  tions that are i
-0000b430: 6e74 656e 6465 6420 666f 7220 696e 6669  ntended for infi
-0000b440: 7820 7573 6167 6520 7369 6d70 6c65 722e  x usage simpler.
-0000b450: 2054 6865 2073 796e 7461 7820 666f 7220   The syntax for 
-0000b460: 696e 6669 7820 6675 6e63 7469 6f6e 2064  infix function d
-0000b470: 6566 696e 6974 696f 6e20 6973 0d0a 6060  efinition is..``
-0000b480: 6063 6f63 6f6e 7574 0d0a 6465 6620 3c61  `coconut..def <a
-0000b490: 7267 3e20 603c 6e61 6d65 3e60 203c 6172  rg> `<name>` <ar
-0000b4a0: 673e 3a0d 0a20 2020 203c 626f 6479 3e0d  g>:..    <body>.
-0000b4b0: 0a60 6060 0d0a 7768 6572 6520 603c 6e61  .```..where `<na
-0000b4c0: 6d65 3e60 2069 7320 7468 6520 6e61 6d65  me>` is the name
-0000b4d0: 206f 6620 7468 6520 6675 6e63 7469 6f6e   of the function
-0000b4e0: 2c20 7468 6520 603c 6172 673e 6073 2061  , the `<arg>`s a
-0000b4f0: 7265 2074 6865 2066 756e 6374 696f 6e20  re the function 
-0000b500: 6172 6775 6d65 6e74 732c 2061 6e64 2060  arguments, and `
-0000b510: 3c62 6f64 793e 6020 6973 2074 6865 2062  <body>` is the b
-0000b520: 6f64 7920 6f66 2074 6865 2066 756e 6374  ody of the funct
-0000b530: 696f 6e2e 2049 6620 616e 2060 3c61 7267  ion. If an `<arg
-0000b540: 3e60 2069 6e63 6c75 6465 7320 6120 6465  >` includes a de
-0000b550: 6661 756c 742c 2074 6865 2060 3c61 7267  fault, the `<arg
-0000b560: 3e60 206d 7573 7420 6265 2073 7572 726f  >` must be surro
-0000b570: 756e 6465 6420 696e 2070 6172 656e 7468  unded in parenth
-0000b580: 6573 6573 2e0d 0a0d 0a5f 4e6f 7465 3a20  eses....._Note: 
-0000b590: 496e 6669 7820 6675 6e63 7469 6f6e 2064  Infix function d
-0000b5a0: 6566 696e 6974 696f 6e20 6361 6e20 6265  efinition can be
-0000b5b0: 2063 6f6d 6269 6e65 6420 7769 7468 2061   combined with a
-0000b5c0: 7373 6967 6e6d 656e 7420 616e 642f 6f72  ssignment and/or
-0000b5d0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-0000b5e0: 6720 6675 6e63 7469 6f6e 2064 6566 696e  g function defin
-0000b5f0: 6974 696f 6e2e 5f0d 0a0d 0a23 2323 2323  ition._....#####
-0000b600: 2052 6174 696f 6e61 6c65 0d0a 0d0a 4120   Rationale....A 
-0000b610: 636f 6d6d 6f6e 2069 6469 6f6d 2069 6e20  common idiom in 
-0000b620: 6675 6e63 7469 6f6e 616c 2070 726f 6772  functional progr
-0000b630: 616d 6d69 6e67 2069 7320 746f 2077 7269  amming is to wri
-0000b640: 7465 2066 756e 6374 696f 6e73 2074 6861  te functions tha
-0000b650: 7420 6172 6520 696e 7465 6e64 6564 2074  t are intended t
-0000b660: 6f20 6265 6861 7665 2073 6f6d 6577 6861  o behave somewha
-0000b670: 7420 6c69 6b65 206f 7065 7261 746f 7273  t like operators
-0000b680: 2c20 616e 6420 746f 2063 616c 6c20 616e  , and to call an
-0000b690: 6420 6465 6669 6e65 2074 6865 6d20 6279  d define them by
-0000b6a0: 2070 6c61 6369 6e67 2074 6865 6d20 6265   placing them be
-0000b6b0: 7477 6565 6e20 7468 6569 7220 6172 6775  tween their argu
-0000b6c0: 6d65 6e74 732e 2043 6f63 6f6e 7574 2773  ments. Coconut's
-0000b6d0: 2069 6e66 6978 2073 796e 7461 7820 6d61   infix syntax ma
-0000b6e0: 6b65 7320 7468 6973 2070 6f73 7369 626c  kes this possibl
-0000b6f0: 652e 0d0a 0d0a 2323 2323 2320 4578 616d  e.....##### Exam
-0000b700: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
-0000b710: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-0000b720: 0a64 6566 2061 2060 6d6f 6460 2062 203d  .def a `mod` b =
-0000b730: 2061 2025 2062 0d0a 2878 2060 6d6f 6460   a % b..(x `mod`
-0000b740: 2032 2920 6070 7269 6e74 600d 0a60 6060   2) `print`..```
-0000b750: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0000b760: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0000b770: 6f6e 0d0a 6465 6620 6d6f 6428 612c 2062  on..def mod(a, b
-0000b780: 293a 2072 6574 7572 6e20 6120 2520 620d  ): return a % b.
-0000b790: 0a70 7269 6e74 286d 6f64 2878 2c20 3229  .print(mod(x, 2)
-0000b7a0: 290d 0a60 6060 0d0a 0d0a 2323 2320 4375  )..```....### Cu
-0000b7b0: 7374 6f6d 204f 7065 7261 746f 7273 0d0a  stom Operators..
-0000b7c0: 0d0a 436f 636f 6e75 7420 616c 6c6f 7773  ..Coconut allows
-0000b7d0: 2079 6f75 2074 6f20 6465 636c 6172 6520   you to declare 
-0000b7e0: 796f 7572 206f 776e 2063 7573 746f 6d20  your own custom 
-0000b7f0: 6f70 6572 6174 6f72 7320 7769 7468 2074  operators with t
-0000b800: 6865 2073 796e 7461 780d 0a60 6060 0d0a  he syntax..```..
-0000b810: 6f70 6572 6174 6f72 203c 6f70 3e0d 0a60  operator <op>..`
-0000b820: 6060 0d0a 7768 6572 6520 603c 6f70 3e60  ``..where `<op>`
-0000b830: 2069 7320 7768 6174 6576 6572 2073 6571   is whatever seq
-0000b840: 7565 6e63 6520 6f66 2055 6e69 636f 6465  uence of Unicode
-0000b850: 2063 6861 7261 6374 6572 7320 796f 7520   characters you 
-0000b860: 7761 6e74 2074 6f20 7573 6520 6173 2061  want to use as a
-0000b870: 2063 7573 746f 6d20 6f70 6572 6174 6f72   custom operator
-0000b880: 2e20 5468 6520 606f 7065 7261 746f 7260  . The `operator`
-0000b890: 2073 7461 7465 6d65 6e74 206d 7573 7420   statement must 
-0000b8a0: 6170 7065 6172 2061 7420 7468 6520 746f  appear at the to
-0000b8b0: 7020 6c65 7665 6c20 616e 6420 6f6e 6c79  p level and only
-0000b8c0: 2061 6666 6563 7473 2063 6f64 6520 7468   affects code th
-0000b8d0: 6174 2063 6f6d 6573 2061 6674 6572 2069  at comes after i
-0000b8e0: 742e 0d0a 0d0a 4f6e 6365 2064 6563 6c61  t.....Once decla
-0000b8f0: 7265 642c 2079 6f75 2063 616e 2075 7365  red, you can use
-0000b900: 2079 6f75 7220 6375 7374 6f6d 206f 7065   your custom ope
-0000b910: 7261 746f 7220 616e 7977 6865 7265 2077  rator anywhere w
-0000b920: 6865 7265 2079 6f75 2077 6f75 6c64 2062  here you would b
-0000b930: 6520 6162 6c65 2074 6f20 7573 6520 616e  e able to use an
-0000b940: 205b 696e 6669 7820 6675 6e63 7469 6f6e   [infix function
-0000b950: 5d28 2369 6e66 6978 2d66 756e 6374 696f  ](#infix-functio
-0000b960: 6e73 2920 6173 2077 656c 6c20 6173 2072  ns) as well as r
-0000b970: 6566 6572 2074 6f20 7468 6520 6163 7475  efer to the actu
-0000b980: 616c 206f 7065 7261 746f 7220 6974 7365  al operator itse
-0000b990: 6c66 2077 6974 6820 7468 6520 7361 6d65  lf with the same
-0000b9a0: 2060 283c 6f70 3e29 6020 7379 6e74 6178   `(<op>)` syntax
-0000b9b0: 2061 7320 696e 206f 7468 6572 205b 6f70   as in other [op
-0000b9c0: 6572 6174 6f72 2066 756e 6374 696f 6e73  erator functions
-0000b9d0: 5d28 236f 7065 7261 746f 722d 6675 6e63  ](#operator-func
-0000b9e0: 7469 6f6e 7329 2e20 5369 6e63 6520 6375  tions). Since cu
-0000b9f0: 7374 6f6d 206f 7065 7261 746f 7273 2077  stom operators w
-0000ba00: 6f72 6b20 6c69 6b65 2069 6e66 6978 2066  ork like infix f
-0000ba10: 756e 6374 696f 6e73 2c20 7468 6579 2061  unctions, they a
-0000ba20: 6c77 6179 7320 6861 7665 2074 6865 2073  lways have the s
-0000ba30: 616d 6520 7072 6563 6564 656e 6365 2061  ame precedence a
-0000ba40: 7320 696e 6669 7820 6675 6e63 7469 6f6e  s infix function
-0000ba50: 7320 616e 6420 6172 6520 616c 7761 7973  s and are always
-0000ba60: 206c 6566 742d 6173 736f 6369 6174 6976   left-associativ
-0000ba70: 652e 2043 7573 746f 6d20 6f70 6572 6174  e. Custom operat
-0000ba80: 6f72 7320 6361 6e20 6265 2075 7365 6420  ors can be used 
-0000ba90: 6173 2062 696e 6172 792c 2075 6e61 7279  as binary, unary
-0000baa0: 2c20 6f72 206e 6f6e 652d 6172 7920 6f70  , or none-ary op
-0000bab0: 6572 6174 6f72 732c 2061 6e64 2062 6f74  erators, and bot
-0000bac0: 6820 7072 6566 6978 2061 6e64 2070 6f73  h prefix and pos
-0000bad0: 7466 6978 206e 6f74 6174 696f 6e20 666f  tfix notation fo
-0000bae0: 7220 756e 6172 7920 6f70 6572 6174 6f72  r unary operator
-0000baf0: 7320 6973 2073 7570 706f 7274 6564 2e0d  s is supported..
-0000bb00: 0a0d 0a53 6f6d 6520 6578 616d 706c 6520  ...Some example 
-0000bb10: 7379 6e74 6178 6573 2066 6f72 2064 6566  syntaxes for def
-0000bb20: 696e 696e 6720 6375 7374 6f6d 206f 7065  ining custom ope
-0000bb30: 7261 746f 7273 206f 6e63 6520 6465 636c  rators once decl
-0000bb40: 6172 6564 3a0d 0a60 6060 0d0a 6465 6620  ared:..```..def 
-0000bb50: 7820 3c6f 703e 2079 3a20 2e2e 2e0d 0a64  x <op> y: .....d
-0000bb60: 6566 203c 6f70 3e20 7820 3d20 2e2e 2e0d  ef <op> x = ....
-0000bb70: 0a6d 6174 6368 2064 6566 2028 7829 203c  .match def (x) <
-0000bb80: 6f70 3e20 2879 293a 202e 2e2e 0d0a 283c  op> (y): .....(<
-0000bb90: 6f70 3e29 203d 202e 2e2e 0d0a 6672 6f6d  op>) = .....from
-0000bba0: 206d 6f64 756c 6520 696d 706f 7274 206e   module import n
-0000bbb0: 616d 6520 6173 2028 3c6f 703e 290d 0a60  ame as (<op>)..`
-0000bbc0: 6060 0d0a 0d0a 416e 6420 736f 6d65 2065  ``....And some e
-0000bbd0: 7861 6d70 6c65 2073 796e 7461 7865 7320  xample syntaxes 
-0000bbe0: 666f 7220 7573 696e 6720 6375 7374 6f6d  for using custom
-0000bbf0: 206f 7065 7261 746f 7273 3a0d 0a60 6060   operators:..```
-0000bc00: 0d0a 7820 3c6f 703e 2079 0d0a 7820 3c6f  ..x <op> y..x <o
-0000bc10: 703e 2079 203c 6f70 3e20 7a0d 0a3c 6f70  p> y <op> z..<op
-0000bc20: 3e20 780d 0a78 203c 6f70 3e0d 0a78 203d  > x..x <op>..x =
-0000bc30: 2028 3c6f 703e 290d 0a66 283c 6f70 3e29   (<op>)..f(<op>)
-0000bc40: 0d0a 2878 203c 6f70 3e20 2e29 0d0a 282e  ..(x <op> .)..(.
-0000bc50: 203c 6f70 3e20 7929 0d0a 6d61 7463 6820   <op> y)..match 
-0000bc60: 7820 3c6f 703e 2069 6e20 2e2e 2e3a 202e  x <op> in ...: .
-0000bc70: 2e2e 0d0a 6d61 7463 6820 7820 3c6f 703e  ....match x <op>
-0000bc80: 2079 2069 6e20 2e2e 2e3a 202e 2e2e 0d0a   y in ...: .....
-0000bc90: 6060 600d 0a0d 0a41 6464 6974 696f 6e61  ```....Additiona
-0000bca0: 6c6c 792c 2074 6f20 696d 706f 7274 2063  lly, to import c
-0000bcb0: 7573 746f 6d20 6f70 6572 6174 6f72 7320  ustom operators 
-0000bcc0: 6672 6f6d 206f 7468 6572 206d 6f64 756c  from other modul
-0000bcd0: 6573 2c20 436f 636f 6e75 7420 7375 7070  es, Coconut supp
-0000bce0: 6f72 7473 2074 6865 2073 7065 6369 616c  orts the special
-0000bcf0: 2073 796e 7461 783a 0d0a 6060 600d 0a66   syntax:..```..f
-0000bd00: 726f 6d20 3c6d 6f64 756c 653e 2069 6d70  rom <module> imp
-0000bd10: 6f72 7420 6f70 6572 6174 6f72 203c 6f70  ort operator <op
-0000bd20: 3e0d 0a60 6060 0d0a 0d0a 4375 7374 6f6d  >..```....Custom
-0000bd30: 206f 7065 7261 746f 7273 2077 696c 6c20   operators will 
-0000bd40: 6f66 7465 6e20 6e65 6564 2074 6f20 6265  often need to be
-0000bd50: 2073 7572 726f 756e 6465 6420 6279 2077   surrounded by w
-0000bd60: 6869 7465 7370 6163 6520 286f 7220 7061  hitespace (or pa
-0000bd70: 7265 6e74 6865 7365 7320 7768 656e 2075  rentheses when u
-0000bd80: 7365 6420 6173 2061 6e20 6f70 6572 6174  sed as an operat
-0000bd90: 6f72 2066 756e 6374 696f 6e29 2074 6f20  or function) to 
-0000bda0: 6265 2070 6172 7365 6420 636f 7272 6563  be parsed correc
-0000bdb0: 746c 792e 0d0a 0d0a 4966 2061 2063 7573  tly.....If a cus
-0000bdc0: 746f 6d20 6f70 6572 6174 6f72 2074 6861  tom operator tha
-0000bdd0: 7420 6973 2061 6c73 6f20 6120 7661 6c69  t is also a vali
-0000bde0: 6420 6e61 6d65 2069 7320 6465 7369 7265  d name is desire
-0000bdf0: 642c 2079 6f75 2063 616e 2075 7365 2061  d, you can use a
-0000be00: 2062 6163 6b73 6c61 7368 2062 6566 6f72   backslash befor
-0000be10: 6520 7468 6520 6e61 6d65 2074 6f20 6765  e the name to ge
-0000be20: 7420 6261 636b 2074 6865 206e 616d 6520  t back the name 
-0000be30: 696e 7374 6561 6420 7769 7468 2043 6f63  instead with Coc
-0000be40: 6f6e 7574 2773 205b 6b65 7977 6f72 642f  onut's [keyword/
-0000be50: 7661 7269 6162 6c65 2064 6973 616d 6269  variable disambi
-0000be60: 6775 6174 696f 6e20 7379 6e74 6178 5d28  guation syntax](
-0000be70: 2368 616e 646c 696e 672d 6b65 7977 6f72  #handling-keywor
-0000be80: 6476 6172 6961 626c 652d 6e61 6d65 2d6f  dvariable-name-o
-0000be90: 7665 726c 6170 292e 0d0a 0d0a 2323 2323  verlap).....####
-0000bea0: 2320 4578 616d 706c 6573 0d0a 0d0a 2a2a  # Examples....**
-0000beb0: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-0000bec0: 6f63 6f6e 7574 0d0a 6f70 6572 6174 6f72  oconut..operator
-0000bed0: 2025 250d 0a28 2525 2920 3d20 6d61 7468   %%..(%%) = math
-0000bee0: 2e72 656d 6169 6e64 6572 0d0a 3130 2025  .remainder..10 %
-0000bef0: 2520 3320 7c3e 2070 7269 6e74 0d0a 0d0a  % 3 |> print....
-0000bf00: 6f70 6572 6174 6f72 2021 210d 0a28 2121  operator !!..(!!
-0000bf10: 2920 3d20 626f 6f6c 0d0a 2121 2030 207c  ) = bool..!! 0 |
-0000bf20: 3e20 7072 696e 740d 0a0d 0a6f 7065 7261  > print....opera
-0000bf30: 746f 7220 6c6f 6731 300d 0a66 726f 6d20  tor log10..from 
-0000bf40: 6d61 7468 2069 6d70 6f72 7420 5c6c 6f67  math import \log
-0000bf50: 3130 2061 7320 286c 6f67 3130 290d 0a31  10 as (log10)..1
-0000bf60: 3030 206c 6f67 3130 207c 3e20 7072 696e  00 log10 |> prin
-0000bf70: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
-0000bf80: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
-0000bf90: 745f 7079 7468 6f6e 0d0a 7072 696e 7428  t_python..print(
-0000bfa0: 6d61 7468 2e72 656d 6169 6e64 6572 2831  math.remainder(1
-0000bfb0: 302c 2033 2929 0d0a 0d0a 7072 696e 7428  0, 3))....print(
-0000bfc0: 626f 6f6c 2830 2929 0d0a 0d0a 7072 696e  bool(0))....prin
-0000bfd0: 7428 6d61 7468 2e6c 6f67 3130 2831 3030  t(math.log10(100
-0000bfe0: 2929 0d0a 6060 600d 0a0d 0a23 2323 204e  ))..```....### N
-0000bff0: 6f6e 6520 436f 616c 6573 6369 6e67 0d0a  one Coalescing..
-0000c000: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
-0000c010: 6573 2060 3f3f 6020 6173 2061 2060 4e6f  es `??` as a `No
-0000c020: 6e65 602d 636f 616c 6573 6369 6e67 206f  ne`-coalescing o
-0000c030: 7065 7261 746f 722c 2073 696d 696c 6172  perator, similar
-0000c040: 2074 6f20 7468 6520 603f 3f60 206e 756c   to the `??` nul
-0000c050: 6c2d 636f 616c 6573 6369 6e67 206f 7065  l-coalescing ope
-0000c060: 7261 746f 7220 696e 2043 2320 616e 6420  rator in C# and 
-0000c070: 5377 6966 742e 2041 6464 6974 696f 6e61  Swift. Additiona
-0000c080: 6c6c 792c 2043 6f63 6f6e 7574 2069 6d70  lly, Coconut imp
-0000c090: 6c65 6d65 6e74 7320 616c 6c20 6f66 2074  lements all of t
-0000c0a0: 6865 2060 4e6f 6e65 602d 6177 6172 6520  he `None`-aware 
-0000c0b0: 6f70 6572 6174 6f72 7320 7072 6f70 6f73  operators propos
-0000c0c0: 6564 2069 6e20 5b50 4550 2035 3035 5d28  ed in [PEP 505](
-0000c0d0: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-0000c0e0: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-0000c0f0: 7065 702d 3035 3035 2f29 2e0d 0a0d 0a43  pep-0505/).....C
-0000c100: 6f63 6f6e 7574 2773 2060 3f3f 6020 6f70  oconut's `??` op
-0000c110: 6572 6174 6f72 2065 7661 6c75 6174 6573  erator evaluates
-0000c120: 2074 6f20 6974 7320 6c65 6674 206f 7065   to its left ope
-0000c130: 7261 6e64 2069 6620 7468 6174 206f 7065  rand if that ope
-0000c140: 7261 6e64 2069 7320 6e6f 7420 604e 6f6e  rand is not `Non
-0000c150: 6560 2c20 6f74 6865 7277 6973 6520 6974  e`, otherwise it
-0000c160: 7320 7269 6768 7420 6f70 6572 616e 642e  s right operand.
-0000c170: 2054 6865 2065 7870 7265 7373 696f 6e20   The expression 
-0000c180: 6066 6f6f 203f 3f20 6261 7260 2065 7661  `foo ?? bar` eva
-0000c190: 6c75 6174 6573 2074 6f20 6066 6f6f 6020  luates to `foo` 
-0000c1a0: 6173 206c 6f6e 6720 6173 2069 7420 6973  as long as it is
-0000c1b0: 6e27 7420 604e 6f6e 6560 2c20 616e 6420  n't `None`, and 
-0000c1c0: 746f 2060 6261 7260 2069 6620 6974 2069  to `bar` if it i
-0000c1d0: 732e 2054 6865 2060 4e6f 6e65 602d 636f  s. The `None`-co
-0000c1e0: 616c 6573 6369 6e67 206f 7065 7261 746f  alescing operato
-0000c1f0: 7220 6973 2073 686f 7274 2d63 6972 6375  r is short-circu
-0000c200: 6974 696e 672c 2073 7563 6820 7468 6174  iting, such that
-0000c210: 2069 6620 7468 6520 6c65 6674 206f 7065   if the left ope
-0000c220: 7261 6e64 2069 7320 6e6f 7420 604e 6f6e  rand is not `Non
-0000c230: 6560 2c20 7468 6520 7269 6768 7420 6f70  e`, the right op
-0000c240: 6572 616e 6420 776f 6e27 7420 6265 2065  erand won't be e
-0000c250: 7661 6c75 6174 6564 2e20 5468 6973 2061  valuated. This a
-0000c260: 6c6c 6f77 7320 7468 6520 7269 6768 7420  llows the right 
-0000c270: 6f70 6572 616e 6420 746f 2062 6520 6120  operand to be a 
-0000c280: 706f 7465 6e74 6961 6c6c 7920 6578 7065  potentially expe
-0000c290: 6e73 6976 6520 6f70 6572 6174 696f 6e20  nsive operation 
-0000c2a0: 7769 7468 6f75 7420 696e 6375 7272 696e  without incurrin
-0000c2b0: 6720 616e 7920 756e 6e65 6365 7373 6172  g any unnecessar
-0000c2c0: 7920 636f 7374 2e0d 0a0d 0a54 6865 2060  y cost.....The `
-0000c2d0: 4e6f 6e65 602d 636f 616c 6573 6369 6e67  None`-coalescing
-0000c2e0: 206f 7065 7261 746f 7220 6861 7320 6120   operator has a 
-0000c2f0: 7072 6563 6564 656e 6365 2069 6e2d 6265  precedence in-be
-0000c300: 7477 6565 6e20 696e 6669 7820 6675 6e63  tween infix func
-0000c310: 7469 6f6e 2063 616c 6c73 2061 6e64 2063  tion calls and c
-0000c320: 6f6d 706f 7369 7469 6f6e 2070 6970 6573  omposition pipes
-0000c330: 2c20 616e 6420 6973 206c 6566 742d 6173  , and is left-as
-0000c340: 736f 6369 6174 6976 652e 0d0a 0d0a 2323  sociative.....##
-0000c350: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0000c360: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0000c370: 636f 636f 6e75 740d 0a63 6f75 6c64 5f62  coconut..could_b
-0000c380: 655f 6e6f 6e65 2829 203f 3f20 6361 6c63  e_none() ?? calc
-0000c390: 756c 6174 655f 6465 6661 756c 745f 7661  ulate_default_va
-0000c3a0: 6c75 6528 290d 0a60 6060 0d0a 0d0a 2a2a  lue()..```....**
-0000c3b0: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
-0000c3c0: 636f 6e75 745f 7079 7468 6f6e 0d0a 286c  conut_python..(l
-0000c3d0: 616d 6264 6120 7265 7375 6c74 3a20 7265  ambda result: re
-0000c3e0: 7375 6c74 2069 6620 7265 7375 6c74 2069  sult if result i
-0000c3f0: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-0000c400: 6361 6c63 756c 6174 655f 6465 6661 756c  calculate_defaul
-0000c410: 745f 7661 6c75 6528 2929 2863 6f75 6c64  t_value())(could
-0000c420: 5f62 655f 6e6f 6e65 2829 290d 0a60 6060  _be_none())..```
-0000c430: 0d0a 0d0a 2323 2323 2043 6f61 6c65 7363  ....#### Coalesc
-0000c440: 696e 6720 4173 7369 676e 6d65 6e74 204f  ing Assignment O
-0000c450: 7065 7261 746f 720d 0a0d 0a54 6865 2069  perator....The i
-0000c460: 6e2d 706c 6163 6520 6173 7369 676e 6d65  n-place assignme
-0000c470: 6e74 206f 7065 7261 746f 7220 6973 2060  nt operator is `
-0000c480: 3f3f 3d60 2c20 7768 6963 6820 616c 6c6f  ??=`, which allo
-0000c490: 7773 2063 6f6e 6469 7469 6f6e 616c 6c79  ws conditionally
-0000c4a0: 2073 6574 7469 6e67 2061 2076 6172 6961   setting a varia
-0000c4b0: 626c 6520 6966 2069 7420 6973 2063 7572  ble if it is cur
-0000c4c0: 7265 6e74 6c79 2060 4e6f 6e65 602e 0d0a  rently `None`...
-0000c4d0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 666f  ..```coconut..fo
-0000c4e0: 6f20 3d20 310d 0a62 6172 203d 204e 6f6e  o = 1..bar = Non
-0000c4f0: 650d 0a66 6f6f 203f 3f3d 2031 3020 2023  e..foo ??= 10  #
-0000c500: 2066 6f6f 2069 7320 7374 696c 6c20 310d   foo is still 1.
-0000c510: 0a62 6172 203f 3f3d 2031 3020 2023 2062  .bar ??= 10  # b
-0000c520: 6172 2069 7320 6e6f 7720 3130 0d0a 6060  ar is now 10..``
-0000c530: 600d 0a0d 0a41 7320 6465 7363 7269 6265  `....As describe
-0000c540: 6420 7769 7468 2074 6865 2073 7461 6e64  d with the stand
-0000c550: 6172 6420 603f 3f60 206f 7065 7261 746f  ard `??` operato
-0000c560: 722c 2074 6865 2060 4e6f 6e65 602d 636f  r, the `None`-co
-0000c570: 616c 6573 6369 6e67 2061 7373 6967 6e6d  alescing assignm
-0000c580: 656e 7420 6f70 6572 6174 6f72 2077 696c  ent operator wil
-0000c590: 6c20 6e6f 7420 6576 616c 7561 7465 2074  l not evaluate t
-0000c5a0: 6865 2072 6967 6874 2068 616e 6420 7369  he right hand si
-0000c5b0: 6465 2075 6e6c 6573 7320 7468 6520 6c65  de unless the le
-0000c5c0: 6674 2068 616e 6420 7369 6465 2069 7320  ft hand side is 
-0000c5d0: 604e 6f6e 6560 2e0d 0a0d 0a60 6060 636f  `None`.....```co
-0000c5e0: 636f 6e75 740d 0a62 617a 203d 2030 0d0a  conut..baz = 0..
-0000c5f0: 6261 7a20 3f3f 3d20 6578 7065 6e73 6976  baz ??= expensiv
-0000c600: 655f 7461 736b 2829 2020 2320 7269 6768  e_task()  # righ
-0000c610: 7420 6861 6e64 2073 6964 6520 6973 6e27  t hand side isn'
-0000c620: 7420 6576 616c 7561 7465 640d 0a60 6060  t evaluated..```
-0000c630: 0d0a 0d0a 2323 2323 204f 7468 6572 204e  ....#### Other N
-0000c640: 6f6e 652d 4177 6172 6520 4f70 6572 6174  one-Aware Operat
-0000c650: 6f72 730d 0a0d 0a43 6f63 6f6e 7574 2061  ors....Coconut a
-0000c660: 6c73 6f20 616c 6c6f 7773 2061 2073 696e  lso allows a sin
-0000c670: 676c 6520 603f 6020 6265 666f 7265 2061  gle `?` before a
-0000c680: 7474 7269 6275 7465 2061 6363 6573 732c  ttribute access,
-0000c690: 2066 756e 6374 696f 6e20 6361 6c6c 696e   function callin
-0000c6a0: 672c 2070 6172 7469 616c 2061 7070 6c69  g, partial appli
-0000c6b0: 6361 7469 6f6e 2c20 616e 6420 2869 7465  cation, and (ite
-0000c6c0: 7261 746f 7229 2069 6e64 6578 696e 6720  rator) indexing 
-0000c6d0: 746f 2073 686f 7274 2d63 6972 6375 6974  to short-circuit
-0000c6e0: 2074 6865 2072 6573 7420 6f66 2074 6865   the rest of the
-0000c6f0: 2065 7661 6c75 6174 696f 6e20 6966 2065   evaluation if e
-0000c700: 7665 7279 7468 696e 6720 736f 2066 6172  verything so far
-0000c710: 2065 7661 6c75 6174 6573 2074 6f20 604e   evaluates to `N
-0000c720: 6f6e 6560 2e20 5468 6973 2069 7320 736f  one`. This is so
-0000c730: 6d65 7469 6d65 7320 6b6e 6f77 6e20 6173  metimes known as
-0000c740: 2061 2022 7361 6665 206e 6176 6967 6174   a "safe navigat
-0000c750: 696f 6e22 206f 7065 7261 746f 722e 0d0a  ion" operator...
-0000c760: 0d0a 5768 656e 2075 7369 6e67 2061 2060  ..When using a `
-0000c770: 4e6f 6e65 602d 6177 6172 6520 6f70 6572  None`-aware oper
-0000c780: 6174 6f72 2066 6f72 206d 656d 6265 7220  ator for member 
-0000c790: 6163 6365 7373 2c20 6569 7468 6572 2066  access, either f
-0000c7a0: 6f72 2061 206d 6574 686f 6420 6f72 2061  or a method or a
-0000c7b0: 6e20 6174 7472 6962 7574 652c 2074 6865  n attribute, the
-0000c7c0: 2073 796e 7461 7820 6973 2060 6f62 6a3f   syntax is `obj?
-0000c7d0: 2e6d 6574 686f 6428 2960 206f 7220 606f  .method()` or `o
-0000c7e0: 626a 3f2e 6174 7472 6020 7265 7370 6563  bj?.attr` respec
-0000c7f0: 7469 7665 6c79 2e20 606f 626a 3f2e 6174  tively. `obj?.at
-0000c800: 7472 6020 6973 2065 7175 6976 616c 656e  tr` is equivalen
-0000c810: 7420 746f 2060 6f62 6a2e 6174 7472 2069  t to `obj.attr i
-0000c820: 6620 6f62 6a20 6973 206e 6f74 204e 6f6e  f obj is not Non
-0000c830: 6520 656c 7365 206f 626a 602e 2054 6869  e else obj`. Thi
-0000c840: 7320 646f 6573 206e 6f74 2070 7265 7665  s does not preve
-0000c850: 6e74 2061 6e20 6041 7474 7269 6275 7465  nt an `Attribute
-0000c860: 4572 726f 7260 2069 6620 6061 7474 7260  Error` if `attr`
-0000c870: 2069 7320 6e6f 7420 616e 2061 7474 7269   is not an attri
-0000c880: 6275 7465 206f 7220 6d65 7468 6f64 206f  bute or method o
-0000c890: 6620 606f 626a 602e 0d0a 0d0a 5468 6520  f `obj`.....The 
-0000c8a0: 604e 6f6e 6560 2d61 7761 7265 2069 6e64  `None`-aware ind
-0000c8b0: 6578 696e 6720 6f70 6572 6174 6f72 2069  exing operator i
-0000c8c0: 7320 7573 6564 2069 6465 6e74 6963 616c  s used identical
-0000c8d0: 6c79 2074 6f20 6e6f 726d 616c 2069 6e64  ly to normal ind
-0000c8e0: 6578 696e 672c 2075 7369 6e67 2060 3f5b  exing, using `?[
-0000c8f0: 5d60 2069 6e73 7465 6164 206f 6620 605b  ]` instead of `[
-0000c900: 5d60 2e20 6073 6571 3f5b 696e 6465 785d  ]`. `seq?[index]
-0000c910: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-0000c920: 746f 2074 6865 2065 7870 7265 7373 696f  to the expressio
-0000c930: 6e20 6073 6571 5b69 6e64 6578 5d20 6973  n `seq[index] is
-0000c940: 2073 6571 2069 7320 6e6f 7420 4e6f 6e65   seq is not None
-0000c950: 2065 6c73 6520 7365 7160 2e20 5573 696e   else seq`. Usin
-0000c960: 6720 7468 6973 206f 7065 7261 746f 7220  g this operator 
-0000c970: 7769 6c6c 206e 6f74 2070 7265 7665 6e74  will not prevent
-0000c980: 2061 6e20 6049 6e64 6578 4572 726f 7260   an `IndexError`
-0000c990: 2069 6620 6069 6e64 6578 6020 6973 206f   if `index` is o
-0000c9a0: 7574 7369 6465 2074 6865 2062 6f75 6e64  utside the bound
-0000c9b0: 7320 6f66 2060 7365 7160 2e0d 0a0d 0a43  s of `seq`.....C
-0000c9c0: 6f63 6f6e 7574 2061 6c73 6f20 7375 7070  oconut also supp
-0000c9d0: 6f72 7473 204e 6f6e 652d 6177 6172 6520  orts None-aware 
-0000c9e0: 5b70 6970 6520 6f70 6572 6174 6f72 735d  [pipe operators]
-0000c9f0: 2823 7069 7065 7329 2061 6e64 205b 6675  (#pipes) and [fu
-0000ca00: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
-0000ca10: 6f6e 2070 6970 6573 5d28 2366 756e 6374  on pipes](#funct
-0000ca20: 696f 6e2d 636f 6d70 6f73 6974 696f 6e29  ion-composition)
-0000ca30: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-0000ca40: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-0000ca50: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-0000ca60: 636f 756c 645f 6265 5f6e 6f6e 653f 2e61  could_be_none?.a
-0000ca70: 7474 7220 2020 2020 2320 6174 7472 6962  ttr     # attrib
-0000ca80: 7574 6520 6163 6365 7373 0d0a 636f 756c  ute access..coul
-0000ca90: 645f 6265 5f6e 6f6e 653f 2861 7267 2920  d_be_none?(arg) 
-0000caa0: 2020 2020 2320 6675 6e63 7469 6f6e 2063      # function c
-0000cab0: 616c 6c69 6e67 0d0a 636f 756c 645f 6265  alling..could_be
-0000cac0: 5f6e 6f6e 653f 2e6d 6574 686f 6428 2920  _none?.method() 
-0000cad0: 2320 6d65 7468 6f64 2063 616c 6c69 6e67  # method calling
-0000cae0: 0d0a 636f 756c 645f 6265 5f6e 6f6e 653f  ..could_be_none?
-0000caf0: 2428 6172 6729 2020 2020 2320 7061 7274  $(arg)    # part
-0000cb00: 6961 6c20 6170 706c 6963 6174 696f 6e0d  ial application.
-0000cb10: 0a63 6f75 6c64 5f62 655f 6e6f 6e65 2829  .could_be_none()
-0000cb20: 3f5b 305d 2020 2020 2023 2069 6e64 6578  ?[0]     # index
-0000cb30: 696e 670d 0a63 6f75 6c64 5f62 655f 6e6f  ing..could_be_no
-0000cb40: 6e65 2829 3f2e 6174 7472 5b69 6e64 6578  ne()?.attr[index
-0000cb50: 5d2e 6d65 7468 6f64 2829 0d0a 6060 600d  ].method()..```.
-0000cb60: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0000cb70: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0000cb80: 6e0d 0a69 6d70 6f72 7420 6675 6e63 746f  n..import functo
-0000cb90: 6f6c 730d 0a28 6c61 6d62 6461 2072 6573  ols..(lambda res
-0000cba0: 756c 743a 204e 6f6e 6520 6966 2072 6573  ult: None if res
-0000cbb0: 756c 7420 6973 204e 6f6e 6520 656c 7365  ult is None else
-0000cbc0: 2072 6573 756c 742e 6174 7472 2928 636f   result.attr)(co
-0000cbd0: 756c 645f 6265 5f6e 6f6e 6528 2929 0d0a  uld_be_none())..
-0000cbe0: 286c 616d 6264 6120 7265 7375 6c74 3a20  (lambda result: 
-0000cbf0: 4e6f 6e65 2069 6620 7265 7375 6c74 2069  None if result i
-0000cc00: 7320 4e6f 6e65 2065 6c73 6520 7265 7375  s None else resu
-0000cc10: 6c74 2861 7267 2929 2863 6f75 6c64 5f62  lt(arg))(could_b
-0000cc20: 655f 6e6f 6e65 2829 290d 0a28 6c61 6d62  e_none())..(lamb
-0000cc30: 6461 2072 6573 756c 743a 204e 6f6e 6520  da result: None 
-0000cc40: 6966 2072 6573 756c 7420 6973 204e 6f6e  if result is Non
-0000cc50: 6520 656c 7365 2072 6573 756c 742e 6d65  e else result.me
-0000cc60: 7468 6f64 2829 2928 636f 756c 645f 6265  thod())(could_be
-0000cc70: 5f6e 6f6e 6528 2929 0d0a 286c 616d 6264  _none())..(lambd
-0000cc80: 6120 7265 7375 6c74 3a20 4e6f 6e65 2069  a result: None i
-0000cc90: 6620 7265 7375 6c74 2069 7320 4e6f 6e65  f result is None
-0000cca0: 2065 6c73 6520 6675 6e63 746f 6f6c 732e   else functools.
-0000ccb0: 7061 7274 6961 6c28 7265 7375 6c74 2c20  partial(result, 
-0000ccc0: 6172 6729 2928 636f 756c 645f 6265 5f6e  arg))(could_be_n
-0000ccd0: 6f6e 6528 2929 0d0a 286c 616d 6264 6120  one())..(lambda 
-0000cce0: 7265 7375 6c74 3a20 4e6f 6e65 2069 6620  result: None if 
-0000ccf0: 7265 7375 6c74 2069 7320 4e6f 6e65 2065  result is None e
-0000cd00: 6c73 6520 7265 7375 6c74 5b30 5d29 2863  lse result[0])(c
-0000cd10: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290d  ould_be_none()).
-0000cd20: 0a28 6c61 6d62 6461 2072 6573 756c 743a  .(lambda result:
-0000cd30: 204e 6f6e 6520 6966 2072 6573 756c 7420   None if result 
-0000cd40: 6973 204e 6f6e 6520 656c 7365 2072 6573  is None else res
-0000cd50: 756c 742e 6174 7472 5b69 6e64 6578 5d2e  ult.attr[index].
-0000cd60: 6d65 7468 6f64 2829 2928 636f 756c 645f  method())(could_
-0000cd70: 6265 5f6e 6f6e 6528 2929 0d0a 6060 600d  be_none())..```.
-0000cd80: 0a0d 0a23 2323 2055 6e69 636f 6465 2041  ...### Unicode A
-0000cd90: 6c74 6572 6e61 7469 7665 730d 0a0d 0a43  lternatives....C
-0000cda0: 6f63 6f6e 7574 2073 7570 706f 7274 7320  oconut supports 
-0000cdb0: 556e 6963 6f64 6520 616c 7465 726e 6174  Unicode alternat
-0000cdc0: 6976 6573 2074 6f20 6d61 6e79 2064 6966  ives to many dif
-0000cdd0: 6665 7265 6e74 206f 7065 7261 746f 7220  ferent operator 
-0000cde0: 7379 6d62 6f6c 732e 2054 6865 2055 6e69  symbols. The Uni
-0000cdf0: 636f 6465 2061 6c74 6572 6e61 7469 7665  code alternative
-0000ce00: 7320 6172 6520 7265 6c61 7469 7665 6c79  s are relatively
-0000ce10: 2073 7472 6169 6768 7466 6f72 7761 7264   straightforward
-0000ce20: 2c20 616e 6420 6368 6f73 656e 2074 6f20  , and chosen to 
-0000ce30: 7265 666c 6563 7420 7468 6520 6c6f 6f6b  reflect the look
-0000ce40: 2061 6e64 2f6f 7220 6d65 616e 696e 6720   and/or meaning 
-0000ce50: 6f66 2074 6865 206f 7269 6769 6e61 6c20  of the original 
-0000ce60: 7379 6d62 6f6c 2e0d 0a0d 0a23 2323 2323  symbol.....#####
-0000ce70: 2046 756c 6c20 4c69 7374 0d0a 0d0a 6060   Full List....``
-0000ce80: 600d 0ae2 8692 2028 5c75 3231 3932 2920  `..... (\u2192) 
-0000ce90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cea0: 203d 3e20 222d 3e22 0d0a c397 2028 5c78   => "->".... (\x
-0000ceb0: 6437 2920 2020 2020 2020 2020 2020 2020  d7)             
-0000cec0: 2020 2020 2020 203d 3e20 222a 220d 0ae2         => "*"...
-0000ced0: 8691 2028 5c75 3231 3931 2920 2020 2020  .. (\u2191)     
-0000cee0: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000cef0: 222a 2a22 0d0a c3b7 2028 5c78 6637 2920  "**".... (\xf7) 
-0000cf00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf10: 2020 203d 3e20 222f 220d 0ac3 b72f 2028     => "/"..../ (
-0000cf20: 5c78 6637 2f29 2020 2020 2020 2020 2020  \xf7/)          
-0000cf30: 2020 2020 2020 2020 3d3e 2022 2f2f 220d          => "//".
-0000cf40: 0ae2 81bb 2028 5c75 3230 3762 2920 2020  .... (\u207b)   
-0000cf50: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-0000cf60: 3e20 222d 2220 286f 6e6c 7920 6e65 6761  > "-" (only nega
-0000cf70: 7469 6f6e 290d 0ae2 89a0 2028 5c75 3232  tion)..... (\u22
-0000cf80: 3630 2920 6f72 20c2 ac3d 2028 5c78 6163  60) or ..= (\xac
-0000cf90: 3d29 2020 2020 3d3e 2022 213d 220d 0ae2  =)    => "!="...
-0000cfa0: 89a4 2028 5c75 3232 3634 2920 6f72 20e2  .. (\u2264) or .
-0000cfb0: 8a86 2028 5c75 3232 3836 2920 2020 203d  .. (\u2286)    =
-0000cfc0: 3e20 223c 3d22 0d0a e289 a520 285c 7532  > "<="..... (\u2
-0000cfd0: 3236 3529 206f 7220 e28a 8720 285c 7532  265) or ... (\u2
-0000cfe0: 3238 3729 2020 2020 3d3e 2022 3e3d 220d  287)    => ">=".
-0000cff0: 0ae2 8a8a 2028 5c75 3232 3861 2920 2020  .... (\u228a)   
-0000d000: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-0000d010: 3e20 223c 220d 0ae2 8a8b 2028 5c75 3232  > "<"..... (\u22
-0000d020: 3862 2920 2020 2020 2020 2020 2020 2020  8b)             
-0000d030: 2020 2020 203d 3e20 223e 220d 0ae2 88a7       => ">".....
-0000d040: 2028 5c75 3232 3237 2920 6f72 20e2 88a9   (\u2227) or ...
-0000d050: 2028 5c75 3232 3239 2920 2020 203d 3e20   (\u2229)    => 
-0000d060: 2226 220d 0ae2 88a8 2028 5c75 3232 3238  "&"..... (\u2228
-0000d070: 2920 6f72 20e2 88aa 2028 5c75 3232 3261  ) or ... (\u222a
-0000d080: 2920 2020 203d 3e20 227c 220d 0ae2 8abb  )    => "|".....
-0000d090: 2028 5c75 3232 6262 2920 2020 2020 2020   (\u22bb)       
-0000d0a0: 2020 2020 2020 2020 2020 203d 3e20 225e             => "^
-0000d0b0: 220d 0ac2 ab20 285c 7861 6229 2020 2020  ".... (\xab)    
-0000d0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0d0: 3d3e 2022 3c3c 220d 0ac2 bb20 285c 7862  => "<<".... (\xb
-0000d0e0: 6229 2020 2020 2020 2020 2020 2020 2020  b)              
-0000d0f0: 2020 2020 2020 3d3e 2022 3e3e 220d 0ae2        => ">>"...
-0000d100: 80a6 2028 5c75 3230 3236 2920 2020 2020  .. (\u2026)     
-0000d110: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000d120: 222e 2e2e 220d 0ace bb20 285c 7530 3362  "...".... (\u03b
-0000d130: 6229 2020 2020 2020 2020 2020 2020 2020  b)              
-0000d140: 2020 2020 3d3e 2022 6c61 6d62 6461 220d      => "lambda".
-0000d150: 0ae2 86a6 2028 5c75 3231 6136 2920 2020  .... (\u21a6)   
-0000d160: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-0000d170: 3e20 227c 3e22 0d0a e286 a420 285c 7532  > "|>"..... (\u2
-0000d180: 3161 3429 2020 2020 2020 2020 2020 2020  1a4)            
-0000d190: 2020 2020 2020 3d3e 2022 3c7c 220d 0a2a        => "<|"..*
-0000d1a0: e286 a620 282a 5c75 3231 6136 2920 2020  ... (*\u21a6)   
-0000d1b0: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000d1c0: 227c 2a3e 220d 0ae2 86a4 2a20 285c 7532  "|*>".....* (\u2
-0000d1d0: 3161 342a 2920 2020 2020 2020 2020 2020  1a4*)           
-0000d1e0: 2020 2020 203d 3e20 223c 2a7c 220d 0a2a       => "<*|"..*
-0000d1f0: 2ae2 86a6 2028 2a2a 5c75 3231 6136 2920  *... (**\u21a6) 
-0000d200: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000d210: 227c 2a2a 3e22 0d0a e286 a42a 2a20 285c  "|**>".....** (\
-0000d220: 7532 3161 342a 2a29 2020 2020 2020 2020  u21a4**)        
-0000d230: 2020 2020 2020 3d3e 2022 3c2a 2a7c 220d        => "<**|".
-0000d240: 0a3f e286 a620 283f 5c75 3231 6136 2920  .?... (?\u21a6) 
-0000d250: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-0000d260: 3e20 227c 3f3e 220d 0ae2 86a4 3f20 283f  > "|?>".....? (?
-0000d270: 5c75 3231 6134 2920 2020 2020 2020 2020  \u21a4)         
-0000d280: 2020 2020 2020 203d 3e20 223c 3f7c 220d         => "<?|".
-0000d290: 0a3f 2ae2 86a6 2028 3f2a 5c75 3231 6136  .?*... (?*\u21a6
-0000d2a0: 2920 2020 2020 2020 2020 2020 2020 203d  )              =
-0000d2b0: 3e20 227c 3f2a 3e22 0d0a e286 a42a 3f20  > "|?*>".....*? 
-0000d2c0: 285c 7532 3161 342a 3f29 2020 2020 2020  (\u21a4*?)      
-0000d2d0: 2020 2020 2020 2020 3d3e 2022 3c2a 3f7c          => "<*?|
-0000d2e0: 220d 0a3f 2a2a e286 a620 283f 2a2a 5c75  "..?**... (?**\u
-0000d2f0: 3231 6136 2920 2020 2020 2020 2020 2020  21a6)           
-0000d300: 203d 3e20 227c 3f2a 2a3e 220d 0ae2 86a4   => "|?**>".....
-0000d310: 2a2a 3f20 285c 7532 3161 342a 2a3f 2920  **? (\u21a4**?) 
-0000d320: 2020 2020 2020 2020 2020 203d 3e20 223c             => "<
-0000d330: 2a2a 3f7c 220d 0ae2 8898 2028 5c75 3232  **?|"..... (\u22
-0000d340: 3138 2920 2020 2020 2020 2020 2020 2020  18)             
-0000d350: 2020 2020 203d 3e20 222e 2e22 0d0a e288       => ".."....
-0000d360: 983e 2028 5c75 3232 3138 3e29 2020 2020  .> (\u2218>)    
-0000d370: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
-0000d380: 2e2e 3e22 0d0a 3ce2 8898 2028 3c5c 7532  ..>"..<... (<\u2
-0000d390: 3231 3829 2020 2020 2020 2020 2020 2020  218)            
-0000d3a0: 2020 2020 3d3e 2022 3c2e 2e22 0d0a e288      => "<.."....
-0000d3b0: 982a 3e20 285c 7532 3231 382a 3e29 2020  .*> (\u2218*>)  
-0000d3c0: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
-0000d3d0: 2e2e 2a3e 220d 0a3c 2ae2 8898 2028 3c2a  ..*>"..<*... (<*
-0000d3e0: 5c75 3232 3138 2920 2020 2020 2020 2020  \u2218)         
-0000d3f0: 2020 2020 203d 3e20 223c 2a2e 2e22 0d0a       => "<*.."..
-0000d400: e288 982a 2a3e 2028 5c75 3232 3138 2a2a  ...**> (\u2218**
-0000d410: 3e29 2020 2020 2020 2020 2020 2020 3d3e  >)            =>
-0000d420: 2022 2e2e 2a2a 3e22 0d0a 3c2a 2ae2 8898   "..**>"..<**...
-0000d430: 2028 3c2a 2a5c 7532 3231 3829 2020 2020   (<**\u2218)    
-0000d440: 2020 2020 2020 2020 3d3e 2022 3c2a 2a2e          => "<**.
-0000d450: 2e22 0d0a e288 983f 3e20 285c 7532 3231  .".....?> (\u221
-0000d460: 383f 3e29 2020 2020 2020 2020 2020 2020  8?>)            
-0000d470: 2020 3d3e 2022 2e2e 3f3e 220d 0a3c 3fe2    => "..?>"..<?.
-0000d480: 8898 2028 3c3f 5c75 3232 3138 2920 2020  .. (<?\u2218)   
-0000d490: 2020 2020 2020 2020 2020 203d 3e20 223c             => "<
-0000d4a0: 3f2e 2e22 0d0a e288 983f 2a3e 2028 5c75  ?..".....?*> (\u
-0000d4b0: 3232 3138 3f2a 3e29 2020 2020 2020 2020  2218?*>)        
-0000d4c0: 2020 2020 3d3e 2022 2e2e 3f2a 3e22 0d0a      => "..?*>"..
-0000d4d0: 3c2a 3fe2 8898 2028 3c2a 3f5c 7532 3231  <*?... (<*?\u221
-0000d4e0: 3829 2020 2020 2020 2020 2020 2020 3d3e  8)            =>
-0000d4f0: 2022 3c2a 3f2e 2e22 0d0a e288 983f 2a2a   "<*?..".....?**
-0000d500: 3e20 285c 7532 3231 383f 2a2a 3e29 2020  > (\u2218?**>)  
-0000d510: 2020 2020 2020 2020 3d3e 2022 2e2e 3f2a          => "..?*
-0000d520: 2a3e 220d 0a3c 2a2a 3fe2 8898 2028 3c2a  *>"..<**?... (<*
-0000d530: 2a3f 5c75 3232 3138 2920 2020 2020 2020  *?\u2218)       
-0000d540: 2020 203d 3e20 223c 2a2a 3f2e 2e22 0d0a     => "<**?.."..
-0000d550: 6060 600d 0a0d 0a23 2320 4b65 7977 6f72  ```....## Keywor
-0000d560: 6473 0d0a 0d0a 6060 607b 636f 6e74 656e  ds....```{conten
-0000d570: 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a  ts}..---..local:
-0000d580: 0d0a 6465 7074 683a 2031 0d0a 2d2d 2d0d  ..depth: 1..---.
-0000d590: 0a60 6060 0d0a 0d0a 2323 2320 606d 6174  .```....### `mat
-0000d5a0: 6368 600d 0a0d 0a43 6f63 6f6e 7574 2070  ch`....Coconut p
-0000d5b0: 726f 7669 6465 7320 6675 6c6c 792d 6665  rovides fully-fe
-0000d5c0: 6174 7572 6564 2c20 6675 6e63 7469 6f6e  atured, function
-0000d5d0: 616c 2070 6174 7465 726e 2d6d 6174 6368  al pattern-match
-0000d5e0: 696e 6720 7468 726f 7567 6820 6974 7320  ing through its 
-0000d5f0: 606d 6174 6368 6020 7374 6174 656d 656e  `match` statemen
-0000d600: 7473 2e0d 0a0d 0a23 2323 2323 204f 7665  ts.....##### Ove
-0000d610: 7276 6965 770d 0a0d 0a4d 6174 6368 2073  rview....Match s
-0000d620: 7461 7465 6d65 6e74 7320 666f 6c6c 6f77  tatements follow
-0000d630: 2074 6865 2062 6173 6963 2073 796e 7461   the basic synta
-0000d640: 7820 606d 6174 6368 203c 7061 7474 6572  x `match <patter
-0000d650: 6e3e 2069 6e20 3c76 616c 7565 3e60 2e20  n> in <value>`. 
-0000d660: 5468 6520 6d61 7463 6820 7374 6174 656d  The match statem
-0000d670: 656e 7420 7769 6c6c 2061 7474 656d 7074  ent will attempt
-0000d680: 2074 6f20 6d61 7463 6820 7468 6520 7661   to match the va
-0000d690: 6c75 6520 6167 6169 6e73 7420 7468 6520  lue against the 
-0000d6a0: 7061 7474 6572 6e2c 2061 6e64 2069 6620  pattern, and if 
-0000d6b0: 7375 6363 6573 7366 756c 2c20 6269 6e64  successful, bind
-0000d6c0: 2061 6e79 2076 6172 6961 626c 6573 2069   any variables i
-0000d6d0: 6e20 7468 6520 7061 7474 6572 6e20 746f  n the pattern to
-0000d6e0: 2077 6861 7465 7665 7220 6973 2069 6e20   whatever is in 
-0000d6f0: 7468 6520 7361 6d65 2070 6f73 6974 696f  the same positio
-0000d700: 6e20 696e 2074 6865 2076 616c 7565 2c20  n in the value, 
-0000d710: 616e 6420 6578 6563 7574 6520 7468 6520  and execute the 
-0000d720: 636f 6465 2062 656c 6f77 2074 6865 206d  code below the m
-0000d730: 6174 6368 2073 7461 7465 6d65 6e74 2e20  atch statement. 
-0000d740: 4d61 7463 6820 7374 6174 656d 656e 7473  Match statements
-0000d750: 2061 6c73 6f20 7375 7070 6f72 742c 2069   also support, i
-0000d760: 6e20 7468 6569 7220 6261 7369 6320 7379  n their basic sy
-0000d770: 6e74 6178 2c20 616e 2060 6966 203c 636f  ntax, an `if <co
-0000d780: 6e64 3e60 2074 6861 7420 7769 6c6c 2063  nd>` that will c
-0000d790: 6865 636b 2074 6865 2063 6f6e 6469 7469  heck the conditi
-0000d7a0: 6f6e 2061 6674 6572 2065 7865 6375 7469  on after executi
-0000d7b0: 6e67 2074 6865 206d 6174 6368 2062 6566  ng the match bef
-0000d7c0: 6f72 6520 6578 6563 7574 696e 6720 7468  ore executing th
-0000d7d0: 6520 636f 6465 2062 656c 6f77 2c20 616e  e code below, an
-0000d7e0: 6420 616e 2060 656c 7365 6020 7374 6174  d an `else` stat
-0000d7f0: 656d 656e 7420 6166 7465 7277 6172 6473  ement afterwards
-0000d800: 2074 6861 7420 7769 6c6c 206f 6e6c 7920   that will only 
-0000d810: 6265 2065 7865 6375 7465 6420 6966 2074  be executed if t
-0000d820: 6865 2060 6d61 7463 6860 2073 7461 7465  he `match` state
-0000d830: 6d65 6e74 2069 7320 6e6f 742e 2057 6861  ment is not. Wha
-0000d840: 7420 6973 2061 6c6c 6f77 6564 2069 6e20  t is allowed in 
-0000d850: 7468 6520 6d61 7463 6820 7374 6174 656d  the match statem
-0000d860: 656e 7427 7320 7061 7474 6572 6e20 6861  ent's pattern ha
-0000d870: 7320 6e6f 2065 7175 6976 616c 656e 7420  s no equivalent 
-0000d880: 696e 2050 7974 686f 6e2c 2061 6e64 2074  in Python, and t
-0000d890: 6875 7320 7468 6520 7370 6563 6966 6963  hus the specific
-0000d8a0: 6174 696f 6e73 2062 656c 6f77 2061 7265  ations below are
-0000d8b0: 2070 726f 7669 6465 6420 746f 2065 7870   provided to exp
-0000d8c0: 6c61 696e 2069 742e 0d0a 0d0a 2323 2323  lain it.....####
-0000d8d0: 2320 5379 6e74 6178 2053 7065 6369 6669  # Syntax Specifi
-0000d8e0: 6361 7469 6f6e 0d0a 0d0a 436f 636f 6e75  cation....Coconu
-0000d8f0: 7420 6d61 7463 6820 7374 6174 656d 656e  t match statemen
-0000d900: 7420 7379 6e74 6178 2069 730d 0a60 6060  t syntax is..```
-0000d910: 636f 636f 6e75 740d 0a6d 6174 6368 203c  coconut..match <
-0000d920: 7061 7474 6572 6e3e 205b 6e6f 745d 2069  pattern> [not] i
-0000d930: 6e20 3c76 616c 7565 3e20 5b69 6620 3c63  n <value> [if <c
-0000d940: 6f6e 643e 5d3a 0d0a 2020 2020 3c62 6f64  ond>]:..    <bod
-0000d950: 793e 0d0a 5b65 6c73 653a 0d0a 2020 2020  y>..[else:..    
-0000d960: 3c62 6f64 793e 5d0d 0a60 6060 0d0a 7768  <body>]..```..wh
-0000d970: 6572 6520 603c 7661 6c75 653e 6020 6973  ere `<value>` is
-0000d980: 2074 6865 2069 7465 6d20 746f 206d 6174   the item to mat
-0000d990: 6368 2061 6761 696e 7374 2c20 603c 636f  ch against, `<co
-0000d9a0: 6e64 3e60 2069 7320 616e 206f 7074 696f  nd>` is an optio
-0000d9b0: 6e61 6c20 6164 6469 7469 6f6e 616c 2063  nal additional c
-0000d9c0: 6865 636b 2c20 616e 6420 603c 626f 6479  heck, and `<body
-0000d9d0: 3e60 2069 7320 7369 6d70 6c79 2063 6f64  >` is simply cod
-0000d9e0: 6520 7468 6174 2069 7320 6578 6563 7574  e that is execut
-0000d9f0: 6564 2069 6620 7468 6520 6865 6164 6572  ed if the header
-0000da00: 2061 626f 7665 2069 7420 7375 6363 6565   above it succee
-0000da10: 6473 2e20 603c 7061 7474 6572 6e3e 6020  ds. `<pattern>` 
-0000da20: 666f 6c6c 6f77 7320 6974 7320 6f77 6e2c  follows its own,
-0000da30: 2073 7065 6369 616c 2073 796e 7461 782c   special syntax,
-0000da40: 2064 6566 696e 6564 2072 6f75 6768 6c79   defined roughly
-0000da50: 2061 7320 6265 6c6f 772e 2049 6e20 7468   as below. In th
-0000da60: 6520 7379 6e74 6178 2073 7065 6369 6669  e syntax specifi
-0000da70: 6361 7469 6f6e 2062 656c 6f77 2c20 6272  cation below, br
-0000da80: 6163 6b65 7473 2064 656e 6f74 6520 6f70  ackets denote op
-0000da90: 7469 6f6e 616c 2073 796e 7461 7820 616e  tional syntax an
-0000daa0: 6420 7061 7265 6e74 6865 7365 7320 666f  d parentheses fo
-0000dab0: 6c6c 6f77 6564 2062 7920 6120 602a 6020  llowed by a `*` 
-0000dac0: 6465 6e6f 7465 2074 6861 7420 7468 6520  denote that the 
-0000dad0: 7379 6e74 6178 206d 6179 2061 7070 6561  syntax may appea
-0000dae0: 7220 7a65 726f 206f 7220 6d6f 7265 2074  r zero or more t
-0000daf0: 696d 6573 2e0d 0a0d 0a60 6060 636f 636f  imes.....```coco
-0000db00: 6e75 740d 0a70 6174 7465 726e 203a 3a3d  nut..pattern ::=
-0000db10: 2061 6e64 5f70 6174 7465 726e 2028 226f   and_pattern ("o
-0000db20: 7222 2061 6e64 5f70 6174 7465 726e 292a  r" and_pattern)*
-0000db30: 2020 2320 6d61 7463 6820 616e 790d 0a0d    # match any...
-0000db40: 0a61 6e64 5f70 6174 7465 726e 203a 3a3d  .and_pattern ::=
-0000db50: 2061 735f 7061 7474 6572 6e20 2822 616e   as_pattern ("an
-0000db60: 6422 2061 735f 7061 7474 6572 6e29 2a20  d" as_pattern)* 
-0000db70: 2023 206d 6174 6368 2061 6c6c 0d0a 0d0a   # match all....
-0000db80: 6173 5f70 6174 7465 726e 203a 3a3d 2069  as_pattern ::= i
-0000db90: 6e66 6978 5f70 6174 7465 726e 2028 2261  nfix_pattern ("a
-0000dba0: 7322 206e 616d 6529 2a20 2023 2065 7870  s" name)*  # exp
-0000dbb0: 6c69 6369 7420 6269 6e64 696e 670d 0a0d  licit binding...
-0000dbc0: 0a69 6e66 6978 5f70 6174 7465 726e 203a  .infix_pattern :
-0000dbd0: 3a3d 2062 6172 5f6f 725f 7061 7474 6572  := bar_or_patter
-0000dbe0: 6e20 2822 6022 2045 5850 5220 2260 2220  n ("`" EXPR "`" 
-0000dbf0: 5b45 5850 525d 292a 2020 2320 696e 6669  [EXPR])*  # infi
-0000dc00: 7820 6368 6563 6b0d 0a0d 0a62 6172 5f6f  x check....bar_o
-0000dc10: 725f 7061 7474 6572 6e20 3a3a 3d20 7061  r_pattern ::= pa
-0000dc20: 7474 6572 6e20 2822 7c22 2070 6174 7465  ttern ("|" patte
-0000dc30: 726e 292a 2020 2320 6d61 7463 6820 616e  rn)*  # match an
-0000dc40: 790d 0a0d 0a62 6173 655f 7061 7474 6572  y....base_patter
-0000dc50: 6e20 3a3a 3d20 280d 0a20 2020 2022 2822  n ::= (..    "("
-0000dc60: 2070 6174 7465 726e 2022 2922 2020 2020   pattern ")"    
-0000dc70: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000dc80: 7061 7265 6e74 6865 7365 730d 0a20 2020  parentheses..   
-0000dc90: 207c 2022 4e6f 6e65 2220 7c20 2254 7275   | "None" | "Tru
-0000dca0: 6522 207c 2022 4661 6c73 6522 2020 2020  e" | "False"    
-0000dcb0: 2020 2320 636f 6e73 7461 6e74 730d 0a20    # constants.. 
-0000dcc0: 2020 207c 204e 554d 4245 5220 2020 2020     | NUMBER     
-0000dcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dce0: 2020 2020 2320 6e75 6d62 6572 730d 0a20      # numbers.. 
-0000dcf0: 2020 207c 2053 5452 494e 4720 2020 2020     | STRING     
-0000dd00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd10: 2020 2020 2320 7374 7269 6e67 730d 0a20      # strings.. 
-0000dd20: 2020 207c 205b 2261 7322 5d20 4e41 4d45     | ["as"] NAME
-0000dd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd40: 2020 2020 2320 7661 7269 6162 6c65 2062      # variable b
-0000dd50: 696e 6469 6e67 0d0a 2020 2020 7c20 223d  inding..    | "=
-0000dd60: 3d22 2045 5850 5220 2020 2020 2020 2020  =" EXPR         
-0000dd70: 2020 2020 2020 2020 2020 2020 2023 2065               # e
-0000dd80: 7175 616c 6974 7920 6368 6563 6b0d 0a20  quality check.. 
-0000dd90: 2020 207c 2022 6973 2220 4558 5052 2020     | "is" EXPR  
-0000dda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ddb0: 2020 2020 2320 6964 656e 7469 7479 2063      # identity c
-0000ddc0: 6865 636b 0d0a 2020 2020 7c20 444f 5454  heck..    | DOTT
-0000ddd0: 4544 5f4e 414d 4520 2020 2020 2020 2020  ED_NAME         
-0000dde0: 2020 2020 2020 2020 2020 2023 2069 6d70             # imp
-0000ddf0: 6c69 6369 7420 6571 7561 6c69 7479 2063  licit equality c
-0000de00: 6865 636b 2028 6469 7361 626c 6564 2069  heck (disabled i
-0000de10: 6e20 6465 7374 7275 6374 7572 696e 6720  n destructuring 
-0000de20: 6173 7369 676e 6d65 6e74 290d 0a20 2020  assignment)..   
-0000de30: 207c 204e 414d 4520 2228 2220 7061 7474   | NAME "(" patt
-0000de40: 6572 6e73 2022 2922 2020 2020 2020 2020  erns ")"        
-0000de50: 2020 2320 636c 6173 7365 7320 6f72 2064    # classes or d
-0000de60: 6174 6120 7479 7065 730d 0a20 2020 207c  ata types..    |
-0000de70: 2022 6461 7461 2220 4e41 4d45 2022 2822   "data" NAME "("
-0000de80: 2070 6174 7465 726e 7320 2229 2220 2020   patterns ")"   
-0000de90: 2320 6461 7461 2074 7970 6573 0d0a 2020  # data types..  
-0000dea0: 2020 7c20 2263 6c61 7373 2220 4e41 4d45    | "class" NAME
-0000deb0: 2022 2822 2070 6174 7465 726e 7320 2229   "(" patterns ")
-0000dec0: 2220 2023 2063 6c61 7373 6573 0d0a 2020  "  # classes..  
-0000ded0: 2020 7c20 227b 2220 7061 7474 6572 6e5f    | "{" pattern_
-0000dee0: 7061 6972 7320 2020 2020 2020 2020 2020  pairs           
-0000def0: 2020 2023 2064 6963 7469 6f6e 6172 6965     # dictionarie
-0000df00: 730d 0a20 2020 2020 2020 205b 222c 2220  s..        ["," 
-0000df10: 222a 2a22 2028 4e41 4d45 207c 2022 7b7d  "**" (NAME | "{}
-0000df20: 2229 5d20 227d 2220 2320 2028 6b65 7973  ")] "}" #  (keys
-0000df30: 206d 7573 7420 6265 2063 6f6e 7374 616e   must be constan
-0000df40: 7473 206f 7220 6571 7561 6c69 7479 2063  ts or equality c
-0000df50: 6865 636b 7329 0d0a 2020 2020 7c20 5b22  hecks)..    | ["
-0000df60: 7322 5d20 227b 2220 7061 7474 6572 6e5f  s"] "{" pattern_
-0000df70: 636f 6e73 7473 2022 7d22 2020 2023 2073  consts "}"   # s
-0000df80: 6574 730d 0a20 2020 207c 2028 4558 5052  ets..    | (EXPR
-0000df90: 2920 2d3e 2070 6174 7465 726e 2020 2020  ) -> pattern    
-0000dfa0: 2020 2020 2020 2020 2020 2320 7669 6577            # view
-0000dfb0: 2070 6174 7465 726e 730d 0a20 2020 207c   patterns..    |
-0000dfc0: 2022 2822 2070 6174 7465 726e 7320 2229   "(" patterns ")
-0000dfd0: 2220 2020 2020 2020 2020 2020 2020 2020  "               
-0000dfe0: 2320 7365 7175 656e 6365 7320 6361 6e20  # sequences can 
-0000dff0: 6265 2069 6e20 7475 706c 6520 666f 726d  be in tuple form
-0000e000: 0d0a 2020 2020 7c20 225b 2220 7061 7474  ..    | "[" patt
-0000e010: 6572 6e73 2022 5d22 2020 2020 2020 2020  erns "]"        
-0000e020: 2020 2020 2020 2023 2020 6f72 2069 6e20         #  or in 
-0000e030: 6c69 7374 2066 6f72 6d0d 0a20 2020 207c  list form..    |
-0000e040: 2022 287c 2220 7061 7474 6572 6e73 2022   "(|" patterns "
-0000e050: 7c29 2220 2020 2020 2020 2020 2020 2020  |)"             
-0000e060: 2320 6c61 7a79 206c 6973 7473 0d0a 2020  # lazy lists..  
-0000e070: 2020 7c20 2822 2822 207c 2022 5b22 2920    | ("(" | "[") 
-0000e080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e090: 2020 2023 2073 7461 7220 7370 6c69 7473     # star splits
-0000e0a0: 0d0a 2020 2020 2020 2020 5b70 6174 7465  ..        [patte
-0000e0b0: 726e 7320 222c 225d 0d0a 2020 2020 2020  rns ","]..      
-0000e0c0: 2020 222a 2220 7061 7474 6572 6e0d 0a20    "*" pattern.. 
-0000e0d0: 2020 2020 2020 205b 222c 2220 7061 7474         ["," patt
-0000e0e0: 6572 6e73 5d0d 0a20 2020 2020 2020 205b  erns]..        [
-0000e0f0: 222a 2220 7061 7474 6572 6e0d 0a20 2020  "*" pattern..   
-0000e100: 2020 2020 205b 222c 2220 7061 7474 6572       ["," patter
-0000e110: 6e73 5d5d 0d0a 2020 2020 2020 2822 2922  ns]]..      (")"
-0000e120: 207c 2022 5d22 290d 0a20 2020 207c 205b   | "]")..    | [
-0000e130: 2820 2020 2020 2020 2020 2020 2020 2020  (               
-0000e140: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000e150: 7365 7175 656e 6365 2073 706c 6974 730d  sequence splits.
-0000e160: 0a20 2020 2020 2020 2022 2822 2070 6174  .        "(" pat
-0000e170: 7465 726e 7320 2229 220d 0a20 2020 2020  terns ")"..     
-0000e180: 2020 207c 2022 5b22 2070 6174 7465 726e     | "[" pattern
-0000e190: 7320 225d 220d 0a20 2020 2020 2029 2022  s "]"..      ) "
-0000e1a0: 2b22 5d20 4e41 4d45 205b 222b 2220 280d  +"] NAME ["+" (.
-0000e1b0: 0a20 2020 2020 2020 2022 2822 2070 6174  .        "(" pat
-0000e1c0: 7465 726e 7320 2229 2220 2020 2020 2020  terns ")"       
-0000e1d0: 2020 2020 2020 2020 2020 2320 7468 6973            # this
-0000e1e0: 206d 6174 6368 206d 7573 7420 6265 2074   match must be t
-0000e1f0: 6865 2073 616d 650d 0a20 2020 2020 2020  he same..       
-0000e200: 207c 2022 5b22 2070 6174 7465 726e 7320   | "[" patterns 
-0000e210: 225d 2220 2020 2020 2020 2020 2020 2020  "]"             
-0000e220: 2020 2320 2063 6f6e 7374 7275 6374 2061    #  construct a
-0000e230: 7320 7468 6520 6669 7273 7420 6d61 7463  s the first matc
-0000e240: 680d 0a20 2020 2020 2029 5d20 5b22 2b22  h..      )] ["+"
-0000e250: 204e 414d 4520 5b22 2b22 2028 0d0a 2020   NAME ["+" (..  
-0000e260: 2020 2020 2020 2228 2220 7061 7474 6572        "(" patter
-0000e270: 6e73 2022 2922 2020 2020 2020 2020 2020  ns ")"          
-0000e280: 2020 2020 2020 2023 2061 6e64 2073 616d         # and sam
-0000e290: 6520 6865 7265 0d0a 2020 2020 2020 2020  e here..        
-0000e2a0: 7c20 225b 2220 7061 7474 6572 6e73 2022  | "[" patterns "
-0000e2b0: 5d22 0d0a 2020 2020 2020 295d 5d0d 0a20  ]"..      )]].. 
-0000e2c0: 2020 207c 205b 2820 2020 2020 2020 2020     | [(         
-0000e2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e2e0: 2020 2020 2320 6974 6572 6162 6c65 2073      # iterable s
-0000e2f0: 706c 6974 730d 0a20 2020 2020 2020 2022  plits..        "
-0000e300: 2822 2070 6174 7465 726e 7320 2229 220d  (" patterns ")".
-0000e310: 0a20 2020 2020 2020 207c 2022 5b22 2070  .        | "[" p
-0000e320: 6174 7465 726e 7320 225d 220d 0a20 2020  atterns "]"..   
-0000e330: 2020 2020 207c 2022 287c 2220 7061 7474       | "(|" patt
-0000e340: 6572 6e73 2022 7c29 220d 0a20 2020 2020  erns "|)"..     
-0000e350: 2029 2022 3a3a 225d 204e 414d 4520 5b22   ) "::"] NAME ["
-0000e360: 3a3a 2220 280d 0a20 2020 2020 2020 2022  ::" (..        "
-0000e370: 2822 2070 6174 7465 726e 7320 2229 220d  (" patterns ")".
-0000e380: 0a20 2020 2020 2020 207c 2022 5b22 2070  .        | "[" p
-0000e390: 6174 7465 726e 7320 225d 220d 0a20 2020  atterns "]"..   
-0000e3a0: 2020 2020 207c 2022 287c 2220 7061 7474       | "(|" patt
-0000e3b0: 6572 6e73 2022 7c29 220d 0a20 2020 2020  erns "|)"..     
-0000e3c0: 2029 5d20 5b20 223a 3a22 204e 414d 4520   )] [ "::" NAME 
-0000e3d0: 5b0d 0a20 2020 2020 2020 2022 2822 2070  [..        "(" p
-0000e3e0: 6174 7465 726e 7320 2229 220d 0a20 2020  atterns ")"..   
-0000e3f0: 2020 2020 207c 2022 5b22 2070 6174 7465       | "[" patte
-0000e400: 726e 7320 225d 220d 0a20 2020 2020 2020  rns "]"..       
-0000e410: 207c 2022 287c 2220 7061 7474 6572 6e73   | "(|" patterns
-0000e420: 2022 7c29 220d 0a20 2020 2020 205d 5d0d   "|)"..      ]].
-0000e430: 0a20 2020 207c 205b 5354 5249 4e47 2022  .    | [STRING "
-0000e440: 2b22 5d20 4e41 4d45 2020 2020 2020 2020  +"] NAME        
-0000e450: 2020 2020 2020 2320 636f 6d70 6c65 7820        # complex 
-0000e460: 7374 7269 6e67 206d 6174 6368 696e 670d  string matching.
-0000e470: 0a20 2020 2020 2020 205b 222b 2220 5354  .        ["+" ST
-0000e480: 5249 4e47 5d0d 0a20 2020 2020 2020 205b  RING]..        [
-0000e490: 222b 2220 4e41 4d45 205b 222b 2220 5354  "+" NAME ["+" ST
-0000e4a0: 5249 4e47 5d5d 0d0a 290d 0a60 6060 0d0a  RING]]..)..```..
-0000e4b0: 0d0a 2323 2323 2320 5365 6d61 6e74 6963  ..##### Semantic
-0000e4c0: 7320 5370 6563 6966 6963 6174 696f 6e0d  s Specification.
-0000e4d0: 0a0d 0a60 6d61 7463 6860 2073 7461 7465  ...`match` state
-0000e4e0: 6d65 6e74 7320 7769 6c6c 2074 616b 6520  ments will take 
-0000e4f0: 7468 6569 7220 7061 7474 6572 6e20 616e  their pattern an
-0000e500: 6420 6174 7465 6d70 7420 746f 2022 6d61  d attempt to "ma
-0000e510: 7463 6822 2061 6761 696e 7374 2069 742c  tch" against it,
-0000e520: 2070 6572 666f 726d 696e 6720 7468 6520   performing the 
-0000e530: 6368 6563 6b73 2061 6e64 2064 6563 6f6e  checks and decon
-0000e540: 7374 7275 6374 696f 6e73 206f 6e20 7468  structions on th
-0000e550: 6520 6172 6775 6d65 6e74 7320 6173 2073  e arguments as s
-0000e560: 7065 6369 6669 6564 2062 7920 7468 6520  pecified by the 
-0000e570: 7061 7474 6572 6e2e 2054 6865 2064 6966  pattern. The dif
-0000e580: 6665 7265 6e74 2063 6f6e 7374 7275 6374  ferent construct
-0000e590: 7320 7468 6174 2063 616e 2062 6520 7370  s that can be sp
-0000e5a0: 6563 6966 6965 6420 696e 2061 2070 6174  ecified in a pat
-0000e5b0: 7465 726e 2c20 616e 6420 7468 6569 7220  tern, and their 
-0000e5c0: 6675 6e63 7469 6f6e 2c20 6172 653a 0d0a  function, are:..
-0000e5d0: 2d20 5661 7269 6162 6c65 2042 696e 6469  - Variable Bindi
-0000e5e0: 6e67 733a 0d0a 2020 2d20 496d 706c 6963  ngs:..  - Implic
-0000e5f0: 6974 2042 696e 6469 6e67 7320 2860 3c76  it Bindings (`<v
-0000e600: 6172 3e60 293a 2077 696c 6c20 6d61 7463  ar>`): will matc
-0000e610: 6820 746f 2061 6e79 7468 696e 672c 2061  h to anything, a
-0000e620: 6e64 2077 696c 6c20 6265 2062 6f75 6e64  nd will be bound
-0000e630: 2074 6f20 7768 6174 6576 6572 2074 6865   to whatever the
-0000e640: 7920 6d61 7463 6820 746f 2c20 7769 7468  y match to, with
-0000e650: 2073 6f6d 6520 6578 6365 7074 696f 6e73   some exceptions
-0000e660: 3a0d 0a20 2020 202a 2049 6620 7468 6520  :..    * If the 
-0000e670: 7361 6d65 2076 6172 6961 626c 6520 6973  same variable is
-0000e680: 2075 7365 6420 6d75 6c74 6970 6c65 2074   used multiple t
-0000e690: 696d 6573 2c20 6120 6368 6563 6b20 7769  imes, a check wi
-0000e6a0: 6c6c 2062 6520 7065 7266 6f72 6d65 6420  ll be performed 
-0000e6b0: 7468 6174 2065 6163 6820 7573 6520 6d61  that each use ma
-0000e6c0: 7463 6865 7320 746f 2074 6865 2073 616d  tches to the sam
-0000e6d0: 6520 7661 6c75 652e 0d0a 2020 2020 2a20  e value...    * 
-0000e6e0: 4966 2074 6865 2076 6172 6961 626c 6520  If the variable 
-0000e6f0: 6e61 6d65 2060 5f60 2069 7320 7573 6564  name `_` is used
-0000e700: 2c20 6e6f 7468 696e 6720 7769 6c6c 2062  , nothing will b
-0000e710: 6520 626f 756e 6420 616e 6420 6576 6572  e bound and ever
-0000e720: 7974 6869 6e67 2077 696c 6c20 616c 7761  ything will alwa
-0000e730: 7973 206d 6174 6368 2074 6f20 6974 2028  ys match to it (
-0000e740: 605f 6020 6973 2043 6f63 6f6e 7574 2773  `_` is Coconut's
-0000e750: 2022 7769 6c64 6361 7264 2229 2e0d 0a20   "wildcard")... 
-0000e760: 202d 2045 7870 6c69 6369 7420 4269 6e64   - Explicit Bind
-0000e770: 696e 6773 2028 603c 7061 7474 6572 6e3e  ings (`<pattern>
-0000e780: 2061 7320 3c76 6172 3e60 293a 2077 696c   as <var>`): wil
-0000e790: 6c20 6269 6e64 2060 3c76 6172 3e60 2074  l bind `<var>` t
-0000e7a0: 6f20 603c 7061 7474 6572 6e3e 602e 0d0a  o `<pattern>`...
-0000e7b0: 2d20 4261 7369 6320 4368 6563 6b73 3a0d  - Basic Checks:.
-0000e7c0: 0a20 202d 2043 6f6e 7374 616e 7473 2c20  .  - Constants, 
-0000e7d0: 4e75 6d62 6572 732c 2061 6e64 2053 7472  Numbers, and Str
-0000e7e0: 696e 6773 3a20 7769 6c6c 206f 6e6c 7920  ings: will only 
-0000e7f0: 6d61 7463 6820 746f 2074 6865 2073 616d  match to the sam
-0000e800: 6520 636f 6e73 7461 6e74 2c20 6e75 6d62  e constant, numb
-0000e810: 6572 2c20 6f72 2073 7472 696e 6720 696e  er, or string in
-0000e820: 2074 6865 2073 616d 6520 706f 7369 7469   the same positi
-0000e830: 6f6e 2069 6e20 7468 6520 6172 6775 6d65  on in the argume
-0000e840: 6e74 732e 0d0a 2020 2d20 4571 7561 6c69  nts...  - Equali
-0000e850: 7479 2043 6865 636b 7320 2860 3d3d 3c65  ty Checks (`==<e
-0000e860: 7870 723e 6029 3a20 7769 6c6c 2063 6865  xpr>`): will che
-0000e870: 636b 2074 6861 7420 7768 6174 6576 6572  ck that whatever
-0000e880: 2069 7320 696e 2074 6861 7420 706f 7369   is in that posi
-0000e890: 7469 6f6e 2069 7320 603d 3d60 2074 6f20  tion is `==` to 
-0000e8a0: 7468 6520 6578 7072 6573 7369 6f6e 2060  the expression `
-0000e8b0: 3c65 7870 723e 602e 0d0a 2020 2d20 4964  <expr>`...  - Id
-0000e8c0: 656e 7469 7479 2043 6865 636b 7320 2860  entity Checks (`
-0000e8d0: 6973 203c 6578 7072 3e60 293a 2077 696c  is <expr>`): wil
-0000e8e0: 6c20 6368 6563 6b20 7468 6174 2077 6861  l check that wha
-0000e8f0: 7465 7665 7220 6973 2069 6e20 7468 6174  tever is in that
-0000e900: 2070 6f73 6974 696f 6e20 6069 7360 2074   position `is` t
-0000e910: 6865 2065 7870 7265 7373 696f 6e20 603c  he expression `<
-0000e920: 6578 7072 3e60 2e0d 0a20 202d 2053 6574  expr>`...  - Set
-0000e930: 7320 2860 7b3c 636f 6e73 7461 6e74 733e  s (`{<constants>
-0000e940: 7d60 293a 2077 696c 6c20 6f6e 6c79 206d  }`): will only m
-0000e950: 6174 6368 2061 2073 6574 2028 6063 6f6c  atch a set (`col
-0000e960: 6c65 6374 696f 6e73 2e61 6263 2e53 6574  lections.abc.Set
-0000e970: 6029 206f 6620 7468 6520 7361 6d65 206c  `) of the same l
-0000e980: 656e 6774 6820 616e 6420 636f 6e74 656e  ength and conten
-0000e990: 7473 2e0d 0a2d 2041 7262 6974 7261 7279  ts...- Arbitrary
-0000e9a0: 2046 756e 6374 696f 6e20 5061 7474 6572   Function Patter
-0000e9b0: 6e73 3a0d 0a20 202d 2049 6e66 6978 2043  ns:..  - Infix C
-0000e9c0: 6865 636b 7320 2860 6020 3c70 6174 7465  hecks (`` <patte
-0000e9d0: 726e 3e20 603c 6f70 3e60 203c 6578 7072  rn> `<op>` <expr
-0000e9e0: 3e20 6060 293a 2077 696c 6c20 6368 6563  > ``): will chec
-0000e9f0: 6b20 7468 6174 2074 6865 206f 7065 7261  k that the opera
-0000ea00: 746f 7220 603c 6f70 3e24 283f 2c20 3c65  tor `<op>$(?, <e
-0000ea10: 7870 723e 2960 2072 6574 7572 6e73 2061  xpr>)` returns a
-0000ea20: 2074 7275 7468 7920 7661 6c75 6520 7768   truthy value wh
-0000ea30: 656e 2063 616c 6c65 6420 6f6e 2077 6861  en called on wha
-0000ea40: 7465 7665 7220 6973 2069 6e20 7468 6174  tever is in that
-0000ea50: 2070 6f73 6974 696f 6e2c 2074 6865 6e20   position, then 
-0000ea60: 6d61 7463 6865 7320 603c 7061 7474 6572  matches `<patter
-0000ea70: 6e3e 602e 2046 6f72 2065 7861 6d70 6c65  n>`. For example
-0000ea80: 2c20 6060 2078 2060 6973 696e 7374 616e  , `` x `isinstan
-0000ea90: 6365 6020 696e 7420 6060 2077 696c 6c20  ce` int `` will 
-0000eaa0: 6368 6563 6b20 7468 6174 2077 6861 7465  check that whate
-0000eab0: 7665 7220 6973 2069 6e20 7468 6174 2070  ver is in that p
-0000eac0: 6f73 6974 696f 6e20 6069 7369 6e73 7461  osition `isinsta
-0000ead0: 6e63 6524 283f 2c20 696e 7429 6020 616e  nce$(?, int)` an
-0000eae0: 6420 6269 6e64 2069 7420 746f 2060 7860  d bind it to `x`
-0000eaf0: 2e20 4966 2060 3c65 7870 723e 6020 6973  . If `<expr>` is
-0000eb00: 206e 6f74 2067 6976 656e 2c20 7769 6c6c   not given, will
-0000eb10: 2073 696d 706c 7920 6368 6563 6b20 603c   simply check `<
-0000eb20: 6f70 3e60 2064 6972 6563 746c 7920 7261  op>` directly ra
-0000eb30: 7468 6572 2074 6861 6e20 603c 6f70 3e24  ther than `<op>$
-0000eb40: 283c 6578 7072 3e29 602e 2041 6464 6974  (<expr>)`. Addit
-0000eb50: 696f 6e61 6c6c 792c 2060 6020 603c 6f70  ionally, `` `<op
-0000eb60: 3e60 2060 6020 6361 6e20 696e 7374 6561  >` `` can instea
-0000eb70: 6420 6265 2061 205b 6375 7374 6f6d 206f  d be a [custom o
-0000eb80: 7065 7261 746f 725d 2823 6375 7374 6f6d  perator](#custom
-0000eb90: 2d6f 7065 7261 746f 7273 2920 2869 6e20  -operators) (in 
-0000eba0: 7468 6174 2063 6173 652c 206e 6f20 6261  that case, no ba
-0000ebb0: 636b 7469 636b 7320 7368 6f75 6c64 2062  ckticks should b
-0000ebc0: 6520 7573 6564 292e 0d0a 2020 2d20 5669  e used)...  - Vi
-0000ebd0: 6577 2050 6174 7465 726e 7320 2860 283c  ew Patterns (`(<
-0000ebe0: 6578 7072 6573 7369 6f6e 3e29 202d 3e20  expression>) -> 
-0000ebf0: 3c70 6174 7465 726e 3e60 293a 2063 616c  <pattern>`): cal
-0000ec00: 6c73 2060 3c65 7870 7265 7373 696f 6e3e  ls `<expression>
-0000ec10: 6020 6f6e 2074 6865 2069 7465 6d20 6265  ` on the item be
-0000ec20: 696e 6720 6d61 7463 6865 6420 616e 6420  ing matched and 
-0000ec30: 6d61 7463 6865 7320 7468 6520 7265 7375  matches the resu
-0000ec40: 6c74 2074 6f20 603c 7061 7474 6572 6e3e  lt to `<pattern>
-0000ec50: 602e 2054 6865 206d 6174 6368 2066 6169  `. The match fai
-0000ec60: 6c73 2069 6620 6120 5b60 4d61 7463 6845  ls if a [`MatchE
-0000ec70: 7272 6f72 605d 2823 6d61 7463 6865 7272  rror`](#matcherr
-0000ec80: 6f72 2920 6973 2072 6169 7365 642e 2060  or) is raised. `
-0000ec90: 3c65 7870 7265 7373 696f 6e3e 6020 6d61  <expression>` ma
-0000eca0: 7920 6265 2075 6e70 6172 656e 7468 6573  y be unparenthes
-0000ecb0: 697a 6564 206f 6e6c 7920 7768 656e 2069  ized only when i
-0000ecc0: 7420 6973 2061 2073 696e 676c 6520 6174  t is a single at
-0000ecd0: 6f6d 2e0d 0a2d 2043 6c61 7373 2061 6e64  om...- Class and
-0000ece0: 2044 6174 6120 5479 7065 204d 6174 6368   Data Type Match
-0000ecf0: 696e 673a 0d0a 2020 2d20 436c 6173 7365  ing:..  - Classe
-0000ed00: 7320 6f72 2044 6174 6120 5479 7065 7320  s or Data Types 
-0000ed10: 2860 3c6e 616d 653e 283c 6172 6773 3e29  (`<name>(<args>)
-0000ed20: 6029 3a20 7769 6c6c 206d 6174 6368 2061  `): will match a
-0000ed30: 7320 6120 6461 7461 2074 7970 6520 6966  s a data type if
-0000ed40: 2067 6976 656e 205b 6120 436f 636f 6e75   given [a Coconu
-0000ed50: 7420 6064 6174 6160 2074 7970 655d 2823  t `data` type](#
-0000ed60: 6461 7461 2920 286f 7220 6120 7475 706c  data) (or a tupl
-0000ed70: 6520 6f66 2043 6f63 6f6e 7574 2064 6174  e of Coconut dat
-0000ed80: 6120 7479 7065 7329 2061 6e64 2061 2063  a types) and a c
-0000ed90: 6c61 7373 206f 7468 6572 7769 7365 2e0d  lass otherwise..
-0000eda0: 0a20 202d 2044 6174 6120 5479 7065 7320  .  - Data Types 
-0000edb0: 2860 6461 7461 203c 6e61 6d65 3e28 3c61  (`data <name>(<a
-0000edc0: 7267 733e 2960 293a 2077 696c 6c20 6368  rgs>)`): will ch
-0000edd0: 6563 6b20 7468 6174 2077 6861 7465 7665  eck that whateve
-0000ede0: 7220 6973 2069 6e20 7468 6174 2070 6f73  r is in that pos
-0000edf0: 6974 696f 6e20 6973 206f 6620 6461 7461  ition is of data
-0000ee00: 2074 7970 6520 603c 6e61 6d65 3e60 2061   type `<name>` a
-0000ee10: 6e64 2077 696c 6c20 6d61 7463 6820 7468  nd will match th
-0000ee20: 6520 6174 7472 6962 7574 6573 2074 6f20  e attributes to 
-0000ee30: 603c 6172 6773 3e60 2e20 4765 6e65 7261  `<args>`. Genera
-0000ee40: 6c6c 792c 2060 6461 7461 203c 6e61 6d65  lly, `data <name
-0000ee50: 3e28 3c61 7267 733e 2960 2077 696c 6c20  >(<args>)` will 
-0000ee60: 6d61 7463 6820 616e 7920 6461 7461 2074  match any data t
-0000ee70: 7970 6520 7468 6174 2063 6f75 6c64 2068  ype that could h
-0000ee80: 6176 6520 6265 656e 2063 6f6e 7374 7275  ave been constru
-0000ee90: 6374 6564 2077 6974 6820 606d 616b 6564  cted with `maked
-0000eea0: 6174 6128 3c6e 616d 653e 2c20 3c61 7267  ata(<name>, <arg
-0000eeb0: 733e 2960 2e20 496e 636c 7564 6573 2073  s>)`. Includes s
-0000eec0: 7570 706f 7274 2066 6f72 2070 6f73 6974  upport for posit
-0000eed0: 696f 6e61 6c20 6172 6775 6d65 6e74 732c  ional arguments,
-0000eee0: 206e 616d 6564 2061 7267 756d 656e 7473   named arguments
-0000eef0: 2c20 6465 6661 756c 7420 6172 6775 6d65  , default argume
-0000ef00: 6e74 732c 2061 6e64 2073 7461 7272 6564  nts, and starred
-0000ef10: 2061 7267 756d 656e 7473 2e20 416c 736f   arguments. Also
-0000ef20: 2073 7570 706f 7274 7320 7374 7269 6374   supports strict
-0000ef30: 2061 7474 7269 6275 7465 7320 6279 2070   attributes by p
-0000ef40: 7265 7065 6e64 696e 6720 6120 646f 7420  repending a dot 
-0000ef50: 746f 2074 6865 2061 7474 7269 6275 7465  to the attribute
-0000ef60: 206e 616d 6520 7468 6174 2072 6169 7365   name that raise
-0000ef70: 7320 6041 7474 7269 6275 7445 7272 6f72  s `AttributError
-0000ef80: 6020 6966 2074 6865 2061 7474 7269 6275  ` if the attribu
-0000ef90: 7465 2069 7320 6e6f 7420 7072 6573 656e  te is not presen
-0000efa0: 7420 7261 7468 6572 2074 6861 6e20 6661  t rather than fa
-0000efb0: 696c 696e 6720 7468 6520 6d61 7463 6820  iling the match 
-0000efc0: 2865 2e67 2e20 6064 6174 6120 4d79 4461  (e.g. `data MyDa
-0000efd0: 7461 282e 6d79 5f61 7474 723d 3c73 6f6d  ta(.my_attr=<som
-0000efe0: 655f 7061 7474 6572 6e3e 2960 292e 0d0a  e_pattern>)`)...
-0000eff0: 2020 2d20 436c 6173 7365 7320 2860 636c    - Classes (`cl
-0000f000: 6173 7320 3c6e 616d 653e 283c 6172 6773  ass <name>(<args
-0000f010: 3e29 6029 3a20 646f 6573 205b 5045 502d  >)`): does [PEP-
-0000f020: 3633 342d 7374 796c 6520 636c 6173 7320  634-style class 
-0000f030: 6d61 7463 6869 6e67 5d28 6874 7470 733a  matching](https:
-0000f040: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
-0000f050: 2f64 6576 2f70 6570 732f 7065 702d 3036  /dev/peps/pep-06
-0000f060: 3334 2f23 636c 6173 732d 7061 7474 6572  34/#class-patter
-0000f070: 6e73 292e 2041 6c73 6f20 7375 7070 6f72  ns). Also suppor
-0000f080: 7473 2073 7472 6963 7420 6174 7472 6962  ts strict attrib
-0000f090: 7574 6520 6d61 7463 6869 6e67 2061 7320  ute matching as 
-0000f0a0: 6162 6f76 652e 0d0a 2d20 4d61 7070 696e  above...- Mappin
-0000f0b0: 6720 4465 7374 7275 6374 7572 696e 673a  g Destructuring:
-0000f0c0: 0d0a 2020 2d20 4469 6374 7320 2860 7b3c  ..  - Dicts (`{<
-0000f0d0: 6b65 793e 3a20 3c76 616c 7565 3e2c 202e  key>: <value>, .
-0000f0e0: 2e2e 7d60 293a 2077 696c 6c20 6d61 7463  ..}`): will matc
-0000f0f0: 6820 616e 7920 6d61 7070 696e 6720 2860  h any mapping (`
-0000f100: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
-0000f110: 4d61 7070 696e 6760 2920 7769 7468 2074  Mapping`) with t
-0000f120: 6865 2067 6976 656e 206b 6579 7320 616e  he given keys an
-0000f130: 6420 7661 6c75 6573 2074 6861 7420 6d61  d values that ma
-0000f140: 7463 6820 7468 6520 7661 6c75 6520 7061  tch the value pa
-0000f150: 7474 6572 6e73 2e20 4b65 7973 206d 7573  tterns. Keys mus
-0000f160: 7420 6265 2063 6f6e 7374 616e 7473 206f  t be constants o
-0000f170: 7220 6571 7561 6c69 7479 2063 6865 636b  r equality check
-0000f180: 732e 0d0a 2020 2d20 4469 6374 7320 5769  s...  - Dicts Wi
-0000f190: 7468 2052 6573 7420 2860 7b3c 7061 6972  th Rest (`{<pair
-0000f1a0: 733e 2c20 2a2a 3c72 6573 743e 7d60 293a  s>, **<rest>}`):
-0000f1b0: 2077 696c 6c20 6d61 7463 6820 6120 6d61   will match a ma
-0000f1c0: 7070 696e 6720 2860 636f 6c6c 6563 7469  pping (`collecti
-0000f1d0: 6f6e 732e 6162 632e 4d61 7070 696e 6760  ons.abc.Mapping`
-0000f1e0: 2920 636f 6e74 6169 6e69 6e67 2061 6c6c  ) containing all
-0000f1f0: 2074 6865 2060 3c70 6169 7273 3e60 2c20   the `<pairs>`, 
-0000f200: 616e 6420 7769 6c6c 2070 7574 2061 2060  and will put a `
-0000f210: 6469 6374 6020 6f66 2065 7665 7279 7468  dict` of everyth
-0000f220: 696e 6720 656c 7365 2069 6e74 6f20 603c  ing else into `<
-0000f230: 7265 7374 3e60 2e20 4966 2060 3c72 6573  rest>`. If `<res
-0000f240: 743e 6020 6973 2060 7b7d 602c 2077 696c  t>` is `{}`, wil
-0000f250: 6c20 656e 666f 7263 6520 7468 6174 2074  l enforce that t
-0000f260: 6865 206d 6170 7069 6e67 2069 7320 6578  he mapping is ex
-0000f270: 6163 746c 7920 7468 6520 7361 6d65 206c  actly the same l
-0000f280: 656e 6774 6820 6173 2060 3c70 6169 7273  ength as `<pairs
-0000f290: 3e60 2e0d 0a2d 2053 6571 7565 6e63 6520  >`...- Sequence 
-0000f2a0: 4465 7374 7275 6374 7572 696e 673a 0d0a  Destructuring:..
-0000f2b0: 2020 2d20 4c69 7374 7320 2860 5b3c 7061    - Lists (`[<pa
-0000f2c0: 7474 6572 6e73 3e5d 6029 2c20 5475 706c  tterns>]`), Tupl
-0000f2d0: 6573 2028 6028 3c70 6174 7465 726e 733e  es (`(<patterns>
-0000f2e0: 2960 293a 2077 696c 6c20 6f6e 6c79 206d  )`): will only m
-0000f2f0: 6174 6368 2061 2073 6571 7565 6e63 6520  atch a sequence 
-0000f300: 2860 636f 6c6c 6563 7469 6f6e 732e 6162  (`collections.ab
-0000f310: 632e 5365 7175 656e 6365 6029 206f 6620  c.Sequence`) of 
-0000f320: 7468 6520 7361 6d65 206c 656e 6774 682c  the same length,
-0000f330: 2061 6e64 2077 696c 6c20 6368 6563 6b20   and will check 
-0000f340: 7468 6520 636f 6e74 656e 7473 2061 6761  the contents aga
-0000f350: 696e 7374 2060 3c70 6174 7465 726e 733e  inst `<patterns>
-0000f360: 6020 2843 6f63 6f6e 7574 2061 7574 6f6d  ` (Coconut autom
-0000f370: 6174 6963 616c 6c79 2072 6567 6973 7465  atically registe
-0000f380: 7273 2060 6e75 6d70 7960 2061 7272 6179  rs `numpy` array
-0000f390: 7320 616e 6420 6063 6f6c 6c65 6374 696f  s and `collectio
-0000f3a0: 6e73 2e64 6571 7565 6020 6f62 6a65 6374  ns.deque` object
-0000f3b0: 7320 6173 2073 6571 7565 6e63 6573 292e  s as sequences).
-0000f3c0: 0d0a 2020 2d20 4c61 7a79 206c 6973 7473  ..  - Lazy lists
-0000f3d0: 2028 6028 7c3c 7061 7474 6572 6e73 3e7c   (`(|<patterns>|
-0000f3e0: 2960 293a 2073 616d 6520 6173 206c 6973  )`): same as lis
-0000f3f0: 7420 6f72 2074 7570 6c65 206d 6174 6368  t or tuple match
-0000f400: 696e 672c 2062 7574 2063 6865 636b 7320  ing, but checks 
-0000f410: 666f 7220 616e 2049 7465 7261 626c 6520  for an Iterable 
-0000f420: 2860 636f 6c6c 6563 7469 6f6e 732e 6162  (`collections.ab
-0000f430: 632e 4974 6572 6162 6c65 6029 2069 6e73  c.Iterable`) ins
-0000f440: 7465 6164 206f 6620 6120 5365 7175 656e  tead of a Sequen
-0000f450: 6365 2e0d 0a20 202d 2048 6561 642d 5461  ce...  - Head-Ta
-0000f460: 696c 2053 706c 6974 7320 2860 3c6c 6973  il Splits (`<lis
-0000f470: 742f 7475 706c 653e 202b 203c 7661 723e  t/tuple> + <var>
-0000f480: 6020 6f72 2060 283c 7061 7474 6572 6e73  ` or `(<patterns
-0000f490: 3e2c 202a 3c76 6172 3e29 6029 3a20 7769  >, *<var>)`): wi
-0000f4a0: 6c6c 206d 6174 6368 2074 6865 2062 6567  ll match the beg
-0000f4b0: 696e 6e69 6e67 206f 6620 7468 6520 7365  inning of the se
-0000f4c0: 7175 656e 6365 2061 6761 696e 7374 2074  quence against t
-0000f4d0: 6865 2060 3c6c 6973 742f 7475 706c 653e  he `<list/tuple>
-0000f4e0: 602f 603c 7061 7474 6572 6e73 3e60 2c20  `/`<patterns>`, 
-0000f4f0: 7468 656e 2062 696e 6420 7468 6520 7265  then bind the re
-0000f500: 7374 2074 6f20 603c 7661 723e 602c 2061  st to `<var>`, a
-0000f510: 6e64 206d 616b 6520 6974 2074 6865 2074  nd make it the t
-0000f520: 7970 6520 6f66 2074 6865 2063 6f6e 7374  ype of the const
-0000f530: 7275 6374 2075 7365 642e 0d0a 2020 2d20  ruct used...  - 
-0000f540: 496e 6974 2d4c 6173 7420 5370 6c69 7473  Init-Last Splits
-0000f550: 2028 603c 7661 723e 202b 203c 6c69 7374   (`<var> + <list
-0000f560: 2f74 7570 6c65 3e60 206f 7220 6028 2a3c  /tuple>` or `(*<
-0000f570: 7661 723e 2c20 3c70 6174 7465 726e 733e  var>, <patterns>
-0000f580: 2960 293a 2065 7861 6374 6c79 2074 6865  )`): exactly the
-0000f590: 2073 616d 6520 6173 2068 6561 642d 7461   same as head-ta
-0000f5a0: 696c 2073 706c 6974 732c 2062 7574 206f  il splits, but o
-0000f5b0: 6e20 7468 6520 656e 6420 696e 7374 6561  n the end instea
-0000f5c0: 6420 6f66 2074 6865 2062 6567 696e 6e69  d of the beginni
-0000f5d0: 6e67 206f 6620 7468 6520 7365 7175 656e  ng of the sequen
-0000f5e0: 6365 2e0d 0a20 202d 2048 6561 642d 4c61  ce...  - Head-La
-0000f5f0: 7374 2053 706c 6974 7320 2860 3c6c 6973  st Splits (`<lis
-0000f600: 742f 7475 706c 653e 202b 203c 7661 723e  t/tuple> + <var>
-0000f610: 202b 203c 6c69 7374 2f74 7570 6c65 3e60   + <list/tuple>`
-0000f620: 206f 7220 6028 3c70 6174 7465 726e 733e   or `(<patterns>
-0000f630: 2c20 2a3c 7661 723e 2c20 3c70 6174 7465  , *<var>, <patte
-0000f640: 726e 733e 2960 293a 2074 6865 2063 6f6d  rns>)`): the com
-0000f650: 6269 6e61 7469 6f6e 206f 6620 6120 6865  bination of a he
-0000f660: 6164 2d74 6169 6c20 616e 6420 616e 2069  ad-tail and an i
-0000f670: 6e69 742d 6c61 7374 2073 706c 6974 2e0d  nit-last split..
-0000f680: 0a20 202d 2053 6561 7263 6820 5370 6c69  .  - Search Spli
-0000f690: 7473 2028 603c 7661 7231 3e20 2b20 3c6c  ts (`<var1> + <l
-0000f6a0: 6973 742f 7475 706c 653e 202b 203c 7661  ist/tuple> + <va
-0000f6b0: 7232 3e60 206f 7220 6028 2a3c 7661 7231  r2>` or `(*<var1
-0000f6c0: 3e2c 203c 7061 7474 6572 6e73 3e2c 202a  >, <patterns>, *
-0000f6d0: 3c76 6172 323e 2960 293a 2073 6561 7263  <var2>)`): searc
-0000f6e0: 6865 7320 666f 7220 7468 6520 6669 7273  hes for the firs
-0000f6f0: 7420 6f63 6375 7272 656e 6365 206f 6620  t occurrence of 
-0000f700: 7468 6520 603c 6c69 7374 2f74 7570 6c65  the `<list/tuple
-0000f710: 3e60 2f60 3c70 6174 7465 726e 733e 6020  >`/`<patterns>` 
-0000f720: 696e 2074 6865 2073 6571 7565 6e63 652c  in the sequence,
-0000f730: 2074 6865 6e20 7075 7473 2065 7665 7279   then puts every
-0000f740: 7468 696e 6720 6265 666f 7265 2069 6e74  thing before int
-0000f750: 6f20 603c 7661 7231 3e60 2061 6e64 2065  o `<var1>` and e
-0000f760: 7665 7279 7468 696e 6720 6166 7465 7220  verything after 
-0000f770: 696e 746f 2060 3c76 6172 323e 602e 0d0a  into `<var2>`...
-0000f780: 2020 2d20 4865 6164 2d4c 6173 7420 5365    - Head-Last Se
-0000f790: 6172 6368 2053 706c 6974 7320 2860 3c6c  arch Splits (`<l
-0000f7a0: 6973 742f 7475 706c 653e 202b 203c 7661  ist/tuple> + <va
-0000f7b0: 723e 202b 203c 6c69 7374 2f74 7570 6c65  r> + <list/tuple
-0000f7c0: 3e20 2b20 3c76 6172 3e20 2b20 3c6c 6973  > + <var> + <lis
-0000f7d0: 742f 7475 706c 653e 6020 6f72 2060 283c  t/tuple>` or `(<
-0000f7e0: 7061 7474 6572 6e73 3e2c 202a 3c76 6172  patterns>, *<var
-0000f7f0: 3e2c 203c 7061 7474 6572 6e73 3e2c 202a  >, <patterns>, *
-0000f800: 3c76 6172 3e2c 203c 7061 7474 6572 6e73  <var>, <patterns
-0000f810: 3e29 6029 3a20 7468 6520 636f 6d62 696e  >)`): the combin
-0000f820: 6174 696f 6e20 6f66 2061 2068 6561 642d  ation of a head-
-0000f830: 7461 696c 2073 706c 6974 2061 6e64 2061  tail split and a
-0000f840: 2073 6561 7263 6820 7370 6c69 742e 0d0a   search split...
-0000f850: 2020 2d20 4974 6572 6162 6c65 2053 706c    - Iterable Spl
-0000f860: 6974 7320 2860 3c6c 6973 742f 7475 706c  its (`<list/tupl
-0000f870: 652f 6c61 7a79 206c 6973 743e 203a 3a20  e/lazy list> :: 
-0000f880: 3c76 6172 3e20 3a3a 203c 6c69 7374 2f74  <var> :: <list/t
-0000f890: 7570 6c65 2f6c 617a 7920 6c69 7374 3e20  uple/lazy list> 
-0000f8a0: 3a3a 203c 7661 723e 203a 3a20 3c6c 6973  :: <var> :: <lis
-0000f8b0: 742f 7475 706c 652f 6c61 7a79 206c 6973  t/tuple/lazy lis
-0000f8c0: 743e 6029 3a20 7361 6d65 2061 7320 6f74  t>`): same as ot
-0000f8d0: 6865 7220 7365 7175 656e 6365 2064 6573  her sequence des
-0000f8e0: 7472 7563 7475 7269 6e67 2c20 6275 7420  tructuring, but 
-0000f8f0: 776f 726b 7320 6f6e 2061 6e79 2069 7465  works on any ite
-0000f900: 7261 626c 6520 2860 636f 6c6c 6563 7469  rable (`collecti
-0000f910: 6f6e 732e 6162 632e 4974 6572 6162 6c65  ons.abc.Iterable
-0000f920: 6029 2c20 696e 636c 7564 696e 6720 696e  `), including in
-0000f930: 6669 6e69 7465 2069 7465 7261 746f 7273  finite iterators
-0000f940: 2028 6e6f 7465 2074 6861 7420 6966 2061   (note that if a
-0000f950: 6e20 6974 6572 6174 6f72 2069 7320 6d61  n iterator is ma
-0000f960: 7463 6865 6420 6167 6169 6e73 7420 6974  tched against it
-0000f970: 2077 696c 6c20 6265 206d 6f64 6966 6965   will be modifie
-0000f980: 6420 756e 6c65 7373 2069 7420 6973 205b  d unless it is [
-0000f990: 6072 6569 7465 7261 626c 6560 5d28 2372  `reiterable`](#r
-0000f9a0: 6569 7465 7261 626c 6529 292e 0d0a 2020  eiterable))...  
-0000f9b0: 2d20 436f 6d70 6c65 7820 5374 7269 6e67  - Complex String
-0000f9c0: 204d 6174 6368 696e 6720 2860 3c73 7472   Matching (`<str
-0000f9d0: 696e 673e 202b 203c 7661 723e 202b 203c  ing> + <var> + <
-0000f9e0: 7374 7269 6e67 3e20 2b20 3c76 6172 3e20  string> + <var> 
-0000f9f0: 2b20 3c73 7472 696e 673e 6029 3a20 7374  + <string>`): st
-0000fa00: 7269 6e67 206d 6174 6368 696e 6720 7375  ring matching su
-0000fa10: 7070 6f72 7473 2074 6865 2073 616d 6520  pports the same 
-0000fa20: 6465 7374 7275 6374 7572 696e 6720 6f70  destructuring op
-0000fa30: 7469 6f6e 7320 6173 2061 626f 7665 2e0d  tions as above..
-0000fa40: 0a0d 0a5f 4e6f 7465 3a20 4c69 6b65 205b  ..._Note: Like [
-0000fa50: 6974 6572 6174 6f72 2073 6c69 6369 6e67  iterator slicing
-0000fa60: 5d28 2369 7465 7261 746f 722d 736c 6963  ](#iterator-slic
-0000fa70: 696e 6729 2c20 6974 6572 6174 6f72 2061  ing), iterator a
-0000fa80: 6e64 206c 617a 7920 6c69 7374 206d 6174  nd lazy list mat
-0000fa90: 6368 696e 6720 6d61 6b65 206e 6f20 6775  ching make no gu
-0000faa0: 6172 616e 7465 6520 7468 6174 2074 6865  arantee that the
-0000fab0: 206f 7269 6769 6e61 6c20 6974 6572 6174   original iterat
-0000fac0: 6f72 206d 6174 6368 6564 2061 6761 696e  or matched again
-0000fad0: 7374 2062 6520 7072 6573 6572 7665 6420  st be preserved 
-0000fae0: 2874 6f20 7072 6573 6572 7665 2074 6865  (to preserve the
-0000faf0: 2069 7465 7261 746f 722c 2075 7365 2043   iterator, use C
-0000fb00: 6f63 6f6e 7574 2773 205b 6072 6569 7465  oconut's [`reite
-0000fb10: 7261 626c 6560 5d28 2372 6569 7465 7261  rable`](#reitera
-0000fb20: 626c 6529 2062 7569 6c74 2d69 6e29 2e5f  ble) built-in)._
-0000fb30: 0d0a 0d0a 5768 656e 2063 6865 636b 696e  ....When checkin
-0000fb40: 6720 7768 6574 6865 7220 6f72 206e 6f74  g whether or not
-0000fb50: 2061 6e20 6f62 6a65 6374 2063 616e 2062   an object can b
-0000fb60: 6520 6d61 7463 6865 6420 6167 6169 6e73  e matched agains
-0000fb70: 7420 696e 2061 2070 6172 7469 6375 6c61  t in a particula
-0000fb80: 7220 6661 7368 696f 6e2c 2043 6f63 6f6e  r fashion, Cocon
-0000fb90: 7574 206d 616b 6573 2075 7365 206f 6620  ut makes use of 
-0000fba0: 5079 7468 6f6e 2773 2061 6273 7472 6163  Python's abstrac
-0000fbb0: 7420 6261 7365 2063 6c61 7373 6573 2e20  t base classes. 
-0000fbc0: 5468 6572 6566 6f72 652c 2074 6f20 656e  Therefore, to en
-0000fbd0: 7375 7265 2070 726f 7065 7220 6d61 7463  sure proper matc
-0000fbe0: 6869 6e67 2066 6f72 2061 2063 7573 746f  hing for a custo
-0000fbf0: 6d20 6f62 6a65 6374 2c20 6974 2773 2072  m object, it's r
-0000fc00: 6563 6f6d 6d65 6e64 6564 2074 6f20 7265  ecommended to re
-0000fc10: 6769 7374 6572 2069 7420 7769 7468 2074  gister it with t
-0000fc20: 6865 2070 726f 7065 7220 6162 7374 7261  he proper abstra
-0000fc30: 6374 2062 6173 6520 636c 6173 7365 732e  ct base classes.
-0000fc40: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-0000fc50: 6573 0d0a 0d0a 2a2a 436f 636f 6e75 743a  es....**Coconut:
-0000fc60: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-0000fc70: 6465 6620 6661 6374 6f72 6961 6c28 7661  def factorial(va
-0000fc80: 6c75 6529 3a0d 0a20 2020 206d 6174 6368  lue):..    match
-0000fc90: 2030 2069 6e20 7661 6c75 653a 0d0a 2020   0 in value:..  
-0000fca0: 2020 2020 2020 7265 7475 726e 2031 0d0a        return 1..
-0000fcb0: 2020 2020 656c 7365 3a20 6d61 7463 6820      else: match 
-0000fcc0: 6e20 6069 7369 6e73 7461 6e63 6560 2069  n `isinstance` i
-0000fcd0: 6e74 2069 6e20 7661 6c75 6520 6966 206e  nt in value if n
-0000fce0: 203e 2030 3a20 2023 2043 6f63 6f6e 7574   > 0:  # Coconut
-0000fcf0: 2061 6c6c 6f77 7320 6e65 7374 696e 6720   allows nesting 
-0000fd00: 6f66 2073 7461 7465 6d65 6e74 7320 6f6e  of statements on
-0000fd10: 2074 6865 2073 616d 6520 6c69 6e65 0d0a   the same line..
-0000fd20: 2020 2020 2020 2020 7265 7475 726e 206e          return n
-0000fd30: 202a 2066 6163 746f 7269 616c 286e 2d31   * factorial(n-1
-0000fd40: 290d 0a20 2020 2065 6c73 653a 0d0a 2020  )..    else:..  
-0000fd50: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
-0000fd60: 4572 726f 7228 2269 6e76 616c 6964 2061  Error("invalid a
-0000fd70: 7267 756d 656e 7420 746f 2066 6163 746f  rgument to facto
-0000fd80: 7269 616c 206f 663a 2022 2b72 6570 7228  rial of: "+repr(
-0000fd90: 7661 6c75 6529 290d 0a0d 0a33 207c 3e20  value))....3 |> 
-0000fda0: 6661 6374 6f72 6961 6c20 7c3e 2070 7269  factorial |> pri
-0000fdb0: 6e74 0d0a 6060 600d 0a5f 5368 6f77 6361  nt..```.._Showca
-0000fdc0: 7365 7320 6065 6c73 6560 2073 7461 7465  ses `else` state
-0000fdd0: 6d65 6e74 732c 2077 6869 6368 2077 6f72  ments, which wor
-0000fde0: 6b20 6d75 6368 206c 696b 6520 6065 6c73  k much like `els
-0000fdf0: 6560 2073 7461 7465 6d65 6e74 7320 696e  e` statements in
-0000fe00: 2050 7974 686f 6e3a 2074 6865 2063 6f64   Python: the cod
-0000fe10: 6520 756e 6465 7220 616e 2060 656c 7365  e under an `else
-0000fe20: 6020 7374 6174 656d 656e 7420 6973 206f  ` statement is o
-0000fe30: 6e6c 7920 6578 6563 7574 6564 2069 6620  nly executed if 
-0000fe40: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
-0000fe50: 6720 6d61 7463 6820 6661 696c 732e 5f0d  g match fails._.
-0000fe60: 0a0d 0a60 6060 636f 636f 6e75 740d 0a64  ...```coconut..d
-0000fe70: 6174 6120 706f 696e 7428 782c 2079 293a  ata point(x, y):
-0000fe80: 0d0a 2020 2020 6465 6620 7472 616e 7366  ..    def transf
-0000fe90: 6f72 6d28 7365 6c66 2c20 6f74 6865 7229  orm(self, other)
-0000fea0: 3a0d 0a20 2020 2020 2020 206d 6174 6368  :..        match
-0000feb0: 2070 6f69 6e74 2878 2c20 7929 2069 6e20   point(x, y) in 
-0000fec0: 6f74 6865 723a 0d0a 2020 2020 2020 2020  other:..        
-0000fed0: 2020 2020 7265 7475 726e 2070 6f69 6e74      return point
-0000fee0: 2873 656c 662e 7820 2b20 782c 2073 656c  (self.x + x, sel
-0000fef0: 662e 7920 2b20 7929 0d0a 2020 2020 2020  f.y + y)..      
-0000ff00: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-0000ff10: 2020 2020 2072 6169 7365 2054 7970 6545       raise TypeE
-0000ff20: 7272 6f72 2822 6172 6720 746f 2074 7261  rror("arg to tra
-0000ff30: 6e73 666f 726d 206d 7573 7420 6265 2061  nsform must be a
-0000ff40: 2070 6f69 6e74 2229 0d0a 0d0a 706f 696e   point")....poin
-0000ff50: 7428 312c 3229 207c 3e20 706f 696e 7428  t(1,2) |> point(
-0000ff60: 332c 3429 2e74 7261 6e73 666f 726d 207c  3,4).transform |
-0000ff70: 3e20 7072 696e 740d 0a70 6f69 6e74 2831  > print..point(1
-0000ff80: 2c32 2920 7c3e 2028 3d3d 2924 2870 6f69  ,2) |> (==)$(poi
-0000ff90: 6e74 2831 2c32 2929 207c 3e20 7072 696e  nt(1,2)) |> prin
-0000ffa0: 740d 0a60 6060 0d0a 5f53 686f 7763 6173  t..```.._Showcas
-0000ffb0: 6573 206d 6174 6368 696e 6720 746f 2064  es matching to d
-0000ffc0: 6174 6120 7479 7065 7320 616e 6420 7468  ata types and th
-0000ffd0: 6520 6465 6661 756c 7420 6571 7561 6c69  e default equali
-0000ffe0: 7479 206f 7065 7261 746f 722e 2056 616c  ty operator. Val
-0000fff0: 7565 7320 6465 6669 6e65 6420 6279 2074  ues defined by t
-00010000: 6865 2075 7365 7220 7769 7468 2074 6865  he user with the
-00010010: 2060 6461 7461 6020 7374 6174 656d 656e   `data` statemen
-00010020: 7420 6361 6e20 6265 206d 6174 6368 6564  t can be matched
-00010030: 2061 6761 696e 7374 2061 6e64 2074 6865   against and the
-00010040: 6972 2063 6f6e 7465 6e74 7320 6163 6365  ir contents acce
-00010050: 7373 6564 2062 7920 7370 6563 6966 6963  ssed by specific
-00010060: 616c 6c79 2072 6566 6572 656e 6369 6e67  ally referencing
-00010070: 2061 7267 756d 656e 7473 2074 6f20 7468   arguments to th
-00010080: 6520 6461 7461 2074 7970 6527 7320 636f  e data type's co
-00010090: 6e73 7472 7563 746f 722e 5f0d 0a0d 0a60  nstructor._....`
-000100a0: 6060 636f 636f 6e75 740d 0a63 6c61 7373  ``coconut..class
-000100b0: 2054 7265 650d 0a64 6174 6120 456d 7074   Tree..data Empt
-000100c0: 7928 2920 6672 6f6d 2054 7265 650d 0a64  y() from Tree..d
-000100d0: 6174 6120 4c65 6166 286e 2920 6672 6f6d  ata Leaf(n) from
-000100e0: 2054 7265 650d 0a64 6174 6120 4e6f 6465   Tree..data Node
-000100f0: 286c 2c20 7229 2066 726f 6d20 5472 6565  (l, r) from Tree
-00010100: 0d0a 0d0a 6465 6620 6465 7074 6828 5472  ....def depth(Tr
-00010110: 6565 2829 2920 3d20 300d 0a0d 0a40 6164  ee()) = 0....@ad
-00010120: 6470 6174 7465 726e 2864 6570 7468 290d  dpattern(depth).
-00010130: 0a64 6566 2064 6570 7468 2854 7265 6528  .def depth(Tree(
-00010140: 6e29 2920 3d20 310d 0a0d 0a40 6164 6470  n)) = 1....@addp
-00010150: 6174 7465 726e 2864 6570 7468 290d 0a64  attern(depth)..d
-00010160: 6566 2064 6570 7468 2854 7265 6528 6c2c  ef depth(Tree(l,
-00010170: 2072 2929 203d 2031 202b 206d 6178 285b   r)) = 1 + max([
-00010180: 6465 7074 6828 6c29 2c20 6465 7074 6828  depth(l), depth(
-00010190: 7229 5d29 0d0a 0d0a 456d 7074 7928 2920  r)])....Empty() 
-000101a0: 7c3e 2064 6570 7468 207c 3e20 7072 696e  |> depth |> prin
-000101b0: 740d 0a4c 6561 6628 3529 207c 3e20 6465  t..Leaf(5) |> de
-000101c0: 7074 6820 7c3e 2070 7269 6e74 0d0a 4e6f  pth |> print..No
-000101d0: 6465 284c 6561 6628 3229 2c20 4e6f 6465  de(Leaf(2), Node
-000101e0: 2845 6d70 7479 2829 2c20 4c65 6166 2833  (Empty(), Leaf(3
-000101f0: 2929 2920 7c3e 2064 6570 7468 207c 3e20  ))) |> depth |> 
-00010200: 7072 696e 740d 0a60 6060 0d0a 5f53 686f  print..```.._Sho
-00010210: 7763 6173 6573 2068 6f77 2074 6865 2063  wcases how the c
-00010220: 6f6d 6269 6e61 7469 6f6e 206f 6620 6461  ombination of da
-00010230: 7461 2074 7970 6573 2061 6e64 206d 6174  ta types and mat
-00010240: 6368 2073 7461 7465 6d65 6e74 7320 6361  ch statements ca
-00010250: 6e20 6265 2075 7365 6420 746f 2070 6f77  n be used to pow
-00010260: 6572 6675 6c20 6566 6665 6374 2074 6f20  erful effect to 
-00010270: 7265 706c 6963 6174 6520 7468 6520 7573  replicate the us
-00010280: 6167 6520 6f66 2061 6c67 6562 7261 6963  age of algebraic
-00010290: 2064 6174 6120 7479 7065 7320 696e 206f   data types in o
-000102a0: 7468 6572 2066 756e 6374 696f 6e61 6c20  ther functional 
-000102b0: 7072 6f67 7261 6d6d 696e 6720 6c61 6e67  programming lang
-000102c0: 7561 6765 732e 5f0d 0a0d 0a60 6060 636f  uages._....```co
-000102d0: 636f 6e75 740d 0a64 6566 2064 7570 6c69  conut..def dupli
-000102e0: 6361 7465 5f66 6972 7374 285b 785d 202b  cate_first([x] +
-000102f0: 2078 7320 6173 206c 2920 3d0d 0a20 2020   xs as l) =..   
-00010300: 205b 785d 202b 206c 0d0a 0d0a 5b31 2c32   [x] + l....[1,2
-00010310: 2c33 5d20 7c3e 2064 7570 6c69 6361 7465  ,3] |> duplicate
-00010320: 5f66 6972 7374 207c 3e20 7072 696e 740d  _first |> print.
-00010330: 0a60 6060 0d0a 5f53 686f 7763 6173 6573  .```.._Showcases
-00010340: 2068 6561 642d 7461 696c 2073 706c 6974   head-tail split
-00010350: 7469 6e67 2c20 6f6e 6520 6f66 2074 6865  ting, one of the
-00010360: 206d 6f73 7420 636f 6d6d 6f6e 2075 7365   most common use
-00010370: 7320 6f66 2070 6174 7465 726e 2d6d 6174  s of pattern-mat
-00010380: 6368 696e 672c 2077 6865 7265 2061 2060  ching, where a `
-00010390: 2b20 3c76 6172 3e60 2028 6f72 2060 3a3a  + <var>` (or `::
-000103a0: 203c 7661 723e 6020 666f 7220 616e 7920   <var>` for any 
-000103b0: 6974 6572 6162 6c65 2920 6174 2074 6865  iterable) at the
-000103c0: 2065 6e64 206f 6620 6120 6c69 7374 206f   end of a list o
-000103d0: 7220 7475 706c 6520 6c69 7465 7261 6c20  r tuple literal 
-000103e0: 6361 6e20 6265 2075 7365 6420 746f 206d  can be used to m
-000103f0: 6174 6368 2074 6865 2072 6573 7420 6f66  atch the rest of
-00010400: 2074 6865 2073 6571 7565 6e63 652e 5f0d   the sequence._.
-00010410: 0a0d 0a60 6060 0d0a 6465 6620 7369 6576  ...```..def siev
-00010420: 6528 5b68 6561 645d 203a 3a20 7461 696c  e([head] :: tail
-00010430: 2920 3d0d 0a20 2020 205b 6865 6164 5d20  ) =..    [head] 
-00010440: 3a3a 2073 6965 7665 286e 2066 6f72 206e  :: sieve(n for n
-00010450: 2069 6e20 7461 696c 2069 6620 6e20 2520   in tail if n % 
-00010460: 6865 6164 290d 0a0d 0a40 6164 6470 6174  head)....@addpat
-00010470: 7465 726e 2873 6965 7665 290d 0a64 6566  tern(sieve)..def
-00010480: 2073 6965 7665 2828 7c7c 2929 203d 205b   sieve((||)) = [
-00010490: 5d0d 0a60 6060 0d0a 5f53 686f 7763 6173  ]..```.._Showcas
-000104a0: 6573 2068 6f77 2074 6f20 6d61 7463 6820  es how to match 
-000104b0: 6167 6169 6e73 7420 6974 6572 6174 6f72  against iterator
-000104c0: 732c 206e 616d 656c 7920 7468 6174 2074  s, namely that t
-000104d0: 6865 2065 6d70 7479 2069 7465 7261 746f  he empty iterato
-000104e0: 7220 6361 7365 2028 6028 7c7c 2960 2920  r case (`(||)`) 
-000104f0: 6d75 7374 2063 6f6d 6520 6c61 7374 2c20  must come last, 
-00010500: 6f74 6865 7277 6973 6520 7468 6174 2063  otherwise that c
-00010510: 6173 6520 7769 6c6c 2065 7868 6175 7374  ase will exhaust
-00010520: 2074 6865 2077 686f 6c65 2069 7465 7261   the whole itera
-00010530: 746f 7220 6265 666f 7265 2061 6e79 206f  tor before any o
-00010540: 7468 6572 2070 6174 7465 726e 2068 6173  ther pattern has
-00010550: 2061 2063 6861 6e63 6520 746f 206d 6174   a chance to mat
-00010560: 6368 2061 6761 696e 7374 2069 742e 5f0d  ch against it._.
-00010570: 0a0d 0a60 6060 0d0a 6465 6620 6f64 645f  ...```..def odd_
-00010580: 7072 696d 6573 2870 3d33 2920 3d0d 0a20  primes(p=3) =.. 
-00010590: 2020 2028 702c 2920 3a3a 2066 696c 7465     (p,) :: filte
-000105a0: 7228 2d3e 205f 2025 2070 2021 3d20 302c  r(-> _ % p != 0,
-000105b0: 206f 6464 5f70 7269 6d65 7328 7020 2b20   odd_primes(p + 
-000105c0: 3229 290d 0a0d 0a64 6566 2070 7269 6d65  2))....def prime
-000105d0: 7328 2920 3d0d 0a20 2020 2028 322c 2920  s() =..    (2,) 
-000105e0: 3a3a 206f 6464 5f70 7269 6d65 7328 290d  :: odd_primes().
-000105f0: 0a0d 0a64 6566 2074 7769 6e5f 7072 696d  ...def twin_prim
-00010600: 6573 285f 203a 3a20 5b70 2c20 282e 2d32  es(_ :: [p, (.-2
-00010610: 2920 2d3e 2070 5d20 3a3a 2070 7329 203d  ) -> p] :: ps) =
-00010620: 0d0a 2020 2020 5b28 702c 2070 2b32 295d  ..    [(p, p+2)]
-00010630: 203a 3a20 7477 696e 5f70 7269 6d65 7328   :: twin_primes(
-00010640: 5b70 202b 2032 5d20 3a3a 2070 7329 0d0a  [p + 2] :: ps)..
-00010650: 0d0a 6164 6470 6174 7465 726e 2064 6566  ..addpattern def
-00010660: 2074 7769 6e5f 7072 696d 6573 2829 203d   twin_primes() =
-00010670: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-00010680: 0d0a 2020 2020 7477 696e 5f70 7269 6d65  ..    twin_prime
-00010690: 7328 7072 696d 6573 2829 290d 0a0d 0a74  s(primes())....t
-000106a0: 7769 6e5f 7072 696d 6573 2829 245b 3a35  win_primes()$[:5
-000106b0: 5d20 7c3e 206c 6973 7420 7c3e 2070 7269  ] |> list |> pri
-000106c0: 6e74 0d0a 6060 600d 0a5f 5368 6f77 6361  nt..```.._Showca
-000106d0: 7365 7320 7468 6520 7573 6520 6f66 2061  ses the use of a
-000106e0: 6e20 6974 6572 6162 6c65 2073 6561 7263  n iterable searc
-000106f0: 6820 7061 7474 6572 6e20 616e 6420 6120  h pattern and a 
-00010700: 7669 6577 2070 6174 7465 726e 2074 6f20  view pattern to 
-00010710: 636f 6e73 7472 7563 7420 616e 2069 7465  construct an ite
-00010720: 7261 746f 7220 6f66 2061 6c6c 2074 7769  rator of all twi
-00010730: 6e20 7072 696d 6573 2e5f 0d0a 0d0a 2a2a  n primes._....**
-00010740: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
-00010750: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
-00010760: 7420 6120 6c6f 6e67 2073 6572 6965 7320  t a long series 
-00010770: 6f66 2063 6865 636b 7320 666f 7220 6561  of checks for ea
-00010780: 6368 2060 6d61 7463 6860 2073 7461 7465  ch `match` state
-00010790: 6d65 6e74 2e20 5365 6520 7468 6520 636f  ment. See the co
-000107a0: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
-000107b0: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
-000107c0: 782e 5f0d 0a0d 0a23 2323 2060 6361 7365  x._....### `case
-000107d0: 600d 0a0d 0a43 6f63 6f6e 7574 2773 2060  `....Coconut's `
-000107e0: 6361 7365 6020 626c 6f63 6b73 2073 6572  case` blocks ser
-000107f0: 7665 2061 7320 616e 2065 7874 656e 7369  ve as an extensi
-00010800: 6f6e 206f 6620 436f 636f 6e75 7427 7320  on of Coconut's 
-00010810: 606d 6174 6368 6020 7374 6174 656d 656e  `match` statemen
-00010820: 7420 666f 7220 7065 7266 6f72 6d69 6e67  t for performing
-00010830: 206d 756c 7469 706c 6520 606d 6174 6368   multiple `match
-00010840: 6020 7374 6174 656d 656e 7473 2061 6761  ` statements aga
-00010850: 696e 7374 2074 6865 2073 616d 6520 7661  inst the same va
-00010860: 6c75 652c 2077 6865 7265 206f 6e6c 7920  lue, where only 
-00010870: 6f6e 6520 6f66 2074 6865 6d20 7368 6f75  one of them shou
-00010880: 6c64 2073 7563 6365 6564 2e20 556e 6c69  ld succeed. Unli
-00010890: 6b65 206c 6f6e 6520 606d 6174 6368 6020  ke lone `match` 
-000108a0: 7374 6174 656d 656e 7473 2c20 6f6e 6c79  statements, only
-000108b0: 206f 6e65 206d 6174 6368 2073 7461 7465   one match state
-000108c0: 6d65 6e74 2069 6e73 6964 6520 6f66 2061  ment inside of a
-000108d0: 2060 6361 7365 6020 626c 6f63 6b20 7769   `case` block wi
-000108e0: 6c6c 2065 7665 7220 7375 6363 6565 642c  ll ever succeed,
-000108f0: 2061 6e64 2074 6875 7320 6d6f 7265 2067   and thus more g
-00010900: 656e 6572 616c 206d 6174 6368 6573 2073  eneral matches s
-00010910: 686f 756c 6420 6265 2070 7574 2062 656c  hould be put bel
-00010920: 6f77 206d 6f72 6520 7370 6563 6966 6963  ow more specific
-00010930: 206f 6e65 732e 0d0a 0d0a 436f 636f 6e75   ones.....Coconu
-00010940: 7427 7320 6063 6173 6560 2062 6c6f 636b  t's `case` block
-00010950: 7320 6172 6520 616e 2065 7874 656e 7369  s are an extensi
-00010960: 6f6e 206f 6620 5079 7468 6f6e 2033 2e31  on of Python 3.1
-00010970: 3027 7320 5b60 6361 7365 6020 626c 6f63  0's [`case` bloc
-00010980: 6b73 5d28 6874 7470 733a 2f2f 7777 772e  ks](https://www.
-00010990: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
-000109a0: 6570 732f 7065 702d 3036 3334 2920 746f  eps/pep-0634) to
-000109b0: 2073 7570 706f 7274 2061 6464 6974 696f   support additio
-000109c0: 6e61 6c20 7061 7474 6572 6e2d 6d61 7463  nal pattern-matc
-000109d0: 6869 6e67 2063 6f6e 7374 7275 6374 7320  hing constructs 
-000109e0: 6164 6465 6420 6279 2043 6f63 6f6e 7574  added by Coconut
-000109f0: 2028 616e 6420 436f 636f 6e75 7420 7769   (and Coconut wi
-00010a00: 6c6c 2065 6e73 7572 6520 7468 6174 2074  ll ensure that t
-00010a10: 6865 7920 776f 726b 206f 6e20 616c 6c20  hey work on all 
-00010a20: 5079 7468 6f6e 2076 6572 7369 6f6e 732c  Python versions,
-00010a30: 206e 6f74 206a 7573 7420 332e 3130 2b29   not just 3.10+)
-00010a40: 2e0d 0a0d 0a45 6163 6820 7061 7474 6572  .....Each patter
-00010a50: 6e20 696e 2061 2063 6173 6520 626c 6f63  n in a case bloc
-00010a60: 6b20 6973 2063 6865 636b 6564 2075 6e74  k is checked unt
-00010a70: 696c 2061 206d 6174 6368 2069 7320 666f  il a match is fo
-00010a80: 756e 642c 2061 6e64 2074 6865 6e20 7468  und, and then th
-00010a90: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
-00010aa0: 626f 6479 2069 7320 6578 6563 7574 6564  body is executed
-00010ab0: 2c20 616e 6420 7468 6520 6361 7365 2062  , and the case b
-00010ac0: 6c6f 636b 2074 6572 6d69 6e61 7465 642e  lock terminated.
-00010ad0: 2054 6865 2073 796e 7461 7820 666f 7220   The syntax for 
-00010ae0: 6361 7365 2062 6c6f 636b 7320 6973 0d0a  case blocks is..
-00010af0: 6060 6063 6f63 6f6e 7574 0d0a 6d61 7463  ```coconut..matc
-00010b00: 6820 3c76 616c 7565 3e3a 0d0a 2020 2020  h <value>:..    
-00010b10: 6361 7365 203c 7061 7474 6572 6e3e 205b  case <pattern> [
-00010b20: 6966 203c 636f 6e64 3e5d 3a0d 0a20 2020  if <cond>]:..   
-00010b30: 2020 2020 203c 626f 6479 3e0d 0a20 2020       <body>..   
-00010b40: 2063 6173 6520 3c70 6174 7465 726e 3e20   case <pattern> 
-00010b50: 5b69 6620 3c63 6f6e 643e 5d3a 0d0a 2020  [if <cond>]:..  
-00010b60: 2020 2020 2020 3c62 6f64 793e 0d0a 2020        <body>..  
-00010b70: 2020 2e2e 2e0d 0a5b 656c 7365 3a0d 0a20    .....[else:.. 
-00010b80: 2020 203c 626f 6479 3e5d 0d0a 6060 600d     <body>]..```.
-00010b90: 0a77 6865 7265 2060 3c70 6174 7465 726e  .where `<pattern
-00010ba0: 3e60 2069 7320 616e 7920 606d 6174 6368  >` is any `match
-00010bb0: 6020 7061 7474 6572 6e2c 2060 3c76 616c  ` pattern, `<val
-00010bc0: 7565 3e60 2069 7320 7468 6520 6974 656d  ue>` is the item
-00010bd0: 2074 6f20 6d61 7463 6820 6167 6169 6e73   to match agains
-00010be0: 742c 2060 3c63 6f6e 643e 6020 6973 2061  t, `<cond>` is a
-00010bf0: 6e20 6f70 7469 6f6e 616c 2061 6464 6974  n optional addit
-00010c00: 696f 6e61 6c20 6368 6563 6b2c 2061 6e64  ional check, and
-00010c10: 2060 3c62 6f64 793e 6020 6973 2073 696d   `<body>` is sim
-00010c20: 706c 7920 636f 6465 2074 6861 7420 6973  ply code that is
-00010c30: 2065 7865 6375 7465 6420 6966 2074 6865   executed if the
-00010c40: 2068 6561 6465 7220 6162 6f76 6520 6974   header above it
-00010c50: 2073 7563 6365 6564 732e 204e 6f74 6520   succeeds. Note 
-00010c60: 7468 6520 6162 7365 6e63 6520 6f66 2061  the absence of a
-00010c70: 6e20 6069 6e60 2069 6e20 7468 6520 606d  n `in` in the `m
-00010c80: 6174 6368 6020 7374 6174 656d 656e 7473  atch` statements
-00010c90: 3a20 7468 6174 2773 2062 6563 6175 7365  : that's because
-00010ca0: 2074 6865 2060 3c76 616c 7565 3e60 2069   the `<value>` i
-00010cb0: 6e20 6063 6173 6520 3c76 616c 7565 3e60  n `case <value>`
-00010cc0: 2069 7320 7461 6b69 6e67 2069 7473 2070   is taking its p
-00010cd0: 6c61 6365 2e20 4966 206e 6f20 6065 6c73  lace. If no `els
-00010ce0: 6560 2069 7320 7072 6573 656e 7420 616e  e` is present an
-00010cf0: 6420 6e6f 206d 6174 6368 2073 7563 6365  d no match succe
-00010d00: 6564 732c 2074 6865 6e20 7468 6520 6063  eds, then the `c
-00010d10: 6173 6560 2073 7461 7465 6d65 6e74 2069  ase` statement i
-00010d20: 7320 7369 6d70 6c79 2073 6b69 7070 6564  s simply skipped
-00010d30: 206f 7665 7220 6173 2077 6974 6820 5b60   over as with [`
-00010d40: 6d61 7463 6860 2073 7461 7465 6d65 6e74  match` statement
-00010d50: 735d 2823 6d61 7463 6829 2028 7468 6f75  s](#match) (thou
-00010d60: 6768 2075 6e6c 696b 6520 5b64 6573 7472  gh unlike [destr
-00010d70: 7563 7475 7269 6e67 2061 7373 6967 6e6d  ucturing assignm
-00010d80: 656e 7473 5d28 2364 6573 7472 7563 7475  ents](#destructu
-00010d90: 7269 6e67 2d61 7373 6967 6e6d 656e 7429  ring-assignment)
-00010da0: 292e 0d0a 0d0a 4164 6469 7469 6f6e 616c  ).....Additional
-00010db0: 6c79 2c20 6063 6173 6573 6020 6361 6e20  ly, `cases` can 
-00010dc0: 6265 2075 7365 6420 6173 2074 6865 2074  be used as the t
-00010dd0: 6f70 2d6c 6576 656c 206b 6579 776f 7264  op-level keyword
-00010de0: 2069 6e73 7465 6164 206f 6620 606d 6174   instead of `mat
-00010df0: 6368 602c 2061 6e64 2069 6e20 7375 6368  ch`, and in such
-00010e00: 2061 2060 6361 7365 6020 626c 6f63 6b20   a `case` block 
-00010e10: 606d 6174 6368 6020 6973 2061 6c6c 6f77  `match` is allow
-00010e20: 6564 2066 6f72 2065 6163 6820 6361 7365  ed for each case
-00010e30: 2072 6174 6865 7220 7468 616e 2060 6361   rather than `ca
-00010e40: 7365 602e 205f 4445 5052 4543 4154 4544  se`. _DEPRECATED
-00010e50: 3a20 436f 636f 6e75 7420 616c 736f 2073  : Coconut also s
-00010e60: 7570 706f 7274 7320 6063 6173 6560 2069  upports `case` i
-00010e70: 6e73 7465 6164 206f 6620 6063 6173 6573  nstead of `cases
-00010e80: 6020 6173 2074 6865 2074 6f70 2d6c 6576  ` as the top-lev
-00010e90: 656c 206b 6579 776f 7264 2066 6f72 2062  el keyword for b
-00010ea0: 6163 6b77 6172 6473 2d63 6f6d 7061 7469  ackwards-compati
-00010eb0: 6269 6c69 7479 2070 7572 706f 7365 732e  bility purposes.
-00010ec0: 5f0d 0a0d 0a23 2323 2323 2045 7861 6d70  _....##### Examp
-00010ed0: 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e 7574  les....**Coconut
-00010ee0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-00010ef0: 0a64 6566 2063 6c61 7373 6966 795f 7365  .def classify_se
-00010f00: 7175 656e 6365 2876 616c 7565 293a 0d0a  quence(value):..
-00010f10: 2020 2020 6f75 7420 3d20 2222 2020 2020      out = ""    
-00010f20: 2020 2020 2320 756e 6c69 6b65 2077 6974      # unlike wit
-00010f30: 6820 6e6f 726d 616c 206d 6174 6368 6573  h normal matches
-00010f40: 2c20 6f6e 6c79 206f 6e65 206f 6620 7468  , only one of th
-00010f50: 6520 7061 7474 6572 6e73 0d0a 2020 2020  e patterns..    
-00010f60: 6d61 7463 6820 7661 6c75 653a 2020 2020  match value:    
-00010f70: 2023 2020 7769 6c6c 206d 6174 6368 2c20   #  will match, 
-00010f80: 616e 6420 6f75 7420 7769 6c6c 206f 6e6c  and out will onl
-00010f90: 7920 6765 7420 6170 7065 6e64 6564 2074  y get appended t
-00010fa0: 6f20 6f6e 6365 0d0a 2020 2020 2020 2020  o once..        
-00010fb0: 6361 7365 2028 293a 0d0a 2020 2020 2020  case ():..      
-00010fc0: 2020 2020 2020 6f75 7420 2b3d 2022 656d        out += "em
-00010fd0: 7074 7922 0d0a 2020 2020 2020 2020 6361  pty"..        ca
-00010fe0: 7365 2028 5f2c 293a 0d0a 2020 2020 2020  se (_,):..      
-00010ff0: 2020 2020 2020 6f75 7420 2b3d 2022 7369        out += "si
-00011000: 6e67 6c65 746f 6e22 0d0a 2020 2020 2020  ngleton"..      
-00011010: 2020 6361 7365 2028 782c 7829 3a0d 0a20    case (x,x):.. 
-00011020: 2020 2020 2020 2020 2020 206f 7574 202b             out +
-00011030: 3d20 2264 7570 6c69 6361 7465 2070 6169  = "duplicate pai
-00011040: 7220 6f66 2022 2b73 7472 2878 290d 0a20  r of "+str(x).. 
-00011050: 2020 2020 2020 2063 6173 6520 285f 2c5f         case (_,_
-00011060: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-00011070: 6f75 7420 2b3d 2022 7061 6972 220d 0a20  out += "pair".. 
-00011080: 2020 2020 2020 2063 6173 6520 5f20 6973         case _ is
-00011090: 2028 7475 706c 652c 206c 6973 7429 3a0d   (tuple, list):.
-000110a0: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
-000110b0: 202b 3d20 2273 6571 7565 6e63 6522 0d0a   += "sequence"..
-000110c0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-000110d0: 2020 2072 6169 7365 2054 7970 6545 7272     raise TypeErr
-000110e0: 6f72 2829 0d0a 2020 2020 7265 7475 726e  or()..    return
-000110f0: 206f 7574 0d0a 0d0a 5b5d 207c 3e20 636c   out....[] |> cl
-00011100: 6173 7369 6679 5f73 6571 7565 6e63 6520  assify_sequence 
-00011110: 7c3e 2070 7269 6e74 0d0a 2829 207c 3e20  |> print..() |> 
-00011120: 636c 6173 7369 6679 5f73 6571 7565 6e63  classify_sequenc
-00011130: 6520 7c3e 2070 7269 6e74 0d0a 5b31 5d20  e |> print..[1] 
-00011140: 7c3e 2063 6c61 7373 6966 795f 7365 7175  |> classify_sequ
-00011150: 656e 6365 207c 3e20 7072 696e 740d 0a28  ence |> print..(
-00011160: 312c 3129 207c 3e20 636c 6173 7369 6679  1,1) |> classify
-00011170: 5f73 6571 7565 6e63 6520 7c3e 2070 7269  _sequence |> pri
-00011180: 6e74 0d0a 2831 2c32 2920 7c3e 2063 6c61  nt..(1,2) |> cla
-00011190: 7373 6966 795f 7365 7175 656e 6365 207c  ssify_sequence |
-000111a0: 3e20 7072 696e 740d 0a28 312c 312c 3129  > print..(1,1,1)
-000111b0: 207c 3e20 636c 6173 7369 6679 5f73 6571   |> classify_seq
-000111c0: 7565 6e63 6520 7c3e 2070 7269 6e74 0d0a  uence |> print..
-000111d0: 6060 600d 0a5f 4578 616d 706c 6520 6f66  ```.._Example of
-000111e0: 2075 7369 6e67 2043 6f63 6f6e 7574 2773   using Coconut's
-000111f0: 2060 6361 7365 6020 7379 6e74 6178 2e5f   `case` syntax._
-00011200: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6361  ..```coconut..ca
-00011210: 7365 7320 7b22 6122 3a20 312c 2022 6222  ses {"a": 1, "b"
-00011220: 3a20 327d 3a0d 0a20 2020 206d 6174 6368  : 2}:..    match
-00011230: 207b 2261 223a 2061 7d3a 0d0a 2020 2020   {"a": a}:..    
-00011240: 2020 2020 7061 7373 0d0a 2020 2020 6d61      pass..    ma
-00011250: 7463 6820 5f3a 0d0a 2020 2020 2020 2020  tch _:..        
-00011260: 6173 7365 7274 2046 616c 7365 0d0a 6173  assert False..as
-00011270: 7365 7274 2061 203d 3d20 310d 0a60 6060  sert a == 1..```
-00011280: 0d0a 5f45 7861 6d70 6c65 206f 6620 7468  .._Example of th
-00011290: 6520 6063 6173 6573 6020 6b65 7977 6f72  e `cases` keywor
-000112a0: 6420 696e 7374 6561 642e 5f0d 0a0d 0a2a  d instead._....*
-000112b0: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
-000112c0: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
-000112d0: 7574 2061 206c 6f6e 6720 7365 7269 6573  ut a long series
-000112e0: 206f 6620 6368 6563 6b73 2066 6f72 2065   of checks for e
-000112f0: 6163 6820 606d 6174 6368 6020 7374 6174  ach `match` stat
-00011300: 656d 656e 742e 2053 6565 2074 6865 2063  ement. See the c
-00011310: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
-00011320: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
-00011330: 6178 2e5f 0d0a 0d0a 2323 2320 606d 6174  ax._....### `mat
-00011340: 6368 2066 6f72 600d 0a0d 0a43 6f63 6f6e  ch for`....Cocon
-00011350: 7574 2073 7570 706f 7274 7320 7061 7474  ut supports patt
-00011360: 6572 6e2d 6d61 7463 6869 6e67 2069 6e20  ern-matching in 
-00011370: 666f 7220 6c6f 6f70 732c 2077 6865 7265  for loops, where
-00011380: 2074 6865 2070 6174 7465 726e 2069 7320   the pattern is 
-00011390: 6d61 7463 6865 6420 6167 6169 6e73 7420  matched against 
-000113a0: 6561 6368 2069 7465 6d20 696e 2074 6865  each item in the
-000113b0: 2069 7465 7261 626c 652e 2054 6865 2073   iterable. The s
-000113c0: 796e 7461 7820 6973 0d0a 6060 6063 6f63  yntax is..```coc
-000113d0: 6f6e 7574 0d0a 5b6d 6174 6368 5d20 666f  onut..[match] fo
-000113e0: 7220 3c70 6174 7465 726e 3e20 696e 203c  r <pattern> in <
-000113f0: 6974 6572 6162 6c65 3e3a 0d0a 2020 2020  iterable>:..    
-00011400: 3c62 6f64 793e 0d0a 6060 600d 0a77 6869  <body>..```..whi
-00011410: 6368 2069 7320 6571 7569 7661 6c65 6e74  ch is equivalent
-00011420: 2074 6f20 7468 6520 5b64 6573 7472 7563   to the [destruc
-00011430: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
-00011440: 745d 2823 6465 7374 7275 6374 7572 696e  t](#destructurin
-00011450: 672d 6173 7369 676e 6d65 6e74 290d 0a60  g-assignment)..`
-00011460: 6060 636f 636f 6e75 740d 0a66 6f72 2065  ``coconut..for e
-00011470: 6c65 6d20 696e 203c 6974 6572 6162 6c65  lem in <iterable
-00011480: 3e3a 0d0a 2020 2020 6d61 7463 6820 3c70  >:..    match <p
-00011490: 6174 7465 726e 3e20 3d20 656c 656d 0d0a  attern> = elem..
-000114a0: 2020 2020 3c62 6f64 793e 0d0a 6060 600d      <body>..```.
-000114b0: 0a0d 0a50 6174 7465 726e 2d6d 6174 6368  ...Pattern-match
-000114c0: 696e 6720 6361 6e20 616c 736f 2062 6520  ing can also be 
-000114d0: 7573 6564 2069 6e20 6061 7379 6e63 2066  used in `async f
-000114e0: 6f72 6020 6c6f 6f70 732c 2077 6974 6820  or` loops, with 
-000114f0: 626f 7468 2060 6173 796e 6320 6d61 7463  both `async matc
-00011500: 6820 666f 7260 2061 6e64 2060 6d61 7463  h for` and `matc
-00011510: 6820 6173 796e 6320 666f 7260 2061 6c6c  h async for` all
-00011520: 6f77 6564 2061 7320 6578 706c 6963 6974  owed as explicit
-00011530: 2073 796e 7461 7865 732e 0d0a 0d0a 2323   syntaxes.....##
-00011540: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-00011550: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-00011560: 0d0a 666f 7220 7b22 7573 6572 223a 2075  ..for {"user": u
-00011570: 6964 2c20 2a2a 5f7d 2069 6e20 6765 745f  id, **_} in get_
-00011580: 6461 7461 2829 3a0d 0a20 2020 2070 7269  data():..    pri
-00011590: 6e74 2875 6964 290d 0a60 6060 0d0a 0d0a  nt(uid)..```....
-000115a0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-000115b0: 0d0a 666f 7220 7573 6572 5f64 6174 6120  ..for user_data 
-000115c0: 696e 2067 6574 5f64 6174 6128 293a 0d0a  in get_data():..
-000115d0: 2020 2020 7569 6420 3d20 7573 6572 5f64      uid = user_d
-000115e0: 6174 615b 2275 7365 7222 5d0d 0a20 2020  ata["user"]..   
-000115f0: 2070 7269 6e74 2875 6964 290d 0a60 6060   print(uid)..```
-00011600: 0d0a 0d0a 2323 2320 6064 6174 6160 0d0a  ....### `data`..
-00011610: 0d0a 436f 636f 6e75 7427 7320 6064 6174  ..Coconut's `dat
-00011620: 6160 206b 6579 776f 7264 2069 7320 7573  a` keyword is us
-00011630: 6564 2074 6f20 6372 6561 7465 2069 6d6d  ed to create imm
-00011640: 7574 6162 6c65 2c20 616c 6765 6272 6169  utable, algebrai
-00011650: 6320 6461 7461 2074 7970 6573 2c20 696e  c data types, in
-00011660: 636c 7564 696e 6720 6275 696c 742d 696e  cluding built-in
-00011670: 2073 7570 706f 7274 2066 6f72 2064 6573   support for des
-00011680: 7472 7563 7475 7269 6e67 205b 7061 7474  tructuring [patt
-00011690: 6572 6e2d 6d61 7463 6869 6e67 5d28 236d  ern-matching](#m
-000116a0: 6174 6368 2920 616e 6420 5b60 666d 6170  atch) and [`fmap
-000116b0: 605d 2823 666d 6170 292e 0d0a 0d0a 5468  `](#fmap).....Th
-000116c0: 6520 7379 6e74 6178 2066 6f72 2060 6461  e syntax for `da
-000116d0: 7461 6020 626c 6f63 6b73 2069 7320 6120  ta` blocks is a 
-000116e0: 6372 6f73 7320 6265 7477 6565 6e20 7468  cross between th
-000116f0: 6520 7379 6e74 6178 2066 6f72 2066 756e  e syntax for fun
-00011700: 6374 696f 6e73 2061 6e64 2074 6865 2073  ctions and the s
-00011710: 796e 7461 7820 666f 7220 636c 6173 7365  yntax for classe
-00011720: 732e 2054 6865 2066 6972 7374 206c 696e  s. The first lin
-00011730: 6520 6c6f 6f6b 7320 6c69 6b65 2061 2066  e looks like a f
-00011740: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
-00011750: 6f6e 2c20 6275 7420 7468 6520 7265 7374  on, but the rest
-00011760: 206f 6620 7468 6520 626f 6479 206c 6f6f   of the body loo
-00011770: 6b73 206c 696b 6520 6120 636c 6173 732c  ks like a class,
-00011780: 2075 7375 616c 6c79 2063 6f6e 7461 696e   usually contain
-00011790: 696e 6720 6d65 7468 6f64 2064 6566 696e  ing method defin
-000117a0: 6974 696f 6e73 2e20 5468 6973 2069 7320  itions. This is 
-000117b0: 6265 6361 7573 6520 7768 696c 6520 6064  because while `d
-000117c0: 6174 6160 2062 6c6f 636b 7320 6163 7475  ata` blocks actu
-000117d0: 616c 6c79 2065 6e64 2075 7020 6173 2063  ally end up as c
-000117e0: 6c61 7373 6573 2069 6e20 5079 7468 6f6e  lasses in Python
-000117f0: 2c20 436f 636f 6e75 7420 6175 746f 6d61  , Coconut automa
-00011800: 7469 6361 6c6c 7920 6372 6561 7465 7320  tically creates 
-00011810: 6120 7370 6563 6961 6c2c 2069 6d6d 7574  a special, immut
-00011820: 6162 6c65 2063 6f6e 7374 7275 6374 6f72  able constructor
-00011830: 2062 6173 6564 206f 6e20 7468 6520 6769   based on the gi
-00011840: 7665 6e20 6172 6775 6d65 6e74 732e 0d0a  ven arguments...
-00011850: 0d0a 436f 636f 6e75 7420 6461 7461 2073  ..Coconut data s
-00011860: 7461 7465 6d65 6e74 2073 796e 7461 7820  tatement syntax 
-00011870: 6c6f 6f6b 7320 6c69 6b65 3a0d 0a60 6060  looks like:..```
-00011880: 636f 636f 6e75 740d 0a64 6174 6120 3c6e  coconut..data <n
-00011890: 616d 653e 283c 6172 6773 3e29 205b 6672  ame>(<args>) [fr
-000118a0: 6f6d 203c 696e 6865 7269 7473 3e5d 3a0d  om <inherits>]:.
-000118b0: 0a20 2020 203c 626f 6479 3e0d 0a60 6060  .    <body>..```
-000118c0: 0d0a 603c 6e61 6d65 3e60 2069 7320 7468  ..`<name>` is th
-000118d0: 6520 6e61 6d65 206f 6620 7468 6520 6e65  e name of the ne
-000118e0: 7720 6461 7461 2074 7970 652c 2060 3c61  w data type, `<a
-000118f0: 7267 733e 6020 6172 6520 7468 6520 6172  rgs>` are the ar
-00011900: 6775 6d65 6e74 7320 746f 2069 7473 2063  guments to its c
-00011910: 6f6e 7374 7275 6374 6f72 2061 7320 7765  onstructor as we
-00011920: 6c6c 2061 7320 7468 6520 6e61 6d65 7320  ll as the names 
-00011930: 6f66 2069 7473 2061 7474 7269 6275 7465  of its attribute
-00011940: 732c 2060 3c62 6f64 793e 6020 636f 6e74  s, `<body>` cont
-00011950: 6169 6e73 2074 6865 2064 6174 6120 7479  ains the data ty
-00011960: 7065 2773 206d 6574 686f 6473 2c20 616e  pe's methods, an
-00011970: 6420 603c 696e 6865 7269 7473 3e60 206f  d `<inherits>` o
-00011980: 7074 696f 6e61 6c6c 7920 636f 6e74 6169  ptionally contai
-00011990: 6e73 2061 6e79 2064 6573 6972 6564 2062  ns any desired b
-000119a0: 6173 6520 636c 6173 7365 732e 0d0a 0d0a  ase classes.....
-000119b0: 436f 636f 6e75 7420 616c 6c6f 7773 2064  Coconut allows d
-000119c0: 6174 6120 6669 656c 6473 2069 6e20 603c  ata fields in `<
-000119d0: 6172 6773 3e60 2074 6f20 6861 7665 2064  args>` to have d
-000119e0: 6566 6175 6c74 7320 616e 642f 6f72 205b  efaults and/or [
-000119f0: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
-00011a00: 5d28 2365 6e68 616e 6365 642d 7479 7065  ](#enhanced-type
-00011a10: 2d61 6e6e 6f74 6174 696f 6e29 2061 7474  -annotation) att
-00011a20: 6163 6865 6420 746f 2074 6865 6d2c 2061  ached to them, a
-00011a30: 6e64 2073 7570 706f 7274 7320 6120 7374  nd supports a st
-00011a40: 6172 7265 6420 7061 7261 6d65 7465 7220  arred parameter 
-00011a50: 6174 2074 6865 2065 6e64 2074 6f20 636f  at the end to co
-00011a60: 6c6c 6563 7420 6578 7472 6120 6172 6775  llect extra argu
-00011a70: 6d65 6e74 732e 2041 6464 6974 696f 6e61  ments. Additiona
-00011a80: 6c6c 792c 2043 6f63 6f6e 7574 2061 6c6c  lly, Coconut all
-00011a90: 6f77 7320 7479 7065 2070 6172 616d 6574  ows type paramet
-00011aa0: 6572 7320 746f 2062 6520 7370 6563 6966  ers to be specif
-00011ab0: 6965 6420 696e 2062 7261 636b 6574 7320  ied in brackets 
-00011ac0: 6166 7465 7220 603c 6e61 6d65 3e60 2075  after `<name>` u
-00011ad0: 7369 6e67 2043 6f63 6f6e 7574 2773 205b  sing Coconut's [
-00011ae0: 7479 7065 2070 6172 616d 6574 6572 2073  type parameter s
-00011af0: 796e 7461 785d 2823 7479 7065 2d70 6172  yntax](#type-par
-00011b00: 616d 6574 6572 2d73 796e 7461 7829 2e0d  ameter-syntax)..
-00011b10: 0a0d 0a57 7269 7469 6e67 2063 6f6e 7374  ...Writing const
-00011b20: 7275 6374 6f72 7320 666f 7220 6064 6174  ructors for `dat
-00011b30: 6160 2074 7970 6573 206d 7573 7420 6265  a` types must be
-00011b40: 2064 6f6e 6520 7573 696e 6720 7468 6520   done using the 
-00011b50: 605f 5f6e 6577 5f5f 6020 6d65 7468 6f64  `__new__` method
-00011b60: 2069 6e73 7465 6164 206f 6620 7468 6520   instead of the 
-00011b70: 605f 5f69 6e69 745f 5f60 206d 6574 686f  `__init__` metho
-00011b80: 642e 2046 6f72 2068 656c 7069 6e67 2074  d. For helping t
-00011b90: 6f20 6561 7369 6c79 2077 7269 7465 2060  o easily write `
-00011ba0: 5f5f 6e65 775f 5f60 206d 6574 686f 6473  __new__` methods
-00011bb0: 2c20 436f 636f 6e75 7420 7072 6f76 6964  , Coconut provid
-00011bc0: 6573 2074 6865 205b 6d61 6b65 6461 7461  es the [makedata
-00011bd0: 5d28 236d 616b 6564 6174 6129 2062 7569  ](#makedata) bui
-00011be0: 6c74 2d69 6e2e 0d0a 0d0a 5375 6263 6c61  lt-in.....Subcla
-00011bf0: 7373 696e 6720 6064 6174 6160 2074 7970  ssing `data` typ
-00011c00: 6573 2063 616e 2062 6520 646f 6e65 2065  es can be done e
-00011c10: 6173 696c 7920 6279 2069 6e68 6572 6974  asily by inherit
-00011c20: 696e 6720 6672 6f6d 2074 6865 6d20 6569  ing from them ei
-00011c30: 7468 6572 2069 6e20 616e 6f74 6865 7220  ther in another 
-00011c40: 6064 6174 6160 2073 7461 7465 6d65 6e74  `data` statement
-00011c50: 206f 7220 6120 6e6f 726d 616c 2050 7974   or a normal Pyt
-00011c60: 686f 6e20 6063 6c61 7373 602e 2049 6620  hon `class`. If 
-00011c70: 6120 6e6f 726d 616c 2060 636c 6173 7360  a normal `class`
-00011c80: 2073 7461 7465 6d65 6e74 2069 7320 7573   statement is us
-00011c90: 6564 2c20 6d61 6b69 6e67 2074 6865 206e  ed, making the n
-00011ca0: 6577 2073 7562 636c 6173 7320 696d 6d75  ew subclass immu
-00011cb0: 7461 626c 6520 7769 6c6c 2072 6571 7569  table will requi
-00011cc0: 7265 2061 6464 696e 6720 7468 6520 6c69  re adding the li
-00011cd0: 6e65 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ne..```coconut..
-00011ce0: 5f5f 736c 6f74 735f 5f20 3d20 2829 0d0a  __slots__ = ()..
-00011cf0: 6060 600d 0a77 6869 6368 2077 696c 6c20  ```..which will 
-00011d00: 6e65 6564 2074 6f20 6265 2070 7574 2069  need to be put i
-00011d10: 6e20 7468 6520 7375 6263 6c61 7373 2062  n the subclass b
-00011d20: 6f64 7920 6265 666f 7265 2061 6e79 206d  ody before any m
-00011d30: 6574 686f 6420 6f72 2061 7474 7269 6275  ethod or attribu
-00011d40: 7465 2064 6566 696e 6974 696f 6e73 2e20  te definitions. 
-00011d50: 4966 2079 6f75 206e 6565 6420 746f 2069  If you need to i
-00011d60: 6e68 6572 6974 206d 6167 6963 206d 6574  nherit magic met
-00011d70: 686f 6473 2066 726f 6d20 6120 6261 7365  hods from a base
-00011d80: 2063 6c61 7373 2069 6e20 796f 7572 2060   class in your `
-00011d90: 6461 7461 6020 7479 7065 2c20 7375 6368  data` type, such
-00011da0: 2073 7562 636c 6173 7369 6e67 2069 7320   subclassing is 
-00011db0: 7468 6520 7265 636f 6d6d 656e 6465 6420  the recommended 
-00011dc0: 6d65 7468 6f64 2c20 6173 2074 6865 2060  method, as the `
-00011dd0: 6461 7461 202e 2e2e 2066 726f 6d20 2e2e  data ... from ..
-00011de0: 2e60 2073 796e 7461 7820 7769 6c6c 206f  .` syntax will o
-00011df0: 7665 7277 7269 7465 2061 6e79 206d 6167  verwrite any mag
-00011e00: 6963 206d 6574 686f 6473 2069 6e20 7468  ic methods in th
-00011e10: 6520 6261 7365 2063 6c61 7373 2077 6974  e base class wit
-00011e20: 6820 6d61 6769 6320 6d65 7468 6f64 7320  h magic methods 
-00011e30: 6275 696c 7420 666f 7220 7468 6520 6e65  built for the ne
-00011e40: 7720 6064 6174 6160 2074 7970 652e 0d0a  w `data` type...
-00011e50: 0d0a 436f 6d70 6172 6564 2074 6f20 5b60  ..Compared to [`
-00011e60: 6e61 6d65 6474 7570 6c65 6073 5d28 2361  namedtuple`s](#a
-00011e70: 6e6f 6e79 6d6f 7573 2d6e 616d 6564 7475  nonymous-namedtu
-00011e80: 706c 6573 292c 2066 726f 6d20 7768 6963  ples), from whic
-00011e90: 6820 6064 6174 6160 2074 7970 6573 2061  h `data` types a
-00011ea0: 7265 2064 6572 6976 6564 2c20 6064 6174  re derived, `dat
-00011eb0: 6160 2074 7970 6573 3a0d 0a0d 0a2d 2075  a` types:....- u
-00011ec0: 7365 2074 7970 6564 2065 7175 616c 6974  se typed equalit
-00011ed0: 792c 0d0a 2d20 646f 6e27 7420 7375 7070  y,..- don't supp
-00011ee0: 6f72 7420 7475 706c 6520 6164 6469 7469  ort tuple additi
-00011ef0: 6f6e 206f 7220 6d75 6c74 6970 6c69 6361  on or multiplica
-00011f00: 7469 6f6e 2028 756e 6c65 7373 2065 7870  tion (unless exp
-00011f10: 6c69 6369 746c 7920 6465 6669 6e65 6420  licitly defined 
-00011f20: 7669 6120 7370 6563 6961 6c20 6d65 7468  via special meth
-00011f30: 6f64 7320 696e 2074 6865 2060 6461 7461  ods in the `data
-00011f40: 6020 626f 6479 292c 0d0a 2d20 7375 7070  ` body),..- supp
-00011f50: 6f72 7420 7374 6172 7265 642c 2074 7970  ort starred, typ
-00011f60: 6564 2c20 616e 6420 5b70 6174 7465 726e  ed, and [pattern
-00011f70: 2d6d 6174 6368 696e 675d 2823 6d61 7463  -matching](#matc
-00011f80: 682d 6461 7461 2920 6172 6775 6d65 6e74  h-data) argument
-00011f90: 732c 2061 6e64 0d0a 2d20 6861 7665 2073  s, and..- have s
-00011fa0: 7065 6369 616c 205b 7061 7474 6572 6e2d  pecial [pattern-
-00011fb0: 6d61 7463 6869 6e67 5d28 236d 6174 6368  matching](#match
-00011fc0: 2920 6265 6861 7669 6f72 2e0d 0a0d 0a4c  ) behavior.....L
-00011fd0: 696b 6520 5b60 6e61 6d65 6474 7570 6c65  ike [`namedtuple
-00011fe0: 6073 5d28 6874 7470 733a 2f2f 646f 6373  `s](https://docs
-00011ff0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-00012000: 6272 6172 792f 636f 6c6c 6563 7469 6f6e  brary/collection
-00012010: 732e 6874 6d6c 236e 616d 6564 7475 706c  s.html#namedtupl
-00012020: 652d 6661 6374 6f72 792d 6675 6e63 7469  e-factory-functi
-00012030: 6f6e 2d66 6f72 2d74 7570 6c65 732d 7769  on-for-tuples-wi
-00012040: 7468 2d6e 616d 6564 2d66 6965 6c64 7329  th-named-fields)
-00012050: 2c20 6064 6174 6160 2074 7970 6573 2061  , `data` types a
-00012060: 6c73 6f20 7375 7070 6f72 7420 6120 7661  lso support a va
-00012070: 7269 6574 7920 6f66 2065 7874 7261 206d  riety of extra m
-00012080: 6574 686f 6473 2c20 7375 6368 2061 7320  ethods, such as 
-00012090: 5b60 2e5f 6173 6469 6374 2829 605d 2868  [`._asdict()`](h
-000120a0: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
-000120b0: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
-000120c0: 2f63 6f6c 6c65 6374 696f 6e73 2e68 746d  /collections.htm
-000120d0: 6c23 636f 6c6c 6563 7469 6f6e 732e 736f  l#collections.so
-000120e0: 6d65 6e61 6d65 6474 7570 6c65 2e5f 6173  menamedtuple._as
-000120f0: 6469 6374 2920 616e 6420 5b60 2e5f 7265  dict) and [`._re
-00012100: 706c 6163 6528 2a2a 6b77 6172 6773 2960  place(**kwargs)`
-00012110: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-00012120: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-00012130: 6172 792f 636f 6c6c 6563 7469 6f6e 732e  ary/collections.
-00012140: 6874 6d6c 2363 6f6c 6c65 6374 696f 6e73  html#collections
-00012150: 2e73 6f6d 656e 616d 6564 7475 706c 652e  .somenamedtuple.
-00012160: 5f72 6570 6c61 6365 292e 0d0a 0d0a 2323  _replace).....##
-00012170: 2323 2320 5261 7469 6f6e 616c 650d 0a0d  ### Rationale...
-00012180: 0a41 206d 6169 6e73 7461 7920 6f66 2066  .A mainstay of f
-00012190: 756e 6374 696f 6e61 6c20 7072 6f67 7261  unctional progra
-000121a0: 6d6d 696e 6720 7468 6174 2043 6f63 6f6e  mming that Cocon
-000121b0: 7574 2069 6d70 726f 7665 7320 696e 2050  ut improves in P
-000121c0: 7974 686f 6e20 6973 2074 6865 2075 7365  ython is the use
-000121d0: 206f 6620 7661 6c75 6573 2c20 6f72 2069   of values, or i
-000121e0: 6d6d 7574 6162 6c65 2064 6174 6120 7479  mmutable data ty
-000121f0: 7065 732e 2049 6d6d 7574 6162 6c65 2064  pes. Immutable d
-00012200: 6174 6120 6361 6e20 6265 2076 6572 7920  ata can be very 
-00012210: 7573 6566 756c 2062 6563 6175 7365 2069  useful because i
-00012220: 7420 6775 6172 616e 7465 6573 2074 6861  t guarantees tha
-00012230: 7420 6f6e 6365 2079 6f75 2068 6176 6520  t once you have 
-00012240: 736f 6d65 2064 6174 6120 6974 2077 6f6e  some data it won
-00012250: 2774 2063 6861 6e67 652c 2062 7574 2069  't change, but i
-00012260: 6e20 5079 7468 6f6e 2063 7265 6174 696e  n Python creatin
-00012270: 6720 6375 7374 6f6d 2069 6d6d 7574 6162  g custom immutab
-00012280: 6c65 2064 6174 6120 7479 7065 7320 6973  le data types is
-00012290: 2064 6966 6669 6375 6c74 2e20 436f 636f   difficult. Coco
-000122a0: 6e75 7420 6d61 6b65 7320 6974 2076 6572  nut makes it ver
-000122b0: 7920 6561 7379 2062 7920 7072 6f76 6964  y easy by provid
-000122c0: 696e 6720 6064 6174 6160 2062 6c6f 636b  ing `data` block
-000122d0: 732e 0d0a 0d0a 2323 2323 2320 4578 616d  s.....##### Exam
-000122e0: 706c 6573 0d0a 0d0a 2a2a 436f 636f 6e75  ples....**Coconu
-000122f0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00012300: 0d0a 6461 7461 2076 6563 746f 7232 2878  ..data vector2(x
-00012310: 3a69 6e74 3d30 2c20 793a 696e 743d 3029  :int=0, y:int=0)
-00012320: 3a0d 0a20 2020 2064 6566 205f 5f61 6273  :..    def __abs
-00012330: 5f5f 2873 656c 6629 3a0d 0a20 2020 2020  __(self):..     
-00012340: 2020 2072 6574 7572 6e20 2873 656c 662e     return (self.
-00012350: 782a 2a32 202b 2073 656c 662e 792a 2a32  x**2 + self.y**2
-00012360: 292a 2a2e 350d 0a0d 0a76 203d 2076 6563  )**.5....v = vec
-00012370: 746f 7232 2833 2c20 3429 0d0a 7620 7c3e  tor2(3, 4)..v |>
-00012380: 2070 7269 6e74 2020 2320 616c 6c20 6461   print  # all da
-00012390: 7461 2074 7970 6573 2063 6f6d 6520 7769  ta types come wi
-000123a0: 7468 2061 2062 7569 6c74 2d69 6e20 5f5f  th a built-in __
-000123b0: 7265 7072 5f5f 0d0a 7620 7c3e 2061 6273  repr__..v |> abs
-000123c0: 207c 3e20 7072 696e 740d 0a76 2e78 203d   |> print..v.x =
-000123d0: 2032 2020 2320 7468 6973 2077 696c 6c20   2  # this will 
-000123e0: 6661 696c 2062 6563 6175 7365 2064 6174  fail because dat
-000123f0: 6120 6f62 6a65 6374 7320 6172 6520 696d  a objects are im
-00012400: 6d75 7461 626c 650d 0a76 6563 746f 7232  mutable..vector2
-00012410: 2829 207c 3e20 7072 696e 740d 0a60 6060  () |> print..```
-00012420: 0d0a 5f53 686f 7763 6173 6573 2074 6865  .._Showcases the
-00012430: 2073 796e 7461 782c 2066 6561 7475 7265   syntax, feature
-00012440: 732c 2061 6e64 2069 6d6d 7574 6162 6c65  s, and immutable
-00012450: 206e 6174 7572 6520 6f66 2060 6461 7461   nature of `data
-00012460: 6020 7479 7065 732c 2061 7320 7765 6c6c  ` types, as well
-00012470: 2061 7320 7468 6520 7573 6520 6f66 2064   as the use of d
-00012480: 6566 6175 6c74 2061 7267 756d 656e 7473  efault arguments
-00012490: 2061 6e64 2074 7970 6520 616e 6e6f 7461   and type annota
-000124a0: 7469 6f6e 732e 5f0d 0a0d 0a60 6060 636f  tions._....```co
-000124b0: 636f 6e75 740d 0a64 6174 6120 456d 7074  conut..data Empt
-000124c0: 7928 290d 0a64 6174 6120 4c65 6166 286e  y()..data Leaf(n
-000124d0: 290d 0a64 6174 6120 4e6f 6465 286c 2c20  )..data Node(l, 
-000124e0: 7229 0d0a 0d0a 6465 6620 7369 7a65 2845  r)....def size(E
-000124f0: 6d70 7479 2829 2920 3d20 300d 0a0d 0a40  mpty()) = 0....@
-00012500: 6164 6470 6174 7465 726e 2873 697a 6529  addpattern(size)
-00012510: 0d0a 6465 6620 7369 7a65 284c 6561 6628  ..def size(Leaf(
-00012520: 6e29 2920 3d20 310d 0a0d 0a40 6164 6470  n)) = 1....@addp
-00012530: 6174 7465 726e 2873 697a 6529 0d0a 6465  attern(size)..de
-00012540: 6620 7369 7a65 284e 6f64 6528 6c2c 2072  f size(Node(l, r
-00012550: 2929 203d 2073 697a 6528 6c29 202b 2073  )) = size(l) + s
-00012560: 697a 6528 7229 0d0a 0d0a 7369 7a65 284e  ize(r)....size(N
-00012570: 6f64 6528 456d 7074 7928 292c 204c 6561  ode(Empty(), Lea
-00012580: 6628 3130 2929 2920 3d3d 2031 0d0a 6060  f(10))) == 1..``
-00012590: 600d 0a5f 5368 6f77 6361 7365 7320 7468  `.._Showcases th
-000125a0: 6520 616c 6765 6272 6169 6320 6e61 7475  e algebraic natu
-000125b0: 7265 206f 6620 6064 6174 6160 2074 7970  re of `data` typ
-000125c0: 6573 2077 6865 6e20 636f 6d62 696e 6564  es when combined
-000125d0: 2077 6974 6820 7061 7474 6572 6e2d 6d61   with pattern-ma
-000125e0: 7463 6869 6e67 2e5f 0d0a 0d0a 6060 6063  tching._....```c
-000125f0: 6f63 6f6e 7574 0d0a 6461 7461 2076 6563  oconut..data vec
-00012600: 746f 7228 2a70 7473 293a 0d0a 2020 2020  tor(*pts):..    
-00012610: 2222 2249 6d6d 7574 6162 6c65 2061 7262  """Immutable arb
-00012620: 6974 7261 7279 2d6c 656e 6774 6820 7665  itrary-length ve
-00012630: 6374 6f72 2e22 2222 0d0a 0d0a 2020 2020  ctor."""....    
-00012640: 6465 6620 5f5f 6162 735f 5f28 7365 6c66  def __abs__(self
-00012650: 2920 3d0d 0a20 2020 2020 2020 2073 656c  ) =..        sel
-00012660: 662e 7074 7320 7c3e 206d 6170 2428 706f  f.pts |> map$(po
-00012670: 7724 283f 2c20 3229 2920 7c3e 2073 756d  w$(?, 2)) |> sum
-00012680: 207c 3e20 706f 7724 283f 2c20 302e 3529   |> pow$(?, 0.5)
-00012690: 0d0a 0d0a 2020 2020 6465 6620 5f5f 6164  ....    def __ad
-000126a0: 645f 5f28 7365 6c66 2c20 6f74 6865 7229  d__(self, other)
-000126b0: 203d 0d0a 2020 2020 2020 2020 7665 6374   =..        vect
-000126c0: 6f72 282a 6f74 6865 725f 7074 7329 203d  or(*other_pts) =
-000126d0: 206f 7468 6572 0d0a 2020 2020 2020 2020   other..        
-000126e0: 6173 7365 7274 206c 656e 286f 7468 6572  assert len(other
-000126f0: 5f70 7473 2920 3d3d 206c 656e 2873 656c  _pts) == len(sel
-00012700: 662e 7074 7329 0d0a 2020 2020 2020 2020  f.pts)..        
-00012710: 6d61 7028 282b 292c 2073 656c 662e 7074  map((+), self.pt
-00012720: 732c 206f 7468 6572 5f70 7473 2920 7c2a  s, other_pts) |*
-00012730: 3e20 7665 6374 6f72 0d0a 0d0a 2020 2020  > vector....    
-00012740: 6465 6620 5f5f 6e65 675f 5f28 7365 6c66  def __neg__(self
-00012750: 2920 3d0d 0a20 2020 2020 2020 2073 656c  ) =..        sel
-00012760: 662e 7074 7320 7c3e 206d 6170 2428 282d  f.pts |> map$((-
-00012770: 2929 207c 2a3e 2076 6563 746f 720d 0a0d  )) |*> vector...
-00012780: 0a20 2020 2064 6566 205f 5f73 7562 5f5f  .    def __sub__
-00012790: 2873 656c 662c 206f 7468 6572 2920 3d0d  (self, other) =.
-000127a0: 0a20 2020 2020 2020 2073 656c 6620 2b20  .        self + 
-000127b0: 2d6f 7468 6572 0d0a 6060 600d 0a5f 5368  -other..```.._Sh
-000127c0: 6f77 6361 7365 7320 7374 6172 7265 6420  owcases starred 
-000127d0: 6064 6174 6160 2064 6563 6c61 7261 7469  `data` declarati
-000127e0: 6f6e 2e5f 0d0a 0d0a 2a2a 5079 7468 6f6e  on._....**Python
-000127f0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
-00012800: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
-00012810: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
-00012820: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
-00012830: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
-00012840: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
-00012850: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
-00012860: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
-00012870: 2323 2323 2060 6d61 7463 6820 6461 7461  #### `match data
-00012880: 600d 0a0d 0a49 6e20 6164 6469 7469 6f6e  `....In addition
-00012890: 2074 6f20 6e6f 726d 616c 2060 6461 7461   to normal `data
-000128a0: 6020 7374 6174 656d 656e 7473 2c20 436f  ` statements, Co
-000128b0: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
-000128c0: 7274 7320 7061 7474 6572 6e2d 6d61 7463  rts pattern-matc
-000128d0: 6869 6e67 2064 6174 6120 7374 6174 656d  hing data statem
-000128e0: 656e 7473 2074 6861 7420 656e 6162 6c65  ents that enable
-000128f0: 2074 6865 2075 7365 206f 6620 436f 636f   the use of Coco
-00012900: 6e75 7427 7320 7061 7474 6572 6e2d 6d61  nut's pattern-ma
-00012910: 7463 6869 6e67 2073 796e 7461 7820 746f  tching syntax to
-00012920: 2064 6566 696e 6520 7468 6520 6461 7461   define the data
-00012930: 2074 7970 6527 7320 636f 6e73 7472 7563   type's construc
-00012940: 746f 722e 2050 6174 7465 726e 2d6d 6174  tor. Pattern-mat
-00012950: 6368 696e 6720 6461 7461 2074 7970 6573  ching data types
-00012960: 206c 6f6f 6b20 6c69 6b65 0d0a 6060 600d   look like..```.
-00012970: 0a5b 6d61 7463 685d 2064 6174 6120 3c6e  .[match] data <n
-00012980: 616d 653e 283c 7061 7474 6572 6e73 3e29  ame>(<patterns>)
-00012990: 205b 6672 6f6d 203c 6261 7365 2063 6c61   [from <base cla
-000129a0: 7373 3e5d 3a0d 0a20 2020 203c 626f 6479  ss>]:..    <body
-000129b0: 3e0d 0a60 6060 0d0a 7768 6572 6520 603c  >..```..where `<
-000129c0: 7061 7474 6572 6e73 3e60 2061 7265 2065  patterns>` are e
-000129d0: 7861 6374 6c79 2061 7320 696e 205b 7061  xactly as in [pa
-000129e0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
-000129f0: 756e 6374 696f 6e73 5d28 2370 6174 7465  unctions](#patte
-00012a00: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
-00012a10: 7469 6f6e 7329 2e0d 0a0d 0a49 7420 6973  tions).....It is
-00012a20: 2069 6d70 6f72 7461 6e74 2074 6f20 6b65   important to ke
-00012a30: 6570 2069 6e20 6d69 6e64 2074 6861 7420  ep in mind that 
-00012a40: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00012a50: 2064 6174 6120 7479 7065 7320 7661 7279   data types vary
-00012a60: 2066 726f 6d20 6e6f 726d 616c 2064 6174   from normal dat
-00012a70: 6120 7479 7065 7320 696e 2061 2076 6172  a types in a var
-00012a80: 6965 7479 206f 6620 7761 7973 2e20 4669  iety of ways. Fi
-00012a90: 7273 742c 206c 696b 6520 7061 7474 6572  rst, like patter
-00012aa0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-00012ab0: 696f 6e73 2c20 7468 6579 2072 6169 7365  ions, they raise
-00012ac0: 205b 604d 6174 6368 4572 726f 7260 5d28   [`MatchError`](
-00012ad0: 236d 6174 6368 6572 726f 7229 2069 6e73  #matcherror) ins
-00012ae0: 7465 6164 206f 6620 6054 7970 6545 7272  tead of `TypeErr
-00012af0: 6f72 6020 7768 656e 2070 6173 7365 6420  or` when passed 
-00012b00: 7468 6520 7772 6f6e 6720 6172 6775 6d65  the wrong argume
-00012b10: 6e74 732e 2053 6563 6f6e 642c 2070 6174  nts. Second, pat
-00012b20: 7465 726e 2d6d 6174 6368 696e 6720 6461  tern-matching da
-00012b30: 7461 2074 7970 6573 2077 696c 6c20 6e6f  ta types will no
-00012b40: 7420 646f 2061 6e79 2073 7065 6369 616c  t do any special
-00012b50: 2068 616e 646c 696e 6720 6f66 2073 7461   handling of sta
-00012b60: 7272 6564 2061 7267 756d 656e 7473 2e20  rred arguments. 
-00012b70: 5468 7573 2c0d 0a60 6060 0d0a 6461 7461  Thus,..```..data
-00012b80: 2076 6563 282a 7873 290d 0a60 6060 0d0a   vec(*xs)..```..
-00012b90: 7768 656e 2069 7465 7261 7465 6420 6f76  when iterated ov
-00012ba0: 6572 2077 696c 6c20 6974 6572 6174 6520  er will iterate 
-00012bb0: 6f76 6572 2061 6c6c 2074 6865 2065 6c65  over all the ele
-00012bc0: 6d65 6e74 7320 6f66 2060 7873 602c 2062  ments of `xs`, b
-00012bd0: 7574 0d0a 6060 600d 0a6d 6174 6368 2064  ut..```..match d
-00012be0: 6174 6120 7665 6328 2a78 7329 0d0a 6060  ata vec(*xs)..``
-00012bf0: 600d 0a77 6865 6e20 6974 6572 6174 6564  `..when iterated
-00012c00: 206f 7665 7220 7769 6c6c 206f 6e6c 7920   over will only 
-00012c10: 6769 7665 2074 6865 2073 696e 676c 6520  give the single 
-00012c20: 656c 656d 656e 7420 6078 7360 2e0d 0a0d  element `xs`....
-00012c30: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-00012c40: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-00012c50: 6060 600d 0a64 6174 6120 6e61 6d65 6470  ```..data namedp
-00012c60: 7428 6e61 6d65 2060 6973 696e 7374 616e  t(name `isinstan
-00012c70: 6365 6020 7374 722c 2078 2060 6973 696e  ce` str, x `isin
-00012c80: 7374 616e 6365 6020 696e 742c 2079 2060  stance` int, y `
-00012c90: 6973 696e 7374 616e 6365 6020 696e 7429  isinstance` int)
-00012ca0: 3a0d 0a20 2020 2064 6566 206d 6167 2873  :..    def mag(s
-00012cb0: 656c 6629 203d 2028 7365 6c66 2e78 2a2a  elf) = (self.x**
-00012cc0: 3220 2b20 7365 6c66 2e79 2a2a 3229 2a2a  2 + self.y**2)**
-00012cd0: 302e 350d 0a60 6060 0d0a 0d0a 2a2a 5079  0.5..```....**Py
-00012ce0: 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420  thon:**.._Can't 
-00012cf0: 6265 2064 6f6e 6520 7769 7468 6f75 7420  be done without 
-00012d00: 6120 7365 7269 6573 206f 6620 6d65 7468  a series of meth
-00012d10: 6f64 2064 6566 696e 6974 696f 6e73 2066  od definitions f
-00012d20: 6f72 2065 6163 6820 6461 7461 2074 7970  or each data typ
-00012d30: 652e 2053 6565 2074 6865 2063 6f6d 7069  e. See the compi
-00012d40: 6c65 6420 636f 6465 2066 6f72 2074 6865  led code for the
-00012d50: 2050 7974 686f 6e20 7379 6e74 6178 2e5f   Python syntax._
-00012d60: 0d0a 0d0a 2323 2320 6077 6865 7265 600d  ....### `where`.
-00012d70: 0a0d 0a43 6f63 6f6e 7574 2773 2060 7768  ...Coconut's `wh
-00012d80: 6572 6560 2073 7461 7465 6d65 6e74 2069  ere` statement i
-00012d90: 7320 6578 7472 656d 656c 7920 7374 7261  s extremely stra
-00012da0: 6967 6874 666f 7277 6172 642e 2054 6865  ightforward. The
-00012db0: 2073 796e 7461 7820 666f 7220 6120 6077   syntax for a `w
-00012dc0: 6865 7265 6020 7374 6174 656d 656e 7420  here` statement 
-00012dd0: 6973 206a 7573 740d 0a60 6060 0d0a 3c73  is just..```..<s
-00012de0: 746d 743e 2077 6865 7265 3a0d 0a20 2020  tmt> where:..   
-00012df0: 203c 626f 6479 3e0d 0a60 6060 0d0a 7768   <body>..```..wh
-00012e00: 6963 6820 6a75 7374 2065 7865 6375 7465  ich just execute
-00012e10: 7320 603c 626f 6479 3e60 2066 6f6c 6c6f  s `<body>` follo
-00012e20: 7765 6420 6279 2060 3c73 746d 743e 602e  wed by `<stmt>`.
-00012e30: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-00012e40: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-00012e50: 2a0d 0a60 6060 636f 636f 6e75 740d 0a63  *..```coconut..c
-00012e60: 203d 2061 202b 2062 2077 6865 7265 3a0d   = a + b where:.
-00012e70: 0a20 2020 2061 203d 2031 0d0a 2020 2020  .    a = 1..    
-00012e80: 6220 3d20 320d 0a60 6060 0d0a 0d0a 2a2a  b = 2..```....**
-00012e90: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
-00012ea0: 636f 6e75 745f 7079 7468 6f6e 0d0a 6120  conut_python..a 
-00012eb0: 3d20 310d 0a62 203d 2032 0d0a 6320 3d20  = 1..b = 2..c = 
-00012ec0: 6120 2b20 620d 0a60 6060 0d0a 0d0a 2323  a + b..```....##
-00012ed0: 2320 4861 6e64 6c69 6e67 204b 6579 776f  # Handling Keywo
-00012ee0: 7264 2f56 6172 6961 626c 6520 4e61 6d65  rd/Variable Name
-00012ef0: 204f 7665 726c 6170 0d0a 0d0a 496e 2043   Overlap....In C
-00012f00: 6f63 6f6e 7574 2c20 7468 6520 666f 6c6c  oconut, the foll
-00012f10: 6f77 696e 6720 6b65 7977 6f72 6473 2061  owing keywords a
-00012f20: 7265 2061 6c73 6f20 7661 6c69 6420 7661  re also valid va
-00012f30: 7269 6162 6c65 206e 616d 6573 3a0d 0a2d  riable names:..-
-00012f40: 2060 6173 796e 6360 2028 6b65 7977 6f72   `async` (keywor
-00012f50: 6420 696e 2050 7974 686f 6e20 332e 3529  d in Python 3.5)
-00012f60: 0d0a 2d20 6061 7761 6974 6020 286b 6579  ..- `await` (key
-00012f70: 776f 7264 2069 6e20 5079 7468 6f6e 2033  word in Python 3
-00012f80: 2e35 290d 0a2d 2060 6461 7461 600d 0a2d  .5)..- `data`..-
-00012f90: 2060 6d61 7463 6860 0d0a 2d20 6063 6173   `match`..- `cas
-00012fa0: 6560 0d0a 2d20 6063 6173 6573 600d 0a2d  e`..- `cases`..-
-00012fb0: 2060 6164 6470 6174 7465 726e 600d 0a2d   `addpattern`..-
-00012fc0: 2060 7768 6572 6560 0d0a 2d20 606f 7065   `where`..- `ope
-00012fd0: 7261 746f 7260 0d0a 2d20 6074 6865 6e60  rator`..- `then`
-00012fe0: 0d0a 2d20 60ce bb60 2028 6120 5b55 6e69  ..- `..` (a [Uni
-00012ff0: 636f 6465 2061 6c74 6572 6e61 7469 7665  code alternative
-00013000: 5d28 2375 6e69 636f 6465 2d61 6c74 6572  ](#unicode-alter
-00013010: 6e61 7469 7665 7329 2066 6f72 2060 6c61  natives) for `la
-00013020: 6d62 6461 6029 0d0a 0d0a 5768 696c 6520  mbda`)....While 
-00013030: 436f 636f 6e75 7420 6361 6e20 7573 7561  Coconut can usua
-00013040: 6c6c 7920 6469 7361 6d62 6967 7561 7465  lly disambiguate
-00013050: 2074 6865 7365 2074 776f 2075 7365 2063   these two use c
-00013060: 6173 6573 2c20 7370 6563 6961 6c20 7379  ases, special sy
-00013070: 6e74 6178 2069 7320 6176 6169 6c61 626c  ntax is availabl
-00013080: 6520 666f 7220 6469 7361 6d62 6967 7561  e for disambigua
-00013090: 7469 6e67 2074 6865 6d20 6966 206e 6563  ting them if nec
-000130a0: 6573 7361 7279 2e20 4e6f 7465 2074 6861  essary. Note tha
-000130b0: 742c 2069 6620 7768 6174 2079 6f75 2772  t, if what you'r
-000130c0: 6520 7772 6974 696e 6720 6361 6e20 6265  e writing can be
-000130d0: 2069 6e74 6572 7072 6574 6564 2061 7320   interpreted as 
-000130e0: 7661 6c69 6420 5079 7468 6f6e 2033 2c20  valid Python 3, 
-000130f0: 436f 636f 6e75 7420 7769 6c6c 2061 6c77  Coconut will alw
-00013100: 6179 7320 7072 6566 6572 2074 6861 7420  ays prefer that 
-00013110: 696e 7465 7270 7265 7461 7469 6f6e 2062  interpretation b
-00013120: 7920 6465 6661 756c 742e 0d0a 0d0a 546f  y default.....To
-00013130: 2073 7065 6369 6679 2074 6861 7420 796f   specify that yo
-00013140: 7520 7761 6e74 2061 205f 7661 7269 6162  u want a _variab
-00013150: 6c65 5f2c 2070 7265 6669 7820 7468 6520  le_, prefix the 
-00013160: 6e61 6d65 2077 6974 6820 6120 6261 636b  name with a back
-00013170: 736c 6173 6820 6173 2069 6e20 605c 6461  slash as in `\da
-00013180: 7461 602c 2061 6e64 2074 6f20 7370 6563  ta`, and to spec
-00013190: 6966 7920 7468 6174 2079 6f75 2077 616e  ify that you wan
-000131a0: 7420 6120 5f6b 6579 776f 7264 5f2c 2070  t a _keyword_, p
-000131b0: 7265 6669 7820 7468 6520 6e61 6d65 2077  refix the name w
-000131c0: 6974 6820 6120 636f 6c6f 6e20 6173 2069  ith a colon as i
-000131d0: 6e20 603a 6d61 7463 6860 2e0d 0a0d 0a41  n `:match`.....A
-000131e0: 6464 6974 696f 6e61 6c6c 792c 2062 6163  dditionally, bac
-000131f0: 6b73 6c61 7368 2073 796e 7461 7820 666f  kslash syntax fo
-00013200: 7220 6573 6361 7069 6e67 2076 6172 6961  r escaping varia
-00013210: 626c 6520 6e61 6d65 7320 6361 6e20 616c  ble names can al
-00013220: 736f 2062 6520 7573 6564 2074 6f20 6469  so be used to di
-00013230: 7374 696e 6775 6973 6820 6265 7477 6565  stinguish betwee
-00013240: 6e20 7661 7269 6162 6c65 206e 616d 6573  n variable names
-00013250: 2061 6e64 205b 6375 7374 6f6d 206f 7065   and [custom ope
-00013260: 7261 746f 7273 5d28 2363 7573 746f 6d2d  rators](#custom-
-00013270: 6f70 6572 6174 6f72 7329 2061 7320 7765  operators) as we
-00013280: 6c6c 2061 7320 6578 706c 6963 6974 6c79  ll as explicitly
-00013290: 2073 6967 6e69 6679 2074 6861 7420 616e   signify that an
-000132a0: 2061 7373 6967 6e6d 656e 7420 746f 2061   assignment to a
-000132b0: 2062 7569 6c74 2d69 6e20 6973 2064 6573   built-in is des
-000132c0: 6972 6162 6c65 2074 6f20 6469 736d 6973  irable to dismis
-000132d0: 7320 5b60 2d2d 7374 7269 6374 6020 7761  s [`--strict` wa
-000132e0: 726e 696e 6773 5d28 2373 7472 6963 742d  rnings](#strict-
-000132f0: 6d6f 6465 292e 0d0a 0d0a 4669 6e61 6c6c  mode).....Finall
-00013300: 792c 2073 7563 6820 6469 7361 6d62 6967  y, such disambig
-00013310: 7561 7469 6f6e 2073 796e 7461 7820 6361  uation syntax ca
-00013320: 6e20 616c 736f 2062 6520 6865 6c70 6675  n also be helpfu
-00013330: 6c20 666f 7220 6c65 7474 696e 6720 7379  l for letting sy
-00013340: 6e74 6178 2068 6967 686c 6967 6874 6572  ntax highlighter
-00013350: 7320 6b6e 6f77 2077 6861 7420 796f 7527  s know what you'
-00013360: 7265 2064 6f69 6e67 2e0d 0a0d 0a23 2323  re doing.....###
-00013370: 2323 2045 7861 6d70 6c65 730d 0a0d 0a2a  ## Examples....*
-00013380: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-00013390: 636f 636f 6e75 740d 0a5c 6461 7461 203d  coconut..\data =
-000133a0: 2035 0d0a 7072 696e 7428 5c64 6174 6129   5..print(\data)
-000133b0: 0d0a 6060 600d 0a0d 0a60 6060 636f 636f  ..```....```coco
-000133c0: 6e75 740d 0a23 2077 6974 686f 7574 2074  nut..# without t
-000133d0: 6865 2063 6f6c 6f6e 2c20 436f 636f 6e75  he colon, Coconu
-000133e0: 7420 7769 6c6c 2069 6e74 6572 7072 6574  t will interpret
-000133f0: 2074 6869 7320 6173 2074 6865 2076 616c   this as the val
-00013400: 6964 2050 7974 686f 6e20 6d61 7463 685b  id Python match[
-00013410: 782c 2079 5d20 3d20 696e 7075 745f 6c69  x, y] = input_li
-00013420: 7374 0d0a 3a6d 6174 6368 205b 782c 2079  st..:match [x, y
-00013430: 5d20 3d20 696e 7075 745f 6c69 7374 0d0a  ] = input_list..
-00013440: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-00013450: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
-00013460: 7974 686f 6e0d 0a64 6174 6120 3d20 350d  ython..data = 5.
-00013470: 0a70 7269 6e74 2864 6174 6129 0d0a 6060  .print(data)..``
-00013480: 600d 0a0d 0a60 6060 636f 636f 6e75 745f  `....```coconut_
-00013490: 7079 7468 6f6e 0d0a 782c 2079 203d 2069  python..x, y = i
-000134a0: 6e70 7574 5f6c 6973 740d 0a60 6060 0d0a  nput_list..```..
-000134b0: 0d0a 2323 2045 7870 7265 7373 696f 6e73  ..## Expressions
-000134c0: 0d0a 0d0a 6060 607b 636f 6e74 656e 7473  ....```{contents
-000134d0: 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a  }..---..local:..
-000134e0: 6465 7074 683a 2031 0d0a 2d2d 2d0d 0a60  depth: 1..---..`
-000134f0: 6060 0d0a 0d0a 2323 2320 5374 6174 656d  ``....### Statem
-00013500: 656e 7420 4c61 6d62 6461 730d 0a0d 0a54  ent Lambdas....T
-00013510: 6865 2073 7461 7465 6d65 6e74 206c 616d  he statement lam
-00013520: 6264 6120 7379 6e74 6178 2069 7320 616e  bda syntax is an
-00013530: 2065 7874 656e 7369 6f6e 206f 6620 7468   extension of th
-00013540: 6520 5b6e 6f72 6d61 6c20 6c61 6d62 6461  e [normal lambda
-00013550: 2073 796e 7461 785d 2823 6c61 6d62 6461   syntax](#lambda
-00013560: 7329 2074 6f20 7375 7070 6f72 7420 7374  s) to support st
-00013570: 6174 656d 656e 7473 2c20 6e6f 7420 6a75  atements, not ju
-00013580: 7374 2065 7870 7265 7373 696f 6e73 2e0d  st expressions..
-00013590: 0a0d 0a54 6865 2073 796e 7461 7820 666f  ...The syntax fo
-000135a0: 7220 6120 7374 6174 656d 656e 7420 6c61  r a statement la
-000135b0: 6d62 6461 2069 730d 0a60 6060 0d0a 5b61  mbda is..```..[a
-000135c0: 7379 6e63 5d20 5b6d 6174 6368 5d20 6465  sync] [match] de
-000135d0: 6620 2861 7267 756d 656e 7473 2920 2d3e  f (arguments) ->
-000135e0: 2073 7461 7465 6d65 6e74 3b20 7374 6174   statement; stat
-000135f0: 656d 656e 743b 202e 2e2e 0d0a 6060 600d  ement; .....```.
-00013600: 0a77 6865 7265 2060 6172 6775 6d65 6e74  .where `argument
-00013610: 7360 2063 616e 2062 6520 7374 616e 6461  s` can be standa
-00013620: 7264 2066 756e 6374 696f 6e20 6172 6775  rd function argu
-00013630: 6d65 6e74 7320 6f72 205b 7061 7474 6572  ments or [patter
-00013640: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-00013650: 696f 6e20 6465 6669 6e69 7469 6f6e 5d28  ion definition](
-00013660: 2370 6174 7465 726e 2d6d 6174 6368 696e  #pattern-matchin
-00013670: 672d 6675 6e63 7469 6f6e 7329 2061 7267  g-functions) arg
-00013680: 756d 656e 7473 2061 6e64 2060 7374 6174  uments and `stat
-00013690: 656d 656e 7460 2063 616e 2062 6520 616e  ement` can be an
-000136a0: 2061 7373 6967 6e6d 656e 7420 7374 6174   assignment stat
-000136b0: 656d 656e 7420 6f72 2061 206b 6579 776f  ement or a keywo
-000136c0: 7264 2073 7461 7465 6d65 6e74 2e20 4e6f  rd statement. No
-000136d0: 7465 2074 6861 7420 7468 6520 6061 7379  te that the `asy
-000136e0: 6e63 6020 616e 6420 606d 6174 6368 6020  nc` and `match` 
-000136f0: 6b65 7977 6f72 6473 2063 616e 2062 6520  keywords can be 
-00013700: 696e 2061 6e79 206f 7264 6572 2e0d 0a0d  in any order....
-00013710: 0a49 6620 7468 6520 6c61 7374 2060 7374  .If the last `st
-00013720: 6174 656d 656e 7460 2028 6e6f 7420 666f  atement` (not fo
-00013730: 6c6c 6f77 6564 2062 7920 6120 7365 6d69  llowed by a semi
-00013740: 636f 6c6f 6e29 2069 6e20 6120 7374 6174  colon) in a stat
-00013750: 656d 656e 7420 6c61 6d62 6461 2069 7320  ement lambda is 
-00013760: 616e 2060 6578 7072 6573 7369 6f6e 602c  an `expression`,
-00013770: 2069 7420 7769 6c6c 2061 7574 6f6d 6174   it will automat
-00013780: 6963 616c 6c79 2062 6520 7265 7475 726e  ically be return
-00013790: 6564 2e0d 0a0d 0a53 7461 7465 6d65 6e74  ed.....Statement
-000137a0: 206c 616d 6264 6173 2061 6c73 6f20 7375   lambdas also su
-000137b0: 7070 6f72 7420 696d 706c 6963 6974 206c  pport implicit l
-000137c0: 616d 6264 6120 7379 6e74 6178 2073 7563  ambda syntax suc
-000137d0: 6820 7468 6174 2060 6465 6620 2d3e 205f  h that `def -> _
-000137e0: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-000137f0: 746f 2060 6465 6620 285f 3d4e 6f6e 6529  to `def (_=None)
-00013800: 202d 3e20 5f60 2061 7320 7765 6c6c 2061   -> _` as well a
-00013810: 7320 6578 706c 6963 6974 6c79 206d 6172  s explicitly mar
-00013820: 6b69 6e67 2074 6865 6d20 6173 2070 6174  king them as pat
-00013830: 7465 726e 2d6d 6174 6368 696e 6720 7375  tern-matching su
-00013840: 6368 2074 6861 7420 606d 6174 6368 2064  ch that `match d
-00013850: 6566 2028 7829 202d 3e20 7860 2077 696c  ef (x) -> x` wil
-00013860: 6c20 6265 2061 2070 6174 7465 726e 2d6d  l be a pattern-m
-00013870: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-00013880: 2e0d 0a0d 0a4e 6f74 6520 7468 6174 2073  .....Note that s
-00013890: 7461 7465 6d65 6e74 206c 616d 6264 6173  tatement lambdas
-000138a0: 2068 6176 6520 6120 6c6f 7765 7220 7072   have a lower pr
-000138b0: 6563 6564 656e 6365 2074 6861 6e20 6e6f  ecedence than no
-000138c0: 726d 616c 206c 616d 6264 6173 2061 6e64  rmal lambdas and
-000138d0: 2074 6875 7320 6361 7074 7572 6520 7468   thus capture th
-000138e0: 696e 6773 206c 696b 6520 7472 6169 6c69  ings like traili
-000138f0: 6e67 2063 6f6d 6d61 732e 0d0a 0d0a 2323  ng commas.....##
-00013900: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-00013910: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-00013920: 636f 636f 6e75 740d 0a4c 207c 3e20 6d61  coconut..L |> ma
-00013930: 7024 2864 6566 2028 7829 202d 3e0d 0a20  p$(def (x) ->.. 
-00013940: 2020 2079 203d 2031 2f78 3b0d 0a20 2020     y = 1/x;..   
-00013950: 2079 2a28 3120 2d20 7929 290d 0a60 6060   y*(1 - y))..```
-00013960: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00013970: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00013980: 6f6e 0d0a 6465 6620 5f6c 616d 6264 6128  on..def _lambda(
-00013990: 7829 3a0d 0a20 2020 2079 203d 2031 2f78  x):..    y = 1/x
-000139a0: 0d0a 2020 2020 7265 7475 726e 2079 2a28  ..    return y*(
-000139b0: 3120 2d20 7929 0d0a 6d61 7028 5f6c 616d  1 - y)..map(_lam
-000139c0: 6264 612c 204c 290d 0a60 6060 0d0a 0d0a  bda, L)..```....
-000139d0: 2323 2323 2054 7970 6520 616e 6e6f 7461  #### Type annota
-000139e0: 7469 6f6e 730d 0a0d 0a41 6e6f 7468 6572  tions....Another
-000139f0: 2063 6173 6520 7768 6572 6520 7374 6174   case where stat
-00013a00: 656d 656e 7420 6c61 6d62 6461 7320 776f  ement lambdas wo
-00013a10: 756c 6420 6265 2075 7365 6420 6f76 6572  uld be used over
-00013a20: 2073 7461 6e64 6172 6420 6c61 6d62 6461   standard lambda
-00013a30: 7320 6973 2077 6865 6e20 7468 6520 7061  s is when the pa
-00013a40: 7261 6d65 7465 7273 2074 6f20 7468 6520  rameters to the 
-00013a50: 6c61 6d62 6461 2061 7265 2074 7970 6564  lambda are typed
-00013a60: 2077 6974 6820 7479 7065 2061 6e6e 6f74   with type annot
-00013a70: 6174 696f 6e73 2e20 5374 6174 656d 656e  ations. Statemen
-00013a80: 7420 6c61 6d62 6461 7320 7573 6520 7468  t lambdas use th
-00013a90: 6520 7374 616e 6461 7264 2050 7974 686f  e standard Pytho
-00013aa0: 6e20 7379 6e74 6178 2066 6f72 2061 6464  n syntax for add
-00013ab0: 696e 6720 7479 7065 2061 6e6e 6f74 6174  ing type annotat
-00013ac0: 696f 6e73 2074 6f20 7468 6569 7220 7061  ions to their pa
-00013ad0: 7261 6d65 7465 7273 3a0d 0a0d 0a60 6060  rameters:....```
-00013ae0: 636f 636f 6e75 740d 0a66 203d 2064 6566  coconut..f = def
-00013af0: 2028 633a 2073 7472 2920 2d3e 2070 7269   (c: str) -> pri
-00013b00: 6e74 2863 290d 0a0d 0a67 203d 2064 6566  nt(c)....g = def
-00013b10: 2028 613a 2069 6e74 2c20 623a 2069 6e74   (a: int, b: int
-00013b20: 2920 2d3e 2061 202a 2a20 620d 0a60 6060  ) -> a ** b..```
-00013b30: 0d0a 0d0a 486f 7765 7665 722c 2073 7461  ....However, sta
-00013b40: 7465 6d65 6e74 206c 616d 6264 6173 2064  tement lambdas d
-00013b50: 6f20 6e6f 7420 7375 7070 6f72 7420 7265  o not support re
-00013b60: 7475 726e 2074 7970 6520 616e 6e6f 7461  turn type annota
-00013b70: 7469 6f6e 732e 0d0a 0d0a 2323 2320 4f70  tions.....### Op
-00013b80: 6572 6174 6f72 2046 756e 6374 696f 6e73  erator Functions
-00013b90: 0d0a 0d0a 436f 636f 6e75 7420 7573 6573  ....Coconut uses
-00013ba0: 2061 2073 696d 706c 6520 6f70 6572 6174   a simple operat
-00013bb0: 6f72 2066 756e 6374 696f 6e20 7368 6f72  or function shor
-00013bc0: 742d 6861 6e64 3a20 7375 7272 6f75 6e64  t-hand: surround
-00013bd0: 2061 6e20 6f70 6572 6174 6f72 2077 6974   an operator wit
-00013be0: 6820 7061 7265 6e74 6865 7365 7320 746f  h parentheses to
-00013bf0: 2072 6574 7269 6576 6520 6974 7320 6675   retrieve its fu
-00013c00: 6e63 7469 6f6e 2e20 5369 6d69 6c61 726c  nction. Similarl
-00013c10: 7920 746f 2069 7465 7261 746f 7220 636f  y to iterator co
-00013c20: 6d70 7265 6865 6e73 696f 6e73 2c20 6966  mprehensions, if
-00013c30: 2074 6865 206f 7065 7261 746f 7220 6675   the operator fu
-00013c40: 6e63 7469 6f6e 2069 7320 7468 6520 6f6e  nction is the on
-00013c50: 6c79 2061 7267 756d 656e 7420 746f 2061  ly argument to a
-00013c60: 2066 756e 6374 696f 6e2c 2074 6865 2070   function, the p
-00013c70: 6172 656e 7468 6573 6573 206f 6620 7468  arentheses of th
-00013c80: 6520 6675 6e63 7469 6f6e 2063 616c 6c20  e function call 
-00013c90: 6361 6e20 616c 736f 2073 6572 7665 2061  can also serve a
-00013ca0: 7320 7468 6520 7061 7265 6e74 6865 7365  s the parenthese
-00013cb0: 7320 666f 7220 7468 6520 6f70 6572 6174  s for the operat
-00013cc0: 6f72 2066 756e 6374 696f 6e2e 0d0a 0d0a  or function.....
-00013cd0: 2323 2323 2320 5261 7469 6f6e 616c 650d  ##### Rationale.
-00013ce0: 0a0d 0a41 2076 6572 7920 636f 6d6d 6f6e  ...A very common
-00013cf0: 2074 6869 6e67 2074 6f20 646f 2069 6e20   thing to do in 
-00013d00: 6675 6e63 7469 6f6e 616c 2070 726f 6772  functional progr
-00013d10: 616d 6d69 6e67 2069 7320 746f 206d 616b  amming is to mak
-00013d20: 6520 7573 6520 6f66 2066 756e 6374 696f  e use of functio
-00013d30: 6e20 7665 7273 696f 6e73 206f 6620 6275  n versions of bu
-00013d40: 696c 742d 696e 206f 7065 7261 746f 7273  ilt-in operators
-00013d50: 3a20 6375 7272 7969 6e67 2074 6865 6d2c  : currying them,
-00013d60: 2063 6f6d 706f 7369 6e67 2074 6865 6d2c   composing them,
-00013d70: 2061 6e64 2070 6970 696e 6720 7468 656d   and piping them
-00013d80: 2e20 546f 206d 616b 6520 7468 6973 2065  . To make this e
-00013d90: 6173 792c 2043 6f63 6f6e 7574 2070 726f  asy, Coconut pro
-00013da0: 7669 6465 7320 6120 7368 6f72 742d 6861  vides a short-ha
-00013db0: 6e64 2073 796e 7461 7820 746f 2061 6363  nd syntax to acc
-00013dc0: 6573 7320 6f70 6572 6174 6f72 2066 756e  ess operator fun
-00013dd0: 6374 696f 6e73 2e0d 0a0d 0a23 2323 2323  ctions.....#####
-00013de0: 2046 756c 6c20 4c69 7374 0d0a 0d0a 6060   Full List....``
-00013df0: 6063 6f63 6f6e 7574 0d0a 283a 3a29 2020  `coconut..(::)  
-00013e00: 2020 2020 2020 3d3e 2028 6974 6572 746f        => (iterto
-00013e10: 6f6c 732e 6368 6169 6e29 2020 2320 7769  ols.chain)  # wi
-00013e20: 6c6c 206e 6f74 2065 7661 6c75 6174 6520  ll not evaluate 
-00013e30: 6974 7320 6172 6775 6d65 6e74 7320 6c61  its arguments la
-00013e40: 7a69 6c79 0d0a 2824 2920 2020 2020 2020  zily..($)       
-00013e50: 2020 3d3e 2028 6675 6e63 746f 6f6c 732e    => (functools.
-00013e60: 7061 7274 6961 6c29 0d0a 282e 2920 2020  partial)..(.)   
-00013e70: 2020 2020 2020 3d3e 2028 6765 7461 7474        => (getatt
-00013e80: 7229 0d0a 282c 2920 2020 2020 2020 2020  r)..(,)         
-00013e90: 3d3e 2028 2a61 7267 7329 202d 3e20 6172  => (*args) -> ar
-00013ea0: 6773 2020 2320 2862 7574 2070 6963 6b6c  gs  # (but pickl
-00013eb0: 6561 626c 6529 0d0a 282b 2920 2020 2020  eable)..(+)     
-00013ec0: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
-00013ed0: 2e61 6464 290d 0a28 2d29 2020 2020 2020  .add)..(-)      
-00013ee0: 2020 203d 3e20 2320 3120 6172 673a 206f     => # 1 arg: o
-00013ef0: 7065 7261 746f 722e 6e65 672c 2032 2061  perator.neg, 2 a
-00013f00: 7267 733a 206f 7065 7261 746f 722e 7375  rgs: operator.su
-00013f10: 620d 0a28 2a29 2020 2020 2020 2020 203d  b..(*)         =
-00013f20: 3e20 286f 7065 7261 746f 722e 6d75 6c29  > (operator.mul)
-00013f30: 0d0a 282a 2a29 2020 2020 2020 2020 3d3e  ..(**)        =>
-00013f40: 2028 6f70 6572 6174 6f72 2e70 6f77 290d   (operator.pow).
-00013f50: 0a28 2f29 2020 2020 2020 2020 203d 3e20  .(/)         => 
-00013f60: 286f 7065 7261 746f 722e 7472 7565 6469  (operator.truedi
-00013f70: 7629 0d0a 282f 2f29 2020 2020 2020 2020  v)..(//)        
-00013f80: 3d3e 2028 6f70 6572 6174 6f72 2e66 6c6f  => (operator.flo
-00013f90: 6f72 6469 7629 0d0a 2825 2920 2020 2020  ordiv)..(%)     
-00013fa0: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
-00013fb0: 2e6d 6f64 290d 0a28 2629 2020 2020 2020  .mod)..(&)      
-00013fc0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00013fd0: 616e 645f 290d 0a28 5e29 2020 2020 2020  and_)..(^)      
-00013fe0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00013ff0: 786f 7229 0d0a 287c 2920 2020 2020 2020  xor)..(|)       
-00014000: 2020 3d3e 2028 6f70 6572 6174 6f72 2e6f    => (operator.o
-00014010: 725f 290d 0a28 3c3c 2920 2020 2020 2020  r_)..(<<)       
-00014020: 203d 3e20 286f 7065 7261 746f 722e 6c73   => (operator.ls
-00014030: 6869 6674 290d 0a28 3e3e 2920 2020 2020  hift)..(>>)     
-00014040: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00014050: 7273 6869 6674 290d 0a28 3c29 2020 2020  rshift)..(<)    
-00014060: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-00014070: 722e 6c74 290d 0a28 3e29 2020 2020 2020  r.lt)..(>)      
-00014080: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00014090: 6774 290d 0a28 3d3d 2920 2020 2020 2020  gt)..(==)       
-000140a0: 203d 3e20 286f 7065 7261 746f 722e 6571   => (operator.eq
-000140b0: 290d 0a28 3c3d 2920 2020 2020 2020 203d  )..(<=)        =
-000140c0: 3e20 286f 7065 7261 746f 722e 6c65 290d  > (operator.le).
-000140d0: 0a28 3e3d 2920 2020 2020 2020 203d 3e20  .(>=)        => 
-000140e0: 286f 7065 7261 746f 722e 6765 290d 0a28  (operator.ge)..(
-000140f0: 213d 2920 2020 2020 2020 203d 3e20 286f  !=)        => (o
-00014100: 7065 7261 746f 722e 6e65 290d 0a28 7e29  perator.ne)..(~)
-00014110: 2020 2020 2020 2020 203d 3e20 286f 7065           => (ope
-00014120: 7261 746f 722e 696e 7629 0d0a 2840 2920  rator.inv)..(@) 
-00014130: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
-00014140: 6174 6f72 2e6d 6174 6d75 6c29 0d0a 287c  ator.matmul)..(|
-00014150: 3e29 2020 2020 2020 2020 3d3e 2023 2070  >)        => # p
-00014160: 6970 6520 666f 7277 6172 640d 0a28 7c2a  ipe forward..(|*
-00014170: 3e29 2020 2020 2020 203d 3e20 2320 6d75  >)       => # mu
-00014180: 6c74 692d 6172 6720 7069 7065 2066 6f72  lti-arg pipe for
-00014190: 7761 7264 0d0a 287c 2a2a 3e29 2020 2020  ward..(|**>)    
-000141a0: 2020 3d3e 2023 206b 6579 776f 7264 2061    => # keyword a
-000141b0: 7267 2070 6970 6520 666f 7277 6172 640d  rg pipe forward.
-000141c0: 0a28 3c7c 2920 2020 2020 2020 203d 3e20  .(<|)        => 
-000141d0: 2320 7069 7065 2062 6163 6b77 6172 640d  # pipe backward.
-000141e0: 0a28 3c2a 7c29 2020 2020 2020 203d 3e20  .(<*|)       => 
-000141f0: 2320 6d75 6c74 692d 6172 6720 7069 7065  # multi-arg pipe
-00014200: 2062 6163 6b77 6172 640d 0a28 3c2a 2a7c   backward..(<**|
-00014210: 2920 2020 2020 203d 3e20 2320 6b65 7977  )      => # keyw
-00014220: 6f72 6420 6172 6720 7069 7065 2062 6163  ord arg pipe bac
-00014230: 6b77 6172 640d 0a28 7c3f 3e29 2020 2020  kward..(|?>)    
-00014240: 2020 203d 3e20 2320 4e6f 6e65 2d61 7761     => # None-awa
-00014250: 7265 2070 6970 6520 666f 7277 6172 640d  re pipe forward.
-00014260: 0a28 7c3f 2a3e 2920 2020 2020 203d 3e20  .(|?*>)      => 
-00014270: 2320 4e6f 6e65 2d61 7761 7265 206d 756c  # None-aware mul
-00014280: 7469 2d61 7267 2070 6970 6520 666f 7277  ti-arg pipe forw
-00014290: 6172 640d 0a28 7c3f 2a2a 3e29 2020 2020  ard..(|?**>)    
-000142a0: 203d 3e20 2320 4e6f 6e65 2d61 7761 7265   => # None-aware
-000142b0: 206b 6579 776f 7264 2061 7267 2070 6970   keyword arg pip
-000142c0: 6520 666f 7277 6172 640d 0a28 3c3f 7c29  e forward..(<?|)
-000142d0: 2020 2020 2020 203d 3e20 2320 4e6f 6e65         => # None
-000142e0: 2d61 7761 7265 2070 6970 6520 6261 636b  -aware pipe back
-000142f0: 7761 7264 0d0a 283c 2a3f 7c29 2020 2020  ward..(<*?|)    
-00014300: 2020 3d3e 2023 204e 6f6e 652d 6177 6172    => # None-awar
-00014310: 6520 6d75 6c74 692d 6172 6720 7069 7065  e multi-arg pipe
-00014320: 2062 6163 6b77 6172 640d 0a28 3c2a 2a3f   backward..(<**?
-00014330: 7c29 2020 2020 203d 3e20 2320 4e6f 6e65  |)     => # None
-00014340: 2d61 7761 7265 206b 6579 776f 7264 2061  -aware keyword a
-00014350: 7267 2070 6970 6520 6261 636b 7761 7264  rg pipe backward
-00014360: 0d0a 282e 2e29 2c20 283c 2e2e 2920 3d3e  ..(..), (<..) =>
-00014370: 2023 2062 6163 6b77 6172 6420 6675 6e63   # backward func
-00014380: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-00014390: 0d0a 282e 2e3e 2920 2020 2020 2020 3d3e  ..(..>)       =>
-000143a0: 2023 2066 6f72 7761 7264 2066 756e 6374   # forward funct
-000143b0: 696f 6e20 636f 6d70 6f73 6974 696f 6e0d  ion composition.
-000143c0: 0a28 3c2a 2e2e 2920 2020 2020 203d 3e20  .(<*..)      => 
-000143d0: 2320 6d75 6c74 692d 6172 6720 6261 636b  # multi-arg back
-000143e0: 7761 7264 2066 756e 6374 696f 6e20 636f  ward function co
-000143f0: 6d70 6f73 6974 696f 6e0d 0a28 2e2e 2a3e  mposition..(..*>
-00014400: 2920 2020 2020 203d 3e20 2320 6d75 6c74  )      => # mult
-00014410: 692d 6172 6720 666f 7277 6172 6420 6675  i-arg forward fu
-00014420: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
-00014430: 6f6e 0d0a 283c 2a2a 2e2e 2920 2020 2020  on..(<**..)     
-00014440: 3d3e 2023 206b 6579 776f 7264 2061 7267  => # keyword arg
-00014450: 2062 6163 6b77 6172 6420 6675 6e63 7469   backward functi
-00014460: 6f6e 2063 6f6d 706f 7369 7469 6f6e 0d0a  on composition..
-00014470: 282e 2e2a 2a3e 2920 2020 2020 3d3e 2023  (..**>)     => #
-00014480: 206b 6579 776f 7264 2061 7267 2066 6f72   keyword arg for
-00014490: 7761 7264 2066 756e 6374 696f 6e20 636f  ward function co
-000144a0: 6d70 6f73 6974 696f 6e0d 0a28 6e6f 7429  mposition..(not)
-000144b0: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-000144c0: 746f 722e 6e6f 745f 290d 0a28 616e 6429  tor.not_)..(and)
-000144d0: 2020 2020 2020 203d 3e20 2320 626f 6f6c         => # bool
-000144e0: 6561 6e20 616e 640d 0a28 6f72 2920 2020  ean and..(or)   
-000144f0: 2020 2020 203d 3e20 2320 626f 6f6c 6561       => # boolea
-00014500: 6e20 6f72 0d0a 2869 7329 2020 2020 2020  n or..(is)      
-00014510: 2020 3d3e 2028 6f70 6572 6174 6f72 2e69    => (operator.i
-00014520: 735f 290d 0a28 696e 2920 2020 2020 2020  s_)..(in)       
-00014530: 203d 3e20 286f 7065 7261 746f 722e 636f   => (operator.co
-00014540: 6e74 6169 6e73 290d 0a28 6173 7365 7274  ntains)..(assert
-00014550: 2920 2020 203d 3e20 6465 6620 2863 6f6e  )    => def (con
-00014560: 642c 206d 7367 3d4e 6f6e 6529 202d 3e20  d, msg=None) -> 
-00014570: 6173 7365 7274 2063 6f6e 642c 206d 7367  assert cond, msg
-00014580: 2020 2320 2862 7574 2061 2062 6574 7465    # (but a bette
-00014590: 7220 6d73 6720 6966 206d 7367 2069 7320  r msg if msg is 
-000145a0: 4e6f 6e65 290d 0a28 7261 6973 6529 2020  None)..(raise)  
-000145b0: 2020 203d 3e20 6465 6620 2865 7863 3d4e     => def (exc=N
-000145c0: 6f6e 652c 2066 726f 6d5f 6578 633d 4e6f  one, from_exc=No
-000145d0: 6e65 2920 2d3e 2072 6169 7365 2065 7863  ne) -> raise exc
-000145e0: 2066 726f 6d20 6672 6f6d 5f65 7863 2020   from from_exc  
-000145f0: 2320 6f72 206a 7573 7420 7261 6973 6520  # or just raise 
-00014600: 6966 2065 7863 2069 7320 4e6f 6e65 0d0a  if exc is None..
-00014610: 2320 7468 6572 6520 6172 6520 7477 6f20  # there are two 
-00014620: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-00014630: 6e73 2074 6861 7420 646f 6e27 7420 7265  ns that don't re
-00014640: 7175 6972 6520 7061 7265 6e74 6865 7365  quire parenthese
-00014650: 733a 0d0a 2e5b 5d20 2020 2020 2020 2020  s:...[]         
-00014660: 3d3e 2028 6f70 6572 6174 6f72 2e67 6574  => (operator.get
-00014670: 6974 656d 290d 0a2e 245b 5d20 2020 2020  item)...$[]     
-00014680: 2020 203d 3e20 2320 6974 6572 6174 6f72     => # iterator
-00014690: 2073 6c69 6369 6e67 206f 7065 7261 746f   slicing operato
-000146a0: 720d 0a60 6060 0d0a 0d0a 5f46 6f72 2061  r..```...._For a
-000146b0: 6e20 6f70 6572 6174 6f72 2066 756e 6374  n operator funct
-000146c0: 696f 6e20 666f 7220 6675 6e63 7469 6f6e  ion for function
-000146d0: 2061 7070 6c69 6361 7469 6f6e 2c20 7365   application, se
-000146e0: 6520 5b60 6361 6c6c 605d 2823 6361 6c6c  e [`call`](#call
-000146f0: 292e 5f0d 0a0d 0a23 2323 2323 2045 7861  )._....##### Exa
-00014700: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00014710: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00014720: 0d0a 2872 616e 6765 2830 2c20 3529 2c20  ..(range(0, 5), 
-00014730: 7261 6e67 6528 352c 2031 3029 2920 7c2a  range(5, 10)) |*
-00014740: 3e20 6d61 7024 282b 2920 7c3e 206c 6973  > map$(+) |> lis
-00014750: 7420 7c3e 2070 7269 6e74 0d0a 6060 600d  t |> print..```.
-00014760: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-00014770: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-00014780: 6e0d 0a69 6d70 6f72 7420 6f70 6572 6174  n..import operat
-00014790: 6f72 0d0a 7072 696e 7428 6c69 7374 286d  or..print(list(m
-000147a0: 6170 286f 7065 7261 746f 722e 6164 642c  ap(operator.add,
-000147b0: 2072 616e 6765 2830 2c20 3529 2c20 7261   range(0, 5), ra
-000147c0: 6e67 6528 352c 2031 3029 2929 290d 0a60  nge(5, 10))))..`
-000147d0: 6060 0d0a 0d0a 2323 2320 496d 706c 6963  ``....### Implic
-000147e0: 6974 2050 6172 7469 616c 2041 7070 6c69  it Partial Appli
-000147f0: 6361 7469 6f6e 0d0a 0d0a 436f 636f 6e75  cation....Coconu
-00014800: 7420 7375 7070 6f72 7473 2061 206e 756d  t supports a num
-00014810: 6265 7220 6f66 2064 6966 6665 7265 6e74  ber of different
-00014820: 2073 796e 7461 6374 6963 616c 2061 6c69   syntactical ali
-00014830: 6173 6573 2066 6f72 2063 6f6d 6d6f 6e20  ases for common 
-00014840: 7061 7274 6961 6c20 6170 706c 6963 6174  partial applicat
-00014850: 696f 6e20 7573 6520 6361 7365 732e 2054  ion use cases. T
-00014860: 6865 7365 2061 7265 3a0d 0a60 6060 636f  hese are:..```co
-00014870: 636f 6e75 740d 0a2e 6174 7472 2020 2020  conut...attr    
-00014880: 2020 2020 2020 203d 3e20 2020 2020 206f         =>      o
-00014890: 7065 7261 746f 722e 6174 7472 6765 7474  perator.attrgett
-000148a0: 6572 2822 6174 7472 2229 0d0a 2e6d 6574  er("attr")...met
-000148b0: 686f 6428 6172 6773 2920 2020 3d3e 2020  hod(args)   =>  
-000148c0: 2020 2020 6f70 6572 6174 6f72 2e6d 6574      operator.met
-000148d0: 686f 6463 616c 6c65 7228 226d 6574 686f  hodcaller("metho
-000148e0: 6422 2c20 6172 6773 290d 0a6f 626a 2e20  d", args)..obj. 
-000148f0: 2020 2020 2020 2020 2020 203d 3e20 2020             =>   
-00014900: 2020 2067 6574 6174 7472 2428 6f62 6a29     getattr$(obj)
-00014910: 0d0a 6675 6e63 2420 2020 2020 2020 2020  ..func$         
-00014920: 2020 3d3e 2020 2020 2020 2824 2924 2866    =>      ($)$(f
-00014930: 756e 6329 0d0a 7365 715b 5d20 2020 2020  unc)..seq[]     
-00014940: 2020 2020 2020 3d3e 2020 2020 2020 6f70        =>      op
-00014950: 6572 6174 6f72 2e67 6574 6974 656d 2428  erator.getitem$(
-00014960: 7365 7129 0d0a 6974 6572 245b 5d20 2020  seq)..iter$[]   
-00014970: 2020 2020 2020 3d3e 2020 2020 2020 2320        =>      # 
-00014980: 7468 6520 6571 7569 7661 6c65 6e74 206f  the equivalent o
-00014990: 6620 7365 715b 5d20 666f 7220 6974 6572  f seq[] for iter
-000149a0: 6174 6f72 730d 0a2e 5b61 3a62 3a63 5d20  ators...[a:b:c] 
-000149b0: 2020 2020 2020 203d 3e20 2020 2020 206f         =>      o
-000149c0: 7065 7261 746f 722e 6974 656d 6765 7474  perator.itemgett
-000149d0: 6572 2873 6c69 6365 2861 2c20 622c 2063  er(slice(a, b, c
-000149e0: 2929 0d0a 2e24 5b61 3a62 3a63 5d20 2020  ))...$[a:b:c]   
-000149f0: 2020 2020 3d3e 2020 2020 2020 2320 7468      =>      # th
-00014a00: 6520 6571 7569 7661 6c65 6e74 206f 6620  e equivalent of 
-00014a10: 2e5b 613a 623a 635d 2066 6f72 2069 7465  .[a:b:c] for ite
-00014a20: 7261 746f 7273 0d0a 6060 600d 0a0d 0a41  rators..```....A
-00014a30: 6464 6974 696f 6e61 6c6c 792c 2060 2e61  dditionally, `.a
-00014a40: 7474 722e 6d65 7468 6f64 2861 7267 7329  ttr.method(args)
-00014a50: 602c 2060 2e5b 785d 5b79 5d60 2c20 616e  `, `.[x][y]`, an
-00014a60: 6420 602e 245b 785d 245b 795d 6020 6172  d `.$[x]$[y]` ar
-00014a70: 6520 616c 736f 2073 7570 706f 7274 6564  e also supported
-00014a80: 2e0d 0a0d 0a49 6e20 6164 6469 7469 6f6e  .....In addition
-00014a90: 2c20 666f 7220 6576 6572 7920 436f 636f  , for every Coco
-00014aa0: 6e75 7420 5b6f 7065 7261 746f 7220 6675  nut [operator fu
-00014ab0: 6e63 7469 6f6e 5d28 236f 7065 7261 746f  nction](#operato
-00014ac0: 722d 6675 6e63 7469 6f6e 7329 2c20 436f  r-functions), Co
-00014ad0: 636f 6e75 7420 7375 7070 6f72 7473 2073  conut supports s
-00014ae0: 796e 7461 7820 666f 7220 696d 706c 6963  yntax for implic
-00014af0: 6974 6c79 2070 6172 7469 616c 6c79 2061  itly partially a
-00014b00: 7070 6c79 696e 6720 7468 6174 206f 7065  pplying that ope
-00014b10: 7261 746f 7220 6675 6e63 7469 6f6e 2061  rator function a
-00014b20: 730d 0a60 6060 0d0a 282e 203c 6f70 3e20  s..```..(. <op> 
-00014b30: 3c61 7267 3e29 0d0a 283c 6172 673e 203c  <arg>)..(<arg> <
-00014b40: 6f70 3e20 2e29 0d0a 6060 600d 0a77 6865  op> .)..```..whe
-00014b50: 7265 2060 3c6f 703e 6020 6973 2074 6865  re `<op>` is the
-00014b60: 206f 7065 7261 746f 7220 6675 6e63 7469   operator functi
-00014b70: 6f6e 2061 6e64 2060 3c61 7267 3e60 2069  on and `<arg>` i
-00014b80: 7320 616e 7920 6578 7072 6573 7369 6f6e  s any expression
-00014b90: 2e20 4e6f 7465 2074 6861 742c 2061 7320  . Note that, as 
-00014ba0: 7769 7468 206f 7065 7261 746f 7220 6675  with operator fu
-00014bb0: 6e63 7469 6f6e 7320 7468 656d 7365 6c76  nctions themselv
-00014bc0: 6573 2c20 7468 6520 7061 7265 6e74 6865  es, the parenthe
-00014bd0: 7365 7320 6172 6520 6e65 6365 7373 6172  ses are necessar
-00014be0: 7920 666f 7220 7468 6973 2074 7970 6520  y for this type 
-00014bf0: 6f66 2069 6d70 6c69 6369 7420 7061 7274  of implicit part
-00014c00: 6961 6c20 6170 706c 6963 6174 696f 6e2e  ial application.
-00014c10: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
-00014c20: 2c20 436f 636f 6e75 7420 616c 736f 2073  , Coconut also s
-00014c30: 7570 706f 7274 7320 696d 706c 6963 6974  upports implicit
-00014c40: 206f 7065 7261 746f 7220 6675 6e63 7469   operator functi
-00014c50: 6f6e 2070 6172 7469 616c 7320 666f 7220  on partials for 
-00014c60: 6172 6269 7472 6172 7920 6675 6e63 7469  arbitrary functi
-00014c70: 6f6e 7320 6173 0d0a 6060 600d 0a28 2e20  ons as..```..(. 
-00014c80: 603c 6e61 6d65 3e60 203c 6172 673e 290d  `<name>` <arg>).
-00014c90: 0a28 3c61 7267 3e20 603c 6e61 6d65 3e60  .(<arg> `<name>`
-00014ca0: 202e 290d 0a60 6060 0d0a 6261 7365 6420   .)..```..based 
-00014cb0: 6f6e 2043 6f63 6f6e 7574 2773 205b 696e  on Coconut's [in
-00014cc0: 6669 7820 6e6f 7461 7469 6f6e 5d28 2369  fix notation](#i
-00014cd0: 6e66 6978 2d66 756e 6374 696f 6e73 2920  nfix-functions) 
-00014ce0: 7768 6572 6520 603c 6e61 6d65 3e60 2069  where `<name>` i
-00014cf0: 7320 7468 6520 6e61 6d65 206f 6620 7468  s the name of th
-00014d00: 6520 6675 6e63 7469 6f6e 2e20 4164 6469  e function. Addi
-00014d10: 7469 6f6e 616c 6c79 2c20 6060 2060 3c6e  tionally, `` `<n
-00014d20: 616d 653e 6020 6060 2063 616e 2069 6e73  ame>` `` can ins
-00014d30: 7465 6164 2062 6520 6120 5b63 7573 746f  tead be a [custo
-00014d40: 6d20 6f70 6572 6174 6f72 5d28 2363 7573  m operator](#cus
-00014d50: 746f 6d2d 6f70 6572 6174 6f72 7329 2028  tom-operators) (
-00014d60: 696e 2074 6861 7420 6361 7365 2c20 6e6f  in that case, no
-00014d70: 2062 6163 6b74 6963 6b73 2073 686f 756c   backticks shoul
-00014d80: 6420 6265 2075 7365 6429 2e0d 0a0d 0a23  d be used).....#
-00014d90: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-00014da0: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-00014db0: 6063 6f63 6f6e 7574 0d0a 3120 7c3e 2022  `coconut..1 |> "
-00014dc0: 3132 3322 5b5d 0d0a 6d6f 6424 203c 7c20  123"[]..mod$ <| 
-00014dd0: 3520 3c7c 2033 0d0a 3320 7c3e 2028 2e2a  5 <| 3..3 |> (.*
-00014de0: 3229 207c 3e20 282e 2b31 290d 0a60 6060  2) |> (.+1)..```
-00014df0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00014e00: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00014e10: 6f6e 0d0a 2231 3233 225b 315d 0d0a 6d6f  on.."123"[1]..mo
-00014e20: 6428 352c 2033 290d 0a28 3320 2a20 3229  d(5, 3)..(3 * 2)
-00014e30: 202b 2031 0d0a 6060 600d 0a0d 0a23 2323   + 1..```....###
-00014e40: 2045 6e68 616e 6365 6420 5479 7065 2041   Enhanced Type A
-00014e50: 6e6e 6f74 6174 696f 6e0d 0a0d 0a53 696e  nnotation....Sin
-00014e60: 6365 2043 6f63 6f6e 7574 2073 796e 7461  ce Coconut synta
-00014e70: 7820 6973 2061 2073 7570 6572 7365 7420  x is a superset 
-00014e80: 6f66 2050 7974 686f 6e20 3320 7379 6e74  of Python 3 synt
-00014e90: 6178 2c20 6974 2073 7570 706f 7274 7320  ax, it supports 
-00014ea0: 5b50 7974 686f 6e20 3320 6675 6e63 7469  [Python 3 functi
-00014eb0: 6f6e 2074 7970 6520 616e 6e6f 7461 7469  on type annotati
-00014ec0: 6f6e 2073 796e 7461 785d 2868 7474 7073  on syntax](https
-00014ed0: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
-00014ee0: 672f 6465 762f 7065 7073 2f70 6570 2d30  g/dev/peps/pep-0
-00014ef0: 3438 342f 2920 616e 6420 5b50 7974 686f  484/) and [Pytho
-00014f00: 6e20 332e 3620 7661 7269 6162 6c65 2074  n 3.6 variable t
-00014f10: 7970 6520 616e 6e6f 7461 7469 6f6e 2073  ype annotation s
-00014f20: 796e 7461 785d 2868 7474 7073 3a2f 2f77  yntax](https://w
-00014f30: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-00014f40: 762f 7065 7073 2f70 6570 2d30 3532 362f  v/peps/pep-0526/
-00014f50: 292e 2042 7920 6465 6661 756c 742c 2043  ). By default, C
-00014f60: 6f63 6f6e 7574 2063 6f6d 7069 6c65 7320  oconut compiles 
-00014f70: 616c 6c20 7479 7065 2061 6e6e 6f74 6174  all type annotat
-00014f80: 696f 6e73 2069 6e74 6f20 5079 7468 6f6e  ions into Python
-00014f90: 2d32 2d63 6f6d 7061 7469 626c 6520 7479  -2-compatible ty
-00014fa0: 7065 2063 6f6d 6d65 6e74 732e 2049 6620  pe comments. If 
-00014fb0: 796f 7520 7761 6e74 2074 6f20 6b65 6570  you want to keep
-00014fc0: 2074 6865 2074 7970 6520 616e 6e6f 7461   the type annota
-00014fd0: 7469 6f6e 7320 696e 7374 6561 642c 2073  tions instead, s
-00014fe0: 696d 706c 7920 7061 7373 2061 2060 2d2d  imply pass a `--
-00014ff0: 7461 7267 6574 6020 7468 6174 2073 7570  target` that sup
-00015000: 706f 7274 7320 7468 656d 2e0d 0a0d 0a53  ports them.....S
-00015010: 696e 6365 206e 6f74 2061 6c6c 2073 7570  ince not all sup
-00015020: 706f 7274 6564 2050 7974 686f 6e20 7665  ported Python ve
-00015030: 7273 696f 6e73 2073 7570 706f 7274 2074  rsions support t
-00015040: 6865 205b 6074 7970 696e 6760 5d28 6874  he [`typing`](ht
-00015050: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
-00015060: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
-00015070: 7479 7069 6e67 2e68 746d 6c29 206d 6f64  typing.html) mod
-00015080: 756c 652c 2043 6f63 6f6e 7574 2070 726f  ule, Coconut pro
-00015090: 7669 6465 7320 7468 6520 5b60 5459 5045  vides the [`TYPE
-000150a0: 5f43 4845 434b 494e 4760 5d28 2374 7970  _CHECKING`](#typ
-000150b0: 655f 6368 6563 6b69 6e67 2920 6275 696c  e_checking) buil
-000150c0: 742d 696e 2066 6f72 2068 6964 696e 6720  t-in for hiding 
-000150d0: 796f 7572 2060 7479 7069 6e67 6020 696d  your `typing` im
-000150e0: 706f 7274 7320 616e 6420 6054 7970 6556  ports and `TypeV
-000150f0: 6172 6020 6465 6669 6e69 7469 6f6e 7320  ar` definitions 
-00015100: 6672 6f6d 2062 6569 6e67 2065 7865 6375  from being execu
-00015110: 7465 6420 6174 2072 756e 7469 6d65 2e20  ted at runtime. 
-00015120: 436f 636f 6e75 7420 7769 6c6c 2061 6c73  Coconut will als
-00015130: 6f20 6175 746f 6d61 7469 6361 6c6c 7920  o automatically 
-00015140: 7573 6520 5b60 7479 7069 6e67 5f65 7874  use [`typing_ext
-00015150: 656e 7369 6f6e 7360 5d28 6874 7470 733a  ensions`](https:
-00015160: 2f2f 7079 7069 2e6f 7267 2f70 726f 6a65  //pypi.org/proje
-00015170: 6374 2f74 7970 696e 672d 6578 7465 6e73  ct/typing-extens
-00015180: 696f 6e73 2f29 206f 7665 7220 6074 7970  ions/) over `typ
-00015190: 696e 6760 2077 6865 6e20 696d 706f 7274  ing` when import
-000151a0: 696e 6720 6f62 6a65 6374 7320 6e6f 7420  ing objects not 
-000151b0: 6176 6169 6c61 626c 6520 696e 2060 7479  available in `ty
-000151c0: 7069 6e67 6020 6f6e 2074 6865 2063 7572  ping` on the cur
-000151d0: 7265 6e74 2050 7974 686f 6e20 7665 7273  rent Python vers
-000151e0: 696f 6e2e 0d0a 0d0a 4675 7274 6865 726d  ion.....Furtherm
-000151f0: 6f72 652c 2077 6865 6e20 636f 6d70 696c  ore, when compil
-00015200: 696e 6720 7479 7065 2061 6e6e 6f74 6174  ing type annotat
-00015210: 696f 6e73 2074 6f20 5079 7468 6f6e 2033  ions to Python 3
-00015220: 2076 6572 7369 6f6e 7320 7769 7468 6f75   versions withou
-00015230: 7420 5b50 4550 2035 3633 5d28 6874 7470  t [PEP 563](http
-00015240: 733a 2f2f 7777 772e 7079 7468 6f6e 2e6f  s://www.python.o
-00015250: 7267 2f64 6576 2f70 6570 732f 7065 702d  rg/dev/peps/pep-
-00015260: 3035 3633 2f29 2073 7570 706f 7274 2c20  0563/) support, 
-00015270: 436f 636f 6e75 7420 7772 6170 7320 616e  Coconut wraps an
-00015280: 6e6f 7461 7469 6f6e 2069 6e20 7374 7269  notation in stri
-00015290: 6e67 7320 746f 2070 7265 7665 6e74 2074  ngs to prevent t
-000152a0: 6865 6d20 6672 6f6d 2062 6569 6e67 2065  hem from being e
-000152b0: 7661 6c75 6174 6564 2061 7420 7275 6e74  valuated at runt
-000152c0: 696d 6520 286e 6f74 6520 7468 6174 2060  ime (note that `
-000152d0: 2d2d 6e6f 2d77 7261 7060 2064 6973 6162  --no-wrap` disab
-000152e0: 6c65 7320 616c 6c20 7772 6170 7069 6e67  les all wrapping
-000152f0: 2c20 696e 636c 7564 696e 6720 7669 6120  , including via 
-00015300: 5045 5020 3536 3320 7375 7070 6f72 7429  PEP 563 support)
-00015310: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
-00015320: 792c 2043 6f63 6f6e 7574 2061 6464 7320  y, Coconut adds 
-00015330: 7370 6563 6961 6c20 7379 6e74 6178 2066  special syntax f
-00015340: 6f72 206d 616b 696e 6720 7479 7065 2061  or making type a
-00015350: 6e6e 6f74 6174 696f 6e73 2065 6173 6965  nnotations easie
-00015360: 7220 616e 6420 7369 6d70 6c65 7220 746f  r and simpler to
-00015370: 2077 7269 7465 2e20 5768 656e 2069 6e73   write. When ins
-00015380: 6964 6520 6f66 2061 2074 7970 6520 616e  ide of a type an
-00015390: 6e6f 7461 7469 6f6e 2c20 436f 636f 6e75  notation, Coconu
-000153a0: 7420 7472 6561 7473 2063 6572 7461 696e  t treats certain
-000153b0: 2073 796e 7461 7820 636f 6e73 7472 7563   syntax construc
-000153c0: 7473 2064 6966 6665 7265 6e74 6c79 2c20  ts differently, 
-000153d0: 636f 6d70 696c 696e 6720 7468 656d 2074  compiling them t
-000153e0: 6f20 7479 7065 2061 6e6e 6f74 6174 696f  o type annotatio
-000153f0: 6e73 2069 6e73 7465 6164 206f 6620 7768  ns instead of wh
-00015400: 6174 2074 6865 7920 776f 756c 6420 6e6f  at they would no
-00015410: 726d 616c 6c79 2072 6570 7265 7365 6e74  rmally represent
-00015420: 2e20 5370 6563 6966 6963 616c 6c79 2c20  . Specifically, 
-00015430: 436f 636f 6e75 7420 6170 706c 6965 7320  Coconut applies 
-00015440: 7468 6520 666f 6c6c 6f77 696e 6720 7472  the following tr
-00015450: 616e 7366 6f72 6d61 7469 6f6e 733a 0d0a  ansformations:..
-00015460: 6060 6063 6f63 6f6e 7574 0d0a 4120 7c20  ```coconut..A | 
-00015470: 420d 0a20 2020 203d 3e20 7479 7069 6e67  B..    => typing
-00015480: 2e55 6e69 6f6e 5b41 2c20 425d 0d0a 2841  .Union[A, B]..(A
-00015490: 3b20 4229 0d0a 2020 2020 3d3e 2074 7970  ; B)..    => typ
-000154a0: 696e 672e 5475 706c 655b 412c 2042 5d0d  ing.Tuple[A, B].
-000154b0: 0a41 3f0d 0a20 2020 203d 3e20 7479 7069  .A?..    => typi
-000154c0: 6e67 2e4f 7074 696f 6e61 6c5b 415d 0d0a  ng.Optional[A]..
-000154d0: 415b 5d0d 0a20 2020 203d 3e20 7479 7069  A[]..    => typi
-000154e0: 6e67 2e53 6571 7565 6e63 655b 415d 0d0a  ng.Sequence[A]..
-000154f0: 4124 5b5d 0d0a 2020 2020 3d3e 2074 7970  A$[]..    => typ
-00015500: 696e 672e 4974 6572 6162 6c65 5b41 5d0d  ing.Iterable[A].
-00015510: 0a28 2920 2d3e 203c 7265 743e 0d0a 2020  .() -> <ret>..  
-00015520: 2020 3d3e 2074 7970 696e 672e 4361 6c6c    => typing.Call
-00015530: 6162 6c65 5b5b 5d2c 203c 7265 743e 5d0d  able[[], <ret>].
-00015540: 0a3c 6172 673e 202d 3e20 3c72 6574 3e0d  .<arg> -> <ret>.
-00015550: 0a20 2020 203d 3e20 7479 7069 6e67 2e43  .    => typing.C
-00015560: 616c 6c61 626c 655b 5b3c 6172 673e 5d2c  allable[[<arg>],
-00015570: 203c 7265 743e 5d0d 0a28 3c61 7267 733e   <ret>]..(<args>
-00015580: 2920 2d3e 203c 7265 743e 0d0a 2020 2020  ) -> <ret>..    
-00015590: 3d3e 2074 7970 696e 672e 4361 6c6c 6162  => typing.Callab
-000155a0: 6c65 5b5b 3c61 7267 733e 5d2c 203c 7265  le[[<args>], <re
-000155b0: 743e 5d0d 0a2d 3e20 3c72 6574 3e0d 0a20  t>]..-> <ret>.. 
-000155c0: 2020 203d 3e20 7479 7069 6e67 2e43 616c     => typing.Cal
-000155d0: 6c61 626c 655b 2e2e 2e2c 203c 7265 743e  lable[..., <ret>
-000155e0: 5d0d 0a28 3c61 7267 733e 2c20 2a2a 3c50  ]..(<args>, **<P
-000155f0: 6172 616d 5370 6563 3e29 202d 3e20 3c72  aramSpec>) -> <r
-00015600: 6574 3e0d 0a20 2020 203d 3e20 7479 7069  et>..    => typi
-00015610: 6e67 2e43 616c 6c61 626c 655b 7479 7069  ng.Callable[typi
-00015620: 6e67 2e43 6f6e 6361 7465 6e61 7465 5b3c  ng.Concatenate[<
-00015630: 6172 6773 3e2c 203c 5061 7261 6d53 7065  args>, <ParamSpe
-00015640: 633e 5d2c 203c 7265 743e 5d0d 0a61 7379  c>], <ret>]..asy
-00015650: 6e63 2028 3c61 7267 733e 2920 2d3e 203c  nc (<args>) -> <
-00015660: 7265 743e 0d0a 2020 2020 3d3e 2074 7970  ret>..    => typ
-00015670: 696e 672e 4361 6c6c 6162 6c65 5b5b 3c61  ing.Callable[[<a
-00015680: 7267 733e 5d2c 2074 7970 696e 672e 4177  rgs>], typing.Aw
-00015690: 6169 7461 626c 655b 3c72 6574 3e5d 5d0d  aitable[<ret>]].
-000156a0: 0a60 6060 0d0a 7768 6572 6520 6074 7970  .```..where `typ
-000156b0: 696e 6760 2069 7320 7468 6520 5079 7468  ing` is the Pyth
-000156c0: 6f6e 2033 2e35 2062 7569 6c74 2d69 6e20  on 3.5 built-in 
-000156d0: 5b60 7479 7069 6e67 6020 6d6f 6475 6c65  [`typing` module
-000156e0: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-000156f0: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-00015700: 6172 792f 7479 7069 6e67 2e68 746d 6c29  ary/typing.html)
-00015710: 2e20 466f 7220 6d6f 7265 2069 6e66 6f72  . For more infor
-00015720: 6d61 7469 6f6e 206f 6e20 7468 6520 4361  mation on the Ca
-00015730: 6c6c 6162 6c65 2073 796e 7461 782c 2073  llable syntax, s
-00015740: 6565 205b 5045 5020 3637 375d 2868 7474  ee [PEP 677](htt
-00015750: 7073 3a2f 2f70 6570 732e 7079 7468 6f6e  ps://peps.python
-00015760: 2e6f 7267 2f70 6570 2d30 3637 3729 2c20  .org/pep-0677), 
-00015770: 7768 6963 6820 436f 636f 6e75 7420 6675  which Coconut fu
-00015780: 6c6c 7920 7375 7070 6f72 7473 2e0d 0a0d  lly supports....
-00015790: 0a5f 4e6f 7465 3a20 5468 6520 7472 616e  ._Note: The tran
-000157a0: 7366 6f72 6d61 7469 6f6e 2074 6f20 6055  sformation to `U
-000157b0: 6e69 6f6e 6020 6973 206e 6f74 2064 6f6e  nion` is not don
-000157c0: 6520 6f6e 2050 7974 686f 6e20 332e 3130  e on Python 3.10
-000157d0: 2061 7320 5079 7468 6f6e 2033 2e31 3020   as Python 3.10 
-000157e0: 6861 7320 6e61 7469 7665 205b 5045 5020  has native [PEP 
-000157f0: 3630 345d 2868 7474 7073 3a2f 2f77 7777  604](https://www
-00015800: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
-00015810: 7065 7073 2f70 6570 2d30 3630 3429 2073  peps/pep-0604) s
-00015820: 7570 706f 7274 2e5f 0d0a 0d0a 546f 2075  upport._....To u
-00015830: 7365 2074 6865 7365 2074 7261 6e73 666f  se these transfo
-00015840: 726d 6174 696f 6e73 2069 6e20 6120 5b74  rmations in a [t
-00015850: 7970 6520 616c 6961 735d 2868 7474 7073  ype alias](https
-00015860: 3a2f 2f70 6570 732e 7079 7468 6f6e 2e6f  ://peps.python.o
-00015870: 7267 2f70 6570 2d30 3438 342f 2374 7970  rg/pep-0484/#typ
-00015880: 652d 616c 6961 7365 7329 2c20 7573 6520  e-aliases), use 
-00015890: 7468 6520 7379 6e74 6178 0d0a 6060 600d  the syntax..```.
-000158a0: 0a74 7970 6520 3c6e 616d 653e 203d 203c  .type <name> = <
-000158b0: 7479 7065 3e0d 0a60 6060 0d0a 7768 6963  type>..```..whic
-000158c0: 6820 7769 6c6c 2061 6c6c 6f77 2060 3c74  h will allow `<t
-000158d0: 7970 653e 6020 746f 2069 6e63 6c75 6465  ype>` to include
-000158e0: 2043 6f63 6f6e 7574 2773 2073 7065 6369   Coconut's speci
-000158f0: 616c 2074 7970 6520 616e 6e6f 7461 7469  al type annotati
-00015900: 6f6e 2073 796e 7461 7820 616e 6420 7479  on syntax and ty
-00015910: 7065 2060 3c6e 616d 653e 6020 6173 2061  pe `<name>` as a
-00015920: 205b 6074 7970 696e 672e 5479 7065 416c   [`typing.TypeAl
-00015930: 6961 7360 5d28 6874 7470 733a 2f2f 646f  ias`](https://do
-00015940: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-00015950: 6c69 6272 6172 792f 7479 7069 6e67 2e68  library/typing.h
-00015960: 746d 6c23 7479 7069 6e67 2e54 7970 6541  tml#typing.TypeA
-00015970: 6c69 6173 292e 2049 6620 796f 7520 7472  lias). If you tr
-00015980: 7920 746f 2069 6e73 7465 6164 206a 7573  y to instead jus
-00015990: 7420 646f 2061 206e 616b 6564 2060 3c6e  t do a naked `<n
-000159a0: 616d 653e 203d 203c 7479 7065 3e60 2074  ame> = <type>` t
-000159b0: 7970 6520 616c 6961 732c 2043 6f63 6f6e  ype alias, Cocon
-000159c0: 7574 2077 6f6e 2774 2062 6520 6162 6c65  ut won't be able
-000159d0: 2074 6f20 7465 6c6c 2079 6f75 2772 6520   to tell you're 
-000159e0: 6174 7465 6d70 7469 6e67 2061 2074 7970  attempting a typ
-000159f0: 6520 616c 6961 7320 616e 6420 7468 7573  e alias and thus
-00015a00: 2077 6f6e 2774 2061 7070 6c79 2061 6e79   won't apply any
-00015a10: 206f 6620 7468 6520 6162 6f76 6520 7472   of the above tr
-00015a20: 616e 7366 6f72 6d61 7469 6f6e 732e 0d0a  ansformations...
-00015a30: 0d0a 5375 6368 2074 7970 6520 616c 6961  ..Such type alia
-00015a40: 7320 7374 6174 656d 656e 7473 e280 9461  s statements...a
-00015a50: 7320 7765 6c6c 2061 7320 616c 6c20 6063  s well as all `c
-00015a60: 6c61 7373 602c 2060 6461 7461 602c 2061  lass`, `data`, a
-00015a70: 6e64 2066 756e 6374 696f 6e20 6465 6669  nd function defi
-00015a80: 6e69 7469 6f6e 7320 696e 2043 6f63 6f6e  nitions in Cocon
-00015a90: 7574 e280 9461 6c73 6f20 7375 7070 6f72  ut...also suppor
-00015aa0: 7420 436f 636f 6e75 7427 7320 5b74 7970  t Coconut's [typ
-00015ab0: 6520 7061 7261 6d65 7465 7220 7379 6e74  e parameter synt
-00015ac0: 6178 5d28 2374 7970 652d 7061 7261 6d65  ax](#type-parame
-00015ad0: 7465 722d 7379 6e74 6178 292c 2061 6c6c  ter-syntax), all
-00015ae0: 6f77 696e 6720 796f 7520 746f 2064 6f20  owing you to do 
-00015af0: 7468 696e 6773 206c 696b 6520 6074 7970  things like `typ
-00015b00: 6520 4f72 5374 725b 545d 203d 2054 207c  e OrStr[T] = T |
-00015b10: 2073 7472 602e 0d0a 0d0a 496d 706f 7274   str`.....Import
-00015b20: 616e 746c 792c 206e 6f74 6520 7468 6174  antly, note that
-00015b30: 2060 696e 745b 5d60 2064 6f65 7320 6e6f   `int[]` does no
-00015b40: 7420 6d61 7020 6f6e 746f 2060 7479 7069  t map onto `typi
-00015b50: 6e67 2e4c 6973 745b 696e 745d 6020 6275  ng.List[int]` bu
-00015b60: 7420 6f6e 746f 2060 7479 7069 6e67 2e53  t onto `typing.S
-00015b70: 6571 7565 6e63 655b 696e 745d 602e 2054  equence[int]`. T
-00015b80: 6869 7320 6973 2062 6563 6175 7365 2c20  his is because, 
-00015b90: 7768 656e 2077 7269 7469 6e67 2069 6e20  when writing in 
-00015ba0: 616e 2069 6469 6f6d 6174 6963 2066 756e  an idiomatic fun
-00015bb0: 6374 696f 6e61 6c20 7374 796c 652c 2061  ctional style, a
-00015bc0: 7373 6967 6e6d 656e 7420 7368 6f75 6c64  ssignment should
-00015bd0: 2062 6520 7261 7265 2061 6e64 2074 7570   be rare and tup
-00015be0: 6c65 7320 7368 6f75 6c64 2062 6520 636f  les should be co
-00015bf0: 6d6d 6f6e 2e20 5573 696e 6720 6053 6571  mmon. Using `Seq
-00015c00: 7565 6e63 6560 2063 6f76 6572 7320 626f  uence` covers bo
-00015c10: 7468 2063 6173 6573 2c20 6163 636f 6d6d  th cases, accomm
-00015c20: 6f64 6174 696e 6720 7475 706c 6573 2061  odating tuples a
-00015c30: 6e64 206c 6973 7473 2061 6e64 2070 7265  nd lists and pre
-00015c40: 7665 6e74 696e 6720 696e 6465 7865 6420  venting indexed 
-00015c50: 6173 7369 676e 6d65 6e74 2e20 5768 656e  assignment. When
-00015c60: 2061 6e20 696e 6465 7865 6420 6173 7369   an indexed assi
-00015c70: 676e 6d65 6e74 2069 7320 6174 7465 6d70  gnment is attemp
-00015c80: 7465 6420 696e 746f 2061 2076 6172 6961  ted into a varia
-00015c90: 626c 6520 7479 7065 6420 7769 7468 2060  ble typed with `
-00015ca0: 5365 7175 656e 6365 602c 204d 7950 7920  Sequence`, MyPy 
-00015cb0: 7769 6c6c 2067 656e 6572 6174 6520 616e  will generate an
-00015cc0: 2065 7272 6f72 3a0d 0a0d 0a60 6060 636f   error:....```co
-00015cd0: 636f 6e75 740d 0a66 6f6f 3a20 696e 745b  conut..foo: int[
-00015ce0: 5d20 3d20 5b30 2c20 312c 2032 2c20 332c  ] = [0, 1, 2, 3,
-00015cf0: 2034 2c20 355d 0d0a 666f 6f5b 305d 203d   4, 5]..foo[0] =
-00015d00: 2031 2020 2023 204d 7950 7920 6572 726f   1   # MyPy erro
-00015d10: 723a 2022 556e 7375 7070 6f72 7465 6420  r: "Unsupported 
-00015d20: 7461 7267 6574 2066 6f72 2069 6e64 6578  target for index
-00015d30: 6564 2061 7373 6967 6e6d 656e 7422 0d0a  ed assignment"..
-00015d40: 6060 600d 0a0d 0a49 6620 796f 7520 7761  ```....If you wa
-00015d50: 6e74 2074 6f20 7573 6520 604c 6973 7460  nt to use `List`
-00015d60: 2069 6e73 7465 6164 2028 652e 672e 2069   instead (e.g. i
-00015d70: 6620 796f 7520 7761 6e74 2074 6f20 7375  f you want to su
-00015d80: 7070 6f72 7420 696e 6465 7865 6420 6173  pport indexed as
-00015d90: 7369 676e 6d65 6e74 292c 2075 7365 2074  signment), use t
-00015da0: 6865 2073 7461 6e64 6172 6420 5079 7468  he standard Pyth
-00015db0: 6f6e 2033 2e35 2076 6172 6961 626c 6520  on 3.5 variable 
-00015dc0: 7479 7065 2061 6e6e 6f74 6174 696f 6e20  type annotation 
-00015dd0: 7379 6e74 6178 3a20 6066 6f6f 3a20 4c69  syntax: `foo: Li
-00015de0: 7374 5b3c 7479 7065 3e5d 602e 0d0a 0d0a  st[<type>]`.....
-00015df0: 5f4e 6f74 653a 2054 6f20 6561 7369 6c79  _Note: To easily
-00015e00: 2076 6965 7720 796f 7572 2064 6566 696e   view your defin
-00015e10: 6564 2074 7970 6573 2c20 7365 6520 5b60  ed types, see [`
-00015e20: 7265 7665 616c 5f74 7970 6560 2061 6e64  reveal_type` and
-00015e30: 2060 7265 7665 616c 5f6c 6f63 616c 7360   `reveal_locals`
-00015e40: 5d28 2372 6576 6561 6c2d 7479 7065 2d61  ](#reveal-type-a
-00015e50: 6e64 2d72 6576 6561 6c2d 6c6f 6361 6c73  nd-reveal-locals
-00015e60: 292e 5f0d 0a0d 0a23 2323 2323 2045 7861  )._....##### Exa
-00015e70: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00015e80: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00015e90: 0d0a 6465 6620 696e 745f 6d61 7028 0d0a  ..def int_map(..
-00015ea0: 2020 2020 663a 2069 6e74 202d 3e20 696e      f: int -> in
-00015eb0: 742c 0d0a 2020 2020 7873 3a20 696e 745b  t,..    xs: int[
-00015ec0: 5d2c 0d0a 2920 2d3e 2069 6e74 5b5d 203d  ],..) -> int[] =
-00015ed0: 0d0a 2020 2020 7873 207c 3e20 6d61 7024  ..    xs |> map$
-00015ee0: 2866 2920 7c3e 206c 6973 740d 0a60 6060  (f) |> list..```
-00015ef0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00015f00: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00015f10: 6f6e 0d0a 696d 706f 7274 2074 7970 696e  on..import typin
-00015f20: 6720 2023 2075 6e6c 696b 6520 7468 6973  g  # unlike this
-00015f30: 2074 7970 696e 6720 696d 706f 7274 2c20   typing import, 
-00015f40: 436f 636f 6e75 7420 7072 6f64 7563 6573  Coconut produces
-00015f50: 2075 6e69 7665 7273 616c 2063 6f64 650d   universal code.
-00015f60: 0a64 6566 2069 6e74 5f6d 6170 280d 0a20  .def int_map(.. 
-00015f70: 2020 2066 2c20 2023 2074 7970 653a 2074     f,  # type: t
-00015f80: 7970 696e 672e 4361 6c6c 6162 6c65 5b5b  yping.Callable[[
-00015f90: 696e 745d 2c20 696e 745d 0d0a 2020 2020  int], int]..    
-00015fa0: 7873 2c20 2023 2074 7970 653a 2074 7970  xs,  # type: typ
-00015fb0: 696e 672e 5365 7175 656e 6365 5b69 6e74  ing.Sequence[int
-00015fc0: 5d0d 0a29 3a0d 0a20 2020 2023 2074 7970  ]..):..    # typ
-00015fd0: 653a 2028 2e2e 2e29 202d 3e20 7479 7069  e: (...) -> typi
-00015fe0: 6e67 2e53 6571 7565 6e63 655b 696e 745d  ng.Sequence[int]
-00015ff0: 0d0a 2020 2020 7265 7475 726e 206c 6973  ..    return lis
-00016000: 7428 6d61 7028 662c 2078 7329 290d 0a60  t(map(f, xs))..`
-00016010: 6060 0d0a 0d0a 2323 2320 4d75 6c74 6964  ``....### Multid
-00016020: 696d 656e 7369 6f6e 616c 2041 7272 6179  imensional Array
-00016030: 204c 6974 6572 616c 2f43 6f6e 6361 7465   Literal/Concate
-00016040: 6e61 7469 6f6e 2053 796e 7461 780d 0a0d  nation Syntax...
-00016050: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
-00016060: 7320 6d75 6c74 6964 696d 656e 7369 6f6e  s multidimension
-00016070: 616c 2061 7272 6179 206c 6974 6572 616c  al array literal
-00016080: 2061 6e64 2061 7272 6179 205b 636f 6e63   and array [conc
-00016090: 6174 656e 6174 696f 6e5d 2868 7474 7073  atenation](https
-000160a0: 3a2f 2f6e 756d 7079 2e6f 7267 2f64 6f63  ://numpy.org/doc
-000160b0: 2f73 7461 626c 652f 7265 6665 7265 6e63  /stable/referenc
-000160c0: 652f 6765 6e65 7261 7465 642f 6e75 6d70  e/generated/nump
-000160d0: 792e 636f 6e63 6174 656e 6174 652e 6874  y.concatenate.ht
-000160e0: 6d6c 292f 5b73 7461 636b 5d28 6874 7470  ml)/[stack](http
-000160f0: 733a 2f2f 6e75 6d70 792e 6f72 672f 646f  s://numpy.org/do
-00016100: 632f 7374 6162 6c65 2f72 6566 6572 656e  c/stable/referen
-00016110: 6365 2f67 656e 6572 6174 6564 2f6e 756d  ce/generated/num
-00016120: 7079 2e73 7461 636b 2e68 746d 6c29 2073  py.stack.html) s
-00016130: 796e 7461 782e 0d0a 0d0a 4279 2064 6566  yntax.....By def
-00016140: 6175 6c74 2c20 616c 6c20 6d75 6c74 6964  ault, all multid
-00016150: 696d 656e 7369 6f6e 616c 2061 7272 6179  imensional array
-00016160: 2073 796e 7461 7820 7769 6c6c 2073 696d   syntax will sim
-00016170: 706c 7920 6f70 6572 6174 6520 6f6e 2050  ply operate on P
-00016180: 7974 686f 6e20 6c69 7374 7320 6f66 206c  ython lists of l
-00016190: 6973 7473 2e20 486f 7765 7665 722c 2069  ists. However, i
-000161a0: 6620 5b60 6e75 6d70 7960 5d28 236e 756d  f [`numpy`](#num
-000161b0: 7079 2d69 6e74 6567 7261 7469 6f6e 2920  py-integration) 
-000161c0: 6f62 6a65 6374 7320 6172 6520 7573 6564  objects are used
-000161d0: 2c20 7468 6520 6170 7072 6f70 7269 6174  , the appropriat
-000161e0: 6520 606e 756d 7079 6020 6361 6c6c 7320  e `numpy` calls 
-000161f0: 7769 6c6c 2062 6520 6d61 6465 2069 6e73  will be made ins
-00016200: 7465 6164 2e20 546f 2067 6976 6520 6375  tead. To give cu
-00016210: 7374 6f6d 206f 626a 6563 7473 206d 756c  stom objects mul
-00016220: 7469 6469 6d65 6e73 696f 6e61 6c20 6172  tidimensional ar
-00016230: 7261 7920 636f 6e63 6174 656e 6174 696f  ray concatenatio
-00016240: 6e20 7375 7070 6f72 742c 2064 6566 696e  n support, defin
-00016250: 6520 6074 7970 6528 6f62 6a29 2e5f 5f6d  e `type(obj).__m
-00016260: 6174 636f 6e63 6174 5f5f 6020 2873 686f  atconcat__` (sho
-00016270: 756c 6420 6265 6861 7665 2061 7320 606e  uld behave as `n
-00016280: 702e 636f 6e63 6174 6029 2c20 606f 626a  p.concat`), `obj
-00016290: 2e6e 6469 6d60 2028 7368 6f75 6c64 2062  .ndim` (should b
-000162a0: 6568 6176 6520 6173 2060 6e70 2e6e 6461  ehave as `np.nda
-000162b0: 7272 6179 2e6e 6469 6d60 292c 2061 6e64  rray.ndim`), and
-000162c0: 2060 6f62 6a2e 7265 7368 6170 6560 2028   `obj.reshape` (
-000162d0: 7368 6f75 6c64 2062 6568 6176 6520 6173  should behave as
-000162e0: 2060 6e70 2e6e 6461 7272 6179 2e72 6573   `np.ndarray.res
-000162f0: 6861 7065 6029 2e0d 0a0d 0a41 7320 6120  hape`).....As a 
-00016300: 7369 6d70 6c65 2065 7861 6d70 6c65 2c20  simple example, 
-00016310: 3244 206d 6174 7269 6365 7320 6361 6e20  2D matrices can 
-00016320: 6265 2063 6f6e 7374 7275 6374 6564 2062  be constructed b
-00016330: 7920 7365 7061 7261 7469 6e67 2074 6865  y separating the
-00016340: 2072 6f77 7320 7769 7468 2060 3b3b 6020   rows with `;;` 
-00016350: 696e 7369 6465 206f 6620 6120 6c69 7374  inside of a list
-00016360: 206c 6974 6572 616c 3a0d 0a60 6060 636f   literal:..```co
-00016370: 636f 6e75 745f 7079 636f 6e0d 0a3e 3e3e  conut_pycon..>>>
-00016380: 205b 312c 2032 203b 3b0d 0a20 2020 2020   [1, 2 ;;..     
-00016390: 332c 2034 5d0d 0a0d 0a5b 5b31 2c20 325d  3, 4]....[[1, 2]
-000163a0: 2c20 5b33 2c20 345d 5d0d 0a3e 3e3e 2069  , [3, 4]]..>>> i
-000163b0: 6d70 6f72 7420 6e75 6d70 7920 6173 206e  mport numpy as n
-000163c0: 700d 0a3e 3e3e 206e 702e 6172 7261 7928  p..>>> np.array(
-000163d0: 5b31 2c20 3220 3b3b 2033 2c20 345d 290d  [1, 2 ;; 3, 4]).
-000163e0: 0a61 7272 6179 285b 5b31 2c20 325d 2c0d  .array([[1, 2],.
-000163f0: 0a20 2020 2020 2020 5b33 2c20 345d 5d29  .       [3, 4]])
-00016400: 0d0a 6060 600d 0a41 7320 6361 6e20 6265  ..```..As can be
-00016410: 2073 6565 6e2c 2060 6e70 2e61 7272 6179   seen, `np.array
-00016420: 6020 286f 7220 6571 7569 7661 6c65 6e74  ` (or equivalent
-00016430: 2920 6361 6e20 6265 2075 7365 6420 746f  ) can be used to
-00016440: 2074 7572 6e20 7468 6520 7265 7375 6c74   turn the result
-00016450: 696e 6720 6c69 7374 206f 6620 6c69 7374  ing list of list
-00016460: 7320 696e 746f 2061 6e20 6163 7475 616c  s into an actual
-00016470: 2061 7272 6179 2e20 5468 6973 2073 796e   array. This syn
-00016480: 7461 7820 776f 726b 7320 6265 6361 7573  tax works becaus
-00016490: 6520 603b 3b60 2069 6e73 6964 6520 6f66  e `;;` inside of
-000164a0: 2061 206c 6973 7420 6c69 7465 7261 6c20   a list literal 
-000164b0: 6675 6e63 7469 6f6e 7320 6173 2061 2063  functions as a c
-000164c0: 6f6e 6361 7465 6e61 7469 6f6e 2f73 7461  oncatenation/sta
-000164d0: 636b 2061 6c6f 6e67 2074 6865 2060 2d32  ck along the `-2
-000164e0: 6020 6178 6973 2028 7769 7468 2074 6865  ` axis (with the
-000164f0: 2069 6e6e 6572 2061 7272 6179 7320 6265   inner arrays be
-00016500: 696e 6720 6272 6f61 6463 6173 7420 746f  ing broadcast to
-00016510: 2060 2831 2c20 3229 6020 6172 7261 7973   `(1, 2)` arrays
-00016520: 2062 6566 6f72 6520 636f 6e63 6174 656e   before concaten
-00016530: 6174 696f 6e29 2e20 4e6f 7465 2074 6861  ation). Note tha
-00016540: 7420 7468 6973 2063 6f6e 6361 7465 6e61  t this concatena
-00016550: 7469 6f6e 2069 7320 646f 6e65 2065 6e74  tion is done ent
-00016560: 6972 656c 7920 696e 2050 7974 686f 6e20  irely in Python 
-00016570: 6c69 7374 7320 6f66 206c 6973 7473 2068  lists of lists h
-00016580: 6572 652c 2073 696e 6365 2074 6865 2060  ere, since the `
-00016590: 6e70 2e61 7272 6179 6020 6361 6c6c 2063  np.array` call c
-000165a0: 6f6d 6573 206f 6e6c 7920 6174 2074 6865  omes only at the
-000165b0: 2065 6e64 2e0d 0a0d 0a49 6e20 6765 6e65   end.....In gene
-000165c0: 7261 6c2c 2074 6865 206e 756d 6265 7220  ral, the number 
-000165d0: 6f66 2073 656d 6963 6f6c 6f6e 7320 696e  of semicolons in
-000165e0: 6469 6361 7465 7320 7468 6520 6469 6d65  dicates the dime
-000165f0: 6e73 696f 6e20 6672 6f6d 2074 6865 2065  nsion from the e
-00016600: 6e64 206f 6e20 7768 6963 6820 746f 2063  nd on which to c
-00016610: 6f6e 6361 7465 6e61 7465 2e20 5468 7573  oncatenate. Thus
-00016620: 2c20 603b 6020 696e 6469 6361 7465 7320  , `;` indicates 
-00016630: 636f 6e61 7465 6e61 7469 6f6e 2061 6c6f  conatenation alo
-00016640: 6e67 2074 6865 2060 2d31 6020 6178 6973  ng the `-1` axis
-00016650: 2c20 603b 3b60 2061 6c6f 6e67 2074 6865  , `;;` along the
-00016660: 2060 2d32 6020 6178 6973 2c20 616e 6420   `-2` axis, and 
-00016670: 736f 206f 6e2e 2042 6566 6f72 6520 636f  so on. Before co
-00016680: 6e63 6174 656e 6174 696f 6e2c 2061 7272  ncatenation, arr
-00016690: 6179 7320 6172 6520 616c 7761 7973 2062  ays are always b
-000166a0: 726f 6164 6361 7374 2074 6f20 6120 7368  roadcast to a sh
-000166b0: 6170 6520 7768 6963 6820 6973 206c 6172  ape which is lar
-000166c0: 6765 2065 6e6f 7567 6820 746f 2061 6c6c  ge enough to all
-000166d0: 6f77 2074 6865 2063 6f6e 6361 7465 6e61  ow the concatena
-000166e0: 7469 6f6e 2e0d 0a0d 0a54 6875 732c 2069  tion.....Thus, i
-000166f0: 6620 6061 6020 6973 2061 2060 6e75 6d70  f `a` is a `nump
-00016700: 7960 2061 7272 6179 2c20 605b 613b 2061  y` array, `[a; a
-00016710: 5d60 2069 7320 6571 7569 7661 6c65 6e74  ]` is equivalent
-00016720: 2074 6f20 606e 702e 636f 6e63 6174 656e   to `np.concaten
-00016730: 6174 6528 2861 2c20 6129 2c20 6178 6973  ate((a, a), axis
-00016740: 3d2d 3129 602c 2077 6869 6c65 2060 5b61  =-1)`, while `[a
-00016750: 203b 3b20 615d 6020 776f 756c 6420 6265   ;; a]` would be
-00016760: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
-00016770: 2076 6572 7369 6f6e 206f 6620 606e 702e   version of `np.
-00016780: 636f 6e63 6174 656e 6174 6528 2861 2c20  concatenate((a, 
-00016790: 6129 2c20 6178 6973 3d2d 3229 6020 7468  a), axis=-2)` th
-000167a0: 6174 2061 6c73 6f20 656e 7375 7265 7320  at also ensures 
-000167b0: 7468 6174 2060 6160 2069 7320 6174 206c  that `a` is at l
-000167c0: 6561 7374 2074 776f 2064 696d 656e 7369  east two dimensi
-000167d0: 6f6e 616c 2e20 466f 7220 6e6f 726d 616c  onal. For normal
-000167e0: 206c 6973 7473 206f 6620 6c69 7374 732c   lists of lists,
-000167f0: 2074 6865 2062 6568 6176 696f 7220 6973   the behavior is
-00016800: 2074 6865 2073 616d 652c 2062 7574 2069   the same, but i
-00016810: 7320 696d 706c 656d 656e 7465 6420 7769  s implemented wi
-00016820: 7468 6f75 7420 616e 7920 606e 756d 7079  thout any `numpy
-00016830: 6020 6361 6c6c 732e 0d0a 0d0a 4966 206d  ` calls.....If m
-00016840: 756c 7469 706c 6520 6469 6666 6572 656e  ultiple differen
-00016850: 7420 636f 6e63 6174 656e 6174 696f 6e20  t concatenation 
-00016860: 6f70 6572 6174 6f72 7320 6172 6520 7573  operators are us
-00016870: 6564 2c20 7468 6520 6f70 6572 6174 6f72  ed, the operator
-00016880: 7320 7769 7468 2074 6865 206c 6561 7374  s with the least
-00016890: 206e 756d 6265 7220 6f66 2073 656d 6963   number of semic
-000168a0: 6f6c 6f6e 7320 7769 6c6c 2062 696e 6420  olons will bind 
-000168b0: 6d6f 7374 2074 6967 6874 6c79 2e20 5468  most tightly. Th
-000168c0: 7573 2c20 796f 7520 6361 6e20 7772 6974  us, you can writ
-000168d0: 6520 6120 3344 2061 7272 6179 206c 6974  e a 3D array lit
-000168e0: 6572 616c 2061 733a 0d0a 6060 6063 6f63  eral as:..```coc
-000168f0: 6f6e 7574 5f70 7963 6f6e 0d0a 3e3e 3e20  onut_pycon..>>> 
-00016900: 5b31 2c20 3220 3b3b 0d0a 2020 2020 2033  [1, 2 ;;..     3
-00016910: 2c20 340d 0a20 2020 2020 3b3b 3b0d 0a20  , 4..     ;;;.. 
-00016920: 2020 2020 352c 2036 203b 3b0d 0a20 2020      5, 6 ;;..   
-00016930: 2020 372c 2038 5d0d 0a0d 0a5b 5b5b 312c    7, 8]....[[[1,
-00016940: 2032 5d2c 205b 332c 2034 5d5d 2c20 5b5b   2], [3, 4]], [[
-00016950: 352c 2036 5d2c 205b 372c 2038 5d5d 5d0d  5, 6], [7, 8]]].
-00016960: 0a60 6060 0d0a 0d0a 2323 2323 2320 436f  .```....##### Co
-00016970: 6d70 6172 6973 6f6e 2074 6f20 4a75 6c69  mparison to Juli
-00016980: 610d 0a0d 0a43 6f63 6f6e 7574 2773 206d  a....Coconut's m
-00016990: 756c 7469 6469 6d65 6e73 696f 6e61 6c20  ultidimensional 
-000169a0: 6172 7261 7920 7379 6e74 6178 2069 7320  array syntax is 
-000169b0: 6261 7365 6420 6f6e 2074 6861 7420 6f66  based on that of
-000169c0: 205b 4a75 6c69 615d 2868 7474 7073 3a2f   [Julia](https:/
-000169d0: 2f64 6f63 732e 6a75 6c69 616c 616e 672e  /docs.julialang.
-000169e0: 6f72 672f 656e 2f76 312f 6d61 6e75 616c  org/en/v1/manual
-000169f0: 2f61 7272 6179 732f 236d 616e 2d61 7272  /arrays/#man-arr
-00016a00: 6179 2d6c 6974 6572 616c 7329 2e20 5468  ay-literals). Th
-00016a10: 6520 7072 696d 6172 7920 6469 6666 6572  e primary differ
-00016a20: 656e 6365 2062 6574 7765 656e 2043 6f63  ence between Coc
-00016a30: 6f6e 7574 2773 2073 796e 7461 7820 616e  onut's syntax an
-00016a40: 6420 4a75 6c69 6127 7320 7379 6e74 6178  d Julia's syntax
-00016a50: 2069 7320 7468 6174 206d 756c 7469 6469   is that multidi
-00016a60: 6d65 6e73 696f 6e61 6c20 6172 7261 7973  mensional arrays
-00016a70: 2061 7265 2072 6f77 2d66 6972 7374 2069   are row-first i
-00016a80: 6e20 436f 636f 6e75 7420 2866 6f6c 6c6f  n Coconut (follo
-00016a90: 7769 6e67 2060 6e75 6d70 7960 292c 2062  wing `numpy`), b
-00016aa0: 7574 2063 6f6c 756d 6e2d 6669 7273 7420  ut column-first 
-00016ab0: 696e 204a 756c 6961 2e20 5468 7573 2c20  in Julia. Thus, 
-00016ac0: 603b 6020 6973 2076 6572 7469 6361 6c20  `;` is vertical 
-00016ad0: 636f 6e63 6174 656e 6174 696f 6e20 696e  concatenation in
-00016ae0: 204a 756c 6961 2062 7574 202a 2a68 6f72   Julia but **hor
-00016af0: 697a 6f6e 7461 6c20 636f 6e63 6174 656e  izontal concaten
-00016b00: 6174 696f 6e2a 2a20 696e 2043 6f63 6f6e  ation** in Cocon
-00016b10: 7574 2061 6e64 2060 3b3b 6020 6973 2068  ut and `;;` is h
-00016b20: 6f72 697a 6f6e 7461 6c20 636f 6e63 6174  orizontal concat
-00016b30: 656e 6174 696f 6e20 696e 204a 756c 6961  enation in Julia
-00016b40: 2062 7574 202a 2a76 6572 7469 6361 6c20   but **vertical 
-00016b50: 636f 6e63 6174 656e 6174 696f 6e2a 2a20  concatenation** 
-00016b60: 696e 2043 6f63 6f6e 7574 2e0d 0a0d 0a23  in Coconut.....#
-00016b70: 2323 2323 2045 7861 6d70 6c65 730d 0a0d  #### Examples...
-00016b80: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-00016b90: 6060 636f 636f 6e75 745f 7079 636f 6e0d  ``coconut_pycon.
-00016ba0: 0a3e 3e3e 205b 5b31 3b3b 325d 203b 205b  .>>> [[1;;2] ; [
-00016bb0: 333b 3b34 5d5d 0d0a 5b5b 312c 2033 5d2c  3;;4]]..[[1, 3],
-00016bc0: 205b 322c 2034 5d5d 0d0a 6060 600d 0a5f   [2, 4]]..```.._
-00016bd0: 4172 7261 7920 6c69 7465 7261 6c73 2063  Array literals c
-00016be0: 616e 2062 6520 7772 6974 7465 6e20 696e  an be written in
-00016bf0: 2063 6f6c 756d 6e2d 6669 7273 7420 6f72   column-first or
-00016c00: 6465 7220 6966 2074 6865 2063 6f6c 756d  der if the colum
-00016c10: 6e73 2061 7265 2066 6972 7374 2063 7265  ns are first cre
-00016c20: 6174 6564 2076 6961 2076 6572 7469 6361  ated via vertica
-00016c30: 6c20 636f 6e63 6174 656e 6174 696f 6e20  l concatenation 
-00016c40: 2860 3b3b 6029 2061 6e64 2074 6865 6e20  (`;;`) and then 
-00016c50: 6a6f 696e 6564 2076 6961 2068 6f72 697a  joined via horiz
-00016c60: 6f6e 7461 6c20 636f 6e63 6174 656e 6174  ontal concatenat
-00016c70: 696f 6e20 2860 3b60 292e 5f0d 0a0d 0a60  ion (`;`)._....`
-00016c80: 6060 636f 636f 6e75 745f 7079 636f 6e0d  ``coconut_pycon.
-00016c90: 0a3e 3e3e 205b 7261 6e67 6528 3329 207c  .>>> [range(3) |
-00016ca0: 3e20 6c69 7374 203b 3b20 782b 3120 666f  > list ;; x+1 fo
-00016cb0: 7220 7820 696e 2072 616e 6765 2833 295d  r x in range(3)]
-00016cc0: 0d0a 5b5b 302c 2031 2c20 325d 2c20 5b31  ..[[0, 1, 2], [1
-00016cd0: 2c20 322c 2033 5d5d 0d0a 6060 600d 0a5f  , 2, 3]]..```.._
-00016ce0: 4172 6269 7472 6172 7920 6578 7072 6573  Arbitrary expres
-00016cf0: 7369 6f6e 732c 2069 6e63 6c75 6469 6e67  sions, including
-00016d00: 2063 6f6d 7072 6568 656e 7369 6f6e 732c   comprehensions,
-00016d10: 2061 7265 2061 6c6c 6f77 6564 2069 6e20   are allowed in 
-00016d20: 6d75 6c74 6964 696d 656e 7369 6f6e 616c  multidimensional
-00016d30: 2061 7272 6179 206c 6974 6572 616c 732e   array literals.
-00016d40: 5f0d 0a0d 0a60 6060 636f 636f 6e75 745f  _....```coconut_
-00016d50: 7079 636f 6e0d 0a3e 3e3e 2069 6d70 6f72  pycon..>>> impor
-00016d60: 7420 6e75 6d70 7920 6173 206e 700d 0a3e  t numpy as np..>
-00016d70: 3e3e 2061 203d 206e 702e 6172 7261 7928  >> a = np.array(
-00016d80: 5b31 2c20 3220 3b3b 2033 2c20 345d 290d  [1, 2 ;; 3, 4]).
-00016d90: 0a3e 3e3e 205b 6120 3b20 615d 0d0a 6172  .>>> [a ; a]..ar
-00016da0: 7261 7928 5b5b 312c 2032 2c20 312c 2032  ray([[1, 2, 1, 2
-00016db0: 5d2c 0d0a 2020 2020 2020 205b 332c 2034  ],..       [3, 4
-00016dc0: 2c20 332c 2034 5d5d 290d 0a3e 3e3e 205b  , 3, 4]])..>>> [
-00016dd0: 6120 3b3b 2061 5d0d 0a61 7272 6179 285b  a ;; a]..array([
-00016de0: 5b31 2c20 325d 2c0d 0a20 2020 2020 2020  [1, 2],..       
-00016df0: 5b33 2c20 345d 2c0d 0a20 2020 2020 2020  [3, 4],..       
-00016e00: 5b31 2c20 325d 2c0d 0a20 2020 2020 2020  [1, 2],..       
-00016e10: 5b33 2c20 345d 5d29 0d0a 3e3e 3e20 5b61  [3, 4]])..>>> [a
-00016e20: 203b 3b3b 2061 5d0d 0a61 7272 6179 285b   ;;; a]..array([
-00016e30: 5b5b 312c 2032 5d2c 0d0a 2020 2020 2020  [[1, 2],..      
-00016e40: 2020 5b33 2c20 345d 5d2c 0d0a 0d0a 2020    [3, 4]],....  
-00016e50: 2020 2020 205b 5b31 2c20 325d 2c0d 0a20       [[1, 2],.. 
-00016e60: 2020 2020 2020 205b 332c 2034 5d5d 5d29         [3, 4]]])
-00016e70: 0d0a 6060 600d 0a5f 4765 6e65 7261 6c20  ..```.._General 
-00016e80: 7368 6f77 6361 7365 206f 6620 686f 7720  showcase of how 
-00016e90: 7468 6520 6469 6666 6572 656e 7420 636f  the different co
-00016ea0: 6e63 6174 656e 6174 696f 6e20 6f70 6572  ncatenation oper
-00016eb0: 6174 6f72 7320 776f 726b 2075 7369 6e67  ators work using
-00016ec0: 2060 6e75 6d70 7960 2061 7272 6179 732e   `numpy` arrays.
-00016ed0: 5f0d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  _....**Python:**
-00016ee0: 205f 5468 6520 6571 7569 7661 6c65 6e74   _The equivalent
-00016ef0: 2050 7974 686f 6e20 6172 7261 7920 6c69   Python array li
-00016f00: 7465 7261 6c73 2063 616e 2062 6520 7365  terals can be se
-00016f10: 656e 2069 6e20 7468 6520 7072 696e 7465  en in the printe
-00016f20: 6420 7265 7072 6573 656e 7461 7469 6f6e  d representation
-00016f30: 7320 696e 2065 6163 6820 6578 616d 706c  s in each exampl
-00016f40: 652e 5f0d 0a0d 0a23 2323 204c 617a 7920  e._....### Lazy 
-00016f50: 4c69 7374 730d 0a0d 0a43 6f63 6f6e 7574  Lists....Coconut
-00016f60: 2073 7570 706f 7274 7320 7468 6520 6372   supports the cr
-00016f70: 6561 7469 6f6e 206f 6620 6c61 7a79 206c  eation of lazy l
-00016f80: 6973 7473 2c20 7768 6572 6520 7468 6520  ists, where the 
-00016f90: 636f 6e74 656e 7473 2069 6e20 7468 6520  contents in the 
-00016fa0: 6c69 7374 2077 696c 6c20 6265 2074 7265  list will be tre
-00016fb0: 6174 6564 2061 7320 616e 2069 7465 7261  ated as an itera
-00016fc0: 746f 7220 616e 6420 6e6f 7420 6576 616c  tor and not eval
-00016fd0: 7561 7465 6420 756e 7469 6c20 7468 6579  uated until they
-00016fe0: 2061 7265 206e 6565 6465 642e 2055 6e6c   are needed. Unl
-00016ff0: 696b 6520 6e6f 726d 616c 2069 7465 7261  ike normal itera
-00017000: 746f 7273 2c20 686f 7765 7665 722c 206c  tors, however, l
-00017010: 617a 7920 6c69 7374 7320 6361 6e20 6265  azy lists can be
-00017020: 2069 7465 7261 7465 6420 6f76 6572 206d   iterated over m
-00017030: 756c 7469 706c 6520 7469 6d65 7320 616e  ultiple times an
-00017040: 6420 7374 696c 6c20 7265 7475 726e 2074  d still return t
-00017050: 6865 2073 616d 6520 7265 7375 6c74 2e20  he same result. 
-00017060: 4c61 7a79 206c 6973 7473 2063 616e 2062  Lazy lists can b
-00017070: 6520 6372 6561 7465 6420 696e 2043 6f63  e created in Coc
-00017080: 6f6e 7574 2073 696d 706c 7920 6279 2073  onut simply by s
-00017090: 7572 726f 756e 6469 6e67 2061 2063 6f6d  urrounding a com
-000170a0: 6d61 2d73 6570 6172 6174 6564 206c 6973  ma-separated lis
-000170b0: 7420 6f66 2069 7465 6d73 2077 6974 6820  t of items with 
-000170c0: 6028 7c60 2061 6e64 2060 7c29 6020 2873  `(|` and `|)` (s
-000170d0: 6f2d 6361 6c6c 6564 2022 6261 6e61 6e61  o-called "banana
-000170e0: 2062 7261 636b 6574 7322 2920 696e 7374   brackets") inst
-000170f0: 6561 6420 6f66 2060 5b60 2061 6e64 2060  ead of `[` and `
-00017100: 5d60 2066 6f72 2061 206c 6973 7420 6f72  ]` for a list or
-00017110: 2060 2860 2061 6e64 2060 2960 2066 6f72   `(` and `)` for
-00017120: 2061 2074 7570 6c65 2e0d 0a0d 0a4c 617a   a tuple.....Laz
-00017130: 7920 6c69 7374 7320 7573 6520 5b72 6569  y lists use [rei
-00017140: 7465 7261 626c 655d 2823 7265 6974 6572  terable](#reiter
-00017150: 6162 6c65 2920 756e 6465 7220 7468 6520  able) under the 
-00017160: 686f 6f64 2074 6f20 656e 6162 6c65 2074  hood to enable t
-00017170: 6865 6d20 746f 2062 6520 6974 6572 6174  hem to be iterat
-00017180: 6564 206f 7665 7220 6d75 6c74 6970 6c65  ed over multiple
-00017190: 2074 696d 6573 2e20 4c61 7a79 206c 6973   times. Lazy lis
-000171a0: 7473 2077 696c 6c20 6576 656e 2063 6f6e  ts will even con
-000171b0: 7469 6e75 6520 746f 2062 6520 7265 6974  tinue to be reit
-000171c0: 6572 6162 6c65 2077 6865 6e20 636f 6d62  erable when comb
-000171d0: 696e 6564 2077 6974 6820 5b6c 617a 7920  ined with [lazy 
-000171e0: 6368 6169 6e69 6e67 5d28 2369 7465 7261  chaining](#itera
-000171f0: 746f 722d 6368 6169 6e69 6e67 292e 0d0a  tor-chaining)...
-00017200: 0d0a 2323 2323 2320 5261 7469 6f6e 616c  ..##### Rational
-00017210: 650d 0a0d 0a4c 617a 7920 6c69 7374 732c  e....Lazy lists,
-00017220: 2077 6865 7265 2073 6571 7565 6e63 6573   where sequences
-00017230: 2061 7265 206f 6e6c 7920 6576 616c 7561   are only evalua
-00017240: 7465 6420 7768 656e 2074 6865 6972 2063  ted when their c
-00017250: 6f6e 7465 6e74 7320 6172 6520 7265 7175  ontents are requ
-00017260: 6573 7465 642c 2061 7265 2061 206d 6169  ested, are a mai
-00017270: 6e73 7461 7920 6f66 2066 756e 6374 696f  nstay of functio
-00017280: 6e61 6c20 7072 6f67 7261 6d6d 696e 672c  nal programming,
-00017290: 2061 6c6c 6f77 696e 6720 666f 7220 6479   allowing for dy
-000172a0: 6e61 6d69 6320 6576 616c 7561 7469 6f6e  namic evaluation
-000172b0: 206f 6620 7468 6520 6c69 7374 2773 2063   of the list's c
-000172c0: 6f6e 7465 6e74 732e 0d0a 0d0a 2323 2323  ontents.....####
-000172d0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-000172e0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-000172f0: 636f 6e75 740d 0a28 7c20 7072 696e 7428  conut..(| print(
-00017300: 2268 656c 6c6f 2c22 292c 2070 7269 6e74  "hello,"), print
-00017310: 2822 776f 726c 6421 2229 207c 2920 7c3e  ("world!") |) |>
-00017320: 2063 6f6e 7375 6d65 0d0a 6060 600d 0a0d   consume..```...
-00017330: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-00017340: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
-00017350: 686f 7574 2061 2063 6f6d 706c 6963 6174  hout a complicat
-00017360: 6564 2069 7465 7261 746f 7220 636f 6d70  ed iterator comp
-00017370: 7265 6865 6e73 696f 6e20 696e 2070 6c61  rehension in pla
-00017380: 6365 206f 6620 7468 6520 6c61 7a79 206c  ce of the lazy l
-00017390: 6973 742e 2053 6565 2074 6865 2063 6f6d  ist. See the com
-000173a0: 7069 6c65 6420 636f 6465 2066 6f72 2074  piled code for t
-000173b0: 6865 2050 7974 686f 6e20 7379 6e74 6178  he Python syntax
-000173c0: 2e5f 0d0a 0d0a 2323 2320 496d 706c 6963  ._....### Implic
-000173d0: 6974 2046 756e 6374 696f 6e20 4170 706c  it Function Appl
-000173e0: 6963 6174 696f 6e0d 0a0d 0a43 6f63 6f6e  ication....Cocon
-000173f0: 7574 2073 7570 706f 7274 7320 696d 706c  ut supports impl
-00017400: 6963 6974 2066 756e 6374 696f 6e20 6170  icit function ap
-00017410: 706c 6963 6174 696f 6e20 6f66 2074 6865  plication of the
-00017420: 2066 6f72 6d20 6066 2078 2079 602c 2077   form `f x y`, w
-00017430: 6869 6368 2069 7320 636f 6d70 696c 6564  hich is compiled
-00017440: 2074 6f20 6066 2878 2c20 7929 6020 286e   to `f(x, y)` (n
-00017450: 6f74 653a 202a 2a6e 6f74 2a2a 2060 6628  ote: **not** `f(
-00017460: 7829 2879 2960 2061 7320 6973 2063 6f6d  x)(y)` as is com
-00017470: 6d6f 6e20 696e 206d 616e 7920 6c61 6e67  mon in many lang
-00017480: 7561 6765 7320 7769 7468 2061 7574 6f6d  uages with autom
-00017490: 6174 6963 2063 7572 7279 696e 6729 2e20  atic currying). 
-000174a0: 496d 706c 6963 6974 2066 756e 6374 696f  Implicit functio
-000174b0: 6e20 6170 706c 6963 6174 696f 6e20 6861  n application ha
-000174c0: 7320 6120 6c6f 7765 7220 7072 6563 6564  s a lower preced
-000174d0: 656e 6365 2074 6861 6e20 6174 7472 6962  ence than attrib
-000174e0: 7574 6520 6163 6365 7373 2c20 736c 6963  ute access, slic
-000174f0: 6573 2c20 6e6f 726d 616c 2066 756e 6374  es, normal funct
-00017500: 696f 6e20 6361 6c6c 732c 2065 7463 2e20  ion calls, etc. 
-00017510: 6275 7420 6120 6869 6768 6572 2070 7265  but a higher pre
-00017520: 6365 6465 6e63 6520 7468 616e 2060 6177  cedence than `aw
-00017530: 6169 7460 2e0d 0a0d 0a53 7570 706f 7274  ait`.....Support
-00017540: 6564 2061 7267 756d 656e 7473 2074 6f20  ed arguments to 
-00017550: 696d 706c 6963 6974 2066 756e 6374 696f  implicit functio
-00017560: 6e20 6170 706c 6963 6174 696f 6e20 6172  n application ar
-00017570: 6520 6869 6768 6c79 2072 6573 7472 6963  e highly restric
-00017580: 7465 642c 2061 6e64 206d 7573 7420 6265  ted, and must be
-00017590: 3a0d 0a2d 2076 6172 6961 626c 6573 2f61  :..- variables/a
-000175a0: 7474 7269 6275 7465 7320 2865 2e67 2e20  ttributes (e.g. 
-000175b0: 6061 2e62 6029 2c0d 0a2d 206c 6974 6572  `a.b`),..- liter
-000175c0: 616c 2063 6f6e 7374 616e 7473 2028 652e  al constants (e.
-000175d0: 672e 2060 5472 7565 6029 2c20 6f72 0d0a  g. `True`), or..
-000175e0: 2d20 6e75 6d62 6572 206c 6974 6572 616c  - number literal
-000175f0: 7320 2865 2e67 2e20 6031 2e35 6029 2e0d  s (e.g. `1.5`)..
-00017600: 0a0d 0a46 6f72 2065 7861 6d70 6c65 2c20  ...For example, 
-00017610: 6066 2078 2031 6020 7769 6c6c 2077 6f72  `f x 1` will wor
-00017620: 6b20 6275 7420 6066 2078 205b 315d 602c  k but `f x [1]`,
-00017630: 2060 6620 7820 2831 2b32 2960 2c20 616e   `f x (1+2)`, an
-00017640: 6420 6066 2022 6162 6322 6020 7769 6c6c  d `f "abc"` will
-00017650: 206e 6f74 2e20 5374 7269 6e67 7320 6172   not. Strings ar
-00017660: 6520 6469 7361 6c6c 6f77 6564 2064 7565  e disallowed due
-00017670: 2074 6f20 636f 6e66 6c69 6374 696e 6720   to conflicting 
-00017680: 7769 7468 205b 5079 7468 6f6e 2773 2069  with [Python's i
-00017690: 6d70 6c69 6369 7420 7374 7269 6e67 2063  mplicit string c
-000176a0: 6f6e 6361 7465 6e61 7469 6f6e 5d28 6874  oncatenation](ht
-000176b0: 7470 733a 2f2f 7374 6163 6b6f 7665 7266  tps://stackoverf
-000176c0: 6c6f 772e 636f 6d2f 7175 6573 7469 6f6e  low.com/question
-000176d0: 732f 3138 3834 3237 3739 2f73 7472 696e  s/18842779/strin
-000176e0: 672d 636f 6e63 6174 656e 6174 696f 6e2d  g-concatenation-
-000176f0: 7769 7468 6f75 742d 6f70 6572 6174 6f72  without-operator
-00017700: 292e 2049 6d70 6c69 6369 7420 6675 6e63  ). Implicit func
-00017710: 7469 6f6e 2061 7070 6c69 6361 7469 6f6e  tion application
-00017720: 2069 7320 6f6e 6c79 2069 6e74 656e 6465   is only intende
-00017730: 6420 666f 7220 7369 6d70 6c65 2075 7365  d for simple use
-00017740: 2063 6173 6573 e280 9466 6f72 206d 6f72   cases...for mor
-00017750: 6520 636f 6d70 6c65 7820 6361 7365 732c  e complex cases,
-00017760: 2075 7365 2065 6974 6865 7220 7374 616e   use either stan
-00017770: 6461 7264 2066 756e 6374 696f 6e20 6170  dard function ap
-00017780: 706c 6963 6174 696f 6e20 6f72 205b 7069  plication or [pi
-00017790: 7065 735d 2823 7069 7065 7329 2e0d 0a0d  pes](#pipes)....
-000177a0: 0a23 2323 2323 2045 7861 6d70 6c65 730d  .##### Examples.
-000177b0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-000177c0: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-000177d0: 2066 2878 2c20 7929 203d 2028 782c 2079   f(x, y) = (x, y
-000177e0: 290d 0a70 7269 6e74 2866 2035 2031 3029  )..print(f 5 10)
-000177f0: 0d0a 6060 600d 0a0d 0a60 6060 636f 636f  ..```....```coco
-00017800: 6e75 740d 0a64 6566 2070 3128 7829 203d  nut..def p1(x) =
-00017810: 2078 202b 2031 0d0a 7072 696e 7420 3c7c   x + 1..print <|
-00017820: 2070 3120 350d 0a60 6060 0d0a 0d0a 2a2a   p1 5..```....**
-00017830: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
-00017840: 636f 6e75 745f 7079 7468 6f6e 0d0a 6465  conut_python..de
-00017850: 6620 6628 782c 2079 293a 2072 6574 7572  f f(x, y): retur
-00017860: 6e20 2878 2c20 7929 0d0a 7072 696e 7428  n (x, y)..print(
-00017870: 6628 3130 302c 2035 2b36 2929 0d0a 6060  f(100, 5+6))..``
-00017880: 600d 0a0d 0a60 6060 636f 636f 6e75 745f  `....```coconut_
-00017890: 7079 7468 6f6e 0d0a 6465 6620 7031 2878  python..def p1(x
-000178a0: 293a 2072 6574 7572 6e20 7820 2b20 310d  ): return x + 1.
-000178b0: 0a70 7269 6e74 2870 3128 3529 290d 0a60  .print(p1(5))..`
-000178c0: 6060 0d0a 0d0a 2323 2320 416e 6f6e 796d  ``....### Anonym
-000178d0: 6f75 7320 4e61 6d65 6474 7570 6c65 730d  ous Namedtuples.
-000178e0: 0a0d 0a43 6f63 6f6e 7574 2073 7570 706f  ...Coconut suppo
-000178f0: 7274 7320 616e 6f6e 796d 6f75 7320 5b60  rts anonymous [`
-00017900: 6e61 6d65 6474 7570 6c65 605d 2868 7474  namedtuple`](htt
-00017910: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
-00017920: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
-00017930: 6f6c 6c65 6374 696f 6e73 2e68 746d 6c23  ollections.html#
-00017940: 636f 6c6c 6563 7469 6f6e 732e 6e61 6d65  collections.name
-00017950: 6474 7570 6c65 2920 6c69 7465 7261 6c73  dtuple) literals
-00017960: 2c20 7375 6368 2074 6861 7420 6028 613d  , such that `(a=
-00017970: 312c 2062 3d32 2960 2063 616e 2062 6520  1, b=2)` can be 
-00017980: 7573 6564 206a 7573 7420 6173 2060 2831  used just as `(1
-00017990: 2c20 3229 602c 2062 7574 2077 6974 6820  , 2)`, but with 
-000179a0: 6164 6465 6420 6e61 6d65 732e 2041 6e6f  added names. Ano
-000179b0: 6e79 6d6f 7573 2060 6e61 6d65 6474 7570  nymous `namedtup
-000179c0: 6c65 6073 2061 7265 2061 6c77 6179 7320  le`s are always 
-000179d0: 7069 636b 6c65 6162 6c65 2e0d 0a0d 0a54  pickleable.....T
-000179e0: 6865 2073 796e 7461 7820 666f 7220 616e  he syntax for an
-000179f0: 6f6e 796d 6f75 7320 6e61 6d65 6474 7570  onymous namedtup
-00017a00: 6c65 206c 6974 6572 616c 7320 6973 3a0d  le literals is:.
-00017a10: 0a60 6060 636f 636f 6e75 740d 0a28 3c6e  .```coconut..(<n
-00017a20: 616d 653e 205b 3a20 3c74 7970 653e 5d20  ame> [: <type>] 
-00017a30: 3d20 3c76 616c 7565 3e2c 202e 2e2e 290d  = <value>, ...).
-00017a40: 0a60 6060 0d0a 7768 6572 652c 2069 6620  .```..where, if 
-00017a50: 603c 7479 7065 3e60 2069 7320 6769 7665  `<type>` is give
-00017a60: 6e20 666f 7220 616e 7920 6669 656c 642c  n for any field,
-00017a70: 205b 6074 7970 696e 672e 4e61 6d65 6454   [`typing.NamedT
-00017a80: 7570 6c65 605d 2868 7474 7073 3a2f 2f64  uple`](https://d
-00017a90: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-00017aa0: 2f6c 6962 7261 7279 2f74 7970 696e 672e  /library/typing.
-00017ab0: 6874 6d6c 2374 7970 696e 672e 4e61 6d65  html#typing.Name
-00017ac0: 6454 7570 6c65 2920 6973 2075 7365 6420  dTuple) is used 
-00017ad0: 696e 7374 6561 6420 6f66 2060 636f 6c6c  instead of `coll
-00017ae0: 6563 7469 6f6e 732e 6e61 6d65 6474 7570  ections.namedtup
-00017af0: 6c65 602e 0d0a 0d0a 2323 2323 2320 605f  le`.....##### `_
-00017b00: 6e61 6d65 6474 7570 6c65 5f6f 6660 0d0a  namedtuple_of`..
-00017b10: 0d0a 4f6e 2050 7974 686f 6e20 7665 7273  ..On Python vers
-00017b20: 696f 6e73 2060 3e3d 332e 3660 2c20 605f  ions `>=3.6`, `_
-00017b30: 6e61 6d65 6474 7570 6c65 5f6f 6660 2069  namedtuple_of` i
-00017b40: 7320 7072 6f76 6964 6564 2061 7320 6120  s provided as a 
-00017b50: 6275 696c 742d 696e 2074 6861 7420 6361  built-in that ca
-00017b60: 6e20 6d69 6d69 6320 7468 6520 6265 6861  n mimic the beha
-00017b70: 7669 6f72 206f 6620 616e 6f6e 796d 6f75  vior of anonymou
-00017b80: 7320 6e61 6d65 6474 7570 6c65 206c 6974  s namedtuple lit
-00017b90: 6572 616c 7320 7375 6368 2074 6861 7420  erals such that 
-00017ba0: 605f 6e61 6d65 6474 7570 6c65 5f6f 6628  `_namedtuple_of(
-00017bb0: 613d 312c 2062 3d32 2960 2069 7320 6571  a=1, b=2)` is eq
-00017bc0: 7569 7661 6c65 6e74 2074 6f20 6028 613d  uivalent to `(a=
-00017bd0: 312c 2062 3d32 2960 2e20 5369 6e63 6520  1, b=2)`. Since 
-00017be0: 605f 6e61 6d65 6474 7570 6c65 5f6f 6660  `_namedtuple_of`
-00017bf0: 2069 7320 6f6e 6c79 2061 7661 696c 6162   is only availab
-00017c00: 6c65 206f 6e20 5079 7468 6f6e 2033 2e36  le on Python 3.6
-00017c10: 2061 6e64 2061 626f 7665 2c20 686f 7765   and above, howe
-00017c20: 7665 722c 2069 7420 6973 2067 656e 6572  ver, it is gener
-00017c30: 616c 6c79 2072 6563 6f6d 6d65 6e64 6564  ally recommended
-00017c40: 2074 6f20 7573 6520 616e 6f6e 796d 6f75   to use anonymou
-00017c50: 7320 6e61 6d65 6474 7570 6c65 206c 6974  s namedtuple lit
-00017c60: 6572 616c 7320 696e 7374 6561 642c 2061  erals instead, a
-00017c70: 7320 7468 6579 2077 6f72 6b20 6f6e 2061  s they work on a
-00017c80: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
-00017c90: 6e2e 0d0a 0d0a 5f60 5f6e 616d 6564 7475  n....._`_namedtu
-00017ca0: 706c 655f 6f66 6020 6973 206a 7573 7420  ple_of` is just 
-00017cb0: 7072 6f76 6964 6564 2074 6f20 6769 7665  provided to give
-00017cc0: 206e 616d 6564 7475 706c 6520 6c69 7465   namedtuple lite
-00017cd0: 7261 6c73 2061 2072 6570 7265 7365 6e74  rals a represent
-00017ce0: 6174 696f 6e20 7468 6174 2063 6f72 7265  ation that corre
-00017cf0: 7370 6f6e 6473 2074 6f20 616e 2065 7870  sponds to an exp
-00017d00: 7265 7373 696f 6e20 7468 6174 2063 616e  ression that can
-00017d10: 2062 6520 7573 6564 2074 6f20 7265 6372   be used to recr
-00017d20: 6561 7465 2074 6865 6d2e 5f0d 0a0d 0a23  eate them._....#
-00017d30: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-00017d40: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-00017d50: 6063 6f63 6f6e 7574 0d0a 7573 6572 7320  `coconut..users 
-00017d60: 3d20 5b0d 0a20 2020 2028 6964 3d31 2c20  = [..    (id=1, 
-00017d70: 6e61 6d65 3d22 416c 6963 6522 292c 0d0a  name="Alice"),..
-00017d80: 2020 2020 2869 643d 322c 206e 616d 653d      (id=2, name=
-00017d90: 2242 6f62 2229 2c0d 0a5d 0d0a 6060 600d  "Bob"),..]..```.
-00017da0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-00017db0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-00017dc0: 6e0d 0a66 726f 6d20 636f 6c6c 6563 7469  n..from collecti
-00017dd0: 6f6e 7320 696d 706f 7274 206e 616d 6564  ons import named
-00017de0: 7475 706c 650d 0a0d 0a75 7365 7273 203d  tuple....users =
-00017df0: 205b 0d0a 2020 2020 6e61 6d65 6474 7570   [..    namedtup
-00017e00: 6c65 2822 5f22 2c20 2269 642c 206e 616d  le("_", "id, nam
-00017e10: 6522 2928 312c 2022 416c 6963 6522 292c  e")(1, "Alice"),
-00017e20: 0d0a 2020 2020 6e61 6d65 6474 7570 6c65  ..    namedtuple
-00017e30: 2822 5f22 2c20 2269 642c 206e 616d 6522  ("_", "id, name"
-00017e40: 2928 322c 2022 426f 6222 292c 0d0a 5d0d  )(2, "Bob"),..].
-00017e50: 0a60 6060 0d0a 0d0a 2323 2320 5365 7420  .```....### Set 
-00017e60: 4c69 7465 7261 6c73 0d0a 0d0a 436f 636f  Literals....Coco
-00017e70: 6e75 7420 616c 6c6f 7773 2061 6e20 6f70  nut allows an op
-00017e80: 7469 6f6e 616c 2060 7360 2074 6f20 6265  tional `s` to be
-00017e90: 2070 7265 7065 6e64 6564 2069 6e20 6672   prepended in fr
-00017ea0: 6f6e 7420 6f66 2050 7974 686f 6e20 7365  ont of Python se
-00017eb0: 7420 6c69 7465 7261 6c73 2e20 5768 696c  t literals. Whil
-00017ec0: 6520 696e 206d 6f73 7420 6361 7365 7320  e in most cases 
-00017ed0: 7468 6973 2064 6f65 7320 6e6f 7468 696e  this does nothin
-00017ee0: 672c 2069 6e20 7468 6520 6361 7365 206f  g, in the case o
-00017ef0: 6620 7468 6520 656d 7074 7920 7365 7420  f the empty set 
-00017f00: 6974 206c 6574 7320 436f 636f 6e75 7420  it lets Coconut 
-00017f10: 6b6e 6f77 2074 6861 7420 6974 2069 7320  know that it is 
-00017f20: 616e 2065 6d70 7479 2073 6574 2061 6e64  an empty set and
-00017f30: 206e 6f74 2061 6e20 656d 7074 7920 6469   not an empty di
-00017f40: 6374 696f 6e61 7279 2e20 5365 7420 6c69  ctionary. Set li
-00017f50: 7465 7261 6c73 2061 6c73 6f20 7375 7070  terals also supp
-00017f60: 6f72 7420 756e 7061 636b 696e 6720 7379  ort unpacking sy
-00017f70: 6e74 6178 2028 652e 672e 2060 737b 2a78  ntax (e.g. `s{*x
-00017f80: 737d 6029 2e0d 0a0d 0a41 6464 6974 696f  s}`).....Additio
-00017f90: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2061  nally, Coconut a
-00017fa0: 6c73 6f20 7375 7070 6f72 7473 2072 6570  lso supports rep
-00017fb0: 6c61 6369 6e67 2074 6865 2060 7360 2077  lacing the `s` w
-00017fc0: 6974 6820 616e 2060 6660 2074 6f20 6765  ith an `f` to ge
-00017fd0: 6e65 7261 7465 2061 2060 6672 6f7a 656e  nerate a `frozen
-00017fe0: 7365 7460 206f 7220 616e 2060 6d60 2074  set` or an `m` t
-00017ff0: 6f20 6765 6e65 7261 7465 2061 2043 6f63  o generate a Coc
-00018000: 6f6e 7574 205b 606d 756c 7469 7365 7460  onut [`multiset`
-00018010: 5d28 236d 756c 7469 7365 7429 2e0d 0a0d  ](#multiset)....
-00018020: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-00018030: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-00018040: 6060 6063 6f63 6f6e 7574 0d0a 656d 7074  ```coconut..empt
-00018050: 795f 6672 6f7a 656e 5f73 6574 203d 2066  y_frozen_set = f
-00018060: 7b7d 0d0a 6060 600d 0a0d 0a2a 2a50 7974  {}..```....**Pyt
-00018070: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
-00018080: 7574 5f70 7974 686f 6e0d 0a65 6d70 7479  ut_python..empty
-00018090: 5f66 726f 7a65 6e5f 7365 7420 3d20 6672  _frozen_set = fr
-000180a0: 6f7a 656e 7365 7428 290d 0a60 6060 0d0a  ozenset()..```..
-000180b0: 0d0a 2323 2320 496d 6167 696e 6172 7920  ..### Imaginary 
-000180c0: 4c69 7465 7261 6c73 0d0a 0d0a 496e 2061  Literals....In a
-000180d0: 6464 6974 696f 6e20 746f 2050 7974 686f  ddition to Pytho
-000180e0: 6e27 7320 603c 6e75 6d3e 6a60 206f 7220  n's `<num>j` or 
-000180f0: 603c 6e75 6d3e 4a60 206e 6f74 6174 696f  `<num>J` notatio
-00018100: 6e20 666f 7220 696d 6167 696e 6172 7920  n for imaginary 
-00018110: 6c69 7465 7261 6c73 2c20 436f 636f 6e75  literals, Coconu
-00018120: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
-00018130: 603c 6e75 6d3e 6960 206f 7220 603c 6e75  `<num>i` or `<nu
-00018140: 6d3e 4960 2c20 746f 206d 616b 6520 696d  m>I`, to make im
-00018150: 6167 696e 6172 7920 6c69 7465 7261 6c73  aginary literals
-00018160: 206d 6f72 6520 7265 6164 6162 6c65 2069   more readable i
-00018170: 6620 7573 6564 2069 6e20 6120 6d61 7468  f used in a math
-00018180: 656d 6174 6963 616c 2063 6f6e 7465 7874  ematical context
-00018190: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
-000181a0: 6e20 446f 6373 0d0a 0d0a 496d 6167 696e  n Docs....Imagin
-000181b0: 6172 7920 6c69 7465 7261 6c73 2061 7265  ary literals are
-000181c0: 2064 6573 6372 6962 6564 2062 7920 7468   described by th
-000181d0: 6520 666f 6c6c 6f77 696e 6720 6c65 7869  e following lexi
-000181e0: 6361 6c20 6465 6669 6e69 7469 6f6e 733a  cal definitions:
-000181f0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 696d  ..```coconut..im
-00018200: 6167 6e75 6d62 6572 203a 3a3d 2028 666c  agnumber ::= (fl
-00018210: 6f61 746e 756d 6265 7220 7c20 696e 7470  oatnumber | intp
-00018220: 6172 7429 2028 226a 2220 7c20 224a 2220  art) ("j" | "J" 
-00018230: 7c20 2269 2220 7c20 2249 2229 0d0a 6060  | "i" | "I")..``
-00018240: 600d 0a41 6e20 696d 6167 696e 6172 7920  `..An imaginary 
-00018250: 6c69 7465 7261 6c20 7969 656c 6473 2061  literal yields a
-00018260: 2063 6f6d 706c 6578 206e 756d 6265 7220   complex number 
-00018270: 7769 7468 2061 2072 6561 6c20 7061 7274  with a real part
-00018280: 206f 6620 302e 302e 2043 6f6d 706c 6578   of 0.0. Complex
-00018290: 206e 756d 6265 7273 2061 7265 2072 6570   numbers are rep
-000182a0: 7265 7365 6e74 6564 2061 7320 6120 7061  resented as a pa
-000182b0: 6972 206f 6620 666c 6f61 7469 6e67 2070  ir of floating p
-000182c0: 6f69 6e74 206e 756d 6265 7273 2061 6e64  oint numbers and
-000182d0: 2068 6176 6520 7468 6520 7361 6d65 2072   have the same r
-000182e0: 6573 7472 6963 7469 6f6e 7320 6f6e 2074  estrictions on t
-000182f0: 6865 6972 2072 616e 6765 2e20 546f 2063  heir range. To c
-00018300: 7265 6174 6520 6120 636f 6d70 6c65 7820  reate a complex 
-00018310: 6e75 6d62 6572 2077 6974 6820 6120 6e6f  number with a no
-00018320: 6e7a 6572 6f20 7265 616c 2070 6172 742c  nzero real part,
-00018330: 2061 6464 2061 2066 6c6f 6174 696e 6720   add a floating 
-00018340: 706f 696e 7420 6e75 6d62 6572 2074 6f20  point number to 
-00018350: 6974 2c20 652e 672e 2c20 6028 332b 3469  it, e.g., `(3+4i
-00018360: 2960 2e20 536f 6d65 2065 7861 6d70 6c65  )`. Some example
-00018370: 7320 6f66 2069 6d61 6769 6e61 7279 206c  s of imaginary l
-00018380: 6974 6572 616c 733a 0d0a 6060 6063 6f63  iterals:..```coc
-00018390: 6f6e 7574 0d0a 332e 3134 6920 2020 3130  onut..3.14i   10
-000183a0: 2e69 2020 2020 3130 6920 2020 2020 2e30  .i    10i     .0
-000183b0: 3031 6920 2020 3165 3130 3069 2020 332e  01i   1e100i  3.
-000183c0: 3134 652d 3130 690d 0a60 6060 0d0a 0d0a  14e-10i..```....
-000183d0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-000183e0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-000183f0: 6060 636f 636f 6e75 740d 0a33 202b 2034  ``coconut..3 + 4
-00018400: 6920 7c3e 2061 6273 207c 3e20 7072 696e  i |> abs |> prin
-00018410: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
-00018420: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
-00018430: 745f 7079 7468 6f6e 0d0a 7072 696e 7428  t_python..print(
-00018440: 6162 7328 3320 2b20 346a 2929 0d0a 6060  abs(3 + 4j))..``
-00018450: 600d 0a0d 0a23 2323 2041 6c74 6572 6e61  `....### Alterna
-00018460: 7469 7665 2054 6572 6e61 7279 204f 7065  tive Ternary Ope
-00018470: 7261 746f 720d 0a0d 0a50 7974 686f 6e20  rator....Python 
-00018480: 7375 7070 6f72 7473 2074 6865 2074 6572  supports the ter
-00018490: 6e61 7279 206f 7065 7261 746f 7220 7379  nary operator sy
-000184a0: 6e74 6178 0d0a 6060 6063 6f63 6f6e 7574  ntax..```coconut
-000184b0: 5f70 7974 686f 6e0d 0a72 6573 756c 7420  _python..result 
-000184c0: 3d20 6966 5f74 7275 6520 6966 2063 6f6e  = if_true if con
-000184d0: 6469 7469 6f6e 2065 6c73 6520 6966 5f66  dition else if_f
-000184e0: 616c 7365 0d0a 6060 600d 0a77 6869 6368  alse..```..which
-000184f0: 2c20 7369 6e63 6520 436f 636f 6e75 7420  , since Coconut 
-00018500: 6973 2061 2073 7570 6572 7365 7420 6f66  is a superset of
-00018510: 2050 7974 686f 6e2c 2043 6f63 6f6e 7574   Python, Coconut
-00018520: 2061 6c73 6f20 7375 7070 6f72 7473 2e0d   also supports..
-00018530: 0a0d 0a48 6f77 6576 6572 2c20 436f 636f  ...However, Coco
-00018540: 6e75 7420 616c 736f 2070 726f 7669 6465  nut also provide
-00018550: 7320 616e 2061 6c74 6572 6e61 7469 7665  s an alternative
-00018560: 2073 796e 7461 7820 7468 6174 2075 7365   syntax that use
-00018570: 7320 7468 6520 6d6f 7265 2063 6f6e 7665  s the more conve
-00018580: 6e74 696f 6e61 6c20 6172 6775 6d65 6e74  ntional argument
-00018590: 206f 7264 6572 696e 6720 6173 0d0a 6060   ordering as..``
-000185a0: 600d 0a72 6573 756c 7420 3d20 6966 2063  `..result = if c
-000185b0: 6f6e 6469 7469 6f6e 2074 6865 6e20 6966  ondition then if
-000185c0: 5f74 7275 6520 656c 7365 2069 665f 6661  _true else if_fa
-000185d0: 6c73 650d 0a60 6060 0d0a 6d61 6b69 6e67  lse..```..making
-000185e0: 2075 7365 206f 6620 7468 6520 436f 636f   use of the Coco
-000185f0: 6e75 742d 7370 6563 6966 6963 2060 7468  nut-specific `th
-00018600: 656e 6020 6b65 7977 6f72 6420 285b 7468  en` keyword ([th
-00018610: 6f75 6768 2043 6f63 6f6e 7574 2073 7469  ough Coconut sti
-00018620: 6c6c 2061 6c6c 6f77 7320 6074 6865 6e60  ll allows `then`
-00018630: 2061 7320 6120 7661 7269 6162 6c65 206e   as a variable n
-00018640: 616d 655d 2823 6861 6e64 6c69 6e67 2d6b  ame](#handling-k
-00018650: 6579 776f 7264 2d76 6172 6961 626c 652d  eyword-variable-
-00018660: 6e61 6d65 2d6f 7665 726c 6170 2929 2e0d  name-overlap))..
-00018670: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-00018680: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-00018690: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 7661  ..```coconut..va
-000186a0: 6c75 6520 3d20 280d 0a20 2020 2069 6620  lue = (..    if 
-000186b0: 7368 6f75 6c64 5f75 7365 5f61 2829 2074  should_use_a() t
-000186c0: 6865 6e20 610d 0a20 2020 2065 6c73 6520  hen a..    else 
-000186d0: 6966 2073 686f 756c 645f 7573 655f 6228  if should_use_b(
-000186e0: 2920 7468 656e 2062 0d0a 2020 2020 656c  ) then b..    el
-000186f0: 7365 2069 6620 7368 6f75 6c64 5f75 7365  se if should_use
-00018700: 5f63 2829 2074 6865 6e20 630d 0a20 2020  _c() then c..   
-00018710: 2065 6c73 6520 6661 6c6c 6261 636b 0d0a   else fallback..
-00018720: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
-00018730: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
-00018740: 745f 7079 7468 6f6e 0d0a 7661 6c75 6520  t_python..value 
-00018750: 3d20 280d 0a20 2020 2061 2069 6620 7368  = (..    a if sh
-00018760: 6f75 6c64 5f75 7365 5f61 2829 2065 6c73  ould_use_a() els
-00018770: 650d 0a20 2020 2062 2069 6620 7368 6f75  e..    b if shou
-00018780: 6c64 5f75 7365 5f62 2829 2065 6c73 650d  ld_use_b() else.
-00018790: 0a20 2020 2063 2069 6620 7368 6f75 6c64  .    c if should
-000187a0: 5f75 7365 5f63 2829 2065 6c73 650d 0a20  _use_c() else.. 
-000187b0: 2020 2066 616c 6c62 6163 6b0d 0a29 0d0a     fallback..)..
-000187c0: 6060 600d 0a0d 0a23 2320 4675 6e63 7469  ```....## Functi
-000187d0: 6f6e 2044 6566 696e 6974 696f 6e0d 0a0d  on Definition...
-000187e0: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
-000187f0: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
-00018800: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
-00018810: 0a0d 0a23 2323 2054 6169 6c20 4361 6c6c  ...### Tail Call
-00018820: 204f 7074 696d 697a 6174 696f 6e0d 0a0d   Optimization...
-00018830: 0a43 6f63 6f6e 7574 2077 696c 6c20 7065  .Coconut will pe
-00018840: 7266 6f72 6d20 6175 746f 6d61 7469 6320  rform automatic 
-00018850: 5b74 6169 6c20 6361 6c6c 5d28 6874 7470  [tail call](http
-00018860: 733a 2f2f 656e 2e77 696b 6970 6564 6961  s://en.wikipedia
-00018870: 2e6f 7267 2f77 696b 692f 5461 696c 5f63  .org/wiki/Tail_c
-00018880: 616c 6c29 206f 7074 696d 697a 6174 696f  all) optimizatio
-00018890: 6e20 616e 6420 7461 696c 2072 6563 7572  n and tail recur
-000188a0: 7369 6f6e 2065 6c69 6d69 6e61 7469 6f6e  sion elimination
-000188b0: 206f 6e20 616e 7920 6675 6e63 7469 6f6e   on any function
-000188c0: 2074 6861 7420 6d65 6574 7320 7468 6520   that meets the 
-000188d0: 666f 6c6c 6f77 696e 6720 6372 6974 6572  following criter
-000188e0: 6961 3a0d 0a0d 0a31 2e20 6974 206d 7573  ia:....1. it mus
-000188f0: 7420 6469 7265 6374 6c79 2072 6574 7572  t directly retur
-00018900: 6e20 2875 7369 6e67 2065 6974 6865 7220  n (using either 
-00018910: 6072 6574 7572 6e60 206f 7220 5b61 7373  `return` or [ass
-00018920: 6967 6e6d 656e 7420 6675 6e63 7469 6f6e  ignment function
-00018930: 206e 6f74 6174 696f 6e5d 2823 6173 7369   notation](#assi
-00018940: 676e 6d65 6e74 2d66 756e 6374 696f 6e73  gnment-functions
-00018950: 2929 2061 2063 616c 6c20 746f 2069 7473  )) a call to its
-00018960: 656c 6620 2874 6169 6c20 7265 6375 7273  elf (tail recurs
-00018970: 696f 6e20 656c 696d 696e 6174 696f 6e2c  ion elimination,
-00018980: 2074 6865 206d 6f73 7420 706f 7765 7266   the most powerf
-00018990: 756c 206f 7074 696d 697a 6174 696f 6e29  ul optimization)
-000189a0: 206f 7220 616e 6f74 6865 7220 6675 6e63   or another func
-000189b0: 7469 6f6e 2028 7461 696c 2063 616c 6c20  tion (tail call 
-000189c0: 6f70 7469 6d69 7a61 7469 6f6e 292c 0d0a  optimization),..
-000189d0: 322e 2069 7420 6d75 7374 206e 6f74 2062  2. it must not b
-000189e0: 6520 6120 6765 6e65 7261 746f 7220 2875  e a generator (u
-000189f0: 7365 7320 6079 6965 6c64 6029 206f 7220  ses `yield`) or 
-00018a00: 616e 2061 7379 6e63 6872 6f6e 6f75 7320  an asynchronous 
-00018a10: 6675 6e63 7469 6f6e 2028 7573 6573 2060  function (uses `
-00018a20: 6173 796e 6360 292e 0d0a 0d0a 5461 696c  async`).....Tail
-00018a30: 2063 616c 6c20 6f70 7469 6d69 7a61 7469   call optimizati
-00018a40: 6f6e 2028 7468 6f75 6768 206e 6f74 2074  on (though not t
-00018a50: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
-00018a60: 696d 696e 6174 696f 6e29 2077 696c 6c20  imination) will 
-00018a70: 776f 726b 2065 7665 6e20 666f 7220 3129  work even for 1)
-00018a80: 206d 7574 7561 6c20 7265 6375 7273 696f   mutual recursio
-00018a90: 6e20 616e 6420 3229 2070 6174 7465 726e  n and 2) pattern
-00018aa0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00018ab0: 6f6e 7320 7370 6c69 7420 6163 726f 7373  ons split across
-00018ac0: 206d 756c 7469 706c 6520 6465 6669 6e69   multiple defini
-00018ad0: 7469 6f6e 7320 7573 696e 6720 5b60 6164  tions using [`ad
-00018ae0: 6470 6174 7465 726e 605d 2823 6164 6470  dpattern`](#addp
-00018af0: 6174 7465 726e 292e 0d0a 0d0a 4966 2079  attern).....If y
-00018b00: 6f75 2061 7265 2065 6e63 6f75 6e74 6572  ou are encounter
-00018b10: 696e 6720 6120 6052 756e 7469 6d65 4572  ing a `RuntimeEr
-00018b20: 726f 7260 2064 7565 2074 6f20 6d61 7869  ror` due to maxi
-00018b30: 6d75 6d20 7265 6375 7273 696f 6e20 6465  mum recursion de
-00018b40: 7074 682c 2069 7420 6973 2068 6967 686c  pth, it is highl
-00018b50: 7920 7265 636f 6d6d 656e 6465 6420 7468  y recommended th
-00018b60: 6174 2079 6f75 2072 6577 7269 7465 2079  at you rewrite y
-00018b70: 6f75 7220 6675 6e63 7469 6f6e 2074 6f20  our function to 
-00018b80: 6d65 6574 2065 6974 6865 7220 7468 6520  meet either the 
-00018b90: 6372 6974 6572 6961 2061 626f 7665 2066  criteria above f
-00018ba0: 6f72 2074 6169 6c20 6361 6c6c 206f 7074  or tail call opt
-00018bb0: 696d 697a 6174 696f 6e2c 206f 7220 7468  imization, or th
-00018bc0: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
-00018bd0: 6372 6974 6572 6961 2066 6f72 205b 6072  criteria for [`r
-00018be0: 6563 7572 7369 7665 5f69 7465 7261 746f  ecursive_iterato
-00018bf0: 7260 5d28 2372 6563 7572 7369 7665 2d69  r`](#recursive-i
-00018c00: 7465 7261 746f 7229 2c20 6569 7468 6572  terator), either
-00018c10: 206f 6620 7768 6963 6820 7368 6f75 6c64   of which should
-00018c20: 2070 7265 7665 6e74 2073 7563 6820 6572   prevent such er
-00018c30: 726f 7273 2e0d 0a0d 0a23 2323 2323 2045  rors.....##### E
-00018c40: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-00018c50: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-00018c60: 7574 0d0a 2320 756e 6c69 6b65 2069 6e20  ut..# unlike in 
-00018c70: 5079 7468 6f6e 2c20 7468 6973 2066 756e  Python, this fun
-00018c80: 6374 696f 6e20 7769 6c6c 206e 6576 6572  ction will never
-00018c90: 2068 6974 2061 206d 6178 696d 756d 2072   hit a maximum r
-00018ca0: 6563 7572 7369 6f6e 2064 6570 7468 2065  ecursion depth e
-00018cb0: 7272 6f72 0d0a 6465 6620 6661 6374 6f72  rror..def factor
-00018cc0: 6961 6c28 6e2c 2061 6363 3d31 293a 0d0a  ial(n, acc=1):..
-00018cd0: 2020 2020 6d61 7463 6820 6e3a 0d0a 2020      match n:..  
-00018ce0: 2020 2020 2020 6361 7365 2030 3a0d 0a20        case 0:.. 
-00018cf0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00018d00: 6e20 6163 630d 0a20 2020 2020 2020 2063  n acc..        c
-00018d10: 6173 6520 696e 7428 2920 6966 206e 203e  ase int() if n >
-00018d20: 2030 3a0d 0a20 2020 2020 2020 2020 2020   0:..           
-00018d30: 2072 6574 7572 6e20 6661 6374 6f72 6961   return factoria
-00018d40: 6c28 6e2d 312c 2061 6363 2a6e 290d 0a60  l(n-1, acc*n)..`
-00018d50: 6060 0d0a 5f53 686f 7763 6173 6573 2074  ``.._Showcases t
-00018d60: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
-00018d70: 696d 696e 6174 696f 6e2e 5f0d 0a0d 0a60  imination._....`
-00018d80: 6060 636f 636f 6e75 740d 0a23 2075 6e6c  ``coconut..# unl
-00018d90: 696b 6520 696e 2050 7974 686f 6e2c 206e  ike in Python, n
-00018da0: 6569 7468 6572 206f 6620 7468 6573 6520  either of these 
-00018db0: 6675 6e63 7469 6f6e 7320 7769 6c6c 2065  functions will e
-00018dc0: 7665 7220 6869 7420 6120 6d61 7869 6d75  ver hit a maximu
-00018dd0: 6d20 7265 6375 7273 696f 6e20 6465 7074  m recursion dept
-00018de0: 6820 6572 726f 720d 0a64 6566 2069 735f  h error..def is_
-00018df0: 6576 656e 2830 2920 3d20 5472 7565 0d0a  even(0) = True..
-00018e00: 4061 6464 7061 7474 6572 6e28 6973 5f65  @addpattern(is_e
-00018e10: 7665 6e29 0d0a 6465 6620 6973 5f65 7665  ven)..def is_eve
-00018e20: 6e28 6e20 6069 7369 6e73 7461 6e63 6560  n(n `isinstance`
-00018e30: 2069 6e74 2069 6620 6e20 3e20 3029 203d   int if n > 0) =
-00018e40: 2069 735f 6f64 6428 6e2d 3129 0d0a 0d0a   is_odd(n-1)....
-00018e50: 6465 6620 6973 5f6f 6464 2830 2920 3d20  def is_odd(0) = 
-00018e60: 4661 6c73 650d 0a40 6164 6470 6174 7465  False..@addpatte
-00018e70: 726e 2869 735f 6f64 6429 0d0a 6465 6620  rn(is_odd)..def 
-00018e80: 6973 5f6f 6464 286e 2060 6973 696e 7374  is_odd(n `isinst
-00018e90: 616e 6365 6020 696e 7420 6966 206e 203e  ance` int if n >
-00018ea0: 2030 2920 3d20 6973 5f65 7665 6e28 6e2d   0) = is_even(n-
-00018eb0: 3129 0d0a 6060 600d 0a5f 5368 6f77 6361  1)..```.._Showca
-00018ec0: 7365 7320 7461 696c 2063 616c 6c20 6f70  ses tail call op
-00018ed0: 7469 6d69 7a61 7469 6f6e 2e5f 0d0a 0d0a  timization._....
-00018ee0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
-00018ef0: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-00018f00: 6f75 7420 7265 7772 6974 696e 6720 7468  out rewriting th
-00018f10: 6520 6675 6e63 7469 6f6e 2873 292e 5f0d  e function(s)._.
-00018f20: 0a0d 0a23 2323 2320 602d 2d6e 6f2d 7463  ...#### `--no-tc
-00018f30: 6f60 2066 6c61 670d 0a0d 0a54 6169 6c20  o` flag....Tail 
-00018f40: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
-00018f50: 6e20 7769 6c6c 2062 6520 7475 726e 6564  n will be turned
-00018f60: 206f 6666 2069 6620 796f 7520 7061 7373   off if you pass
-00018f70: 2074 6865 2060 2d2d 6e6f 2d74 636f 6020   the `--no-tco` 
-00018f80: 636f 6d6d 616e 642d 6c69 6e65 206f 7074  command-line opt
-00018f90: 696f 6e2c 2077 6869 6368 2069 7320 7573  ion, which is us
-00018fa0: 6566 756c 2069 6620 796f 7520 6172 6520  eful if you are 
-00018fb0: 6861 7669 6e67 2074 726f 7562 6c65 2072  having trouble r
-00018fc0: 6561 6469 6e67 2079 6f75 7220 7472 6163  eading your trac
-00018fd0: 6562 6163 6b73 2061 6e64 2f6f 7220 6e65  ebacks and/or ne
-00018fe0: 6564 206d 6178 696d 756d 2070 6572 666f  ed maximum perfo
-00018ff0: 726d 616e 6365 2e0d 0a0d 0a60 2d2d 6e6f  rmance.....`--no
-00019000: 2d74 636f 6020 646f 6573 206e 6f74 2064  -tco` does not d
-00019010: 6973 6162 6c65 2074 6169 6c20 7265 6375  isable tail recu
-00019020: 7273 696f 6e20 656c 696d 696e 6174 696f  rsion eliminatio
-00019030: 6e2e 0d0a 5468 6973 2069 7320 6265 6361  n...This is beca
-00019040: 7573 6520 7461 696c 2072 6563 7572 7369  use tail recursi
-00019050: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2069  on elimination i
-00019060: 7320 7573 7561 6c6c 7920 6661 7374 6572  s usually faster
-00019070: 2074 6861 6e20 646f 696e 6720 6e6f 7468   than doing noth
-00019080: 696e 672c 2077 6869 6c65 206f 7468 6572  ing, while other
-00019090: 2074 7970 6573 206f 6620 7461 696c 2063   types of tail c
-000190a0: 616c 6c20 6f70 7469 6d69 7a61 7469 6f6e  all optimization
-000190b0: 2061 7265 2075 7375 616c 6c79 2073 6c6f   are usually slo
-000190c0: 7765 7220 7468 616e 2064 6f69 6e67 206e  wer than doing n
-000190d0: 6f74 6869 6e67 2e0d 0a54 6169 6c20 7265  othing...Tail re
-000190e0: 6375 7273 696f 6e20 656c 696d 696e 6174  cursion eliminat
-000190f0: 696f 6e20 7265 7375 6c74 7320 696e 2061  ion results in a
-00019100: 2062 6967 2070 6572 666f 726d 616e 6365   big performance
-00019110: 2077 696e 2062 6563 6175 7365 2050 7974   win because Pyt
-00019120: 686f 6e20 6861 7320 6120 6661 6972 6c79  hon has a fairly
-00019130: 206c 6172 6765 2066 756e 6374 696f 6e20   large function 
-00019140: 6361 6c6c 206f 7665 7268 6561 642e 2042  call overhead. B
-00019150: 7920 756e 7769 6e64 696e 6720 6120 7265  y unwinding a re
-00019160: 6375 7273 6976 6520 6675 6e63 7469 6f6e  cursive function
-00019170: 2c20 6661 7220 6665 7765 7220 6675 6e63  , far fewer func
-00019180: 7469 6f6e 2063 616c 6c73 206e 6565 6420  tion calls need 
-00019190: 746f 2062 6520 6d61 6465 2e0d 0a57 6865  to be made...Whe
-000191a0: 6e20 7468 6520 602d 2d6e 6f2d 7463 6f60  n the `--no-tco`
-000191b0: 2066 6c61 6720 6973 2064 6973 6162 6c65   flag is disable
-000191c0: 642c 2043 6f63 6f6e 7574 2077 696c 6c20  d, Coconut will 
-000191d0: 6174 7465 6d70 7420 746f 2064 6f20 616c  attempt to do al
-000191e0: 6c20 7479 7065 7320 6f66 2074 6169 6c20  l types of tail 
-000191f0: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
-00019200: 6e73 2c20 6861 6e64 6c69 6e67 206e 6f6e  ns, handling non
-00019210: 2d72 6563 7572 7369 7665 2074 6169 6c20  -recursive tail 
-00019220: 6361 6c6c 732c 2073 706c 6974 2070 6174  calls, split pat
-00019230: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-00019240: 6e63 7469 6f6e 732c 206d 7574 7561 6c20  nctions, mutual 
-00019250: 7265 6375 7273 696f 6e2c 2061 6e64 2074  recursion, and t
-00019260: 6169 6c20 7265 6375 7273 696f 6e2e 2057  ail recursion. W
-00019270: 6865 6e20 7468 6520 602d 2d6e 6f2d 7463  hen the `--no-tc
-00019280: 6f60 2066 6c61 6720 6973 2065 6e61 626c  o` flag is enabl
-00019290: 6564 2c20 436f 636f 6e75 7420 7769 6c6c  ed, Coconut will
-000192a0: 206e 6f20 6c6f 6e67 6572 2070 6572 666f   no longer perfo
-000192b0: 726d 2061 6e79 2074 6169 6c20 6361 6c6c  rm any tail call
-000192c0: 206f 7074 696d 697a 6174 696f 6e73 206f   optimizations o
-000192d0: 7468 6572 2074 6861 6e20 7461 696c 2072  ther than tail r
-000192e0: 6563 7572 7369 6f6e 2065 6c69 6d69 6e61  ecursion elimina
-000192f0: 7469 6f6e 2e0d 0a0d 0a23 2323 2320 5461  tion.....#### Ta
-00019300: 696c 2052 6563 7572 7369 6f6e 2045 6c69  il Recursion Eli
-00019310: 6d69 6e61 7469 6f6e 2061 6e64 2050 7974  mination and Pyt
-00019320: 686f 6e20 6c61 6d62 6461 730d 0a0d 0a43  hon lambdas....C
-00019330: 6f63 6f6e 7574 2064 6f65 7320 6e6f 7420  oconut does not 
-00019340: 7065 7266 6f72 6d20 7461 696c 2072 6563  perform tail rec
-00019350: 7572 7369 6f6e 2065 6c69 6d69 6e61 7469  ursion eliminati
-00019360: 6f6e 2069 6e20 6675 6e63 7469 6f6e 7320  on in functions 
-00019370: 7468 6174 2075 7469 6c69 7a65 206c 616d  that utilize lam
-00019380: 6264 6173 206f 7220 696e 6e65 7220 6675  bdas or inner fu
-00019390: 6e63 7469 6f6e 732e 2054 6869 7320 6973  nctions. This is
-000193a0: 2062 6563 6175 7365 206f 6620 7468 6520   because of the 
-000193b0: 7761 7920 7468 6174 2050 7974 686f 6e20  way that Python 
-000193c0: 6861 6e64 6c65 7320 6c61 6d62 6461 732e  handles lambdas.
-000193d0: 0d0a 0d0a 4561 6368 206c 616d 6264 6120  ....Each lambda 
-000193e0: 7374 6f72 6573 2061 2070 6f69 6e74 6572  stores a pointer
-000193f0: 2074 6f20 7468 6520 6e61 6d65 7370 6163   to the namespac
-00019400: 6520 656e 636c 6f73 696e 6720 6974 2c20  e enclosing it, 
-00019410: 7261 7468 6572 2074 6861 6e20 6120 636f  rather than a co
-00019420: 7079 206f 6620 7468 6520 6e61 6d65 7370  py of the namesp
-00019430: 6163 652e 2054 6875 732c 2069 6620 7468  ace. Thus, if th
-00019440: 6520 436f 636f 6e75 7420 636f 6d70 696c  e Coconut compil
-00019450: 6572 2074 7269 6573 2074 6f20 7265 6379  er tries to recy
-00019460: 636c 6520 616e 7974 6869 6e67 2069 6e20  cle anything in 
-00019470: 7468 6520 6e61 6d65 7370 6163 6520 7468  the namespace th
-00019480: 6174 2070 726f 6475 6365 6420 7468 6520  at produced the 
-00019490: 6c61 6d62 6461 2c20 7768 6963 6820 6e65  lambda, which ne
-000194a0: 6564 7320 746f 2062 6520 646f 6e65 2066  eds to be done f
-000194b0: 6f72 2054 5245 2c20 7468 6520 6c61 6d62  or TRE, the lamb
-000194c0: 6461 2063 616e 2062 6520 6368 616e 6765  da can be change
-000194d0: 6420 7265 7472 6f61 6374 6976 656c 792e  d retroactively.
-000194e0: 0d0a 0d0a 4120 7369 6d70 6c65 2065 7861  ....A simple exa
-000194f0: 6d70 6c65 2064 656d 6f6e 7374 7261 7469  mple demonstrati
-00019500: 6e67 2074 6869 7320 6265 6861 7669 6f72  ng this behavior
-00019510: 2069 6e20 5079 7468 6f6e 3a0d 0a0d 0a60   in Python:....`
-00019520: 6060 7079 7468 6f6e 0d0a 7820 3d20 310d  ``python..x = 1.
-00019530: 0a66 6f6f 203d 206c 616d 6264 613a 2078  .foo = lambda: x
-00019540: 0d0a 7072 696e 7428 666f 6f28 2929 2020  ..print(foo())  
-00019550: 2320 310d 0a78 203d 2032 2020 2020 2020  # 1..x = 2      
-00019560: 2020 2023 2044 6972 6563 746c 7920 616c     # Directly al
-00019570: 7465 7220 7468 6520 7661 6c75 6573 2069  ter the values i
-00019580: 6e20 7468 6520 6e61 6d65 7370 6163 6520  n the namespace 
-00019590: 656e 636c 6f73 696e 6720 666f 6f0d 0a70  enclosing foo..p
-000195a0: 7269 6e74 2866 6f6f 2829 2920 2023 2032  rint(foo())  # 2
-000195b0: 2028 2129 0d0a 6060 600d 0a0d 0a42 6563   (!)..```....Bec
-000195c0: 6175 7365 2074 6869 7320 636f 756c 6420  ause this could 
-000195d0: 6861 7665 2075 6e69 6e74 656e 6465 6420  have unintended 
-000195e0: 616e 6420 706f 7465 6e74 6961 6c6c 7920  and potentially 
-000195f0: 6461 6d61 6769 6e67 2063 6f6e 7365 7175  damaging consequ
-00019600: 656e 6365 732c 2043 6f63 6f6e 7574 206f  ences, Coconut o
-00019610: 7074 7320 746f 206e 6f74 2070 6572 666f  pts to not perfo
-00019620: 726d 2054 5245 206f 6e20 616e 7920 6675  rm TRE on any fu
-00019630: 6e63 7469 6f6e 2077 6974 6820 6120 6c61  nction with a la
-00019640: 6d62 6461 206f 7220 696e 6e65 7220 6675  mbda or inner fu
-00019650: 6e63 7469 6f6e 2e0d 0a0d 0a23 2323 2041  nction.....### A
-00019660: 7373 6967 6e6d 656e 7420 4675 6e63 7469  ssignment Functi
-00019670: 6f6e 730d 0a0d 0a43 6f63 6f6e 7574 2061  ons....Coconut a
-00019680: 6c6c 6f77 7320 666f 7220 6173 7369 676e  llows for assign
-00019690: 6d65 6e74 2066 756e 6374 696f 6e20 6465  ment function de
-000196a0: 6669 6e69 7469 6f6e 2074 6861 7420 6175  finition that au
-000196b0: 746f 6d61 7469 6361 6c6c 7920 7265 7475  tomatically retu
-000196c0: 726e 7320 7468 6520 6c61 7374 206c 696e  rns the last lin
-000196d0: 6520 6f66 2074 6865 2066 756e 6374 696f  e of the functio
-000196e0: 6e20 626f 6479 2e20 416e 2061 7373 6967  n body. An assig
-000196f0: 6e6d 656e 7420 6675 6e63 7469 6f6e 2069  nment function i
-00019700: 7320 636f 6e73 7472 7563 7465 6420 6279  s constructed by
-00019710: 2073 7562 7374 6974 7574 696e 6720 603d   substituting `=
-00019720: 6020 666f 7220 603a 6020 6166 7465 7220  ` for `:` after 
-00019730: 7468 6520 6675 6e63 7469 6f6e 2064 6566  the function def
-00019740: 696e 6974 696f 6e20 6c69 6e65 2e20 5468  inition line. Th
-00019750: 7573 2c20 7468 6520 7379 6e74 6178 2066  us, the syntax f
-00019760: 6f72 2061 7373 6967 6e6d 656e 7420 6675  or assignment fu
-00019770: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-00019780: 6e20 6973 2065 6974 6865 720d 0a60 6060  n is either..```
-00019790: 636f 636f 6e75 740d 0a5b 6173 796e 635d  coconut..[async]
-000197a0: 2064 6566 203c 6e61 6d65 3e28 3c61 7267   def <name>(<arg
-000197b0: 733e 2920 3d20 3c65 7870 723e 0d0a 6060  s>) = <expr>..``
-000197c0: 600d 0a66 6f72 206f 6e65 2d6c 696e 6572  `..for one-liner
-000197d0: 7320 6f72 0d0a 6060 6063 6f63 6f6e 7574  s or..```coconut
-000197e0: 0d0a 5b61 7379 6e63 5d20 6465 6620 3c6e  ..[async] def <n
-000197f0: 616d 653e 283c 6172 6773 3e29 203d 0d0a  ame>(<args>) =..
-00019800: 2020 2020 3c73 746d 7473 3e0d 0a20 2020      <stmts>..   
-00019810: 203c 6578 7072 3e0d 0a60 6060 0d0a 666f   <expr>..```..fo
-00019820: 7220 6675 6c6c 2066 756e 6374 696f 6e73  r full functions
-00019830: 2c20 7768 6572 6520 603c 6e61 6d65 3e60  , where `<name>`
-00019840: 2069 7320 7468 6520 6e61 6d65 206f 6620   is the name of 
-00019850: 7468 6520 6675 6e63 7469 6f6e 2c20 603c  the function, `<
-00019860: 6172 6773 3e60 2061 7265 2074 6865 2066  args>` are the f
-00019870: 756e 6374 696f 6e73 2061 7267 756d 656e  unctions argumen
-00019880: 7473 2c20 603c 7374 6d74 733e 6020 6172  ts, `<stmts>` ar
-00019890: 6520 616e 7920 7374 6174 656d 656e 7473  e any statements
-000198a0: 2074 6861 7420 7468 6520 6675 6e63 7469   that the functi
-000198b0: 6f6e 2073 686f 756c 6420 6578 6563 7574  on should execut
-000198c0: 652c 2061 6e64 2060 3c65 7870 723e 6020  e, and `<expr>` 
-000198d0: 6973 2074 6865 2076 616c 7565 2074 6861  is the value tha
-000198e0: 7420 7468 6520 6675 6e63 7469 6f6e 2073  t the function s
-000198f0: 686f 756c 6420 7265 7475 726e 2e0d 0a0d  hould return....
-00019900: 0a5f 4e6f 7465 3a20 4173 7369 676e 6d65  ._Note: Assignme
-00019910: 6e74 2066 756e 6374 696f 6e20 6465 6669  nt function defi
-00019920: 6e69 7469 6f6e 2063 616e 2062 6520 636f  nition can be co
-00019930: 6d62 696e 6564 2077 6974 6820 696e 6669  mbined with infi
-00019940: 7820 616e 642f 6f72 2070 6174 7465 726e  x and/or pattern
-00019950: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00019960: 6f6e 2064 6566 696e 6974 696f 6e2e 5f0d  on definition._.
-00019970: 0a0d 0a23 2323 2323 2052 6174 696f 6e61  ...##### Rationa
-00019980: 6c65 0d0a 0d0a 436f 636f 6e75 7427 7320  le....Coconut's 
-00019990: 4173 7369 676e 6d65 6e74 2066 756e 6374  Assignment funct
-000199a0: 696f 6e20 6465 6669 6e69 7469 6f6e 2069  ion definition i
-000199b0: 7320 6173 2065 6173 7920 746f 2077 7269  s as easy to wri
-000199c0: 7465 2061 7320 6173 7369 676e 6d65 6e74  te as assignment
-000199d0: 2074 6f20 6120 6c61 6d62 6461 2c20 6275   to a lambda, bu
-000199e0: 7420 7769 6c6c 2061 7070 6561 7220 6e61  t will appear na
-000199f0: 6d65 6420 696e 2074 7261 6365 6261 636b  med in traceback
-00019a00: 732c 2061 7320 6974 2063 6f6d 7069 6c65  s, as it compile
-00019a10: 7320 746f 206e 6f72 6d61 6c20 5079 7468  s to normal Pyth
-00019a20: 6f6e 2066 756e 6374 696f 6e20 6465 6669  on function defi
-00019a30: 6e69 7469 6f6e 2e0d 0a0d 0a23 2323 2323  nition.....#####
-00019a40: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-00019a50: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-00019a60: 6f6e 7574 0d0a 6465 6620 6269 6e65 7870  onut..def binexp
-00019a70: 2878 2920 3d20 322a 2a78 0d0a 3520 7c3e  (x) = 2**x..5 |>
-00019a80: 2062 696e 6578 7020 7c3e 2070 7269 6e74   binexp |> print
-00019a90: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00019aa0: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-00019ab0: 5f70 7974 686f 6e0d 0a64 6566 2062 696e  _python..def bin
-00019ac0: 6578 7028 7829 3a20 7265 7475 726e 2032  exp(x): return 2
-00019ad0: 2a2a 780d 0a70 7269 6e74 2862 696e 6578  **x..print(binex
-00019ae0: 7028 3529 290d 0a60 6060 0d0a 0d0a 2323  p(5))..```....##
-00019af0: 2320 5061 7474 6572 6e2d 4d61 7463 6869  # Pattern-Matchi
-00019b00: 6e67 2046 756e 6374 696f 6e73 0d0a 0d0a  ng Functions....
-00019b10: 436f 636f 6e75 7420 7061 7474 6572 6e2d  Coconut pattern-
-00019b20: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-00019b30: 6e73 2061 7265 206a 7573 7420 6e6f 726d  ns are just norm
-00019b40: 616c 2066 756e 6374 696f 6e73 2c20 6578  al functions, ex
-00019b50: 6365 7074 2077 6865 7265 2074 6865 2061  cept where the a
-00019b60: 7267 756d 656e 7473 2061 7265 2070 6174  rguments are pat
-00019b70: 7465 726e 7320 746f 2062 6520 6d61 7463  terns to be matc
-00019b80: 6865 6420 6167 6169 6e73 7420 696e 7374  hed against inst
-00019b90: 6561 6420 6f66 2076 6172 6961 626c 6573  ead of variables
-00019ba0: 2074 6f20 6265 2061 7373 6967 6e65 6420   to be assigned 
-00019bb0: 746f 2e20 5468 6520 7379 6e74 6178 2066  to. The syntax f
-00019bc0: 6f72 2070 6174 7465 726e 2d6d 6174 6368  or pattern-match
-00019bd0: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
-00019be0: 696e 6974 696f 6e20 6973 0d0a 6060 6063  inition is..```c
-00019bf0: 6f63 6f6e 7574 0d0a 5b61 7379 6e63 5d20  oconut..[async] 
-00019c00: 5b6d 6174 6368 5d20 6465 6620 3c6e 616d  [match] def <nam
-00019c10: 653e 283c 6172 673e 2c20 3c61 7267 3e2c  e>(<arg>, <arg>,
-00019c20: 202e 2e2e 205b 6966 203c 636f 6e64 3e5d   ... [if <cond>]
-00019c30: 2920 5b2d 3e20 3c72 6574 7572 6e5f 7479  ) [-> <return_ty
-00019c40: 7065 3e5d 3a0d 0a20 2020 203c 626f 6479  pe>]:..    <body
-00019c50: 3e0d 0a60 6060 0d0a 7768 6572 6520 603c  >..```..where `<
-00019c60: 6172 673e 6020 6973 2064 6566 696e 6564  arg>` is defined
-00019c70: 2061 730d 0a60 6060 636f 636f 6e75 740d   as..```coconut.
-00019c80: 0a5b 2a7c 2a2a 5d20 3c70 6174 7465 726e  .[*|**] <pattern
-00019c90: 3e20 5b3d 203c 6465 6661 756c 743e 5d0d  > [= <default>].
-00019ca0: 0a60 6060 0d0a 7768 6572 6520 603c 6e61  .```..where `<na
-00019cb0: 6d65 3e60 2069 7320 7468 6520 6e61 6d65  me>` is the name
-00019cc0: 206f 6620 7468 6520 6675 6e63 7469 6f6e   of the function
-00019cd0: 2c20 603c 636f 6e64 3e60 2069 7320 616e  , `<cond>` is an
-00019ce0: 206f 7074 696f 6e61 6c20 6164 6469 7469   optional additi
-00019cf0: 6f6e 616c 2063 6865 636b 2c20 603c 626f  onal check, `<bo
-00019d00: 6479 3e60 2069 7320 7468 6520 626f 6479  dy>` is the body
-00019d10: 206f 6620 7468 6520 6675 6e63 7469 6f6e   of the function
-00019d20: 2c20 603c 7061 7474 6572 6e3e 6020 6973  , `<pattern>` is
-00019d30: 2064 6566 696e 6564 2062 7920 436f 636f   defined by Coco
-00019d40: 6e75 7427 7320 5b60 6d61 7463 6860 2073  nut's [`match` s
-00019d50: 7461 7465 6d65 6e74 5d28 236d 6174 6368  tatement](#match
-00019d60: 292c 2060 3c64 6566 6175 6c74 3e60 2069  ), `<default>` i
-00019d70: 7320 7468 6520 6f70 7469 6f6e 616c 2064  s the optional d
-00019d80: 6566 6175 6c74 2069 6620 6e6f 2061 7267  efault if no arg
-00019d90: 756d 656e 7420 6973 2070 6173 7365 642c  ument is passed,
-00019da0: 2061 6e64 2060 3c72 6574 7572 6e5f 7479   and `<return_ty
-00019db0: 7065 3e60 2069 7320 7468 6520 6f70 7469  pe>` is the opti
-00019dc0: 6f6e 616c 2072 6574 7572 6e20 7479 7065  onal return type
-00019dd0: 2061 6e6e 6f74 6174 696f 6e20 286e 6f74   annotation (not
-00019de0: 6520 7468 6174 2061 7267 756d 656e 7420  e that argument 
-00019df0: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
-00019e00: 2061 7265 206e 6f74 2073 7570 706f 7274   are not support
-00019e10: 6564 2066 6f72 2070 6174 7465 726e 2d6d  ed for pattern-m
-00019e20: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-00019e30: 7329 2e20 5468 6520 606d 6174 6368 6020  s). The `match` 
-00019e40: 6b65 7977 6f72 6420 6174 2074 6865 2062  keyword at the b
-00019e50: 6567 696e 6e69 6e67 2069 7320 6f70 7469  eginning is opti
-00019e60: 6f6e 616c 2c20 6275 7420 6973 2073 6f6d  onal, but is som
-00019e70: 6574 696d 6573 206e 6563 6573 7361 7279  etimes necessary
-00019e80: 2074 6f20 6469 7361 6d62 6967 7561 7465   to disambiguate
-00019e90: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-00019ea0: 6720 6675 6e63 7469 6f6e 2064 6566 696e  g function defin
-00019eb0: 6974 696f 6e20 6672 6f6d 206e 6f72 6d61  ition from norma
-00019ec0: 6c20 6675 6e63 7469 6f6e 2064 6566 696e  l function defin
-00019ed0: 6974 696f 6e2c 2073 696e 6365 2050 7974  ition, since Pyt
-00019ee0: 686f 6e20 6675 6e63 7469 6f6e 2064 6566  hon function def
-00019ef0: 696e 6974 696f 6e20 7769 6c6c 2061 6c77  inition will alw
-00019f00: 6179 7320 7461 6b65 2070 7265 6365 6465  ays take precede
-00019f10: 6e63 652e 204e 6f74 6520 7468 6174 2074  nce. Note that t
-00019f20: 6865 2060 6173 796e 6360 2061 6e64 2060  he `async` and `
-00019f30: 6d61 7463 6860 206b 6579 776f 7264 7320  match` keywords 
-00019f40: 6361 6e20 6265 2069 6e20 616e 7920 6f72  can be in any or
-00019f50: 6465 722e 0d0a 0d0a 4966 2060 3c70 6174  der.....If `<pat
-00019f60: 7465 726e 3e60 2068 6173 2061 2076 6172  tern>` has a var
-00019f70: 6961 626c 6520 6e61 6d65 2028 6569 7468  iable name (eith
-00019f80: 6572 2064 6972 6563 746c 7920 6f72 2077  er directly or w
-00019f90: 6974 6820 6061 7360 292c 2074 6865 2072  ith `as`), the r
-00019fa0: 6573 756c 7469 6e67 2070 6174 7465 726e  esulting pattern
-00019fb0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00019fc0: 6f6e 2077 696c 6c20 7375 7070 6f72 7420  on will support 
-00019fd0: 6b65 7977 6f72 6420 6172 6775 6d65 6e74  keyword argument
-00019fe0: 7320 7573 696e 6720 7468 6174 2076 6172  s using that var
-00019ff0: 6961 626c 6520 6e61 6d65 2e0d 0a0d 0a49  iable name.....I
-0001a000: 6e20 6164 6469 7469 6f6e 2074 6f20 7375  n addition to su
-0001a010: 7070 6f72 7469 6e67 2070 6174 7465 726e  pporting pattern
-0001a020: 2d6d 6174 6368 696e 6720 696e 2074 6865  -matching in the
-0001a030: 6972 2061 7267 756d 656e 7473 2c20 7061  ir arguments, pa
-0001a040: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
-0001a050: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
-0001a060: 6f6e 7320 616c 736f 2068 6176 6520 6120  ons also have a 
-0001a070: 636f 7570 6c65 206f 6620 6e6f 7461 626c  couple of notabl
-0001a080: 6520 6469 6666 6572 656e 6365 7320 636f  e differences co
-0001a090: 6d70 6172 6564 2074 6f20 5079 7468 6f6e  mpared to Python
-0001a0a0: 2066 756e 6374 696f 6e73 2e20 5370 6563   functions. Spec
-0001a0b0: 6966 6963 616c 6c79 3a0d 0a2d 2049 6620  ifically:..- If 
-0001a0c0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001a0d0: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001a0e0: 7469 6f6e 2066 6169 6c73 2c20 6974 2077  tion fails, it w
-0001a0f0: 696c 6c20 7261 6973 6520 6120 5b60 4d61  ill raise a [`Ma
-0001a100: 7463 6845 7272 6f72 605d 2823 6d61 7463  tchError`](#matc
-0001a110: 6865 7272 6f72 2920 286a 7573 7420 6c69  herror) (just li
-0001a120: 6b65 205b 6465 7374 7275 6374 7572 696e  ke [destructurin
-0001a130: 6720 6173 7369 676e 6d65 6e74 5d28 2364  g assignment](#d
-0001a140: 6573 7472 7563 7475 7269 6e67 2d61 7373  estructuring-ass
-0001a150: 6967 6e6d 656e 7429 2920 696e 7374 6561  ignment)) instea
-0001a160: 6420 6f66 2061 2060 5479 7065 4572 726f  d of a `TypeErro
-0001a170: 7260 2e0d 0a2d 2041 6c6c 2064 6566 6175  r`...- All defau
-0001a180: 6c74 7320 696e 2070 6174 7465 726e 2d6d  lts in pattern-m
-0001a190: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-0001a1a0: 2064 6566 696e 6974 696f 6e20 6172 6520   definition are 
-0001a1b0: 6c61 7465 2d62 6f75 6e64 2072 6174 6865  late-bound rathe
-0001a1c0: 7220 7468 616e 2065 6172 6c79 2d62 6f75  r than early-bou
-0001a1d0: 6e64 2e20 5468 7573 2c20 606d 6174 6368  nd. Thus, `match
-0001a1e0: 2064 6566 2066 2878 733d 5b5d 2920 3d20   def f(xs=[]) = 
-0001a1f0: 7873 6020 7769 6c6c 2069 6e73 7461 6e74  xs` will instant
-0001a200: 6961 7465 2061 206e 6577 206c 6973 7420  iate a new list 
-0001a210: 666f 7220 6561 6368 2063 616c 6c20 7768  for each call wh
-0001a220: 6572 6520 6078 7360 2069 7320 6e6f 7420  ere `xs` is not 
-0001a230: 6769 7665 6e2c 2075 6e6c 696b 6520 6064  given, unlike `d
-0001a240: 6566 2066 2878 733d 5b5d 2920 3d20 7873  ef f(xs=[]) = xs
-0001a250: 602c 2077 6869 6368 2077 696c 6c20 7573  `, which will us
-0001a260: 6520 7468 6520 7361 6d65 206c 6973 7420  e the same list 
-0001a270: 666f 7220 616c 6c20 6361 6c6c 7320 7768  for all calls wh
-0001a280: 6572 6520 6078 7360 2069 7320 756e 7370  ere `xs` is unsp
-0001a290: 6563 6966 6965 642e 0d0a 0d0a 5f4e 6f74  ecified....._Not
-0001a2a0: 653a 2050 6174 7465 726e 2d6d 6174 6368  e: Pattern-match
-0001a2b0: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
-0001a2c0: 696e 6974 696f 6e20 6361 6e20 6265 2063  inition can be c
-0001a2d0: 6f6d 6269 6e65 6420 7769 7468 2061 7373  ombined with ass
-0001a2e0: 6967 6e6d 656e 7420 616e 642f 6f72 2069  ignment and/or i
-0001a2f0: 6e66 6978 2066 756e 6374 696f 6e20 6465  nfix function de
-0001a300: 6669 6e69 7469 6f6e 2e5f 0d0a 0d0a 2323  finition._....##
-0001a310: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0001a320: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0001a330: 636f 636f 6e75 740d 0a64 6566 206c 6173  coconut..def las
-0001a340: 745f 7477 6f28 5f20 2b20 5b61 2c20 625d  t_two(_ + [a, b]
-0001a350: 293a 0d0a 2020 2020 7265 7475 726e 2061  ):..    return a
-0001a360: 2c20 620d 0a64 6566 2078 7964 6963 745f  , b..def xydict_
-0001a370: 746f 5f78 7974 7570 6c65 287b 2278 223a  to_xytuple({"x":
-0001a380: 2078 2060 6973 696e 7374 616e 6365 6020   x `isinstance` 
-0001a390: 696e 742c 2022 7922 3a20 7920 6069 7369  int, "y": y `isi
-0001a3a0: 6e73 7461 6e63 6560 2069 6e74 7d29 3a0d  nstance` int}):.
-0001a3b0: 0a20 2020 2072 6574 7572 6e20 782c 2079  .    return x, y
-0001a3c0: 0d0a 0d0a 7261 6e67 6528 3529 207c 3e20  ....range(5) |> 
-0001a3d0: 6c61 7374 5f74 776f 207c 3e20 7072 696e  last_two |> prin
-0001a3e0: 740d 0a7b 2278 223a 312c 2022 7922 3a32  t..{"x":1, "y":2
-0001a3f0: 7d20 7c3e 2078 7964 6963 745f 746f 5f78  } |> xydict_to_x
-0001a400: 7974 7570 6c65 207c 3e20 7072 696e 740d  ytuple |> print.
-0001a410: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-0001a420: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
-0001a430: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
-0001a440: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
-0001a450: 636b 7320 6174 2074 6865 2074 6f70 206f  cks at the top o
-0001a460: 6620 7468 6520 6675 6e63 7469 6f6e 2e20  f the function. 
-0001a470: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
-0001a480: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
-0001a490: 7468 6f6e 2073 796e 7461 782e 5f0d 0a0d  thon syntax._...
-0001a4a0: 0a23 2323 2060 6164 6470 6174 7465 726e  .### `addpattern
-0001a4b0: 6020 4675 6e63 7469 6f6e 730d 0a0d 0a43  ` Functions....C
-0001a4c0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
-0001a4d0: 7468 6520 6061 6464 7061 7474 6572 6e20  the `addpattern 
-0001a4e0: 6465 6660 2073 796e 7461 7820 6173 2061  def` syntax as a
-0001a4f0: 2073 686f 7274 6375 7420 666f 7220 7468   shortcut for th
-0001a500: 6520 6675 6c6c 0d0a 6060 6063 6f63 6f6e  e full..```cocon
-0001a510: 7574 0d0a 4061 6464 7061 7474 6572 6e28  ut..@addpattern(
-0001a520: 6675 6e63 290d 0a6d 6174 6368 2064 6566  func)..match def
-0001a530: 2066 756e 6328 2e2e 2e29 3a0d 0a20 202e   func(...):..  .
-0001a540: 2e2e 0d0a 6060 600d 0a73 796e 7461 7820  ....```..syntax 
-0001a550: 7573 696e 6720 7468 6520 5b60 6164 6470  using the [`addp
-0001a560: 6174 7465 726e 605d 2823 6164 6470 6174  attern`](#addpat
-0001a570: 7465 726e 2920 6465 636f 7261 746f 722e  tern) decorator.
-0001a580: 0d0a 0d0a 4966 2079 6f75 2077 616e 7420  ....If you want 
-0001a590: 746f 2070 7574 2061 2064 6563 6f72 6174  to put a decorat
-0001a5a0: 6f72 206f 6e20 616e 2060 6164 6470 6174  or on an `addpat
-0001a5b0: 7465 726e 2064 6566 6020 6675 6e63 7469  tern def` functi
-0001a5c0: 6f6e 2c20 6d61 6b65 2073 7572 6520 746f  on, make sure to
-0001a5d0: 2070 7574 2069 7420 6f6e 2074 6865 205f   put it on the _
-0001a5e0: 6c61 7374 5f20 7061 7474 6572 6e20 6675  last_ pattern fu
-0001a5f0: 6e63 7469 6f6e 2e0d 0a0d 0a23 2323 2323  nction.....#####
-0001a600: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0001a610: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0001a620: 6f6e 7574 0d0a 6465 6620 6661 6374 6f72  onut..def factor
-0001a630: 6961 6c28 3029 203d 2031 0d0a 6164 6470  ial(0) = 1..addp
-0001a640: 6174 7465 726e 2064 6566 2066 6163 746f  attern def facto
-0001a650: 7269 616c 286e 2920 3d20 6e20 2a20 6661  rial(n) = n * fa
-0001a660: 6374 6f72 6961 6c28 6e20 2d20 3129 0d0a  ctorial(n - 1)..
-0001a670: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-0001a680: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
-0001a690: 6e65 2077 6974 686f 7574 2061 2063 6f6d  ne without a com
-0001a6a0: 706c 6963 6174 6564 2064 6563 6f72 6174  plicated decorat
-0001a6b0: 6f72 2064 6566 696e 6974 696f 6e20 616e  or definition an
-0001a6c0: 6420 6120 6c6f 6e67 2073 6572 6965 7320  d a long series 
-0001a6d0: 6f66 2063 6865 636b 7320 666f 7220 6561  of checks for ea
-0001a6e0: 6368 2070 6174 7465 726e 2d6d 6174 6368  ch pattern-match
-0001a6f0: 696e 672e 2053 6565 2074 6865 2063 6f6d  ing. See the com
-0001a700: 7069 6c65 6420 636f 6465 2066 6f72 2074  piled code for t
-0001a710: 6865 2050 7974 686f 6e20 7379 6e74 6178  he Python syntax
-0001a720: 2e5f 0d0a 0d0a 2323 2320 4578 706c 6963  ._....### Explic
-0001a730: 6974 2047 656e 6572 6174 6f72 730d 0a0d  it Generators...
-0001a740: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
-0001a750: 7320 7468 6520 7379 6e74 6178 0d0a 6060  s the syntax..``
-0001a760: 600d 0a5b 6173 796e 635d 2079 6965 6c64  `..[async] yield
-0001a770: 2064 6566 203c 6e61 6d65 3e28 3c61 7267   def <name>(<arg
-0001a780: 733e 293a 0d0a 2020 2020 3c62 6f64 793e  s>):..    <body>
-0001a790: 0d0a 6060 600d 0a74 6f20 6465 6e6f 7465  ..```..to denote
-0001a7a0: 2074 6861 7420 796f 7520 6172 6520 6578   that you are ex
-0001a7b0: 706c 6963 6974 6c79 2064 6566 696e 696e  plicitly definin
-0001a7c0: 6720 6120 6765 6e65 7261 746f 7220 6675  g a generator fu
-0001a7d0: 6e63 7469 6f6e 2e20 5468 6973 2069 7320  nction. This is 
-0001a7e0: 7573 6566 756c 2074 6f20 656e 7375 7265  useful to ensure
-0001a7f0: 2074 6861 742c 2065 7665 6e20 6966 2061   that, even if a
-0001a800: 6c6c 2074 6865 2060 7969 656c 6460 7320  ll the `yield`s 
-0001a810: 696e 2079 6f75 7220 6675 6e63 7469 6f6e  in your function
-0001a820: 2061 7265 2072 656d 6f76 6564 2c20 6974   are removed, it
-0001a830: 276c 6c20 616c 7761 7973 2062 6520 6120  'll always be a 
-0001a840: 6765 6e65 7261 746f 7220 6675 6e63 7469  generator functi
-0001a850: 6f6e 2e20 4e6f 7465 2074 6861 7420 7468  on. Note that th
-0001a860: 6520 6061 7379 6e63 6020 616e 6420 6079  e `async` and `y
-0001a870: 6965 6c64 6020 6b65 7977 6f72 6473 2063  ield` keywords c
-0001a880: 616e 2062 6520 696e 2061 6e79 206f 7264  an be in any ord
-0001a890: 6572 2e0d 0a0d 0a45 7870 6c69 6369 7420  er.....Explicit 
-0001a8a0: 6765 6e65 7261 746f 7220 6675 6e63 7469  generator functi
-0001a8b0: 6f6e 7320 616c 736f 2073 7570 706f 7274  ons also support
-0001a8c0: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
-0001a8d0: 6e67 2073 796e 7461 785d 2823 7061 7474  ng syntax](#patt
-0001a8e0: 6572 6e2d 6d61 7463 6869 6e67 2d66 756e  ern-matching-fun
-0001a8f0: 6374 696f 6e73 292c 205b 696e 6669 7820  ctions), [infix 
-0001a900: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
-0001a910: 696f 6e5d 2823 696e 6669 782d 6675 6e63  ion](#infix-func
-0001a920: 7469 6f6e 7329 2c20 616e 6420 5b61 7373  tions), and [ass
-0001a930: 6967 6e6d 656e 7420 6675 6e63 7469 6f6e  ignment function
-0001a940: 2073 796e 7461 785d 2823 6173 7369 676e   syntax](#assign
-0001a950: 6d65 6e74 2d66 756e 6374 696f 6e73 2920  ment-functions) 
-0001a960: 2874 686f 7567 6820 6e6f 7465 2074 6861  (though note tha
-0001a970: 7420 6173 7369 676e 6d65 6e74 2066 756e  t assignment fun
-0001a980: 6374 696f 6e20 7379 6e74 6178 2068 6572  ction syntax her
-0001a990: 6520 6372 6561 7465 7320 6120 6765 6e65  e creates a gene
-0001a9a0: 7261 746f 7220 7265 7475 726e 292e 0d0a  rator return)...
-0001a9b0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0001a9c0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0001a9d0: 0a60 6060 636f 636f 6e75 740d 0a79 6965  .```coconut..yie
-0001a9e0: 6c64 2064 6566 2065 6d70 7479 5f69 7428  ld def empty_it(
-0001a9f0: 293a 2070 6173 730d 0a60 6060 0d0a 0d0a  ): pass..```....
-0001aa00: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0001aa10: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0001aa20: 6465 6620 656d 7074 795f 6974 2829 3a0d  def empty_it():.
-0001aa30: 0a20 2020 2069 6620 4661 6c73 653a 0d0a  .    if False:..
-0001aa40: 2020 2020 2020 2020 7969 656c 640d 0a60          yield..`
-0001aa50: 6060 0d0a 0d0a 2323 2320 446f 7474 6564  ``....### Dotted
-0001aa60: 2046 756e 6374 696f 6e20 4465 6669 6e69   Function Defini
-0001aa70: 7469 6f6e 0d0a 0d0a 436f 636f 6e75 7420  tion....Coconut 
-0001aa80: 616c 6c6f 7773 2066 6f72 2066 756e 6374  allows for funct
-0001aa90: 696f 6e20 6465 6669 6e69 7469 6f6e 2075  ion definition u
-0001aaa0: 7369 6e67 2061 2064 6f74 7465 6420 6e61  sing a dotted na
-0001aab0: 6d65 2074 6f20 6173 7369 676e 2061 2066  me to assign a f
-0001aac0: 756e 6374 696f 6e20 6173 2061 206d 6574  unction as a met
-0001aad0: 686f 6420 6f66 2061 6e20 6f62 6a65 6374  hod of an object
-0001aae0: 2061 7320 7370 6563 6966 6965 6420 696e   as specified in
-0001aaf0: 205b 5045 5020 3534 325d 2868 7474 7073   [PEP 542](https
-0001ab00: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
-0001ab10: 672f 6465 762f 7065 7073 2f70 6570 2d30  g/dev/peps/pep-0
-0001ab20: 3534 322f 292e 0d0a 0d0a 2323 2323 2320  542/).....##### 
-0001ab30: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0001ab40: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0001ab50: 6e75 740d 0a64 6566 204d 7943 6c61 7373  nut..def MyClass
-0001ab60: 2e6d 795f 6d65 7468 6f64 2873 656c 6629  .my_method(self)
-0001ab70: 3a0d 0a20 2020 202e 2e2e 0d0a 6060 600d  :..    .....```.
-0001ab80: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0001ab90: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0001aba0: 6e0d 0a64 6566 206d 795f 6d65 7468 6f64  n..def my_method
-0001abb0: 2873 656c 6629 3a0d 0a20 2020 202e 2e2e  (self):..    ...
-0001abc0: 0d0a 4d79 436c 6173 732e 6d79 5f6d 6574  ..MyClass.my_met
-0001abd0: 686f 6420 3d20 6d79 5f6d 6574 686f 640d  hod = my_method.
-0001abe0: 0a60 6060 0d0a 0d0a 2323 2053 7461 7465  .```....## State
-0001abf0: 6d65 6e74 730d 0a0d 0a60 6060 7b63 6f6e  ments....```{con
-0001ac00: 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63  tents}..---..loc
-0001ac10: 616c 3a0d 0a64 6570 7468 3a20 310d 0a2d  al:..depth: 1..-
-0001ac20: 2d2d 0d0a 6060 600d 0a0d 0a23 2323 2044  --..```....### D
-0001ac30: 6573 7472 7563 7475 7269 6e67 2041 7373  estructuring Ass
-0001ac40: 6967 6e6d 656e 740d 0a0d 0a43 6f63 6f6e  ignment....Cocon
-0001ac50: 7574 2073 7570 706f 7274 7320 7369 676e  ut supports sign
-0001ac60: 6966 6963 616e 746c 7920 656e 6861 6e63  ificantly enhanc
-0001ac70: 6564 2064 6573 7472 7563 7475 7269 6e67  ed destructuring
-0001ac80: 2061 7373 6967 6e6d 656e 742c 2073 696d   assignment, sim
-0001ac90: 696c 6172 2074 6f20 5079 7468 6f6e 2773  ilar to Python's
-0001aca0: 2074 7570 6c65 2f6c 6973 7420 6465 7374   tuple/list dest
-0001acb0: 7275 6374 7572 696e 672c 2062 7574 206d  ructuring, but m
-0001acc0: 7563 6820 6d6f 7265 2070 6f77 6572 6675  uch more powerfu
-0001acd0: 6c2e 2054 6865 2073 796e 7461 7820 666f  l. The syntax fo
-0001ace0: 7220 436f 636f 6e75 7427 7320 6465 7374  r Coconut's dest
-0001acf0: 7275 6374 7572 696e 6720 6173 7369 676e  ructuring assign
-0001ad00: 6d65 6e74 2069 730d 0a60 6060 636f 636f  ment is..```coco
-0001ad10: 6e75 740d 0a5b 6d61 7463 685d 203c 7061  nut..[match] <pa
-0001ad20: 7474 6572 6e3e 203d 203c 7661 6c75 653e  ttern> = <value>
-0001ad30: 0d0a 6060 600d 0a77 6865 7265 2060 3c76  ..```..where `<v
-0001ad40: 616c 7565 3e60 2069 7320 616e 7920 6578  alue>` is any ex
-0001ad50: 7072 6573 7369 6f6e 2061 6e64 2060 3c70  pression and `<p
-0001ad60: 6174 7465 726e 3e60 2069 7320 6465 6669  attern>` is defi
-0001ad70: 6e65 6420 6279 2043 6f63 6f6e 7574 2773  ned by Coconut's
-0001ad80: 205b 606d 6174 6368 6020 7374 6174 656d   [`match` statem
-0001ad90: 656e 745d 2823 6d61 7463 6829 2e20 5468  ent](#match). Th
-0001ada0: 6520 606d 6174 6368 6020 6b65 7977 6f72  e `match` keywor
-0001adb0: 6420 6174 2074 6865 2062 6567 696e 6e69  d at the beginni
-0001adc0: 6e67 2069 7320 6f70 7469 6f6e 616c 2c20  ng is optional, 
-0001add0: 6275 7420 6973 2073 6f6d 6574 696d 6573  but is sometimes
-0001ade0: 206e 6563 6573 7361 7279 2074 6f20 6469   necessary to di
-0001adf0: 7361 6d62 6967 7561 7465 2064 6573 7472  sambiguate destr
-0001ae00: 7563 7475 7269 6e67 2061 7373 6967 6e6d  ucturing assignm
-0001ae10: 656e 7420 6672 6f6d 206e 6f72 6d61 6c20  ent from normal 
-0001ae20: 6173 7369 676e 6d65 6e74 2c20 7768 6963  assignment, whic
-0001ae30: 6820 7769 6c6c 2061 6c77 6179 7320 7461  h will always ta
-0001ae40: 6b65 2070 7265 6365 6465 6e63 652e 2043  ke precedence. C
-0001ae50: 6f63 6f6e 7574 2773 2064 6573 7472 7563  oconut's destruc
-0001ae60: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
-0001ae70: 7420 6973 2065 7175 6976 616c 656e 7420  t is equivalent 
-0001ae80: 746f 2061 206d 6174 6368 2073 7461 7465  to a match state
-0001ae90: 6d65 6e74 2074 6861 7420 666f 6c6c 6f77  ment that follow
-0001aea0: 7320 7468 6520 7379 6e74 6178 3a0d 0a60  s the syntax:..`
-0001aeb0: 6060 636f 636f 6e75 740d 0a6d 6174 6368  ``coconut..match
-0001aec0: 203c 7061 7474 6572 6e3e 2069 6e20 3c76   <pattern> in <v
-0001aed0: 616c 7565 3e3a 0d0a 2020 2020 7061 7373  alue>:..    pass
-0001aee0: 0d0a 656c 7365 3a0d 0a20 2020 2065 7272  ..else:..    err
-0001aef0: 203d 204d 6174 6368 4572 726f 7228 3c65   = MatchError(<e
-0001af00: 7272 6f72 206d 6573 7361 6765 3e29 0d0a  rror message>)..
-0001af10: 2020 2020 6572 722e 7061 7474 6572 6e20      err.pattern 
-0001af20: 3d20 223c 7061 7474 6572 6e3e 220d 0a20  = "<pattern>".. 
-0001af30: 2020 2065 7272 2e76 616c 7565 203d 203c     err.value = <
-0001af40: 7661 6c75 653e 0d0a 2020 2020 7261 6973  value>..    rais
-0001af50: 6520 6572 720d 0a60 6060 0d0a 4966 2061  e err..```..If a
-0001af60: 2064 6573 7472 7563 7475 7269 6e67 2061   destructuring a
-0001af70: 7373 6967 6e6d 656e 7420 7374 6174 656d  ssignment statem
-0001af80: 656e 7420 6661 696c 732c 2074 6865 6e20  ent fails, then 
-0001af90: 696e 7374 6561 6420 6f66 2063 6f6e 7469  instead of conti
-0001afa0: 6e75 696e 6720 6f6e 2061 7320 6966 2061  nuing on as if a
-0001afb0: 2060 6d61 7463 6860 2062 6c6f 636b 2068   `match` block h
-0001afc0: 6164 2066 6169 6c65 642c 2061 205b 604d  ad failed, a [`M
-0001afd0: 6174 6368 4572 726f 7260 5d28 236d 6174  atchError`](#mat
-0001afe0: 6368 6572 726f 7229 206f 626a 6563 7420  cherror) object 
-0001aff0: 7769 6c6c 2062 6520 7261 6973 6564 2064  will be raised d
-0001b000: 6573 6372 6962 696e 6720 7468 6520 6661  escribing the fa
-0001b010: 696c 7572 652e 0d0a 0d0a 2323 2323 2320  ilure.....##### 
-0001b020: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0001b030: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0001b040: 6e75 740d 0a5f 202b 205b 612c 2062 5d20  nut.._ + [a, b] 
-0001b050: 3d20 5b30 2c20 312c 2032 2c20 335d 0d0a  = [0, 1, 2, 3]..
-0001b060: 7072 696e 7428 612c 2062 290d 0a60 6060  print(a, b)..```
-0001b070: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0001b080: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0001b090: 7769 7468 6f75 7420 6120 6c6f 6e67 2073  without a long s
-0001b0a0: 6572 6965 7320 6f66 2063 6865 636b 7320  eries of checks 
-0001b0b0: 696e 2070 6c61 6365 206f 6620 7468 6520  in place of the 
-0001b0c0: 6465 7374 7275 6374 7572 696e 6720 6173  destructuring as
-0001b0d0: 7369 676e 6d65 6e74 2073 7461 7465 6d65  signment stateme
-0001b0e0: 6e74 2e20 5365 6520 7468 6520 636f 6d70  nt. See the comp
-0001b0f0: 696c 6564 2063 6f64 6520 666f 7220 7468  iled code for th
-0001b100: 6520 5079 7468 6f6e 2073 796e 7461 782e  e Python syntax.
-0001b110: 5f0d 0a0d 0a23 2323 2054 7970 6520 5061  _....### Type Pa
-0001b120: 7261 6d65 7465 7220 5379 6e74 6178 0d0a  rameter Syntax..
-0001b130: 0d0a 436f 636f 6e75 7420 6675 6c6c 7920  ..Coconut fully 
-0001b140: 7375 7070 6f72 7473 205b 5045 5020 3639  supports [PEP 69
-0001b150: 355d 2868 7474 7073 3a2f 2f70 6570 732e  5](https://peps.
-0001b160: 7079 7468 6f6e 2e6f 7267 2f70 6570 2d30  python.org/pep-0
-0001b170: 3639 352f 2920 7479 7065 2070 6172 616d  695/) type param
-0001b180: 6574 6572 2073 796e 7461 7820 2877 6974  eter syntax (wit
-0001b190: 6820 7468 6520 6361 7665 6174 2074 6861  h the caveat tha
-0001b1a0: 7420 616c 6c20 7479 7065 2076 6172 6961  t all type varia
-0001b1b0: 626c 6573 2061 7265 2069 6e76 6172 6961  bles are invaria
-0001b1c0: 6e74 2072 6174 6865 7220 7468 616e 2069  nt rather than i
-0001b1d0: 6e66 6572 7265 6429 2e0d 0a0d 0a54 6861  nferred).....Tha
-0001b1e0: 7420 696e 636c 7564 6573 2074 7970 6520  t includes type 
-0001b1f0: 7061 7261 6d65 7465 7273 2066 6f72 2063  parameters for c
-0001b200: 6c61 7373 6573 2c20 5b60 6461 7461 6020  lasses, [`data` 
-0001b210: 7479 7065 735d 2823 6461 7461 292c 2061  types](#data), a
-0001b220: 6e64 205b 616c 6c20 7479 7065 7320 6f66  nd [all types of
-0001b230: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001b240: 7469 6f6e 5d28 2366 756e 6374 696f 6e2d  tion](#function-
-0001b250: 6465 6669 6e69 7469 6f6e 292e 2046 6f72  definition). For
-0001b260: 2064 6966 6665 7265 6e74 2074 7970 6573   different types
-0001b270: 206f 6620 6675 6e63 7469 6f6e 2064 6566   of function def
-0001b280: 696e 6974 696f 6e2c 2074 6865 2074 7970  inition, the typ
-0001b290: 6520 7061 7261 6d65 7465 7273 2061 6c77  e parameters alw
-0001b2a0: 6179 7320 636f 6d65 2069 6e20 6272 6163  ays come in brac
-0001b2b0: 6b65 7473 2072 6967 6874 2061 6674 6572  kets right after
-0001b2c0: 2074 6865 2066 756e 6374 696f 6e20 6e61   the function na
-0001b2d0: 6d65 2e20 436f 636f 6e75 7427 7320 5b65  me. Coconut's [e
-0001b2e0: 6e68 616e 6365 6420 7479 7065 2061 6e6e  nhanced type ann
-0001b2f0: 6f74 6174 696f 6e20 7379 6e74 6178 5d28  otation syntax](
-0001b300: 2365 6e68 616e 6365 642d 7479 7065 2d61  #enhanced-type-a
-0001b310: 6e6e 6f74 6174 696f 6e29 2069 7320 7375  nnotation) is su
-0001b320: 7070 6f72 7465 6420 666f 7220 616c 6c20  pported for all 
-0001b330: 7479 7065 2070 6172 616d 6574 6572 2062  type parameter b
-0001b340: 6f75 6e64 732e 0d0a 0d0a 4164 6469 7469  ounds.....Additi
-0001b350: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-0001b360: 7375 7070 6f72 7473 2074 6865 2061 6c74  supports the alt
-0001b370: 6572 6e61 7469 7665 2062 6f75 6e64 7320  ernative bounds 
-0001b380: 7379 6e74 6178 206f 6620 6074 7970 6520  syntax of `type 
-0001b390: 4e65 7754 7970 655b 5420 3c3a 2062 6f75  NewType[T <: bou
-0001b3a0: 6e64 5d20 3d20 2e2e 2e60 2072 6174 6865  nd] = ...` rathe
-0001b3b0: 7220 7468 616e 2060 7479 7065 204e 6577  r than `type New
-0001b3c0: 5479 7065 5b54 3a20 626f 756e 645d 203d  Type[T: bound] =
-0001b3d0: 202e 2e2e 602c 2074 6f20 6d61 6b65 2069   ...`, to make i
-0001b3e0: 7420 6d6f 7265 2063 6c65 6172 2074 6861  t more clear tha
-0001b3f0: 7420 6974 2069 7320 616e 2075 7070 6572  t it is an upper
-0001b400: 2062 6f75 6e64 2072 6174 6865 7220 7468   bound rather th
-0001b410: 616e 2061 2074 7970 652e 2049 6e20 602d  an a type. In `-
-0001b420: 2d73 7472 6963 7460 206d 6f64 652c 2060  -strict` mode, `
-0001b430: 3c3a 6020 6973 2072 6571 7569 7265 6420  <:` is required 
-0001b440: 6f76 6572 2060 3a60 2066 6f72 2061 6c6c  over `:` for all
-0001b450: 2074 7970 6520 7061 7261 6d65 7465 7220   type parameter 
-0001b460: 626f 756e 6473 2e20 5f44 4550 5245 4341  bounds. _DEPRECA
-0001b470: 5445 443a 2060 3c3d 6020 6361 6e20 616c  TED: `<=` can al
-0001b480: 736f 2062 6520 7573 6564 2061 7320 616e  so be used as an
-0001b490: 2061 6c74 6572 6e61 7469 7665 2074 6f20   alternative to 
-0001b4a0: 603c 3a60 2e5f 0d0a 0d0a 5f4e 6f74 6520  `<:`._...._Note 
-0001b4b0: 7468 6174 2c20 6279 2064 6566 6175 6c74  that, by default
-0001b4c0: 2c20 616c 6c20 7479 7065 2064 6563 6c61  , all type decla
-0001b4d0: 7261 7469 6f6e 7320 6172 6520 7772 6170  rations are wrap
-0001b4e0: 7065 6420 696e 2073 7472 696e 6773 2074  ped in strings t
-0001b4f0: 6f20 656e 6162 6c65 2066 6f72 7761 7264  o enable forward
-0001b500: 2072 6566 6572 656e 6365 7320 616e 6420   references and 
-0001b510: 696d 7072 6f76 6520 7275 6e74 696d 6520  improve runtime 
-0001b520: 7065 7266 6f72 6d61 6e63 652e 2049 6620  performance. If 
-0001b530: 796f 7520 646f 6e27 7420 7761 6e74 2074  you don't want t
-0001b540: 6861 74e2 8094 652e 672e 2062 6563 6175  hat...e.g. becau
-0001b550: 7365 2079 6f75 2077 616e 7420 746f 2075  se you want to u
-0001b560: 7365 2074 7970 6520 616e 6e6f 7461 7469  se type annotati
-0001b570: 6f6e 7320 6174 2072 756e 7469 6d65 e280  ons at runtime..
-0001b580: 9473 696d 706c 7920 7061 7373 2074 6865  .simply pass the
-0001b590: 2060 2d2d 6e6f 2d77 7261 7060 2066 6c61   `--no-wrap` fla
-0001b5a0: 672e 5f0d 0a0d 0a23 2323 2323 2050 4550  g._....##### PEP
-0001b5b0: 2036 3935 2044 6f63 730d 0a0d 0a44 6566   695 Docs....Def
-0001b5c0: 696e 696e 6720 6120 6765 6e65 7269 6320  ining a generic 
-0001b5d0: 636c 6173 7320 7072 696f 7220 746f 2074  class prior to t
-0001b5e0: 6869 7320 5045 5020 6c6f 6f6b 7320 736f  his PEP looks so
-0001b5f0: 6d65 7468 696e 6720 6c69 6b65 2074 6869  mething like thi
-0001b600: 732e 0d0a 0d0a 6060 6063 6f63 6f6e 7574  s.....```coconut
-0001b610: 5f70 7974 686f 6e0d 0a66 726f 6d20 7479  _python..from ty
-0001b620: 7069 6e67 2069 6d70 6f72 7420 4765 6e65  ping import Gene
-0001b630: 7269 632c 2054 7970 6556 6172 0d0a 0d0a  ric, TypeVar....
-0001b640: 5f54 5f63 6f20 3d20 5479 7065 5661 7228  _T_co = TypeVar(
-0001b650: 225f 545f 636f 222c 2063 6f76 6172 6961  "_T_co", covaria
-0001b660: 6e74 3d54 7275 652c 2062 6f75 6e64 3d73  nt=True, bound=s
-0001b670: 7472 290d 0a0d 0a63 6c61 7373 2043 6c61  tr)....class Cla
-0001b680: 7373 4128 4765 6e65 7269 635b 5f54 5f63  ssA(Generic[_T_c
-0001b690: 6f5d 293a 0d0a 2020 2020 6465 6620 6d65  o]):..    def me
-0001b6a0: 7468 6f64 3128 7365 6c66 2920 2d3e 205f  thod1(self) -> _
-0001b6b0: 545f 636f 3a0d 0a20 2020 2020 2020 202e  T_co:..        .
-0001b6c0: 2e2e 0d0a 6060 600d 0a0d 0a57 6974 6820  ....```....With 
-0001b6d0: 7468 6520 6e65 7720 7379 6e74 6178 2c20  the new syntax, 
-0001b6e0: 6974 206c 6f6f 6b73 206c 696b 6520 7468  it looks like th
-0001b6f0: 6973 2e0d 0a0d 0a60 6060 636f 636f 6e75  is.....```coconu
-0001b700: 740d 0a63 6c61 7373 2043 6c61 7373 415b  t..class ClassA[
-0001b710: 543a 2073 7472 5d3a 0d0a 2020 2020 6465  T: str]:..    de
-0001b720: 6620 6d65 7468 6f64 3128 7365 6c66 2920  f method1(self) 
-0001b730: 2d3e 2054 3a0d 0a20 2020 2020 2020 202e  -> T:..        .
-0001b740: 2e2e 0d0a 6060 600d 0a0d 0a48 6572 6520  ....```....Here 
-0001b750: 6973 2061 6e20 6578 616d 706c 6520 6f66  is an example of
-0001b760: 2061 2067 656e 6572 6963 2066 756e 6374   a generic funct
-0001b770: 696f 6e20 746f 6461 792e 0d0a 0d0a 6060  ion today.....``
-0001b780: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0001b790: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
-0001b7a0: 6f72 7420 5479 7065 5661 720d 0a0d 0a5f  ort TypeVar...._
-0001b7b0: 5420 3d20 5479 7065 5661 7228 225f 5422  T = TypeVar("_T"
-0001b7c0: 290d 0a0d 0a64 6566 2066 756e 6328 613a  )....def func(a:
-0001b7d0: 205f 542c 2062 3a20 5f54 2920 2d3e 205f   _T, b: _T) -> _
-0001b7e0: 543a 0d0a 2020 2020 2e2e 2e0d 0a60 6060  T:..    .....```
-0001b7f0: 0d0a 0d0a 416e 6420 7468 6520 6e65 7720  ....And the new 
-0001b800: 7379 6e74 6178 2e0d 0a0d 0a60 6060 636f  syntax.....```co
-0001b810: 636f 6e75 740d 0a64 6566 2066 756e 635b  conut..def func[
-0001b820: 545d 2861 3a20 542c 2062 3a20 5429 202d  T](a: T, b: T) -
-0001b830: 3e20 543a 0d0a 2020 2020 2e2e 2e0d 0a60  > T:..    .....`
-0001b840: 6060 0d0a 0d0a 4865 7265 2069 7320 616e  ``....Here is an
-0001b850: 2065 7861 6d70 6c65 206f 6620 6120 6765   example of a ge
-0001b860: 6e65 7269 6320 7479 7065 2061 6c69 6173  neric type alias
-0001b870: 2074 6f64 6179 2e0d 0a0d 0a60 6060 636f   today.....```co
-0001b880: 636f 6e75 745f 7079 7468 6f6e 0d0a 6672  conut_python..fr
-0001b890: 6f6d 2074 7970 696e 6720 696d 706f 7274  om typing import
-0001b8a0: 2054 7970 6541 6c69 6173 0d0a 0d0a 5f54   TypeAlias...._T
-0001b8b0: 203d 2054 7970 6556 6172 2822 5f54 2229   = TypeVar("_T")
-0001b8c0: 0d0a 0d0a 4c69 7374 4f72 5365 743a 2054  ....ListOrSet: T
-0001b8d0: 7970 6541 6c69 6173 203d 206c 6973 745b  ypeAlias = list[
-0001b8e0: 5f54 5d20 7c20 7365 745b 5f54 5d0d 0a60  _T] | set[_T]..`
-0001b8f0: 6060 0d0a 0d0a 416e 6420 7769 7468 2074  ``....And with t
-0001b900: 6865 206e 6577 2073 796e 7461 782e 0d0a  he new syntax...
-0001b910: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 7479  ..```coconut..ty
-0001b920: 7065 204c 6973 744f 7253 6574 5b54 5d20  pe ListOrSet[T] 
-0001b930: 3d20 6c69 7374 5b54 5d20 7c20 7365 745b  = list[T] | set[
-0001b940: 545d 0d0a 6060 600d 0a0d 0a0d 0a23 2323  T]..```......###
-0001b950: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-0001b960: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-0001b970: 6f63 6f6e 7574 0d0a 6461 7461 2044 5b54  oconut..data D[T
-0001b980: 5d28 783a 2054 2c20 793a 2054 290d 0a0d  ](x: T, y: T)...
-0001b990: 0a64 6566 206d 795f 6964 656e 745b 545d  .def my_ident[T]
-0001b9a0: 2878 3a20 5429 202d 3e20 5420 3d20 780d  (x: T) -> T = x.
-0001b9b0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-0001b9c0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
-0001b9d0: 6f6e 6520 7769 7468 6f75 7420 6120 636f  one without a co
-0001b9e0: 6d70 6c65 7820 6465 6669 6e69 7469 6f6e  mplex definition
-0001b9f0: 2066 6f72 2074 6865 2064 6174 6120 7479   for the data ty
-0001ba00: 7065 2e20 5365 6520 7468 6520 636f 6d70  pe. See the comp
-0001ba10: 696c 6564 2063 6f64 6520 666f 7220 7468  iled code for th
-0001ba20: 6520 5079 7468 6f6e 2073 796e 7461 782e  e Python syntax.
-0001ba30: 5f0d 0a0d 0a23 2323 2049 6d70 6c69 6369  _....### Implici
-0001ba40: 7420 6070 6173 7360 0d0a 0d0a 436f 636f  t `pass`....Coco
-0001ba50: 6e75 7420 7375 7070 6f72 7473 2074 6865  nut supports the
-0001ba60: 2073 696d 706c 6520 6063 6c61 7373 206e   simple `class n
-0001ba70: 616d 6528 6261 7365 2960 2061 6e64 2060  ame(base)` and `
-0001ba80: 6461 7461 206e 616d 6528 6172 6773 2960  data name(args)`
-0001ba90: 2061 7320 616c 6961 7365 7320 666f 7220   as aliases for 
-0001baa0: 6063 6c61 7373 206e 616d 6528 6261 7365  `class name(base
-0001bab0: 293a 2070 6173 7360 2061 6e64 2060 6461  ): pass` and `da
-0001bac0: 7461 206e 616d 6528 6172 6773 293a 2070  ta name(args): p
-0001bad0: 6173 7360 2e0d 0a0d 0a23 2323 2323 2045  ass`.....##### E
-0001bae0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-0001baf0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-0001bb00: 7574 0d0a 636c 6173 7320 5472 6565 0d0a  ut..class Tree..
-0001bb10: 6461 7461 2045 6d70 7479 2066 726f 6d20  data Empty from 
-0001bb20: 5472 6565 0d0a 6461 7461 204c 6561 6628  Tree..data Leaf(
-0001bb30: 6974 656d 2920 6672 6f6d 2054 7265 650d  item) from Tree.
-0001bb40: 0a64 6174 6120 4e6f 6465 286c 6566 742c  .data Node(left,
-0001bb50: 2072 6967 6874 2920 6672 6f6d 2054 7265   right) from Tre
-0001bb60: 650d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  e..```....**Pyth
-0001bb70: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
-0001bb80: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-0001bb90: 7365 7269 6573 206f 6620 6d65 7468 6f64  series of method
-0001bba0: 2064 6566 696e 6974 696f 6e73 2066 6f72   definitions for
-0001bbb0: 2065 6163 6820 6461 7461 2074 7970 652e   each data type.
-0001bbc0: 2053 6565 2074 6865 2063 6f6d 7069 6c65   See the compile
-0001bbd0: 6420 636f 6465 2066 6f72 2074 6865 2050  d code for the P
-0001bbe0: 7974 686f 6e20 7379 6e74 6178 2e5f 0d0a  ython syntax._..
-0001bbf0: 0d0a 2323 2320 4465 636f 7261 746f 7273  ..### Decorators
-0001bc00: 0d0a 0d0a 556e 6c69 6b65 2050 7974 686f  ....Unlike Pytho
-0001bc10: 6e2c 2077 6869 6368 206f 6e6c 7920 7375  n, which only su
-0001bc20: 7070 6f72 7473 2061 2073 696e 676c 6520  pports a single 
-0001bc30: 7661 7269 6162 6c65 206f 7220 6675 6e63  variable or func
-0001bc40: 7469 6f6e 2063 616c 6c20 696e 2061 2064  tion call in a d
-0001bc50: 6563 6f72 6174 6f72 2c20 436f 636f 6e75  ecorator, Coconu
-0001bc60: 7420 7375 7070 6f72 7473 2061 6e79 2065  t supports any e
-0001bc70: 7870 7265 7373 696f 6e20 6173 2069 6e20  xpression as in 
-0001bc80: 5b50 4550 2036 3134 5d28 6874 7470 733a  [PEP 614](https:
-0001bc90: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
-0001bca0: 2f64 6576 2f70 6570 732f 7065 702d 3036  /dev/peps/pep-06
-0001bcb0: 3134 2f29 2e0d 0a0d 0a23 2323 2323 2045  14/).....##### E
-0001bcc0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-0001bcd0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-0001bce0: 7574 0d0a 4020 7772 6170 7065 7231 202e  ut..@ wrapper1 .
-0001bcf0: 2e20 7772 6170 7065 7232 2428 6172 6729  . wrapper2$(arg)
-0001bd00: 0d0a 6465 6620 6675 6e63 2878 2920 3d20  ..def func(x) = 
-0001bd10: 782a 2a32 0d0a 6060 600d 0a0d 0a2a 2a50  x**2..```....**P
-0001bd20: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
-0001bd30: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
-0001bd40: 2077 7261 7070 6572 2866 756e 6329 3a0d   wrapper(func):.
-0001bd50: 0a20 2020 2072 6574 7572 6e20 7772 6170  .    return wrap
-0001bd60: 7065 7231 2877 7261 7070 6572 3228 6172  per1(wrapper2(ar
-0001bd70: 672c 2066 756e 6329 290d 0a40 7772 6170  g, func))..@wrap
-0001bd80: 7065 720d 0a64 6566 2066 756e 6328 7829  per..def func(x)
-0001bd90: 3a0d 0a20 2020 2072 6574 7572 6e20 782a  :..    return x*
-0001bda0: 2a32 0d0a 6060 600d 0a0d 0a23 2323 2053  *2..```....### S
-0001bdb0: 7461 7465 6d65 6e74 204e 6573 7469 6e67  tatement Nesting
-0001bdc0: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
-0001bdd0: 6f72 7473 2074 6865 206e 6573 7469 6e67  orts the nesting
-0001bde0: 206f 6620 636f 6d70 6f75 6e64 2073 7461   of compound sta
-0001bdf0: 7465 6d65 6e74 7320 6f6e 2074 6865 2073  tements on the s
-0001be00: 616d 6520 6c69 6e65 2e20 5468 6973 2061  ame line. This a
-0001be10: 6c6c 6f77 7320 7468 6520 6d69 7869 6e67  llows the mixing
-0001be20: 206f 6620 606d 6174 6368 6020 616e 6420   of `match` and 
-0001be30: 6069 6660 2073 7461 7465 6d65 6e74 7320  `if` statements 
-0001be40: 746f 6765 7468 6572 2c20 6173 2077 656c  together, as wel
-0001be50: 6c20 6173 2063 6f6d 706f 756e 6420 6074  l as compound `t
-0001be60: 7279 6020 7374 6174 656d 656e 7473 2e0d  ry` statements..
-0001be70: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0001be80: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-0001be90: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6966  ..```coconut..if
-0001bea0: 2069 6e76 616c 6964 2869 6e70 7574 5f6c   invalid(input_l
-0001beb0: 6973 7429 3a0d 0a20 2020 2072 6169 7365  ist):..    raise
-0001bec0: 2045 7863 6570 7469 6f6e 2829 0d0a 656c   Exception()..el
-0001bed0: 7365 3a20 6d61 7463 6820 5b68 6561 645d  se: match [head]
-0001bee0: 202b 2074 6169 6c20 696e 2069 6e70 7574   + tail in input
-0001bef0: 5f6c 6973 743a 0d0a 2020 2020 7072 696e  _list:..    prin
-0001bf00: 7428 6865 6164 2c20 7461 696c 290d 0a65  t(head, tail)..e
-0001bf10: 6c73 653a 0d0a 2020 2020 7072 696e 7428  lse:..    print(
-0001bf20: 696e 7075 745f 6c69 7374 290d 0a60 6060  input_list)..```
-0001bf30: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0001bf40: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0001bf50: 6f6e 0d0a 6672 6f6d 2063 6f6c 6c65 6374  on..from collect
-0001bf60: 696f 6e73 2e61 6263 2069 6d70 6f72 7420  ions.abc import 
-0001bf70: 5365 7175 656e 6365 0d0a 6966 2069 6e76  Sequence..if inv
-0001bf80: 616c 6964 2869 6e70 7574 5f6c 6973 7429  alid(input_list)
-0001bf90: 3a0d 0a20 2020 2072 6169 7365 2045 7863  :..    raise Exc
-0001bfa0: 6570 7469 6f6e 2829 0d0a 656c 6966 2069  eption()..elif i
-0001bfb0: 7369 6e73 7461 6e63 6528 696e 7075 745f  sinstance(input_
-0001bfc0: 6c69 7374 2c20 5365 7175 656e 6365 2920  list, Sequence) 
-0001bfd0: 616e 6420 6c65 6e28 696e 7075 745f 6c69  and len(input_li
-0001bfe0: 7374 2920 3e3d 2031 3a0d 0a20 2020 2068  st) >= 1:..    h
-0001bff0: 6561 642c 2074 6169 6c20 3d20 696e 7075  ead, tail = inpu
-0001c000: 746c 6973 745b 305d 2c20 696e 7075 746c  tlist[0], inputl
-0001c010: 6973 745b 313a 5d0d 0a20 2020 2070 7269  ist[1:]..    pri
-0001c020: 6e74 2868 6561 642c 2074 6169 6c29 0d0a  nt(head, tail)..
-0001c030: 656c 7365 3a0d 0a20 2020 2070 7269 6e74  else:..    print
-0001c040: 2869 6e70 7574 5f6c 6973 7429 0d0a 6060  (input_list)..``
-0001c050: 600d 0a0d 0a23 2323 2060 6578 6365 7074  `....### `except
-0001c060: 6020 5374 6174 656d 656e 7473 0d0a 0d0a  ` Statements....
-0001c070: 5079 7468 6f6e 2033 2072 6571 7569 7265  Python 3 require
-0001c080: 7320 7468 6174 2069 6620 6d75 6c74 6970  s that if multip
-0001c090: 6c65 2065 7863 6570 7469 6f6e 7320 6172  le exceptions ar
-0001c0a0: 6520 746f 2062 6520 6361 7567 6874 2c20  e to be caught, 
-0001c0b0: 7468 6579 206d 7573 7420 6265 2070 6c61  they must be pla
-0001c0c0: 6365 6420 696e 7369 6465 206f 6620 7061  ced inside of pa
-0001c0d0: 7265 6e74 6865 7365 732c 2073 6f20 6173  rentheses, so as
-0001c0e0: 2074 6f20 6469 7361 6c6c 6f77 2050 7974   to disallow Pyt
-0001c0f0: 686f 6e20 3227 7320 7573 6520 6f66 2061  hon 2's use of a
-0001c100: 2063 6f6d 6d61 2069 6e73 7465 6164 206f   comma instead o
-0001c110: 6620 6061 7360 2e20 436f 636f 6e75 7420  f `as`. Coconut 
-0001c120: 616c 6c6f 7773 2063 6f6d 6d61 7320 696e  allows commas in
-0001c130: 2065 7863 6570 7420 7374 6174 656d 656e   except statemen
-0001c140: 7473 2074 6f20 7472 616e 736c 6174 6520  ts to translate 
-0001c150: 746f 2063 6174 6368 696e 6720 6d75 6c74  to catching mult
-0001c160: 6970 6c65 2065 7863 6570 7469 6f6e 7320  iple exceptions 
-0001c170: 7769 7468 6f75 7420 7468 6520 6e65 6564  without the need
-0001c180: 2066 6f72 2070 6172 656e 7468 6573 6573   for parentheses
-0001c190: 2c20 7369 6e63 652c 2061 7320 696e 2050  , since, as in P
-0001c1a0: 7974 686f 6e20 332c 2060 6173 6020 6973  ython 3, `as` is
-0001c1b0: 2061 6c77 6179 7320 7265 7175 6972 6564   always required
-0001c1c0: 2074 6f20 6269 6e64 2074 6865 2065 7863   to bind the exc
-0001c1d0: 6570 7469 6f6e 2074 6f20 6120 6e61 6d65  eption to a name
-0001c1e0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-0001c1f0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-0001c200: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-0001c210: 7472 793a 0d0a 2020 2020 756e 7361 6665  try:..    unsafe
-0001c220: 5f66 756e 6328 6172 6729 0d0a 6578 6365  _func(arg)..exce
-0001c230: 7074 2053 796e 7461 7845 7272 6f72 2c20  pt SyntaxError, 
-0001c240: 5661 6c75 6545 7272 6f72 2061 7320 6572  ValueError as er
-0001c250: 723a 0d0a 2020 2020 6861 6e64 6c65 2865  r:..    handle(e
-0001c260: 7272 290d 0a60 6060 0d0a 0d0a 2a2a 5079  rr)..```....**Py
-0001c270: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-0001c280: 6e75 745f 7079 7468 6f6e 0d0a 7472 793a  nut_python..try:
-0001c290: 0d0a 2020 2020 756e 7361 6665 5f66 756e  ..    unsafe_fun
-0001c2a0: 6328 6172 6729 0d0a 6578 6365 7074 2028  c(arg)..except (
-0001c2b0: 5379 6e74 6178 4572 726f 722c 2056 616c  SyntaxError, Val
-0001c2c0: 7565 4572 726f 7229 2061 7320 6572 723a  ueError) as err:
-0001c2d0: 0d0a 2020 2020 6861 6e64 6c65 2865 7272  ..    handle(err
-0001c2e0: 290d 0a60 6060 0d0a 0d0a 2323 2320 496e  )..```....### In
-0001c2f0: 2d6c 696e 6520 6067 6c6f 6261 6c60 2041  -line `global` A
-0001c300: 6e64 2060 6e6f 6e6c 6f63 616c 6020 4173  nd `nonlocal` As
-0001c310: 7369 676e 6d65 6e74 0d0a 0d0a 436f 636f  signment....Coco
-0001c320: 6e75 7420 616c 6c6f 7773 2066 6f72 2060  nut allows for `
-0001c330: 676c 6f62 616c 6020 6f72 2060 6e6f 6e6c  global` or `nonl
-0001c340: 6f63 616c 6020 746f 2070 7265 6365 6465  ocal` to precede
-0001c350: 2061 7373 6967 6e6d 656e 7420 746f 2061   assignment to a
-0001c360: 206c 6973 7420 6f66 2076 6172 6961 626c   list of variabl
-0001c370: 6573 206f 7220 2861 7567 6d65 6e74 6564  es or (augmented
-0001c380: 2920 6173 7369 676e 6d65 6e74 2074 6f20  ) assignment to 
-0001c390: 6120 7661 7269 6162 6c65 2074 6f20 6d61  a variable to ma
-0001c3a0: 6b65 2074 6861 7420 6173 7369 676e 6d65  ke that assignme
-0001c3b0: 6e74 2060 676c 6f62 616c 6020 6f72 2060  nt `global` or `
-0001c3c0: 6e6f 6e6c 6f63 616c 602c 2072 6573 7065  nonlocal`, respe
-0001c3d0: 6374 6976 656c 792e 0d0a 0d0a 2323 2323  ctively.....####
-0001c3e0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-0001c3f0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-0001c400: 636f 6e75 740d 0a67 6c6f 6261 6c20 7374  conut..global st
-0001c410: 6174 655f 612c 2073 7461 7465 5f62 203d  ate_a, state_b =
-0001c420: 2031 302c 2031 3030 0d0a 676c 6f62 616c   10, 100..global
-0001c430: 2073 7461 7465 5f63 202b 3d20 310d 0a60   state_c += 1..`
-0001c440: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0001c450: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0001c460: 7468 6f6e 0d0a 676c 6f62 616c 2073 7461  thon..global sta
-0001c470: 7465 5f61 2c20 7374 6174 655f 623b 2073  te_a, state_b; s
-0001c480: 7461 7465 5f61 2c20 7374 6174 655f 6220  tate_a, state_b 
-0001c490: 3d20 3130 2c20 3130 300d 0a67 6c6f 6261  = 10, 100..globa
-0001c4a0: 6c20 7374 6174 655f 633b 2073 7461 7465  l state_c; state
-0001c4b0: 5f63 202b 3d20 310d 0a60 6060 0d0a 0d0a  _c += 1..```....
-0001c4c0: 2323 2320 436f 6465 2050 6173 7374 6872  ### Code Passthr
-0001c4d0: 6f75 6768 0d0a 0d0a 436f 636f 6e75 7420  ough....Coconut 
-0001c4e0: 7375 7070 6f72 7473 2074 6865 2061 6269  supports the abi
-0001c4f0: 6c69 7479 2074 6f20 7061 7373 2061 7262  lity to pass arb
-0001c500: 6974 7261 7279 2063 6f64 6520 7468 726f  itrary code thro
-0001c510: 7567 6820 7468 6520 636f 6d70 696c 6572  ugh the compiler
-0001c520: 2077 6974 686f 7574 2062 6569 6e67 2074   without being t
-0001c530: 6f75 6368 6564 2c20 666f 7220 636f 6d70  ouched, for comp
-0001c540: 6174 6962 696c 6974 7920 7769 7468 206f  atibility with o
-0001c550: 7468 6572 2076 6172 6961 6e74 7320 6f66  ther variants of
-0001c560: 2050 7974 686f 6e2c 2073 7563 6820 6173   Python, such as
-0001c570: 205b 4379 7468 6f6e 5d28 6874 7470 3a2f   [Cython](http:/
-0001c580: 2f63 7974 686f 6e2e 6f72 672f 2920 6f72  /cython.org/) or
-0001c590: 205b 4d79 7468 6f6e 5d28 6874 7470 3a2f   [Mython](http:/
-0001c5a0: 2f6d 7974 686f 6e2e 6f72 672f 292e 2041  /mython.org/). A
-0001c5b0: 6e79 7468 696e 6720 706c 6163 6564 2062  nything placed b
-0001c5c0: 6574 7765 656e 2060 5c28 6020 616e 6420  etween `\(` and 
-0001c5d0: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
-0001c5e0: 6720 636c 6f73 6520 7061 7265 6e74 6865  g close parenthe
-0001c5f0: 7369 7320 7769 6c6c 2062 6520 7061 7373  sis will be pass
-0001c600: 6564 2074 6872 6f75 6768 2c20 6173 2077  ed through, as w
-0001c610: 656c 6c20 6173 2061 6e79 206c 696e 6520  ell as any line 
-0001c620: 7374 6172 7469 6e67 2077 6974 6820 605c  starting with `\
-0001c630: 5c60 2c20 7768 6963 6820 7769 6c6c 2068  \`, which will h
-0001c640: 6176 6520 7468 6520 6164 6469 7469 6f6e  ave the addition
-0001c650: 616c 2065 6666 6563 7420 6f66 2061 6c6c  al effect of all
-0001c660: 6f77 696e 6720 696e 6465 6e74 6174 696f  owing indentatio
-0001c670: 6e20 756e 6465 7220 6974 2e0d 0a0d 0a23  n under it.....#
-0001c680: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-0001c690: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-0001c6a0: 6063 6f63 6f6e 7574 0d0a 5c5c 6364 6566  `coconut..\\cdef
-0001c6b0: 2066 2878 293a 0d0a 2020 2020 7265 7475   f(x):..    retu
-0001c6c0: 726e 2078 207c 3e20 670d 0a60 6060 0d0a  rn x |> g..```..
-0001c6d0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-0001c6e0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-0001c6f0: 0d0a 6364 6566 2066 2878 293a 0d0a 2020  ..cdef f(x):..  
-0001c700: 2020 7265 7475 726e 2067 2878 290d 0a60    return g(x)..`
-0001c710: 6060 0d0a 0d0a 2323 2320 456e 6861 6e63  ``....### Enhanc
-0001c720: 6564 2050 6172 656e 7468 6574 6963 616c  ed Parenthetical
-0001c730: 2043 6f6e 7469 6e75 6174 696f 6e0d 0a0d   Continuation...
-0001c740: 0a53 696e 6365 2043 6f63 6f6e 7574 2073  .Since Coconut s
-0001c750: 796e 7461 7820 6973 2061 2073 7570 6572  yntax is a super
-0001c760: 7365 7420 6f66 2050 7974 686f 6e20 3320  set of Python 3 
-0001c770: 7379 6e74 6178 2c20 436f 636f 6e75 7420  syntax, Coconut 
-0001c780: 7375 7070 6f72 7473 2074 6865 2073 616d  supports the sam
-0001c790: 6520 6c69 6e65 2063 6f6e 7469 6e75 6174  e line continuat
-0001c7a0: 696f 6e20 7379 6e74 6178 2061 7320 5079  ion syntax as Py
-0001c7b0: 7468 6f6e 2e20 5468 6174 206d 6561 6e73  thon. That means
-0001c7c0: 2062 6f74 6820 6261 636b 736c 6173 6820   both backslash 
-0001c7d0: 6c69 6e65 2063 6f6e 7469 6e75 6174 696f  line continuatio
-0001c7e0: 6e20 616e 6420 696d 706c 6965 6420 6c69  n and implied li
-0001c7f0: 6e65 2063 6f6e 7469 6e75 6174 696f 6e20  ne continuation 
-0001c800: 696e 7369 6465 206f 6620 7061 7265 6e74  inside of parent
-0001c810: 6865 7365 732c 2062 7261 636b 6574 732c  heses, brackets,
-0001c820: 206f 7220 6272 6163 6573 2077 696c 6c20   or braces will 
-0001c830: 616c 6c20 776f 726b 2e0d 0a0d 0a49 6e20  all work.....In 
-0001c840: 5079 7468 6f6e 2c20 686f 7765 7665 722c  Python, however,
-0001c850: 2074 6865 7265 2061 7265 2073 6f6d 6520   there are some 
-0001c860: 6361 7365 7320 2873 7563 6820 6173 206d  cases (such as m
-0001c870: 756c 7469 706c 6520 6077 6974 6860 2073  ultiple `with` s
-0001c880: 7461 7465 6d65 6e74 7329 2077 6865 7265  tatements) where
-0001c890: 206f 6e6c 7920 6261 636b 736c 6173 6820   only backslash 
-0001c8a0: 636f 6e74 696e 7561 7469 6f6e 2c20 616e  continuation, an
-0001c8b0: 6420 6e6f 7420 7061 7265 6e74 6865 7469  d not parentheti
-0001c8c0: 6361 6c20 636f 6e74 696e 7561 7469 6f6e  cal continuation
-0001c8d0: 2c20 6973 2073 7570 706f 7274 6564 2e20  , is supported. 
-0001c8e0: 436f 636f 6e75 7420 6164 6473 2073 7570  Coconut adds sup
-0001c8f0: 706f 7274 2066 6f72 2070 6172 656e 7468  port for parenth
-0001c900: 6574 6963 616c 2063 6f6e 7469 6e75 6174  etical continuat
-0001c910: 696f 6e20 696e 2061 6c6c 2074 6865 7365  ion in all these
-0001c920: 2063 6173 6573 2e20 5468 6973 2061 6c73   cases. This als
-0001c930: 6f20 696e 636c 7564 6573 2073 7570 706f  o includes suppo
-0001c940: 7274 2061 7320 7065 7220 5b50 4550 2036  rt as per [PEP 6
-0001c950: 3739 5d28 6874 7470 733a 2f2f 7065 7073  79](https://peps
-0001c960: 2e70 7974 686f 6e2e 6f72 672f 7065 702d  .python.org/pep-
-0001c970: 3036 3739 2920 666f 7220 7061 7265 6e74  0679) for parent
-0001c980: 6865 7369 7a65 6420 6061 7373 6572 7460  hesized `assert`
-0001c990: 2073 7461 7465 6d65 6e74 732e 0d0a 0d0a   statements.....
-0001c9a0: 5375 7070 6f72 7469 6e67 2070 6172 656e  Supporting paren
-0001c9b0: 7468 6574 6963 616c 2063 6f6e 7469 6e75  thetical continu
-0001c9c0: 6174 696f 6e20 6576 6572 7977 6865 7265  ation everywhere
-0001c9d0: 2061 6c6c 6f77 7320 7468 6520 5b50 4550   allows the [PEP
-0001c9e0: 2038 5d28 6874 7470 733a 2f2f 7777 772e   8](https://www.
-0001c9f0: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
-0001ca00: 6570 732f 7065 702d 3030 3038 2f29 2063  eps/pep-0008/) c
-0001ca10: 6f6e 7665 6e74 696f 6e2c 2077 6869 6368  onvention, which
-0001ca20: 2061 766f 6964 7320 6261 636b 736c 6173   avoids backslas
-0001ca30: 6820 636f 6e74 696e 7561 7469 6f6e 2069  h continuation i
-0001ca40: 6e20 6661 766f 7220 6f66 2069 6d70 6c69  n favor of impli
-0001ca50: 6564 2070 6172 656e 7468 6574 6963 616c  ed parenthetical
-0001ca60: 2063 6f6e 7469 6e75 6174 696f 6e2c 2074   continuation, t
-0001ca70: 6f20 616c 7761 7973 2062 6520 706f 7373  o always be poss
-0001ca80: 6962 6c65 2074 6f20 666f 6c6c 6f77 2e20  ible to follow. 
-0001ca90: 4672 6f6d 2050 4550 2038 3a0d 0a0d 0a3e  From PEP 8:....>
-0001caa0: 2054 6865 2070 7265 6665 7272 6564 2077   The preferred w
-0001cab0: 6179 206f 6620 7772 6170 7069 6e67 206c  ay of wrapping l
-0001cac0: 6f6e 6720 6c69 6e65 7320 6973 2062 7920  ong lines is by 
-0001cad0: 7573 696e 6720 5079 7468 6f6e 2773 2069  using Python's i
-0001cae0: 6d70 6c69 6564 206c 696e 6520 636f 6e74  mplied line cont
-0001caf0: 696e 7561 7469 6f6e 2069 6e73 6964 6520  inuation inside 
-0001cb00: 7061 7265 6e74 6865 7365 732c 2062 7261  parentheses, bra
-0001cb10: 636b 6574 7320 616e 6420 6272 6163 6573  ckets and braces
-0001cb20: 2e20 4c6f 6e67 206c 696e 6573 2063 616e  . Long lines can
-0001cb30: 2062 6520 6272 6f6b 656e 206f 7665 7220   be broken over 
-0001cb40: 6d75 6c74 6970 6c65 206c 696e 6573 2062  multiple lines b
-0001cb50: 7920 7772 6170 7069 6e67 2065 7870 7265  y wrapping expre
-0001cb60: 7373 696f 6e73 2069 6e20 7061 7265 6e74  ssions in parent
-0001cb70: 6865 7365 732e 2054 6865 7365 2073 686f  heses. These sho
-0001cb80: 756c 6420 6265 2075 7365 6420 696e 2070  uld be used in p
-0001cb90: 7265 6665 7265 6e63 6520 746f 2075 7369  reference to usi
-0001cba0: 6e67 2061 2062 6163 6b73 6c61 7368 2066  ng a backslash f
-0001cbb0: 6f72 206c 696e 6520 636f 6e74 696e 7561  or line continua
-0001cbc0: 7469 6f6e 2e0d 0a0d 0a5f 4e6f 7465 3a20  tion....._Note: 
-0001cbd0: 5061 7373 696e 6720 602d 2d73 7472 6963  Passing `--stric
-0001cbe0: 7460 2077 696c 6c20 656e 666f 7263 6520  t` will enforce 
-0001cbf0: 7468 6520 5045 5020 3820 636f 6e76 656e  the PEP 8 conven
-0001cc00: 7469 6f6e 2062 7920 6469 7361 6c6c 6f77  tion by disallow
-0001cc10: 696e 6720 6261 636b 736c 6173 6820 636f  ing backslash co
-0001cc20: 6e74 696e 7561 7469 6f6e 732e 5f0d 0a0d  ntinuations._...
-0001cc30: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-0001cc40: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-0001cc50: 6060 6063 6f63 6f6e 7574 0d0a 7769 7468  ```coconut..with
-0001cc60: 2028 6f70 656e 2827 2f70 6174 682f 746f   (open('/path/to
-0001cc70: 2f73 6f6d 652f 6669 6c65 2f79 6f75 2f77  /some/file/you/w
-0001cc80: 616e 742f 746f 2f72 6561 6427 2920 6173  ant/to/read') as
-0001cc90: 2066 696c 655f 312c 0d0a 2020 2020 2020   file_1,..      
-0001cca0: 6f70 656e 2827 2f70 6174 682f 746f 2f73  open('/path/to/s
-0001ccb0: 6f6d 652f 6669 6c65 2f62 6569 6e67 2f77  ome/file/being/w
-0001ccc0: 7269 7474 656e 272c 2027 7727 2920 6173  ritten', 'w') as
-0001ccd0: 2066 696c 655f 3229 3a0d 0a20 2020 2066   file_2):..    f
-0001cce0: 696c 655f 322e 7772 6974 6528 6669 6c65  ile_2.write(file
-0001ccf0: 5f31 2e72 6561 6428 2929 0d0a 6060 600d  _1.read())..```.
-0001cd00: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0001cd10: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0001cd20: 6e0d 0a23 2073 706c 6974 2069 6e74 6f20  n..# split into 
-0001cd30: 7477 6f20 7769 7468 2073 7461 7465 6d65  two with stateme
-0001cd40: 6e74 7320 666f 7220 5079 7468 6f6e 2032  nts for Python 2
-0001cd50: 2e36 2063 6f6d 7061 7469 6269 6c69 7479  .6 compatibility
-0001cd60: 0d0a 7769 7468 206f 7065 6e28 272f 7061  ..with open('/pa
-0001cd70: 7468 2f74 6f2f 736f 6d65 2f66 696c 652f  th/to/some/file/
-0001cd80: 796f 752f 7761 6e74 2f74 6f2f 7265 6164  you/want/to/read
-0001cd90: 2729 2061 7320 6669 6c65 5f31 3a0d 0a20  ') as file_1:.. 
-0001cda0: 2020 2077 6974 6820 6f70 656e 2827 2f70     with open('/p
-0001cdb0: 6174 682f 746f 2f73 6f6d 652f 6669 6c65  ath/to/some/file
-0001cdc0: 2f62 6569 6e67 2f77 7269 7474 656e 272c  /being/written',
-0001cdd0: 2027 7727 2920 6173 2066 696c 655f 323a   'w') as file_2:
-0001cde0: 0d0a 2020 2020 2020 2020 6669 6c65 5f32  ..        file_2
-0001cdf0: 2e77 7269 7465 2866 696c 655f 312e 7265  .write(file_1.re
-0001ce00: 6164 2829 290d 0a60 6060 0d0a 0d0a 2323  ad())..```....##
-0001ce10: 2320 4173 7369 676e 6d65 6e74 2045 7870  # Assignment Exp
-0001ce20: 7265 7373 696f 6e20 4368 6169 6e69 6e67  ression Chaining
-0001ce30: 0d0a 0d0a 556e 6c69 6b65 2050 7974 686f  ....Unlike Pytho
-0001ce40: 6e2c 2043 6f63 6f6e 7574 2061 6c6c 6f77  n, Coconut allow
-0001ce50: 7320 6173 7369 676e 6d65 6e74 2065 7870  s assignment exp
-0001ce60: 7265 7373 696f 6e73 2074 6f20 6265 2063  ressions to be c
-0001ce70: 6861 696e 6564 2c20 6173 2069 6e20 6061  hained, as in `a
-0001ce80: 203a 3d20 6220 3a3d 2063 602e 204e 6f74   := b := c`. Not
-0001ce90: 652c 2068 6f77 6576 6572 2c20 7468 6174  e, however, that
-0001cea0: 2061 7373 6967 6e6d 656e 7420 6578 7072   assignment expr
-0001ceb0: 6573 7369 6f6e 7320 696e 2067 656e 6572  essions in gener
-0001cec0: 616c 2061 7265 2063 7572 7265 6e74 6c79  al are currently
-0001ced0: 206f 6e6c 7920 7375 7070 6f72 7465 6420   only supported 
-0001cee0: 6f6e 2060 2d2d 7461 7267 6574 2033 2e38  on `--target 3.8
-0001cef0: 6020 6f72 2068 6967 6865 722e 0d0a 0d0a  ` or higher.....
-0001cf00: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-0001cf10: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-0001cf20: 6060 636f 636f 6e75 740d 0a28 6120 3a3d  ``coconut..(a :=
-0001cf30: 2062 203a 3d20 3129 0d0a 6060 600d 0a0d   b := 1)..```...
-0001cf40: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-0001cf50: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0001cf60: 0a28 6120 3a3d 2028 6220 3a3d 2031 2929  .(a := (b := 1))
-0001cf70: 0d0a 6060 600d 0a0d 0a23 2320 4275 696c  ..```....## Buil
-0001cf80: 742d 496e 730d 0a0d 0a60 6060 7b63 6f6e  t-Ins....```{con
-0001cf90: 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63  tents}..---..loc
-0001cfa0: 616c 3a0d 0a64 6570 7468 3a20 320d 0a2d  al:..depth: 2..-
-0001cfb0: 2d2d 0d0a 6060 600d 0a0d 0a23 2323 2042  --..```....### B
-0001cfc0: 7569 6c74 2d49 6e20 4675 6e63 7469 6f6e  uilt-In Function
-0001cfd0: 2044 6563 6f72 6174 6f72 730d 0a0d 0a60   Decorators....`
-0001cfe0: 6060 7b63 6f6e 7465 6e74 737d 0d0a 2d2d  ``{contents}..--
-0001cff0: 2d0d 0a6c 6f63 616c 3a0d 0a64 6570 7468  -..local:..depth
-0001d000: 3a20 310d 0a2d 2d2d 0d0a 6060 600d 0a0d  : 1..---..```...
-0001d010: 0a23 2323 2320 6061 6464 7061 7474 6572  .#### `addpatter
-0001d020: 6e60 0d0a 0d0a 2a2a 6164 6470 6174 7465  n`....**addpatte
-0001d030: 726e 2a2a 285f 6261 7365 5c5f 6675 6e63  rn**(_base\_func
-0001d040: 5f2c 202a 5f61 6464 5c5f 6675 6e63 735f  _, *_add\_funcs_
-0001d050: 2c20 5f61 6c6c 6f77 5c5f 616e 795c 5f66  , _allow\_any\_f
-0001d060: 756e 635f 3d60 4661 6c73 6560 290d 0a0d  unc_=`False`)...
-0001d070: 0a54 616b 6573 206f 6e65 2061 7267 756d  .Takes one argum
-0001d080: 656e 7420 7468 6174 2069 7320 6120 5b70  ent that is a [p
-0001d090: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-0001d0a0: 6675 6e63 7469 6f6e 5d28 2370 6174 7465  function](#patte
-0001d0b0: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
-0001d0c0: 7469 6f6e 7329 2c20 616e 6420 7265 7475  tions), and retu
-0001d0d0: 726e 7320 6120 6465 636f 7261 746f 7220  rns a decorator 
-0001d0e0: 7468 6174 2061 6464 7320 7468 6520 7061  that adds the pa
-0001d0f0: 7474 6572 6e73 2069 6e20 7468 6520 6578  tterns in the ex
-0001d100: 6973 7469 6e67 2066 756e 6374 696f 6e20  isting function 
-0001d110: 746f 2074 6865 206e 6577 2066 756e 6374  to the new funct
-0001d120: 696f 6e20 6265 696e 6720 6465 636f 7261  ion being decora
-0001d130: 7465 642c 2077 6865 7265 2074 6865 2065  ted, where the e
-0001d140: 7869 7374 696e 6720 7061 7474 6572 6e73  xisting patterns
-0001d150: 2061 7265 2063 6865 636b 6564 2066 6972   are checked fir
-0001d160: 7374 2c20 7468 656e 2074 6865 206e 6577  st, then the new
-0001d170: 2e20 6061 6464 7061 7474 6572 6e60 2061  . `addpattern` a
-0001d180: 6c73 6f20 7375 7070 6f72 7473 2061 2073  lso supports a s
-0001d190: 686f 7274 6375 7420 7379 6e74 6178 2077  hortcut syntax w
-0001d1a0: 6865 7265 2074 6865 206e 6577 2070 6174  here the new pat
-0001d1b0: 7465 726e 7320 6361 6e20 6265 2070 6173  terns can be pas
-0001d1c0: 7365 6420 696e 2064 6972 6563 746c 792e  sed in directly.
-0001d1d0: 0d0a 0d0a 526f 7567 686c 7920 6571 7569  ....Roughly equi
-0001d1e0: 7661 6c65 6e74 2074 6f3a 0d0a 6060 600d  valent to:..```.
-0001d1f0: 0a64 6566 205f 7061 7474 6572 6e5f 6164  .def _pattern_ad
-0001d200: 6465 7228 6261 7365 5f66 756e 632c 2061  der(base_func, a
-0001d210: 6464 5f66 756e 6329 3a0d 0a20 2020 2064  dd_func):..    d
-0001d220: 6566 2061 6464 5f70 6174 7465 726e 5f66  ef add_pattern_f
-0001d230: 756e 6328 2a61 7267 732c 202a 2a6b 7761  unc(*args, **kwa
-0001d240: 7267 7329 3a0d 0a20 2020 2020 2020 2074  rgs):..        t
-0001d250: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
-0001d260: 2072 6574 7572 6e20 6261 7365 5f66 756e   return base_fun
-0001d270: 6328 2a61 7267 732c 202a 2a6b 7761 7267  c(*args, **kwarg
-0001d280: 7329 0d0a 2020 2020 2020 2020 6578 6365  s)..        exce
-0001d290: 7074 204d 6174 6368 4572 726f 723a 0d0a  pt MatchError:..
-0001d2a0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0001d2b0: 726e 2061 6464 5f66 756e 6328 2a61 7267  rn add_func(*arg
-0001d2c0: 732c 202a 2a6b 7761 7267 7329 0d0a 2020  s, **kwargs)..  
-0001d2d0: 2020 7265 7475 726e 2061 6464 5f70 6174    return add_pat
-0001d2e0: 7465 726e 5f66 756e 630d 0a64 6566 2061  tern_func..def a
-0001d2f0: 6464 7061 7474 6572 6e28 6261 7365 5f66  ddpattern(base_f
-0001d300: 756e 632c 202a 6164 645f 6675 6e63 732c  unc, *add_funcs,
-0001d310: 2061 6c6c 6f77 5f61 6e79 5f66 756e 633d   allow_any_func=
-0001d320: 4661 6c73 6529 3a0d 0a20 2020 2022 2222  False):..    """
-0001d330: 4465 636f 7261 746f 7220 746f 2061 6464  Decorator to add
-0001d340: 2061 206e 6577 2063 6173 6520 746f 2061   a new case to a
-0001d350: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-0001d360: 6720 6675 6e63 7469 6f6e 2028 7768 6572  g function (wher
-0001d370: 6520 7468 6520 6e65 7720 6361 7365 2069  e the new case i
-0001d380: 7320 6368 6563 6b65 6420 6c61 7374 292e  s checked last).
-0001d390: 0d0a 0d0a 2020 2020 5061 7373 2061 6c6c  ....    Pass all
-0001d3a0: 6f77 5f61 6e79 5f66 756e 633d 5472 7565  ow_any_func=True
-0001d3b0: 2074 6f20 616c 6c6f 7720 616e 7920 6f62   to allow any ob
-0001d3c0: 6a65 6374 2061 7320 7468 6520 6261 7365  ject as the base
-0001d3d0: 5f66 756e 6320 7261 7468 6572 2074 6861  _func rather tha
-0001d3e0: 6e20 6a75 7374 2070 6174 7465 726e 2d6d  n just pattern-m
-0001d3f0: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-0001d400: 732e 0d0a 2020 2020 4966 2061 6464 5f66  s...    If add_f
-0001d410: 756e 6320 6973 2070 6173 7365 642c 2061  unc is passed, a
-0001d420: 6464 7061 7474 6572 6e28 6261 7365 5f66  ddpattern(base_f
-0001d430: 756e 632c 2061 6464 5f66 756e 6329 2069  unc, add_func) i
-0001d440: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-0001d450: 6164 6470 6174 7465 726e 2862 6173 655f  addpattern(base_
-0001d460: 6675 6e63 2928 6164 645f 6675 6e63 292e  func)(add_func).
-0001d470: 0d0a 2020 2020 2222 220d 0a20 2020 2069  ..    """..    i
-0001d480: 6620 6e6f 7420 6164 645f 6675 6e63 733a  f not add_funcs:
-0001d490: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001d4a0: 2061 6464 7061 7474 6572 6e24 2862 6173   addpattern$(bas
-0001d4b0: 655f 6675 6e63 290d 0a20 2020 2066 6f72  e_func)..    for
-0001d4c0: 2061 6464 5f66 756e 6320 696e 2061 6464   add_func in add
-0001d4d0: 5f66 756e 6373 3a0d 0a20 2020 2020 2020  _funcs:..       
-0001d4e0: 2062 6173 655f 6675 6e63 203d 2070 6174   base_func = pat
-0001d4f0: 7465 726e 5f61 6464 6572 2862 6173 655f  tern_adder(base_
-0001d500: 6675 6e63 2c20 6164 645f 6675 6e63 290d  func, add_func).
-0001d510: 0a20 2020 2072 6574 7572 6e20 6261 7365  .    return base
-0001d520: 5f66 756e 630d 0a60 6060 0d0a 0d0a 4966  _func..```....If
-0001d530: 2079 6f75 2077 616e 7420 746f 2067 6976   you want to giv
-0001d540: 6520 616e 2060 6164 6470 6174 7465 726e  e an `addpattern
-0001d550: 6020 6675 6e63 7469 6f6e 2061 2064 6f63  ` function a doc
-0001d560: 7374 7269 6e67 2c20 6d61 6b65 2073 7572  string, make sur
-0001d570: 6520 746f 2070 7574 2069 7420 6f6e 2074  e to put it on t
-0001d580: 6865 205f 6c61 7374 5f20 6675 6e63 7469  he _last_ functi
-0001d590: 6f6e 2e0d 0a0d 0a4e 6f74 6520 7468 6174  on.....Note that
-0001d5a0: 2074 6865 2066 756e 6374 696f 6e20 7461   the function ta
-0001d5b0: 6b65 6e20 6279 2060 6164 6470 6174 7465  ken by `addpatte
-0001d5c0: 726e 6020 6d75 7374 2062 6520 6120 7061  rn` must be a pa
-0001d5d0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
-0001d5e0: 756e 6374 696f 6e2e 2049 6620 6061 6464  unction. If `add
-0001d5f0: 7061 7474 6572 6e60 2072 6563 6569 7665  pattern` receive
-0001d600: 7320 6120 6e6f 6e20 7061 7474 6572 6e2d  s a non pattern-
-0001d610: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-0001d620: 6e2c 2074 6865 2066 756e 6374 696f 6e20  n, the function 
-0001d630: 7769 7468 206e 6f74 2072 6169 7365 2060  with not raise `
-0001d640: 4d61 7463 6845 7272 6f72 602c 2061 6e64  MatchError`, and
-0001d650: 2060 6164 6470 6174 7465 726e 6020 776f   `addpattern` wo
-0001d660: 6e27 7420 6265 2061 626c 6520 746f 2064  n't be able to d
-0001d670: 6574 6563 7420 7468 6520 6661 696c 6564  etect the failed
-0001d680: 206d 6174 6368 2e20 5468 7573 2c20 6966   match. Thus, if
-0001d690: 2061 206c 6174 6572 2066 756e 6374 696f   a later functio
-0001d6a0: 6e20 7761 7320 6d65 616e 7420 746f 2062  n was meant to b
-0001d6b0: 6520 6361 6c6c 6564 2c20 6061 6464 7061  e called, `addpa
-0001d6c0: 7474 6572 6e60 2077 696c 6c20 6e6f 7420  ttern` will not 
-0001d6d0: 6b6e 6f77 2074 6861 7420 7468 6520 6669  know that the fi
-0001d6e0: 7273 7420 6d61 7463 6820 6661 696c 6564  rst match failed
-0001d6f0: 2061 6e64 2074 6865 2063 6f72 7265 6374   and the correct
-0001d700: 2070 6174 6820 7769 6c6c 206e 6576 6572   path will never
-0001d710: 2062 6520 7265 6163 6865 642e 0d0a 0d0a   be reached.....
-0001d720: 466f 7220 6578 616d 706c 652c 2074 6865  For example, the
-0001d730: 2066 6f6c 6c6f 7769 6e67 2063 6f64 6520   following code 
-0001d740: 7261 6973 6573 2061 2060 5479 7065 4572  raises a `TypeEr
-0001d750: 726f 7260 3a0d 0a60 6060 636f 636f 6e75  ror`:..```coconu
-0001d760: 740d 0a64 6566 2070 7269 6e74 5f74 7970  t..def print_typ
-0001d770: 6528 293a 0d0a 2020 2020 7072 696e 7428  e():..    print(
-0001d780: 2252 6563 6569 7665 6420 6e6f 2061 7267  "Received no arg
-0001d790: 756d 656e 7473 2e22 290d 0a0d 0a40 6164  uments.")....@ad
-0001d7a0: 6470 6174 7465 726e 2870 7269 6e74 5f74  dpattern(print_t
-0001d7b0: 7970 6529 0d0a 6465 6620 7072 696e 745f  ype)..def print_
-0001d7c0: 7479 7065 2869 6e74 2829 293a 0d0a 2020  type(int()):..  
-0001d7d0: 2020 7072 696e 7428 2252 6563 6569 7665    print("Receive
-0001d7e0: 6420 616e 2069 6e74 2e22 290d 0a0d 0a70  d an int.")....p
-0001d7f0: 7269 6e74 5f74 7970 6528 2920 2023 2061  rint_type()  # a
-0001d800: 7070 6561 7273 2074 6f20 776f 726b 0d0a  ppears to work..
-0001d810: 7072 696e 745f 7479 7065 2831 2920 2320  print_type(1) # 
-0001d820: 5479 7065 4572 726f 723a 2070 7269 6e74  TypeError: print
-0001d830: 5f74 7970 6528 2920 7461 6b65 7320 3020  _type() takes 0 
-0001d840: 706f 7369 7469 6f6e 616c 2061 7267 756d  positional argum
-0001d850: 656e 7473 2062 7574 2031 2077 6173 2067  ents but 1 was g
-0001d860: 6976 656e 0d0a 6060 600d 0a0d 0a54 6869  iven..```....Thi
-0001d870: 7320 6361 6e20 6265 2066 6978 6564 2062  s can be fixed b
-0001d880: 7920 7573 696e 6720 6569 7468 6572 2074  y using either t
-0001d890: 6865 2060 6d61 7463 6860 206f 7220 6061  he `match` or `a
-0001d8a0: 6464 7061 7474 6572 6e60 206b 6579 776f  ddpattern` keywo
-0001d8b0: 7264 2e20 466f 7220 6578 616d 706c 653a  rd. For example:
-0001d8c0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6d61  ..```coconut..ma
-0001d8d0: 7463 6820 6465 6620 7072 696e 745f 7479  tch def print_ty
-0001d8e0: 7065 2829 3a0d 0a20 2020 2070 7269 6e74  pe():..    print
-0001d8f0: 2822 5265 6365 6976 6564 206e 6f20 6172  ("Received no ar
-0001d900: 6775 6d65 6e74 732e 2229 0d0a 0d0a 6164  guments.")....ad
-0001d910: 6470 6174 7465 726e 2064 6566 2070 7269  dpattern def pri
-0001d920: 6e74 5f74 7970 6528 696e 7428 2929 3a0d  nt_type(int()):.
-0001d930: 0a20 2020 2070 7269 6e74 2822 5265 6365  .    print("Rece
-0001d940: 6976 6564 2061 6e20 696e 742e 2229 0d0a  ived an int.")..
-0001d950: 0d0a 7072 696e 745f 7479 7065 2831 2920  ..print_type(1) 
-0001d960: 2023 2057 6f72 6b73 2061 7320 6578 7065   # Works as expe
-0001d970: 6374 6564 0d0a 7072 696e 745f 7479 7065  cted..print_type
-0001d980: 2822 5468 6973 2069 7320 6120 7374 7269  ("This is a stri
-0001d990: 6e67 2e22 2920 2320 5261 6973 6573 204d  ng.") # Raises M
-0001d9a0: 6174 6368 4572 726f 720d 0a60 6060 0d0a  atchError..```..
-0001d9b0: 0d0a 5468 6520 6c61 7374 2063 6173 6520  ..The last case 
-0001d9c0: 696e 2061 6e20 6061 6464 7061 7474 6572  in an `addpatter
-0001d9d0: 6e60 2066 756e 6374 696f 6e2c 2068 6f77  n` function, how
-0001d9e0: 6576 6572 2c20 646f 6573 6e27 7420 6861  ever, doesn't ha
-0001d9f0: 7665 2074 6f20 6265 2061 2070 6174 7465  ve to be a patte
-0001da00: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
-0001da10: 7469 6f6e 2069 6620 6974 2069 7320 696e  tion if it is in
-0001da20: 7465 6e64 6564 2074 6f20 6361 7463 6820  tended to catch 
-0001da30: 616c 6c20 7265 6d61 696e 696e 6720 6361  all remaining ca
-0001da40: 7365 732e 0d0a 0d0a 546f 2063 6174 6368  ses.....To catch
-0001da50: 2074 6869 7320 6d69 7374 616b 652c 2060   this mistake, `
-0001da60: 6164 6470 6174 7465 726e 6020 7769 6c6c  addpattern` will
-0001da70: 2065 6d69 7420 6120 7761 726e 696e 6720   emit a warning 
-0001da80: 6966 2070 6173 7365 6420 7768 6174 2069  if passed what i
-0001da90: 7420 6265 6c69 6576 6573 2074 6f20 6265  t believes to be
-0001daa0: 2061 206e 6f6e 2d70 6174 7465 726e 2d6d   a non-pattern-m
-0001dab0: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-0001dac0: 2e20 486f 7765 7665 722c 2074 6869 7320  . However, this 
-0001dad0: 7761 726e 696e 6720 6361 6e20 736f 6d65  warning can some
-0001dae0: 7469 6d65 7320 6265 2065 7272 6f6e 656f  times be erroneo
-0001daf0: 7573 2069 6620 7468 6520 6f72 6967 696e  us if the origin
-0001db00: 616c 2070 6174 7465 726e 2d6d 6174 6368  al pattern-match
-0001db10: 696e 6720 6675 6e63 7469 6f6e 2068 6173  ing function has
-0001db20: 2062 6565 6e20 7772 6170 7065 6420 696e   been wrapped in
-0001db30: 2073 6f6d 6520 7761 792c 2069 6e20 7768   some way, in wh
-0001db40: 6963 6820 6361 7365 2079 6f75 2063 616e  ich case you can
-0001db50: 2070 6173 7320 6061 6c6c 6f77 5f61 6e79   pass `allow_any
-0001db60: 5f66 756e 633d 5472 7565 6020 746f 2064  _func=True` to d
-0001db70: 6973 6d69 7373 2074 6865 2077 6172 6e69  ismiss the warni
-0001db80: 6e67 2e0d 0a0d 0a23 2323 2323 2045 7861  ng.....##### Exa
-0001db90: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-0001dba0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0001dbb0: 0d0a 6465 6620 6661 6374 6f72 6961 6c28  ..def factorial(
-0001dbc0: 3029 203d 2031 0d0a 0d0a 4061 6464 7061  0) = 1....@addpa
-0001dbd0: 7474 6572 6e28 6661 6374 6f72 6961 6c29  ttern(factorial)
-0001dbe0: 0d0a 6465 6620 6661 6374 6f72 6961 6c28  ..def factorial(
-0001dbf0: 6e29 203d 206e 202a 2066 6163 746f 7269  n) = n * factori
-0001dc00: 616c 286e 202d 2031 290d 0a60 6060 0d0a  al(n - 1)..```..
-0001dc10: 5f53 696d 706c 6520 6578 616d 706c 6520  _Simple example 
-0001dc20: 6f66 2061 6464 696e 6720 6120 6e65 7720  of adding a new 
-0001dc30: 7061 7474 6572 6e20 746f 2061 2070 6174  pattern to a pat
-0001dc40: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-0001dc50: 6e63 7469 6f6e 2e5f 0d0a 0d0a 6060 6063  nction._....```c
-0001dc60: 6f63 6f6e 7574 0d0a 225b 415d 2c20 5b42  oconut.."[A], [B
-0001dc70: 5d22 207c 3e20 7769 6e64 6f77 736f 6624  ]" |> windowsof$
-0001dc80: 2833 2920 7c3e 206d 6170 2428 6164 6470  (3) |> map$(addp
-0001dc90: 6174 7465 726e 280d 0a20 2020 2028 6465  attern(..    (de
-0001dca0: 6620 2828 225b 222c 2241 222c 225d 2229  f (("[","A","]")
-0001dcb0: 2920 2d3e 2022 4122 292c 0d0a 2020 2020  ) -> "A"),..    
-0001dcc0: 2864 6566 2028 2822 5b22 2c22 4222 2c22  (def (("[","B","
-0001dcd0: 5d22 2929 202d 3e20 2242 2229 2c0d 0a20  ]")) -> "B"),.. 
-0001dce0: 2020 2028 6465 6620 2828 5f2c 5f2c 5f29     (def ((_,_,_)
-0001dcf0: 2920 2d3e 204e 6f6e 6529 2c0d 0a29 2920  ) -> None),..)) 
-0001dd00: 7c3e 2066 696c 7465 7224 2828 2e69 7320  |> filter$((.is 
-0001dd10: 4e6f 6e65 2920 2e2e 3e20 286e 6f74 2929  None) ..> (not))
-0001dd20: 207c 3e20 6c69 7374 207c 3e20 7072 696e   |> list |> prin
-0001dd30: 740d 0a60 6060 0d0a 5f41 6e20 6578 616d  t..```.._An exam
-0001dd40: 706c 6520 6f66 2061 2063 6173 6520 7768  ple of a case wh
-0001dd50: 6572 6520 7573 696e 6720 7468 6520 6061  ere using the `a
-0001dd60: 6464 7061 7474 6572 6e60 2066 756e 6374  ddpattern` funct
-0001dd70: 696f 6e20 6973 206e 6563 6573 7361 7279  ion is necessary
-0001dd80: 206f 7665 7220 7468 6520 5b60 6164 6470   over the [`addp
-0001dd90: 6174 7465 726e 6020 6b65 7977 6f72 645d  attern` keyword]
-0001dda0: 2823 6164 6470 6174 7465 726e 2d66 756e  (#addpattern-fun
-0001ddb0: 6374 696f 6e73 2920 6475 6520 746f 2074  ctions) due to t
-0001ddc0: 6865 2075 7365 206f 6620 696e 2d6c 696e  he use of in-lin
-0001ddd0: 6520 7061 7474 6572 6e2d 6d61 7463 6869  e pattern-matchi
-0001dde0: 6e67 205b 7374 6174 656d 656e 7420 6c61  ng [statement la
-0001ddf0: 6d62 6461 735d 2823 7374 6174 656d 656e  mbdas](#statemen
-0001de00: 742d 6c61 6d62 6461 7329 2e5f 0d0a 0d0a  t-lambdas)._....
-0001de10: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
-0001de20: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-0001de30: 6f75 7420 6120 636f 6d70 6c69 6361 7465  out a complicate
-0001de40: 6420 6465 636f 7261 746f 7220 6465 6669  d decorator defi
-0001de50: 6e69 7469 6f6e 2061 6e64 2061 206c 6f6e  nition and a lon
-0001de60: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
-0001de70: 6b73 2066 6f72 2065 6163 6820 7061 7474  ks for each patt
-0001de80: 6572 6e2d 6d61 7463 6869 6e67 2e20 5365  ern-matching. Se
-0001de90: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
-0001dea0: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
-0001deb0: 6f6e 2073 796e 7461 782e 5f0d 0a0d 0a23  on syntax._....#
-0001dec0: 2323 2323 2060 7072 6570 6174 7465 726e  #### `prepattern
-0001ded0: 600d 0a0d 0a2a 2a44 4550 5245 4341 5445  `....**DEPRECATE
-0001dee0: 443a 2a2a 2043 6f63 6f6e 7574 2061 6c73  D:** Coconut als
-0001def0: 6f20 6861 7320 6120 6070 7265 7061 7474  o has a `prepatt
-0001df00: 6572 6e60 2062 7569 6c74 2d69 6e2c 2077  ern` built-in, w
-0001df10: 6869 6368 2061 6464 7320 7061 7474 6572  hich adds patter
-0001df20: 6e73 2069 6e20 7468 6520 6f70 706f 7369  ns in the opposi
-0001df30: 7465 206f 7264 6572 206f 6620 6061 6464  te order of `add
-0001df40: 7061 7474 6572 6e60 3b20 6070 7265 7061  pattern`; `prepa
-0001df50: 7474 6572 6e60 2069 7320 6465 6669 6e65  ttern` is define
-0001df60: 6420 6173 3a0d 0a0d 0a60 6060 636f 636f  d as:....```coco
-0001df70: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-0001df80: 7072 6570 6174 7465 726e 2862 6173 655f  prepattern(base_
-0001df90: 6675 6e63 293a 0d0a 2020 2020 2222 2244  func):..    """D
-0001dfa0: 6563 6f72 6174 6f72 2074 6f20 6164 6420  ecorator to add 
-0001dfb0: 6120 6e65 7720 6361 7365 2074 6f20 6120  a new case to a 
-0001dfc0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001dfd0: 2066 756e 6374 696f 6e2c 0d0a 2020 2020   function,..    
-0001dfe0: 7768 6572 6520 7468 6520 6e65 7720 6361  where the new ca
-0001dff0: 7365 2069 7320 6368 6563 6b65 6420 6669  se is checked fi
-0001e000: 7273 742e 2222 220d 0a20 2020 2064 6566  rst."""..    def
-0001e010: 2070 6174 7465 726e 5f70 7265 7065 6e64   pattern_prepend
-0001e020: 6572 2866 756e 6329 3a0d 0a20 2020 2020  er(func):..     
-0001e030: 2020 2072 6574 7572 6e20 6164 6470 6174     return addpat
-0001e040: 7465 726e 2866 756e 6329 2862 6173 655f  tern(func)(base_
-0001e050: 6675 6e63 290d 0a20 2020 2072 6574 7572  func)..    retur
-0001e060: 6e20 7061 7474 6572 6e5f 7072 6570 656e  n pattern_prepen
-0001e070: 6465 720d 0a60 6060 0d0a 5f4e 6f74 653a  der..```.._Note:
-0001e080: 2050 6173 7369 6e67 2060 2d2d 7374 7269   Passing `--stri
-0001e090: 6374 6020 6469 7361 626c 6573 2064 6570  ct` disables dep
-0001e0a0: 7265 6361 7465 6420 6665 6174 7572 6573  recated features
-0001e0b0: 2e5f 0d0a 0d0a 2323 2323 2060 6d65 6d6f  ._....#### `memo
-0001e0c0: 697a 6560 0d0a 0d0a 2a2a 6d65 6d6f 697a  ize`....**memoiz
-0001e0d0: 652a 2a28 5f6d 6178 7369 7a65 5f3d 604e  e**(_maxsize_=`N
-0001e0e0: 6f6e 6560 2c20 5f74 7970 6564 5f3d 6046  one`, _typed_=`F
-0001e0f0: 616c 7365 6029 0d0a 0d0a 2a2a 6d65 6d6f  alse`)....**memo
-0001e100: 697a 652a 2a28 5f75 7365 725c 5f66 756e  ize**(_user\_fun
-0001e110: 6374 696f 6e5f 290d 0a0d 0a43 6f63 6f6e  ction_)....Cocon
-0001e120: 7574 2070 726f 7669 6465 7320 6066 756e  ut provides `fun
-0001e130: 6374 6f6f 6c73 2e6c 7275 5f63 6163 6865  ctools.lru_cache
-0001e140: 6020 6173 2061 2062 7569 6c74 2d69 6e20  ` as a built-in 
-0001e150: 756e 6465 7220 7468 6520 6e61 6d65 2060  under the name `
-0001e160: 6d65 6d6f 697a 6560 2077 6974 6820 7468  memoize` with th
-0001e170: 6520 6d6f 6469 6669 6361 7469 6f6e 2074  e modification t
-0001e180: 6861 7420 7468 6520 5f6d 6178 7369 7a65  hat the _maxsize
-0001e190: 5f20 7061 7261 6d65 7465 7220 6973 2073  _ parameter is s
-0001e1a0: 6574 2074 6f20 604e 6f6e 6560 2062 7920  et to `None` by 
-0001e1b0: 6465 6661 756c 742e 2060 6d65 6d6f 697a  default. `memoiz
-0001e1c0: 6560 206d 616b 6573 2074 6865 2075 7365  e` makes the use
-0001e1d0: 2063 6173 6520 6f66 206f 7074 696d 697a   case of optimiz
-0001e1e0: 696e 6720 7265 6375 7273 6976 6520 6675  ing recursive fu
-0001e1f0: 6e63 7469 6f6e 7320 6561 7369 6572 2c20  nctions easier, 
-0001e200: 6173 2061 205f 6d61 7873 697a 655f 206f  as a _maxsize_ o
-0001e210: 6620 604e 6f6e 6560 2069 7320 7573 7561  f `None` is usua
-0001e220: 6c6c 7920 7768 6174 2069 7320 6465 7369  lly what is desi
-0001e230: 7265 6420 696e 2074 6861 7420 6361 7365  red in that case
-0001e240: 2e0d 0a0d 0a55 7365 206f 6620 606d 656d  .....Use of `mem
-0001e250: 6f69 7a65 6020 7265 7175 6972 6573 2060  oize` requires `
-0001e260: 6675 6e63 746f 6f6c 732e 6c72 755f 6361  functools.lru_ca
-0001e270: 6368 6560 2c20 7768 6963 6820 6578 6973  che`, which exis
-0001e280: 7473 2069 6e20 7468 6520 5079 7468 6f6e  ts in the Python
-0001e290: 2033 2073 7461 6e64 6172 6420 6c69 6272   3 standard libr
-0001e2a0: 6172 792c 2062 7574 2075 6e64 6572 2050  ary, but under P
-0001e2b0: 7974 686f 6e20 3220 7769 6c6c 2072 6571  ython 2 will req
-0001e2c0: 7569 7265 2060 7069 7020 696e 7374 616c  uire `pip instal
-0001e2d0: 6c20 6261 636b 706f 7274 732e 6675 6e63  l backports.func
-0001e2e0: 746f 6f6c 735f 6c72 755f 6361 6368 6560  tools_lru_cache`
-0001e2f0: 2074 6f20 6675 6e63 7469 6f6e 2e20 4164   to function. Ad
-0001e300: 6469 7469 6f6e 616c 6c79 2c20 6966 206f  ditionally, if o
-0001e310: 6e20 5079 7468 6f6e 2032 2061 6e64 2060  n Python 2 and `
-0001e320: 6261 636b 706f 7274 732e 6675 6e63 746f  backports.functo
-0001e330: 6f6c 735f 6c72 755f 6361 6368 6560 2069  ols_lru_cache` i
-0001e340: 7320 7072 6573 656e 742c 2043 6f63 6f6e  s present, Cocon
-0001e350: 7574 2077 696c 6c20 7061 7463 6820 6066  ut will patch `f
-0001e360: 756e 6374 6f6f 6c73 6020 7375 6368 2074  unctools` such t
-0001e370: 6861 7420 6066 756e 6374 6f6f 6c73 2e6c  hat `functools.l
-0001e380: 7275 5f63 6163 6865 203d 2062 6163 6b70  ru_cache = backp
-0001e390: 6f72 7473 2e66 756e 6374 6f6f 6c73 5f6c  orts.functools_l
-0001e3a0: 7275 5f63 6163 6865 2e6c 7275 5f63 6163  ru_cache.lru_cac
-0001e3b0: 6865 602e 0d0a 0d0a 2323 2323 2320 5079  he`.....##### Py
-0001e3c0: 7468 6f6e 2044 6f63 730d 0a0d 0a40 2a2a  thon Docs....@**
-0001e3d0: 6d65 6d6f 697a 652a 2a28 5f75 7365 725c  memoize**(_user\
-0001e3e0: 5f66 756e 6374 696f 6e5f 290d 0a0d 0a40  _function_)....@
-0001e3f0: 2a2a 6d65 6d6f 697a 652a 2a28 5f6d 6178  **memoize**(_max
-0001e400: 7369 7a65 3d4e 6f6e 652c 2074 7970 6564  size=None, typed
-0001e410: 3d46 616c 7365 5f29 0d0a 0d0a 4465 636f  =False_)....Deco
-0001e420: 7261 746f 7220 746f 2077 7261 7020 6120  rator to wrap a 
-0001e430: 6675 6e63 7469 6f6e 2077 6974 6820 6120  function with a 
-0001e440: 6d65 6d6f 697a 696e 6720 6361 6c6c 6162  memoizing callab
-0001e450: 6c65 2074 6861 7420 7361 7665 7320 7570  le that saves up
-0001e460: 2074 6f20 7468 6520 5f6d 6178 7369 7a65   to the _maxsize
-0001e470: 5f20 6d6f 7374 2072 6563 656e 7420 6361  _ most recent ca
-0001e480: 6c6c 732e 2049 7420 6361 6e20 7361 7665  lls. It can save
-0001e490: 2074 696d 6520 7768 656e 2061 6e20 6578   time when an ex
-0001e4a0: 7065 6e73 6976 6520 6f72 2049 2f4f 2062  pensive or I/O b
-0001e4b0: 6f75 6e64 2066 756e 6374 696f 6e20 6973  ound function is
-0001e4c0: 2070 6572 696f 6469 6361 6c6c 7920 6361   periodically ca
-0001e4d0: 6c6c 6564 2077 6974 6820 7468 6520 7361  lled with the sa
-0001e4e0: 6d65 2061 7267 756d 656e 7473 2e0d 0a0d  me arguments....
-0001e4f0: 0a53 696e 6365 2061 2064 6963 7469 6f6e  .Since a diction
-0001e500: 6172 7920 6973 2075 7365 6420 746f 2063  ary is used to c
-0001e510: 6163 6865 2072 6573 756c 7473 2c20 7468  ache results, th
-0001e520: 6520 706f 7369 7469 6f6e 616c 2061 6e64  e positional and
-0001e530: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
-0001e540: 7473 2074 6f20 7468 6520 6675 6e63 7469  ts to the functi
-0001e550: 6f6e 206d 7573 7420 6265 2068 6173 6861  on must be hasha
-0001e560: 626c 652e 0d0a 0d0a 4469 7374 696e 6374  ble.....Distinct
-0001e570: 2061 7267 756d 656e 7420 7061 7474 6572   argument patter
-0001e580: 6e73 206d 6179 2062 6520 636f 6e73 6964  ns may be consid
-0001e590: 6572 6564 2074 6f20 6265 2064 6973 7469  ered to be disti
-0001e5a0: 6e63 7420 6361 6c6c 7320 7769 7468 2073  nct calls with s
-0001e5b0: 6570 6172 6174 6520 6361 6368 6520 656e  eparate cache en
-0001e5c0: 7472 6965 732e 2046 6f72 2065 7861 6d70  tries. For examp
-0001e5d0: 6c65 2c20 6066 2861 3d31 2c20 623d 3229  le, `f(a=1, b=2)
-0001e5e0: 6020 616e 6420 6066 2862 3d32 2c20 613d  ` and `f(b=2, a=
-0001e5f0: 3129 6020 6469 6666 6572 2069 6e20 7468  1)` differ in th
-0001e600: 6569 7220 6b65 7977 6f72 6420 6172 6775  eir keyword argu
-0001e610: 6d65 6e74 206f 7264 6572 2061 6e64 206d  ment order and m
-0001e620: 6179 2068 6176 6520 7477 6f20 7365 7061  ay have two sepa
-0001e630: 7261 7465 2063 6163 6865 2065 6e74 7269  rate cache entri
-0001e640: 6573 2e0d 0a0d 0a49 6620 5f75 7365 725c  es.....If _user\
-0001e650: 5f66 756e 6374 696f 6e5f 2069 7320 7370  _function_ is sp
-0001e660: 6563 6966 6965 642c 2069 7420 6d75 7374  ecified, it must
-0001e670: 2062 6520 6120 6361 6c6c 6162 6c65 2e20   be a callable. 
-0001e680: 5468 6973 2061 6c6c 6f77 7320 7468 6520  This allows the 
-0001e690: 5f6d 656d 6f69 7a65 5f20 6465 636f 7261  _memoize_ decora
-0001e6a0: 746f 7220 746f 2062 6520 6170 706c 6965  tor to be applie
-0001e6b0: 6420 6469 7265 6374 6c79 2074 6f20 6120  d directly to a 
-0001e6c0: 7573 6572 2066 756e 6374 696f 6e2c 206c  user function, l
-0001e6d0: 6561 7669 6e67 2074 6865 206d 6178 7369  eaving the maxsi
-0001e6e0: 7a65 2061 7420 6974 7320 6465 6661 756c  ze at its defaul
-0001e6f0: 7420 7661 6c75 6520 6f66 2060 4e6f 6e65  t value of `None
-0001e700: 603a 0d0a 6060 6063 6f63 6f6e 7574 5f70  `:..```coconut_p
-0001e710: 7974 686f 6e0d 0a40 6d65 6d6f 697a 650d  ython..@memoize.
-0001e720: 0a64 6566 2063 6f75 6e74 5f76 6f77 656c  .def count_vowel
-0001e730: 7328 7365 6e74 656e 6365 293a 0d0a 2020  s(sentence):..  
-0001e740: 2020 7265 7475 726e 2073 756d 2873 656e    return sum(sen
-0001e750: 7465 6e63 652e 636f 756e 7428 766f 7765  tence.count(vowe
-0001e760: 6c29 2066 6f72 2076 6f77 656c 2069 6e20  l) for vowel in 
-0001e770: 2741 4549 4f55 6165 696f 7527 290d 0a60  'AEIOUaeiou')..`
-0001e780: 6060 0d0a 0d0a 4966 205f 6d61 7873 697a  ``....If _maxsiz
-0001e790: 655f 2069 7320 7365 7420 746f 2060 4e6f  e_ is set to `No
-0001e7a0: 6e65 602c 2074 6865 204c 5255 2066 6561  ne`, the LRU fea
-0001e7b0: 7475 7265 2069 7320 6469 7361 626c 6564  ture is disabled
-0001e7c0: 2061 6e64 2074 6865 2063 6163 6865 2063   and the cache c
-0001e7d0: 616e 2067 726f 7720 7769 7468 6f75 7420  an grow without 
-0001e7e0: 626f 756e 642e 0d0a 0d0a 4966 205f 7479  bound.....If _ty
-0001e7f0: 7065 645f 2069 7320 7365 7420 746f 2074  ped_ is set to t
-0001e800: 7275 652c 2066 756e 6374 696f 6e20 6172  rue, function ar
-0001e810: 6775 6d65 6e74 7320 6f66 2064 6966 6665  guments of diffe
-0001e820: 7265 6e74 2074 7970 6573 2077 696c 6c20  rent types will 
-0001e830: 6265 2063 6163 6865 6420 7365 7061 7261  be cached separa
-0001e840: 7465 6c79 2e20 4966 2074 7970 6564 2069  tely. If typed i
-0001e850: 7320 6661 6c73 652c 2074 6865 2069 6d70  s false, the imp
-0001e860: 6c65 6d65 6e74 6174 696f 6e20 7769 6c6c  lementation will
-0001e870: 2075 7375 616c 6c79 2072 6567 6172 6420   usually regard 
-0001e880: 7468 656d 2061 7320 6571 7569 7661 6c65  them as equivale
-0001e890: 6e74 2063 616c 6c73 2061 6e64 206f 6e6c  nt calls and onl
-0001e8a0: 7920 6361 6368 6520 6120 7369 6e67 6c65  y cache a single
-0001e8b0: 2072 6573 756c 742e 2028 536f 6d65 2074   result. (Some t
-0001e8c0: 7970 6573 2073 7563 6820 6173 2073 7472  ypes such as str
-0001e8d0: 2061 6e64 2069 6e74 206d 6179 2062 6520   and int may be 
-0001e8e0: 6361 6368 6564 2073 6570 6172 6174 656c  cached separatel
-0001e8f0: 7920 6576 656e 2077 6865 6e20 7479 7065  y even when type
-0001e900: 6420 6973 2066 616c 7365 2e29 0d0a 0d0a  d is false.)....
-0001e910: 4e6f 7465 2c20 7479 7065 2073 7065 6369  Note, type speci
-0001e920: 6669 6369 7479 2061 7070 6c69 6573 206f  ficity applies o
-0001e930: 6e6c 7920 746f 2074 6865 2066 756e 6374  nly to the funct
-0001e940: 696f 6ee2 8099 7320 696d 6d65 6469 6174  ion...s immediat
-0001e950: 6520 6172 6775 6d65 6e74 7320 7261 7468  e arguments rath
-0001e960: 6572 2074 6861 6e20 7468 6569 7220 636f  er than their co
-0001e970: 6e74 656e 7473 2e20 5468 6520 7363 616c  ntents. The scal
-0001e980: 6172 2061 7267 756d 656e 7473 2c20 6044  ar arguments, `D
-0001e990: 6563 696d 616c 2834 3229 6020 616e 6420  ecimal(42)` and 
-0001e9a0: 6046 7261 6374 696f 6e28 3432 2960 2061  `Fraction(42)` a
-0001e9b0: 7265 2062 6520 7472 6561 7465 6420 6173  re be treated as
-0001e9c0: 2064 6973 7469 6e63 7420 6361 6c6c 7320   distinct calls 
-0001e9d0: 7769 7468 2064 6973 7469 6e63 7420 7265  with distinct re
-0001e9e0: 7375 6c74 732e 2049 6e20 636f 6e74 7261  sults. In contra
-0001e9f0: 7374 2c20 7468 6520 7475 706c 6520 6172  st, the tuple ar
-0001ea00: 6775 6d65 6e74 7320 6028 2761 6e73 7765  guments `('answe
-0001ea10: 7227 2c20 4465 6369 6d61 6c28 3432 2929  r', Decimal(42))
-0001ea20: 6020 616e 6420 6028 2761 6e73 7765 7227  ` and `('answer'
-0001ea30: 2c20 4672 6163 7469 6f6e 2834 3229 2960  , Fraction(42))`
-0001ea40: 2061 7265 2074 7265 6174 6564 2061 7320   are treated as 
-0001ea50: 6571 7569 7661 6c65 6e74 2e0d 0a0d 0a54  equivalent.....T
-0001ea60: 6865 2064 6563 6f72 6174 6f72 2061 6c73  he decorator als
-0001ea70: 6f20 7072 6f76 6964 6573 2061 2060 6361  o provides a `ca
-0001ea80: 6368 655f 636c 6561 7228 2960 2066 756e  che_clear()` fun
-0001ea90: 6374 696f 6e20 666f 7220 636c 6561 7269  ction for cleari
-0001eaa0: 6e67 206f 7220 696e 7661 6c69 6461 7469  ng or invalidati
-0001eab0: 6e67 2074 6865 2063 6163 6865 2e0d 0a0d  ng the cache....
-0001eac0: 0a54 6865 206f 7269 6769 6e61 6c20 756e  .The original un
-0001ead0: 6465 726c 7969 6e67 2066 756e 6374 696f  derlying functio
-0001eae0: 6e20 6973 2061 6363 6573 7369 626c 6520  n is accessible 
-0001eaf0: 7468 726f 7567 6820 7468 6520 605f 5f77  through the `__w
-0001eb00: 7261 7070 6564 5f5f 6020 6174 7472 6962  rapped__` attrib
-0001eb10: 7574 652e 2054 6869 7320 6973 2075 7365  ute. This is use
-0001eb20: 6675 6c20 666f 7220 696e 7472 6f73 7065  ful for introspe
-0001eb30: 6374 696f 6e2c 2066 6f72 2062 7970 6173  ction, for bypas
-0001eb40: 7369 6e67 2074 6865 2063 6163 6865 2c20  sing the cache, 
-0001eb50: 6f72 2066 6f72 2072 6577 7261 7070 696e  or for rewrappin
-0001eb60: 6720 7468 6520 6675 6e63 7469 6f6e 2077  g the function w
-0001eb70: 6974 6820 6120 6469 6666 6572 656e 7420  ith a different 
-0001eb80: 6361 6368 652e 0d0a 0d0a 5468 6520 6361  cache.....The ca
-0001eb90: 6368 6520 6b65 6570 7320 7265 6665 7265  che keeps refere
-0001eba0: 6e63 6573 2074 6f20 7468 6520 6172 6775  nces to the argu
-0001ebb0: 6d65 6e74 7320 616e 6420 7265 7475 726e  ments and return
-0001ebc0: 2076 616c 7565 7320 756e 7469 6c20 7468   values until th
-0001ebd0: 6579 2061 6765 206f 7574 206f 6620 7468  ey age out of th
-0001ebe0: 6520 6361 6368 6520 6f72 2075 6e74 696c  e cache or until
-0001ebf0: 2074 6865 2063 6163 6865 2069 7320 636c   the cache is cl
-0001ec00: 6561 7265 642e 0d0a 0d0a 4966 2061 206d  eared.....If a m
-0001ec10: 6574 686f 6420 6973 2063 6163 6865 642c  ethod is cached,
-0001ec20: 2074 6865 2060 7365 6c66 6020 696e 7374   the `self` inst
-0001ec30: 616e 6365 2061 7267 756d 656e 7420 6973  ance argument is
-0001ec40: 2069 6e63 6c75 6465 6420 696e 2074 6865   included in the
-0001ec50: 2063 6163 6865 2e20 5365 6520 5b48 6f77   cache. See [How
-0001ec60: 2064 6f20 4920 6361 6368 6520 6d65 7468   do I cache meth
-0001ec70: 6f64 2063 616c 6c73 3f5d 2868 7474 7073  od calls?](https
-0001ec80: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
-0001ec90: 7267 2f33 2f66 6171 2f70 726f 6772 616d  rg/3/faq/program
-0001eca0: 6d69 6e67 2e68 746d 6c23 6661 712d 6361  ming.html#faq-ca
-0001ecb0: 6368 652d 6d65 7468 6f64 2d63 616c 6c73  che-method-calls
-0001ecc0: 290d 0a0d 0a41 6e20 5b4c 5255 2028 6c65  )....An [LRU (le
-0001ecd0: 6173 7420 7265 6365 6e74 6c79 2075 7365  ast recently use
-0001ece0: 6429 2063 6163 6865 5d28 6874 7470 733a  d) cache](https:
-0001ecf0: 2f2f 656e 2e77 696b 6970 6564 6961 2e6f  //en.wikipedia.o
-0001ed00: 7267 2f77 696b 692f 4361 6368 655f 7265  rg/wiki/Cache_re
-0001ed10: 706c 6163 656d 656e 745f 706f 6c69 6369  placement_polici
-0001ed20: 6573 234c 6561 7374 5f72 6563 656e 746c  es#Least_recentl
-0001ed30: 795f 7573 6564 5f28 4c52 5529 2920 776f  y_used_(LRU)) wo
-0001ed40: 726b 7320 6265 7374 2077 6865 6e20 7468  rks best when th
-0001ed50: 6520 6d6f 7374 2072 6563 656e 7420 6361  e most recent ca
-0001ed60: 6c6c 7320 6172 6520 7468 6520 6265 7374  lls are the best
-0001ed70: 2070 7265 6469 6374 6f72 7320 6f66 2075   predictors of u
-0001ed80: 7063 6f6d 696e 6720 6361 6c6c 7320 2866  pcoming calls (f
-0001ed90: 6f72 2065 7861 6d70 6c65 2c20 7468 6520  or example, the 
-0001eda0: 6d6f 7374 2070 6f70 756c 6172 2061 7274  most popular art
-0001edb0: 6963 6c65 7320 6f6e 2061 206e 6577 7320  icles on a news 
-0001edc0: 7365 7276 6572 2074 656e 6420 746f 2063  server tend to c
-0001edd0: 6861 6e67 6520 6561 6368 2064 6179 292e  hange each day).
-0001ede0: 2054 6865 2063 6163 6865 e280 9973 2073   The cache...s s
-0001edf0: 697a 6520 6c69 6d69 7420 6173 7375 7265  ize limit assure
-0001ee00: 7320 7468 6174 2074 6865 2063 6163 6865  s that the cache
-0001ee10: 2064 6f65 7320 6e6f 7420 6772 6f77 2077   does not grow w
-0001ee20: 6974 686f 7574 2062 6f75 6e64 206f 6e20  ithout bound on 
-0001ee30: 6c6f 6e67 2d72 756e 6e69 6e67 2070 726f  long-running pro
-0001ee40: 6365 7373 6573 2073 7563 6820 6173 2077  cesses such as w
-0001ee50: 6562 2073 6572 7665 7273 2e0d 0a0d 0a49  eb servers.....I
-0001ee60: 6e20 6765 6e65 7261 6c2c 2074 6865 204c  n general, the L
-0001ee70: 5255 2063 6163 6865 2073 686f 756c 6420  RU cache should 
-0001ee80: 6f6e 6c79 2062 6520 7573 6564 2077 6865  only be used whe
-0001ee90: 6e20 796f 7520 7761 6e74 2074 6f20 7265  n you want to re
-0001eea0: 7573 6520 7072 6576 696f 7573 6c79 2063  use previously c
-0001eeb0: 6f6d 7075 7465 6420 7661 6c75 6573 2e20  omputed values. 
-0001eec0: 4163 636f 7264 696e 676c 792c 2069 7420  Accordingly, it 
-0001eed0: 646f 6573 6ee2 8099 7420 6d61 6b65 2073  doesn...t make s
-0001eee0: 656e 7365 2074 6f20 6361 6368 6520 6675  ense to cache fu
-0001eef0: 6e63 7469 6f6e 7320 7769 7468 2073 6964  nctions with sid
-0001ef00: 652d 6566 6665 6374 732c 2066 756e 6374  e-effects, funct
-0001ef10: 696f 6e73 2074 6861 7420 6e65 6564 2074  ions that need t
-0001ef20: 6f20 6372 6561 7465 2064 6973 7469 6e63  o create distinc
-0001ef30: 7420 6d75 7461 626c 6520 6f62 6a65 6374  t mutable object
-0001ef40: 7320 6f6e 2065 6163 6820 6361 6c6c 2c20  s on each call, 
-0001ef50: 6f72 2069 6d70 7572 6520 6675 6e63 7469  or impure functi
-0001ef60: 6f6e 7320 7375 6368 2061 7320 7469 6d65  ons such as time
-0001ef70: 2829 206f 7220 7261 6e64 6f6d 2829 2e0d  () or random()..
-0001ef80: 0a0d 0a45 7861 6d70 6c65 206f 6620 6566  ...Example of ef
-0001ef90: 6669 6369 656e 746c 7920 636f 6d70 7574  ficiently comput
-0001efa0: 696e 6720 4669 626f 6e61 6363 6920 6e75  ing Fibonacci nu
-0001efb0: 6d62 6572 7320 7573 696e 6720 6120 6361  mbers using a ca
-0001efc0: 6368 6520 746f 2069 6d70 6c65 6d65 6e74  che to implement
-0001efd0: 2061 2064 796e 616d 6963 2070 726f 6772   a dynamic progr
-0001efe0: 616d 6d69 6e67 2074 6563 686e 6971 7565  amming technique
-0001eff0: 3a0d 0a60 6060 636f 636f 6e75 745f 7079  :..```coconut_py
-0001f000: 636f 6e0d 0a40 6d65 6d6f 697a 650d 0a64  con..@memoize..d
-0001f010: 6566 2066 6962 286e 293a 0d0a 2020 2020  ef fib(n):..    
-0001f020: 6966 206e 203c 2032 3a0d 0a20 2020 2020  if n < 2:..     
-0001f030: 2020 2072 6574 7572 6e20 6e0d 0a20 2020     return n..   
-0001f040: 2072 6574 7572 6e20 6669 6228 6e2d 3129   return fib(n-1)
-0001f050: 202b 2066 6962 286e 2d32 290d 0a0d 0a3e   + fib(n-2)....>
-0001f060: 3e3e 205b 6669 6228 6e29 2066 6f72 206e  >> [fib(n) for n
-0001f070: 2069 6e20 7261 6e67 6528 3136 295d 0d0a   in range(16)]..
-0001f080: 5b30 2c20 312c 2031 2c20 322c 2033 2c20  [0, 1, 1, 2, 3, 
-0001f090: 352c 2038 2c20 3133 2c20 3231 2c20 3334  5, 8, 13, 21, 34
-0001f0a0: 2c20 3535 2c20 3839 2c20 3134 342c 2032  , 55, 89, 144, 2
-0001f0b0: 3333 2c20 3337 372c 2036 3130 5d0d 0a0d  33, 377, 610]...
-0001f0c0: 0a3e 3e3e 2066 6962 2e63 6163 6865 5f69  .>>> fib.cache_i
-0001f0d0: 6e66 6f28 290d 0a43 6163 6865 496e 666f  nfo()..CacheInfo
-0001f0e0: 2868 6974 733d 3238 2c20 6d69 7373 6573  (hits=28, misses
-0001f0f0: 3d31 362c 206d 6178 7369 7a65 3d4e 6f6e  =16, maxsize=Non
-0001f100: 652c 2063 7572 7273 697a 653d 3136 290d  e, currsize=16).
-0001f110: 0a60 6060 0d0a 0d0a 2323 2323 2320 4578  .```....##### Ex
-0001f120: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-0001f130: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-0001f140: 740d 0a64 6566 2066 6962 286e 2069 6620  t..def fib(n if 
-0001f150: 6e20 3c20 3229 203d 206e 0d0a 0d0a 406d  n < 2) = n....@m
-0001f160: 656d 6f69 7a65 0d0a 4061 6464 7061 7474  emoize..@addpatt
-0001f170: 6572 6e28 6669 6229 0d0a 6465 6620 6669  ern(fib)..def fi
-0001f180: 6228 6e29 203d 2066 6962 286e 2d31 2920  b(n) = fib(n-1) 
-0001f190: 2b20 6669 6228 6e2d 3229 0d0a 6060 600d  + fib(n-2)..```.
-0001f1a0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0001f1b0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0001f1c0: 6e0d 0a74 7279 3a0d 0a20 2020 2066 726f  n..try:..    fro
-0001f1d0: 6d20 6675 6e63 746f 6f6c 7320 696d 706f  m functools impo
-0001f1e0: 7274 206c 7275 5f63 6163 6865 0d0a 6578  rt lru_cache..ex
-0001f1f0: 6365 7074 2049 6d70 6f72 7445 7272 6f72  cept ImportError
-0001f200: 3a0d 0a20 2020 2066 726f 6d20 6261 636b  :..    from back
-0001f210: 706f 7274 732e 6675 6e63 746f 6f6c 735f  ports.functools_
-0001f220: 6c72 755f 6361 6368 6520 696d 706f 7274  lru_cache import
-0001f230: 206c 7275 5f63 6163 6865 0d0a 406c 7275   lru_cache..@lru
-0001f240: 5f63 6163 6865 286d 6178 7369 7a65 3d4e  _cache(maxsize=N
-0001f250: 6f6e 6529 0d0a 6465 6620 6669 6228 6e29  one)..def fib(n)
-0001f260: 3a0d 0a20 2020 2069 6620 6e20 3c20 323a  :..    if n < 2:
-0001f270: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001f280: 206e 0d0a 2020 2020 7265 7475 726e 2066   n..    return f
-0001f290: 6962 286e 2d31 2920 2b20 6669 6228 6e2d  ib(n-1) + fib(n-
-0001f2a0: 3229 0d0a 6060 600d 0a0d 0a23 2323 2320  2)..```....#### 
-0001f2b0: 606f 7665 7272 6964 6560 0d0a 0d0a 2a2a  `override`....**
-0001f2c0: 6f76 6572 7269 6465 2a2a 285f 6675 6e63  override**(_func
-0001f2d0: 5f29 0d0a 0d0a 436f 636f 6e75 7420 7072  _)....Coconut pr
-0001f2e0: 6f76 6964 6573 2074 6865 2060 406f 7665  ovides the `@ove
-0001f2f0: 7272 6964 6560 2064 6563 6f72 6174 6f72  rride` decorator
-0001f300: 2074 6f20 616c 6c6f 7720 6465 636c 6172   to allow declar
-0001f310: 696e 6720 6120 6d65 7468 6f64 2064 6566  ing a method def
-0001f320: 696e 6974 696f 6e20 696e 2061 2073 7562  inition in a sub
-0001f330: 636c 6173 7320 6173 2061 6e20 6f76 6572  class as an over
-0001f340: 7269 6465 206f 6620 736f 6d65 2070 6172  ride of some par
-0001f350: 656e 7420 636c 6173 7320 6d65 7468 6f64  ent class method
-0001f360: 2e20 5768 656e 2060 406f 7665 7272 6964  . When `@overrid
-0001f370: 6560 2069 7320 7573 6564 206f 6e20 6120  e` is used on a 
-0001f380: 6d65 7468 6f64 2c20 6966 2061 206d 6574  method, if a met
-0001f390: 686f 6420 6f66 2074 6865 2073 616d 6520  hod of the same 
-0001f3a0: 6e61 6d65 2064 6f65 7320 6e6f 7420 6578  name does not ex
-0001f3b0: 6973 7420 6f6e 2073 6f6d 6520 7061 7265  ist on some pare
-0001f3c0: 6e74 2063 6c61 7373 2c20 7468 6520 636c  nt class, the cl
-0001f3d0: 6173 7320 6465 6669 6e69 7469 6f6e 2077  ass definition w
-0001f3e0: 696c 6c20 7261 6973 6520 6120 6052 756e  ill raise a `Run
-0001f3f0: 7469 6d65 4572 726f 7260 2e0d 0a0d 0a41  timeError`.....A
-0001f400: 6464 6974 696f 6e61 6c6c 792c 2060 6f76  dditionally, `ov
-0001f410: 6572 7269 6465 6020 7769 6c6c 2070 7265  erride` will pre
-0001f420: 7365 6e74 2074 6f20 7479 7065 2063 6865  sent to type che
-0001f430: 636b 6572 7320 6173 205b 6074 7970 696e  ckers as [`typin
-0001f440: 675f 6578 7465 6e73 696f 6e73 2e6f 7665  g_extensions.ove
-0001f450: 7272 6964 6560 5d28 6874 7470 733a 2f2f  rride`](https://
-0001f460: 7079 7069 2e6f 7267 2f70 726f 6a65 6374  pypi.org/project
-0001f470: 2f74 7970 696e 672d 6578 7465 6e73 696f  /typing-extensio
-0001f480: 6e73 2f29 2e0d 0a0d 0a23 2323 2323 2045  ns/).....##### E
-0001f490: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-0001f4a0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-0001f4b0: 7574 0d0a 636c 6173 7320 413a 0d0a 2020  ut..class A:..  
-0001f4c0: 2020 7820 3d20 310d 0a20 2020 2064 6566    x = 1..    def
-0001f4d0: 2066 2873 656c 662c 2079 2920 3d20 7365   f(self, y) = se
-0001f4e0: 6c66 2e78 202b 2079 0d0a 0d0a 636c 6173  lf.x + y....clas
-0001f4f0: 7320 423a 0d0a 2020 2020 406f 7665 7272  s B:..    @overr
-0001f500: 6964 650d 0a20 2020 2064 6566 2066 2873  ide..    def f(s
-0001f510: 656c 662c 2079 2920 3d20 7365 6c66 2e78  elf, y) = self.x
-0001f520: 202b 2079 202b 2031 0d0a 6060 600d 0a0d   + y + 1..```...
-0001f530: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-0001f540: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
-0001f550: 686f 7574 2061 206c 6f6e 6720 6465 636f  hout a long deco
-0001f560: 7261 746f 7220 6465 6669 6e69 7469 6f6e  rator definition
-0001f570: 2e20 5468 6520 6675 6c6c 2064 6566 696e  . The full defin
-0001f580: 6974 696f 6e20 6f66 2074 6865 2064 6563  ition of the dec
-0001f590: 6f72 6174 6f72 2069 6e20 5079 7468 6f6e  orator in Python
-0001f5a0: 2063 616e 2062 6520 666f 756e 6420 696e   can be found in
-0001f5b0: 2074 6865 2043 6f63 6f6e 7574 2068 6561   the Coconut hea
-0001f5c0: 6465 722e 5f0d 0a0d 0a23 2323 2320 6072  der._....#### `r
-0001f5d0: 6563 7572 7369 7665 5f69 7465 7261 746f  ecursive_iterato
-0001f5e0: 7260 0d0a 0d0a 2a2a 7265 6375 7273 6976  r`....**recursiv
-0001f5f0: 655c 5f69 7465 7261 746f 722a 2a28 5f66  e\_iterator**(_f
-0001f600: 756e 635f 290d 0a0d 0a43 6f63 6f6e 7574  unc_)....Coconut
-0001f610: 2070 726f 7669 6465 7320 6120 6072 6563   provides a `rec
-0001f620: 7572 7369 7665 5f69 7465 7261 746f 7260  ursive_iterator`
-0001f630: 2064 6563 6f72 6174 6f72 2074 6861 7420   decorator that 
-0001f640: 6d65 6d6f 697a 6573 2061 6e79 2073 7461  memoizes any sta
-0001f650: 7465 6c65 7373 2c20 7265 6375 7273 6976  teless, recursiv
-0001f660: 6520 6675 6e63 7469 6f6e 2074 6861 7420  e function that 
-0001f670: 7265 7475 726e 7320 616e 2069 7465 7261  returns an itera
-0001f680: 746f 722e 2054 6f20 7573 6520 6072 6563  tor. To use `rec
-0001f690: 7572 7369 7665 5f69 7465 7261 746f 7260  ursive_iterator`
-0001f6a0: 206f 6e20 6120 6675 6e63 7469 6f6e 2c20   on a function, 
-0001f6b0: 6974 206d 7573 7420 6d65 6574 2074 6865  it must meet the
-0001f6c0: 2066 6f6c 6c6f 7769 6e67 2063 7269 7465   following crite
-0001f6d0: 7269 613a 0d0a 0d0a 312e 2079 6f75 7220  ria:....1. your 
-0001f6e0: 6675 6e63 7469 6f6e 2065 6974 6865 7220  function either 
-0001f6f0: 616c 7761 7973 2060 7265 7475 726e 6073  always `return`s
-0001f700: 2061 6e20 6974 6572 6174 6f72 206f 7220   an iterator or 
-0001f710: 6765 6e65 7261 7465 7320 616e 2069 7465  generates an ite
-0001f720: 7261 746f 7220 7573 696e 6720 6079 6965  rator using `yie
-0001f730: 6c64 602c 0d0a 322e 2077 6865 6e20 6361  ld`,..2. when ca
-0001f740: 6c6c 6564 206d 756c 7469 706c 6520 7469  lled multiple ti
-0001f750: 6d65 7320 7769 7468 2061 7267 756d 656e  mes with argumen
-0001f760: 7473 2074 6861 7420 6172 6520 6571 7561  ts that are equa
-0001f770: 6c2c 2079 6f75 7220 6675 6e63 7469 6f6e  l, your function
-0001f780: 2070 726f 6475 6365 7320 7468 6520 7361   produces the sa
-0001f790: 6d65 2069 7465 7261 746f 7220 2879 6f75  me iterator (you
-0001f7a0: 7220 6675 6e63 7469 6f6e 2069 7320 7374  r function is st
-0001f7b0: 6174 656c 6573 7329 2c20 616e 640d 0a33  ateless), and..3
-0001f7c0: 2e20 796f 7572 2066 756e 6374 696f 6e20  . your function 
-0001f7d0: 6765 7473 2063 616c 6c65 6420 2875 7375  gets called (usu
-0001f7e0: 616c 6c79 2063 616c 6c73 2069 7473 656c  ally calls itsel
-0001f7f0: 6629 206d 756c 7469 706c 6520 7469 6d65  f) multiple time
-0001f800: 7320 7769 7468 2074 6865 2073 616d 6520  s with the same 
-0001f810: 6172 6775 6d65 6e74 732e 0d0a 0d0a 4966  arguments.....If
-0001f820: 2079 6f75 2061 7265 2065 6e63 6f75 6e74   you are encount
-0001f830: 6572 696e 6720 6120 6052 756e 7469 6d65  ering a `Runtime
-0001f840: 4572 726f 7260 2064 7565 2074 6f20 6d61  Error` due to ma
-0001f850: 7869 6d75 6d20 7265 6375 7273 696f 6e20  ximum recursion 
-0001f860: 6465 7074 682c 2069 7420 6973 2068 6967  depth, it is hig
-0001f870: 686c 7920 7265 636f 6d6d 656e 6465 6420  hly recommended 
-0001f880: 7468 6174 2079 6f75 2072 6577 7269 7465  that you rewrite
-0001f890: 2079 6f75 7220 6675 6e63 7469 6f6e 2074   your function t
-0001f8a0: 6f20 6d65 6574 2065 6974 6865 7220 7468  o meet either th
-0001f8b0: 6520 6372 6974 6572 6961 2061 626f 7665  e criteria above
-0001f8c0: 2066 6f72 2060 7265 6375 7273 6976 655f   for `recursive_
-0001f8d0: 6974 6572 6174 6f72 602c 206f 7220 7468  iterator`, or th
-0001f8e0: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
-0001f8f0: 6372 6974 6572 6961 2066 6f72 2043 6f63  criteria for Coc
-0001f900: 6f6e 7574 2773 205b 7461 696c 2063 616c  onut's [tail cal
-0001f910: 6c20 6f70 7469 6d69 7a61 7469 6f6e 5d28  l optimization](
-0001f920: 2374 6169 6c2d 6361 6c6c 2d6f 7074 696d  #tail-call-optim
-0001f930: 697a 6174 696f 6e29 2c20 6569 7468 6572  ization), either
-0001f940: 206f 6620 7768 6963 6820 7368 6f75 6c64   of which should
-0001f950: 2070 7265 7665 6e74 2073 7563 6820 6572   prevent such er
-0001f960: 726f 7273 2e0d 0a0d 0a46 7572 7468 6572  rors.....Further
-0001f970: 6d6f 7265 2c20 6072 6563 7572 7369 7665  more, `recursive
-0001f980: 5f69 7465 7261 746f 7260 2061 6c73 6f20  _iterator` also 
-0001f990: 616c 6c6f 7773 2074 6865 2072 6573 6f6c  allows the resol
-0001f9a0: 7574 696f 6e20 6f66 2061 205b 6e61 7374  ution of a [nast
-0001f9b0: 7920 7365 676d 656e 7461 7469 6f6e 2066  y segmentation f
-0001f9c0: 6175 6c74 2069 6e20 5079 7468 6f6e 2773  ault in Python's
-0001f9d0: 2069 7465 7261 746f 7220 6c6f 6769 6320   iterator logic 
-0001f9e0: 7468 6174 2068 6173 206e 6576 6572 2062  that has never b
-0001f9f0: 6565 6e20 6669 7865 645d 2868 7474 703a  een fixed](http:
-0001fa00: 2f2f 6275 6773 2e70 7974 686f 6e2e 6f72  //bugs.python.or
-0001fa10: 672f 6973 7375 6531 3430 3130 292e 2053  g/issue14010). S
-0001fa20: 7065 6369 6669 6361 6c6c 792c 2069 6e73  pecifically, ins
-0001fa30: 7465 6164 206f 6620 7772 6974 696e 670d  tead of writing.
-0001fa40: 0a60 6060 636f 636f 6e75 740d 0a73 6571  .```coconut..seq
-0001fa50: 203d 2067 6574 5f65 6c65 6d28 2920 3a3a   = get_elem() ::
-0001fa60: 2073 6571 0d0a 6060 600d 0a77 6869 6368   seq..```..which
-0001fa70: 2077 696c 6c20 6372 6173 6820 6475 6520   will crash due 
-0001fa80: 746f 2074 6865 2061 666f 7265 6d65 6e74  to the aforement
-0001fa90: 696f 6e65 6420 5079 7468 6f6e 2069 7373  ioned Python iss
-0001faa0: 7565 2c20 7772 6974 650d 0a60 6060 636f  ue, write..```co
-0001fab0: 636f 6e75 740d 0a40 7265 6375 7273 6976  conut..@recursiv
-0001fac0: 655f 6974 6572 6174 6f72 0d0a 6465 6620  e_iterator..def 
-0001fad0: 7365 7128 2920 3d20 6765 745f 656c 656d  seq() = get_elem
-0001fae0: 2829 203a 3a20 7365 7128 290d 0a60 6060  () :: seq()..```
-0001faf0: 0d0a 7768 6963 6820 7769 6c6c 2077 6f72  ..which will wor
-0001fb00: 6b20 6a75 7374 2066 696e 652e 0d0a 0d0a  k just fine.....
-0001fb10: 4f6e 6520 7069 7466 616c 6c20 746f 206b  One pitfall to k
-0001fb20: 6565 7020 696e 206d 696e 6420 776f 726b  eep in mind work
-0001fb30: 696e 6720 7769 7468 2060 7265 6375 7273  ing with `recurs
-0001fb40: 6976 655f 6974 6572 6174 6f72 6020 6973  ive_iterator` is
-0001fb50: 2074 6861 7420 6974 2073 686f 756c 646e   that it shouldn
-0001fb60: 2774 2062 6520 7573 6564 2069 6e20 636f  't be used in co
-0001fb70: 6e74 6578 7473 2077 6865 7265 2074 6865  ntexts where the
-0001fb80: 2066 756e 6374 696f 6e20 6361 6e20 706f   function can po
-0001fb90: 7465 6e74 6961 6c6c 7920 6265 2063 616c  tentially be cal
-0001fba0: 6c65 6420 6d75 6c74 6970 6c65 2074 696d  led multiple tim
-0001fbb0: 6573 2077 6974 6820 7468 6520 7361 6d65  es with the same
-0001fbc0: 2069 7465 7261 746f 7220 6f62 6a65 6374   iterator object
-0001fbd0: 2061 7320 616e 2069 6e70 7574 2c20 6275   as an input, bu
-0001fbe0: 7420 7769 7468 2074 6861 7420 6f62 6a65  t with that obje
-0001fbf0: 6374 206e 6f74 2061 6374 7561 6c6c 7920  ct not actually 
-0001fc00: 636f 7272 6573 706f 6e64 696e 6720 746f  corresponding to
-0001fc10: 2074 6865 2073 616d 6520 6974 656d 7320   the same items 
-0001fc20: 2865 2e67 2e20 6265 6361 7573 6520 7468  (e.g. because th
-0001fc30: 6520 6669 7273 7420 7469 6d65 2074 6865  e first time the
-0001fc40: 206f 626a 6563 7420 6861 736e 2774 2062   object hasn't b
-0001fc50: 6565 6e20 6974 6572 6174 6564 206f 7665  een iterated ove
-0001fc60: 7220 7965 7420 616e 6420 7468 6520 7365  r yet and the se
-0001fc70: 636f 6e64 2074 696d 6520 6974 2068 6173  cond time it has
-0001fc80: 2062 6565 6e29 2e0d 0a0d 0a23 2323 2323   been).....#####
-0001fc90: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0001fca0: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0001fcb0: 6f6e 7574 0d0a 4072 6563 7572 7369 7665  onut..@recursive
-0001fcc0: 5f69 7465 7261 746f 720d 0a64 6566 2066  _iterator..def f
-0001fcd0: 6962 2829 203d 2028 312c 2031 2920 3a3a  ib() = (1, 1) ::
-0001fce0: 206d 6170 2828 2b29 2c20 6669 6228 292c   map((+), fib(),
-0001fcf0: 2066 6962 2829 245b 313a 5d29 0d0a 6060   fib()$[1:])..``
-0001fd00: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-0001fd10: 0d0a 5f43 616e 2774 2062 6520 646f 6e65  .._Can't be done
-0001fd20: 2077 6974 686f 7574 2061 206c 6f6e 6720   without a long 
-0001fd30: 6465 636f 7261 746f 7220 6465 6669 6e69  decorator defini
-0001fd40: 7469 6f6e 2e20 5468 6520 6675 6c6c 2064  tion. The full d
-0001fd50: 6566 696e 6974 696f 6e20 6f66 2074 6865  efinition of the
-0001fd60: 2064 6563 6f72 6174 6f72 2069 6e20 5079   decorator in Py
-0001fd70: 7468 6f6e 2063 616e 2062 6520 666f 756e  thon can be foun
-0001fd80: 6420 696e 2074 6865 2043 6f63 6f6e 7574  d in the Coconut
-0001fd90: 2068 6561 6465 722e 5f0d 0a0d 0a23 2323   header._....###
-0001fda0: 2042 7569 6c74 2d49 6e20 5479 7065 730d   Built-In Types.
-0001fdb0: 0a0d 0a60 6060 7b63 6f6e 7465 6e74 737d  ...```{contents}
-0001fdc0: 0d0a 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64  ..---..local:..d
-0001fdd0: 6570 7468 3a20 310d 0a2d 2d2d 0d0a 6060  epth: 1..---..``
-0001fde0: 600d 0a0d 0a23 2323 2320 606d 756c 7469  `....#### `multi
-0001fdf0: 7365 7460 0d0a 0d0a 2a2a 6d75 6c74 6973  set`....**multis
-0001fe00: 6574 2a2a 285f 6974 6572 6162 6c65 5f3d  et**(_iterable_=
-0001fe10: 604e 6f6e 6560 2c20 2f2c 202a 2a6b 7764  `None`, /, **kwd
-0001fe20: 7329 0d0a 0d0a 436f 636f 6e75 7420 7072  s)....Coconut pr
-0001fe30: 6f76 6964 6573 2060 6d75 6c74 6973 6574  ovides `multiset
-0001fe40: 6020 6173 2061 2062 7569 6c74 2d69 6e20  ` as a built-in 
-0001fe50: 7375 6263 6c61 7373 206f 6620 5b60 636f  subclass of [`co
-0001fe60: 6c6c 6563 7469 6f6e 732e 436f 756e 7465  llections.Counte
-0001fe70: 7260 5d28 6874 7470 733a 2f2f 646f 6373  r`](https://docs
-0001fe80: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-0001fe90: 6272 6172 792f 636f 6c6c 6563 7469 6f6e  brary/collection
-0001fea0: 732e 6874 6d6c 2363 6f6c 6c65 6374 696f  s.html#collectio
-0001feb0: 6e73 2e43 6f75 6e74 6572 2920 7468 6174  ns.Counter) that
-0001fec0: 2061 6464 6974 696f 6e61 6c6c 7920 696d   additionally im
-0001fed0: 706c 656d 656e 7473 2074 6865 2066 756c  plements the ful
-0001fee0: 6c20 5b53 6574 2061 6e64 204d 7574 6162  l [Set and Mutab
-0001fef0: 6c65 5365 7420 696e 7465 7266 6163 6573  leSet interfaces
-0001ff00: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-0001ff10: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-0001ff20: 6172 792f 636f 6c6c 6563 7469 6f6e 732e  ary/collections.
-0001ff30: 6162 632e 6874 6d6c 292e 0d0a 0d0a 466f  abc.html).....Fo
-0001ff40: 7220 6561 7369 6c79 2063 6f6e 7374 7275  r easily constru
-0001ff50: 6374 696e 6720 6d75 6c74 6973 6574 732c  cting multisets,
-0001ff60: 2043 6f63 6f6e 7574 2061 6c73 6f20 7072   Coconut also pr
-0001ff70: 6f76 6964 6573 205b 6d75 6c74 6973 6574  ovides [multiset
-0001ff80: 206c 6974 6572 616c 735d 2823 7365 742d   literals](#set-
-0001ff90: 6c69 7465 7261 6c73 292e 0d0a 0d0a 5468  literals).....Th
-0001ffa0: 6520 6e65 7720 6d65 7468 6f64 7320 7072  e new methods pr
-0001ffb0: 6f76 6964 6564 2062 7920 606d 756c 7469  ovided by `multi
-0001ffc0: 7365 7460 206f 6e20 746f 7020 6f66 2060  set` on top of `
-0001ffd0: 636f 6c6c 6563 7469 6f6e 732e 436f 756e  collections.Coun
-0001ffe0: 7465 7260 2061 7265 3a0d 0a2d 206d 756c  ter` are:..- mul
-0001fff0: 7469 7365 742e 2a2a 6164 642a 2a28 5f69  tiset.**add**(_i
-00020000: 7465 6d5f 293a 2041 6464 2061 6e20 656c  tem_): Add an el
-00020010: 656d 656e 7420 746f 2061 206d 756c 7469  ement to a multi
-00020020: 7365 742e 0d0a 2d20 6d75 6c74 6973 6574  set...- multiset
-00020030: 2e2a 2a64 6973 6361 7264 2a2a 285f 6974  .**discard**(_it
-00020040: 656d 5f29 3a20 5265 6d6f 7665 2061 6e20  em_): Remove an 
-00020050: 656c 656d 656e 7420 6672 6f6d 2061 206d  element from a m
-00020060: 756c 7469 7365 7420 6966 2069 7420 6973  ultiset if it is
-00020070: 2061 206d 656d 6265 722e 0d0a 2d20 6d75   a member...- mu
-00020080: 6c74 6973 6574 2e2a 2a72 656d 6f76 652a  ltiset.**remove*
-00020090: 2a28 5f69 7465 6d5f 293a 2052 656d 6f76  *(_item_): Remov
-000200a0: 6520 616e 2065 6c65 6d65 6e74 2066 726f  e an element fro
-000200b0: 6d20 6120 6d75 6c74 6973 6574 3b20 6974  m a multiset; it
-000200c0: 206d 7573 7420 6265 2061 206d 656d 6265   must be a membe
-000200d0: 722e 0d0a 2d20 6d75 6c74 6973 6574 2e2a  r...- multiset.*
-000200e0: 2a69 7364 6973 6a6f 696e 742a 2a28 5f6f  *isdisjoint**(_o
-000200f0: 7468 6572 5f29 3a20 5265 7475 726e 2054  ther_): Return T
-00020100: 7275 6520 6966 2074 776f 206d 756c 7469  rue if two multi
-00020110: 7365 7473 2068 6176 6520 6120 6e75 6c6c  sets have a null
-00020120: 2069 6e74 6572 7365 6374 696f 6e2e 0d0a   intersection...
-00020130: 2d20 6d75 6c74 6973 6574 2e2a 2a5c 5f5c  - multiset.**\_\
-00020140: 5f78 6f72 5c5f 5c5f 2a2a 285f 6f74 6865  _xor\_\_**(_othe
-00020150: 725f 293a 2052 6574 7572 6e20 7468 6520  r_): Return the 
-00020160: 7379 6d6d 6574 7269 6320 6469 6666 6572  symmetric differ
-00020170: 656e 6365 206f 6620 7477 6f20 6d75 6c74  ence of two mult
-00020180: 6973 6574 7320 6173 2061 206e 6577 206d  isets as a new m
-00020190: 756c 7469 7365 742e 2053 7065 6369 6669  ultiset. Specifi
-000201a0: 6361 6c6c 793a 2060 6120 5e20 6220 3d20  cally: `a ^ b = 
-000201b0: 2861 202d 2062 2920 7c20 2862 202d 2061  (a - b) | (b - a
-000201c0: 2960 0d0a 2d20 6d75 6c74 6973 6574 2e2a  )`..- multiset.*
-000201d0: 2a63 6f75 6e74 2a2a 285f 6974 656d 5f29  *count**(_item_)
-000201e0: 3a20 5265 7475 726e 2074 6865 206e 756d  : Return the num
-000201f0: 6265 7220 6f66 2074 696d 6573 2061 6e20  ber of times an 
-00020200: 656c 656d 656e 7420 6f63 6375 7273 2069  element occurs i
-00020210: 6e20 6120 6d75 6c74 6973 6574 2e20 4571  n a multiset. Eq
-00020220: 7569 7661 6c65 6e74 2074 6f20 606d 756c  uivalent to `mul
-00020230: 7469 7365 745b 6974 656d 5d60 2c20 6275  tiset[item]`, bu
-00020240: 7420 6164 6469 7469 6f6e 616c 6c79 2076  t additionally v
-00020250: 6572 6966 6965 7320 7468 6520 636f 756e  erifies the coun
-00020260: 7420 6973 206e 6f6e 2d6e 6567 6174 6976  t is non-negativ
-00020270: 652e 0d0a 0d0a 436f 636f 6e75 7420 616c  e.....Coconut al
-00020280: 736f 2065 6e73 7572 6573 2074 6861 7420  so ensures that 
-00020290: 606d 756c 7469 7365 7460 2073 7570 706f  `multiset` suppo
-000202a0: 7274 7320 5b72 6963 6820 636f 6d70 6172  rts [rich compar
-000202b0: 6973 6f6e 7320 616e 6420 6043 6f75 6e74  isons and `Count
-000202c0: 6572 2e74 6f74 616c 2829 605d 2868 7474  er.total()`](htt
-000202d0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
-000202e0: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
-000202f0: 6f6c 6c65 6374 696f 6e73 2e68 746d 6c23  ollections.html#
-00020300: 636f 6c6c 6563 7469 6f6e 732e 436f 756e  collections.Coun
-00020310: 7465 7229 206f 6e20 616c 6c20 5079 7468  ter) on all Pyth
-00020320: 6f6e 2076 6572 7369 6f6e 732e 0d0a 0d0a  on versions.....
-00020330: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-00020340: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-00020350: 6060 636f 636f 6e75 740d 0a6d 795f 6d75  ``coconut..my_mu
-00020360: 6c74 6973 6574 203d 206d 7b31 2c20 312c  ltiset = m{1, 1,
-00020370: 2032 7d0d 0a6d 795f 6d75 6c74 6973 6574   2}..my_multiset
-00020380: 2e61 6464 2833 290d 0a6d 795f 6d75 6c74  .add(3)..my_mult
-00020390: 6973 6574 2e72 656d 6f76 6528 3229 0d0a  iset.remove(2)..
-000203a0: 7072 696e 7428 6d79 5f6d 756c 7469 7365  print(my_multise
-000203b0: 7429 0d0a 6060 600d 0a0d 0a2a 2a50 7974  t)..```....**Pyt
-000203c0: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
-000203d0: 7574 5f70 7974 686f 6e0d 0a66 726f 6d20  ut_python..from 
-000203e0: 636f 6c6c 6563 7469 6f6e 7320 696d 706f  collections impo
-000203f0: 7274 2043 6f75 6e74 6572 0d0a 6d79 5f63  rt Counter..my_c
-00020400: 6f75 6e74 6572 203d 2043 6f75 6e74 6572  ounter = Counter
-00020410: 2828 312c 2031 2c20 3229 290d 0a6d 795f  ((1, 1, 2))..my_
-00020420: 636f 756e 7465 725b 335d 202b 3d20 310d  counter[3] += 1.
-00020430: 0a6d 795f 636f 756e 7465 725b 325d 202d  .my_counter[2] -
-00020440: 3d20 310d 0a69 6620 6d79 5f63 6f75 6e74  = 1..if my_count
-00020450: 6572 5b32 5d20 3c3d 2030 3a0d 0a20 2020  er[2] <= 0:..   
-00020460: 2064 656c 206d 795f 636f 756e 7465 725b   del my_counter[
-00020470: 325d 0d0a 7072 696e 7428 6d79 5f63 6f75  2]..print(my_cou
-00020480: 6e74 6572 290d 0a60 6060 0d0a 0d0a 2323  nter)..```....##
-00020490: 2323 2060 4578 7065 6374 6564 600d 0a0d  ## `Expected`...
-000204a0: 0a2a 2a45 7870 6563 7465 642a 2a28 5f72  .**Expected**(_r
-000204b0: 6573 756c 745f 3d60 4e6f 6e65 602c 205f  esult_=`None`, _
-000204c0: 6572 726f 725f 3d60 4e6f 6e65 6029 0d0a  error_=`None`)..
-000204d0: 0d0a 436f 636f 6e75 7427 7320 6045 7870  ..Coconut's `Exp
-000204e0: 6563 7465 6460 2062 7569 6c74 2d69 6e20  ected` built-in 
-000204f0: 6973 2061 2043 6f63 6f6e 7574 205b 6064  is a Coconut [`d
-00020500: 6174 6160 2074 7970 655d 2823 6461 7461  ata` type](#data
-00020510: 2920 7468 6174 2072 6570 7265 7365 6e74  ) that represent
-00020520: 7320 6120 7661 6c75 6520 7468 6174 206d  s a value that m
-00020530: 6179 206f 7220 6d61 7920 6e6f 7420 6265  ay or may not be
-00020540: 2061 6e20 6572 726f 722c 2073 696d 696c   an error, simil
-00020550: 6172 2074 6f20 4861 736b 656c 6c27 7320  ar to Haskell's 
-00020560: 5b60 4569 7468 6572 605d 2868 7474 7073  [`Either`](https
-00020570: 3a2f 2f68 6163 6b61 6765 2e68 6173 6b65  ://hackage.haske
-00020580: 6c6c 2e6f 7267 2f70 6163 6b61 6765 2f62  ll.org/package/b
-00020590: 6173 652d 342e 3137 2e30 2e30 2f64 6f63  ase-4.17.0.0/doc
-000205a0: 732f 4461 7461 2d45 6974 6865 722e 6874  s/Data-Either.ht
-000205b0: 6d6c 292e 0d0a 0d0a 6045 7870 6563 7465  ml).....`Expecte
-000205c0: 6460 2069 7320 6566 6665 6374 6976 656c  d` is effectivel
-000205d0: 7920 6571 7569 7661 6c65 6e74 2074 6f20  y equivalent to 
-000205e0: 7468 6520 666f 6c6c 6f77 696e 673a 0d0a  the following:..
-000205f0: 6060 6063 6f63 6f6e 7574 0d0a 6461 7461  ```coconut..data
-00020600: 2045 7870 6563 7465 645b 545d 2872 6573   Expected[T](res
-00020610: 756c 743a 2054 3f20 3d20 4e6f 6e65 2c20  ult: T? = None, 
-00020620: 6572 726f 723a 2042 6173 6545 7863 6570  error: BaseExcep
-00020630: 7469 6f6e 3f20 3d20 4e6f 6e65 293a 0d0a  tion? = None):..
-00020640: 2020 2020 6465 6620 5f5f 626f 6f6c 5f5f      def __bool__
-00020650: 2873 656c 6629 202d 3e20 626f 6f6c 3a0d  (self) -> bool:.
-00020660: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00020670: 7365 6c66 2e65 7272 6f72 2069 7320 4e6f  self.error is No
-00020680: 6e65 0d0a 2020 2020 6465 6620 5f5f 666d  ne..    def __fm
-00020690: 6170 5f5f 5b55 5d28 7365 6c66 2c20 6675  ap__[U](self, fu
-000206a0: 6e63 3a20 5420 2d3e 2055 2920 2d3e 2045  nc: T -> U) -> E
-000206b0: 7870 6563 7465 645b 555d 3a0d 0a20 2020  xpected[U]:..   
-000206c0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000206d0: 2e5f 5f63 6c61 7373 5f5f 2866 756e 6328  .__class__(func(
-000206e0: 7365 6c66 2e72 6573 756c 7429 2920 6966  self.result)) if
-000206f0: 2073 656c 6620 656c 7365 2073 656c 660d   self else self.
-00020700: 0a20 2020 2064 6566 2061 6e64 5f74 6865  .    def and_the
-00020710: 6e5b 555d 2873 656c 662c 2066 756e 633a  n[U](self, func:
-00020720: 2054 202d 3e20 4578 7065 6374 6564 5b55   T -> Expected[U
-00020730: 5d29 202d 3e20 4578 7065 6374 6564 5b55  ]) -> Expected[U
-00020740: 5d3a 0d0a 2020 2020 2020 2020 2222 224d  ]:..        """M
-00020750: 6170 7320 6120 5420 2d3e 2045 7870 6563  aps a T -> Expec
-00020760: 7465 645b 555d 206f 7665 7220 616e 2045  ted[U] over an E
-00020770: 7870 6563 7465 645b 545d 2074 6f20 7072  xpected[T] to pr
-00020780: 6f64 7563 6520 616e 2045 7870 6563 7465  oduce an Expecte
-00020790: 645b 555d 2e0d 0a20 2020 2020 2020 2049  d[U]...        I
-000207a0: 6d70 6c65 6d65 6e74 7320 6120 6d6f 6e61  mplements a mona
-000207b0: 6469 6320 6269 6e64 2e20 4571 7569 7661  dic bind. Equiva
-000207c0: 6c65 6e74 2074 6f20 666d 6170 202e 2e3e  lent to fmap ..>
-000207d0: 202e 6a6f 696e 2829 2e22 2222 0d0a 2020   .join()."""..  
-000207e0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000207f0: 6620 7c3e 2066 6d61 7024 2866 756e 6329  f |> fmap$(func)
-00020800: 207c 3e20 2e6a 6f69 6e28 290d 0a20 2020   |> .join()..   
-00020810: 2064 6566 206a 6f69 6e28 7365 6c66 3a20   def join(self: 
-00020820: 4578 7065 6374 6564 5b45 7870 6563 7465  Expected[Expecte
-00020830: 645b 545d 5d29 202d 3e20 4578 7065 6374  d[T]]) -> Expect
-00020840: 6564 5b54 5d3a 0d0a 2020 2020 2020 2020  ed[T]:..        
-00020850: 2222 224d 6f6e 6164 6963 206a 6f69 6e2e  """Monadic join.
-00020860: 2043 6f6e 7665 7274 7320 4578 7065 6374   Converts Expect
-00020870: 6564 5b45 7870 6563 7465 645b 545d 5d20  ed[Expected[T]] 
-00020880: 746f 2045 7870 6563 7465 645b 545d 2e22  to Expected[T]."
-00020890: 2222 0d0a 2020 2020 2020 2020 6966 206e  ""..        if n
-000208a0: 6f74 2073 656c 663a 0d0a 2020 2020 2020  ot self:..      
-000208b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000208c0: 660d 0a20 2020 2020 2020 2069 6620 6e6f  f..        if no
-000208d0: 7420 7365 6c66 2e72 6573 756c 7420 6069  t self.result `i
-000208e0: 7369 6e73 7461 6e63 6560 2045 7870 6563  sinstance` Expec
-000208f0: 7465 643a 0d0a 2020 2020 2020 2020 2020  ted:..          
-00020900: 2020 7261 6973 6520 5479 7065 4572 726f    raise TypeErro
-00020910: 7228 2245 7870 6563 7465 642e 6a6f 696e  r("Expected.join
-00020920: 2829 2072 6571 7569 7265 7320 616e 2045  () requires an E
-00020930: 7870 6563 7465 645b 4578 7065 6374 6564  xpected[Expected
-00020940: 5b5f 5d5d 2229 0d0a 2020 2020 2020 2020  [_]]")..        
-00020950: 7265 7475 726e 2073 656c 662e 7265 7375  return self.resu
-00020960: 6c74 0d0a 2020 2020 6465 6620 6f72 5f65  lt..    def or_e
-00020970: 6c73 655b 555d 2873 656c 662c 2066 756e  lse[U](self, fun
-00020980: 633a 2042 6173 6545 7863 6570 7469 6f6e  c: BaseException
-00020990: 202d 3e20 4578 7065 6374 6564 5b55 5d29   -> Expected[U])
-000209a0: 202d 3e20 4578 7065 6374 6564 5b54 207c   -> Expected[T |
-000209b0: 2055 5d3a 0d0a 2020 2020 2020 2020 2222   U]:..        ""
-000209c0: 2252 6574 7572 6e20 7365 6c66 2069 6620  "Return self if 
-000209d0: 6e6f 2065 7272 6f72 2c20 6f74 6865 7277  no error, otherw
-000209e0: 6973 6520 7265 7475 726e 2074 6865 2072  ise return the r
-000209f0: 6573 756c 7420 6f66 2065 7661 6c75 6174  esult of evaluat
-00020a00: 696e 6720 6675 6e63 206f 6e20 7468 6520  ing func on the 
-00020a10: 6572 726f 722e 2222 220d 0a20 2020 2020  error."""..     
-00020a20: 2020 2072 6574 7572 6e20 7365 6c66 2069     return self i
-00020a30: 6620 7365 6c66 2065 6c73 6520 6675 6e63  f self else func
-00020a40: 2873 656c 662e 6572 726f 7229 0d0a 2020  (self.error)..  
-00020a50: 2020 6465 6620 7265 7375 6c74 5f6f 725b    def result_or[
-00020a60: 555d 2873 656c 662c 2064 6566 6175 6c74  U](self, default
-00020a70: 3a20 5529 202d 3e20 5420 7c20 553a 0d0a  : U) -> T | U:..
-00020a80: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
-00020a90: 6e20 7468 6520 7265 7375 6c74 2069 6620  n the result if 
-00020aa0: 6974 2065 7869 7374 732c 206f 7468 6572  it exists, other
-00020ab0: 7769 7365 2072 6574 7572 6e20 7468 6520  wise return the 
-00020ac0: 6465 6661 756c 742e 2222 220d 0a20 2020  default."""..   
-00020ad0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00020ae0: 2e72 6573 756c 7420 6966 2073 656c 6620  .result if self 
-00020af0: 656c 7365 2064 6566 6175 6c74 0d0a 2020  else default..  
-00020b00: 2020 6465 6620 7265 7375 6c74 5f6f 725f    def result_or_
-00020b10: 656c 7365 5b55 5d28 7365 6c66 2c20 6675  else[U](self, fu
-00020b20: 6e63 3a20 4261 7365 4578 6365 7074 696f  nc: BaseExceptio
-00020b30: 6e20 2d3e 2055 2920 2d3e 2054 207c 2055  n -> U) -> T | U
-00020b40: 3a0d 0a20 2020 2020 2020 2022 2222 5265  :..        """Re
-00020b50: 7475 726e 2074 6865 2072 6573 756c 7420  turn the result 
-00020b60: 6966 2069 7420 6578 6973 7473 2c20 6f74  if it exists, ot
-00020b70: 6865 7277 6973 6520 7265 7475 726e 2074  herwise return t
-00020b80: 6865 2072 6573 756c 7420 6f66 2065 7661  he result of eva
-00020b90: 6c75 6174 696e 6720 6675 6e63 206f 6e20  luating func on 
-00020ba0: 7468 6520 6572 726f 722e 2222 220d 0a20  the error.""".. 
-00020bb0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00020bc0: 6c66 2e72 6573 756c 7420 6966 2073 656c  lf.result if sel
-00020bd0: 6620 656c 7365 2066 756e 6328 7365 6c66  f else func(self
-00020be0: 2e65 7272 6f72 290d 0a20 2020 2064 6566  .error)..    def
-00020bf0: 2075 6e77 7261 7028 7365 6c66 2920 2d3e   unwrap(self) ->
-00020c00: 2054 3a0d 0a20 2020 2020 2020 2022 2222   T:..        """
-00020c10: 556e 7772 6170 2074 6865 2072 6573 756c  Unwrap the resul
-00020c20: 7420 6f72 2072 6169 7365 2074 6865 2065  t or raise the e
-00020c30: 7272 6f72 2e22 2222 0d0a 2020 2020 2020  rror."""..      
-00020c40: 2020 6966 206e 6f74 2073 656c 663a 0d0a    if not self:..
-00020c50: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00020c60: 6520 7365 6c66 2e65 7272 6f72 0d0a 2020  e self.error..  
-00020c70: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00020c80: 662e 7265 7375 6c74 0d0a 6060 600d 0a0d  f.result..```...
-00020c90: 0a60 4578 7065 6374 6564 6020 6973 2070  .`Expected` is p
-00020ca0: 7269 6d61 7269 6c79 2075 7365 6420 6173  rimarily used as
-00020cb0: 2074 6865 2072 6574 7572 6e20 7479 7065   the return type
-00020cc0: 2066 6f72 205b 6073 6166 655f 6361 6c6c   for [`safe_call
-00020cd0: 605d 2823 7361 6665 5f63 616c 6c29 2e20  `](#safe_call). 
-00020ce0: 4765 6e65 7261 6c6c 792c 2074 6865 2062  Generally, the b
-00020cf0: 6573 7420 7761 7920 746f 2075 7365 2060  est way to use `
-00020d00: 4578 7065 6374 6564 6020 6973 2077 6974  Expected` is wit
-00020d10: 6820 5b60 666d 6170 605d 2823 666d 6170  h [`fmap`](#fmap
-00020d20: 292c 2077 6869 6368 2077 696c 6c20 6170  ), which will ap
-00020d30: 706c 7920 6120 6675 6e63 7469 6f6e 2074  ply a function t
-00020d40: 6f20 7468 6520 7265 7375 6c74 2069 6620  o the result if 
-00020d50: 6974 2065 7869 7374 732c 206f 7220 6f74  it exists, or ot
-00020d60: 6865 7277 6973 6520 7265 7461 696e 2074  herwise retain t
-00020d70: 6865 2065 7272 6f72 2e20 4966 2079 6f75  he error. If you
-00020d80: 2077 616e 7420 746f 2073 6571 7565 6e63   want to sequenc
-00020d90: 6520 6d75 6c74 6970 6c65 2060 4578 7065  e multiple `Expe
-00020da0: 6374 6564 602d 7265 7475 726e 696e 6720  cted`-returning 
-00020db0: 6f70 6572 6174 696f 6e73 2c20 602e 616e  operations, `.an
-00020dc0: 645f 7468 656e 6020 7368 6f75 6c64 2062  d_then` should b
-00020dd0: 6520 7573 6564 2069 6e73 7465 6164 206f  e used instead o
-00020de0: 6620 6066 6d61 7060 2e0d 0a0d 0a54 6f20  f `fmap`.....To 
-00020df0: 6d61 7463 6820 6167 6169 6e73 7420 616e  match against an
-00020e00: 2060 4578 7065 6374 6564 602c 206a 7573   `Expected`, jus
-00020e10: 743a 0d0a 6060 600d 0a45 7870 6563 7465  t:..```..Expecte
-00020e20: 6428 7265 7329 203d 2045 7870 6563 7465  d(res) = Expecte
-00020e30: 6428 2272 6573 756c 7422 290d 0a45 7870  d("result")..Exp
-00020e40: 6563 7465 6428 6572 726f 723d 6572 7229  ected(error=err)
-00020e50: 203d 2045 7870 6563 7465 6428 6572 726f   = Expected(erro
-00020e60: 723d 5479 7065 4572 726f 7228 2929 0d0a  r=TypeError())..
-00020e70: 6060 600d 0a0d 0a23 2323 2323 2045 7861  ```....##### Exa
-00020e80: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00020e90: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00020ea0: 0d0a 6465 6620 7472 795f 6469 7669 6465  ..def try_divide
-00020eb0: 2878 3a20 666c 6f61 742c 2079 3a20 666c  (x: float, y: fl
-00020ec0: 6f61 7429 202d 3e20 4578 7065 6374 6564  oat) -> Expected
-00020ed0: 5b66 6c6f 6174 5d3a 0d0a 2020 2020 7472  [float]:..    tr
-00020ee0: 793a 0d0a 2020 2020 2020 2020 7265 7475  y:..        retu
-00020ef0: 726e 2045 7870 6563 7465 6428 7820 2f20  rn Expected(x / 
-00020f00: 7929 0d0a 2020 2020 6578 6365 7074 2045  y)..    except E
-00020f10: 7863 6570 7469 6f6e 2061 7320 6572 723a  xception as err:
-00020f20: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00020f30: 2045 7870 6563 7465 6428 6572 726f 723d   Expected(error=
-00020f40: 6572 7229 0d0a 0d0a 7472 795f 6469 7669  err)....try_divi
-00020f50: 6465 2831 2c20 3229 207c 3e20 666d 6170  de(1, 2) |> fmap
-00020f60: 2428 2e2b 3129 207c 3e20 7072 696e 740d  $(.+1) |> print.
-00020f70: 0a74 7279 5f64 6976 6964 6528 312c 2030  .try_divide(1, 0
-00020f80: 2920 7c3e 2066 6d61 7024 282e 2b31 2920  ) |> fmap$(.+1) 
-00020f90: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
-00020fa0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-00020fb0: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
-00020fc0: 686f 7574 2061 2063 6f6d 706c 6578 2060  hout a complex `
-00020fd0: 4578 7065 6374 6564 6020 6465 6669 6e69  Expected` defini
-00020fe0: 7469 6f6e 2e20 5365 6520 7468 6520 636f  tion. See the co
-00020ff0: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
-00021000: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
-00021010: 782e 5f0d 0a0d 0a23 2323 2320 604d 6174  x._....#### `Mat
-00021020: 6368 4572 726f 7260 0d0a 0d0a 4120 604d  chError`....A `M
-00021030: 6174 6368 4572 726f 7260 2069 7320 7261  atchError` is ra
-00021040: 6973 6564 2077 6865 6e20 6120 5b64 6573  ised when a [des
-00021050: 7472 7563 7475 7269 6e67 2061 7373 6967  tructuring assig
-00021060: 6e6d 656e 745d 2823 6465 7374 7275 6374  nment](#destruct
-00021070: 7572 696e 672d 6173 7369 676e 6d65 6e74  uring-assignment
-00021080: 2920 6f72 205b 7061 7474 6572 6e2d 6d61  ) or [pattern-ma
-00021090: 7463 6869 6e67 2066 756e 6374 696f 6e5d  tching function]
-000210a0: 2823 7061 7474 6572 6e2d 6d61 7463 6869  (#pattern-matchi
-000210b0: 6e67 2d66 756e 6374 696f 6e73 2920 6661  ng-functions) fa
-000210c0: 696c 732c 2061 6e64 2074 6875 7320 604d  ils, and thus `M
-000210d0: 6174 6368 4572 726f 7260 2069 7320 7072  atchError` is pr
-000210e0: 6f76 6964 6564 2061 7320 6120 6275 696c  ovided as a buil
-000210f0: 742d 696e 2066 6f72 2063 6174 6368 696e  t-in for catchin
-00021100: 6720 7468 6f73 6520 6572 726f 7273 2e20  g those errors. 
-00021110: 604d 6174 6368 4572 726f 7260 206f 626a  `MatchError` obj
-00021120: 6563 7473 2073 7570 706f 7274 2074 6872  ects support thr
-00021130: 6565 2061 7474 7269 6275 7465 733a 2060  ee attributes: `
-00021140: 7061 7474 6572 6e60 2c20 7768 6963 6820  pattern`, which 
-00021150: 6973 2061 2073 7472 696e 6720 6465 7363  is a string desc
-00021160: 7269 6269 6e67 2074 6865 2066 6169 6c65  ribing the faile
-00021170: 6420 7061 7474 6572 6e3b 2060 7661 6c75  d pattern; `valu
-00021180: 6560 2c20 7768 6963 6820 6973 2074 6865  e`, which is the
-00021190: 206f 626a 6563 7420 7468 6174 2066 6169   object that fai
-000211a0: 6c65 6420 746f 206d 6174 6368 2074 6861  led to match tha
-000211b0: 7420 7061 7474 6572 6e3b 2061 6e64 2060  t pattern; and `
-000211c0: 6d65 7373 6167 6560 2077 6869 6368 2069  message` which i
-000211d0: 7320 7468 6520 6675 6c6c 2065 7272 6f72  s the full error
-000211e0: 206d 6573 7361 6765 2e20 546f 2061 766f   message. To avo
-000211f0: 6964 2075 6e6e 6563 6573 7361 7279 2060  id unnecessary `
-00021200: 7265 7072 6020 6361 6c6c 732c 2060 4d61  repr` calls, `Ma
-00021210: 7463 6845 7272 6f72 6020 6f6e 6c79 2063  tchError` only c
-00021220: 6f6d 7075 7465 7320 7468 6520 606d 6573  omputes the `mes
-00021230: 7361 6765 6020 6f6e 6365 2069 7420 6973  sage` once it is
-00021240: 2061 6374 7561 6c6c 7920 7265 7175 6573   actually reques
-00021250: 7465 642e 0d0a 0d0a 4164 6469 7469 6f6e  ted.....Addition
-00021260: 616c 6c79 2c20 6966 2079 6f75 2061 7265  ally, if you are
-00021270: 2075 7369 6e67 205b 7669 6577 2070 6174   using [view pat
-00021280: 7465 726e 735d 2823 6d61 7463 6829 2c20  terns](#match), 
-00021290: 796f 7520 6d69 6768 7420 6e65 6564 2074  you might need t
-000212a0: 6f20 7261 6973 6520 796f 7572 206f 776e  o raise your own
-000212b0: 2060 4d61 7463 6845 7272 6f72 6020 2874   `MatchError` (t
-000212c0: 686f 7567 6820 796f 7520 6361 6e20 616c  hough you can al
-000212d0: 736f 206a 7573 7420 7573 6520 6120 6465  so just use a de
-000212e0: 7374 7275 6374 7572 696e 6720 6173 7369  structuring assi
-000212f0: 676e 6d65 6e74 206f 7220 7061 7474 6572  gnment or patter
-00021300: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-00021310: 696f 6e20 6465 6669 6e69 7469 6f6e 2074  ion definition t
-00021320: 6f20 646f 2073 6f29 2e20 546f 2072 6169  o do so). To rai
-00021330: 7365 2079 6f75 7220 6f77 6e20 604d 6174  se your own `Mat
-00021340: 6368 4572 726f 7260 2c20 6a75 7374 2060  chError`, just `
-00021350: 7261 6973 6520 4d61 7463 6845 7272 6f72  raise MatchError
-00021360: 2870 6174 7465 726e 2c20 7661 6c75 6529  (pattern, value)
-00021370: 6020 2862 6f74 6820 6172 6775 6d65 6e74  ` (both argument
-00021380: 7320 6172 6520 6f70 7469 6f6e 616c 292e  s are optional).
-00021390: 0d0a 0d0a 496e 2073 6f6d 6520 6361 7365  ....In some case
-000213a0: 7320 7768 6572 6520 7468 6572 6520 6172  s where there ar
-000213b0: 6520 6d75 6c74 6970 6c65 2043 6f63 6f6e  e multiple Cocon
-000213c0: 7574 2070 6163 6b61 6765 7320 696e 7374  ut packages inst
-000213d0: 616c 6c65 6420 6174 2074 6865 2073 616d  alled at the sam
-000213e0: 6520 7469 6d65 2c20 7468 6572 6520 6d61  e time, there ma
-000213f0: 7920 6265 206d 756c 7469 706c 6520 604d  y be multiple `M
-00021400: 6174 6368 4572 726f 7260 7320 6465 6669  atchError`s defi
-00021410: 6e65 6420 696e 2064 6966 6665 7265 6e74  ned in different
-00021420: 2070 6163 6b61 6765 732e 2043 6f63 6f6e   packages. Cocon
-00021430: 7574 2063 616e 2070 6572 666f 726d 2073  ut can perform s
-00021440: 6f6d 6520 6d61 6769 6320 756e 6465 7220  ome magic under 
-00021450: 7468 6520 686f 6f64 2074 6f20 6d61 6b65  the hood to make
-00021460: 2073 7572 6520 7468 6174 2061 6c6c 2074   sure that all t
-00021470: 6865 7365 2060 4d61 7463 6845 7272 6f72  hese `MatchError
-00021480: 6073 2077 696c 6c20 7365 616d 6c65 7373  `s will seamless
-00021490: 6c79 2069 6e74 6572 6f70 6572 6174 652c  ly interoperate,
-000214a0: 2062 7574 206f 6e6c 7920 6966 2061 6c6c   but only if all
-000214b0: 2073 7563 6820 7061 636b 6167 6573 2061   such packages a
-000214c0: 7265 2063 6f6d 7069 6c65 6420 696e 205b  re compiled in [
-000214d0: 602d 2d70 6163 6b61 6765 6020 6d6f 6465  `--package` mode
-000214e0: 2072 6174 6865 7220 7468 616e 2060 2d2d   rather than `--
-000214f0: 7374 616e 6461 6c6f 6e65 6020 6d6f 6465  standalone` mode
-00021500: 5d28 2363 6f6d 7069 6c61 7469 6f6e 2d6d  ](#compilation-m
-00021510: 6f64 6573 292e 0d0a 0d0a 2323 2320 4765  odes).....### Ge
-00021520: 6e65 7269 6320 4275 696c 742d 496e 2046  neric Built-In F
-00021530: 756e 6374 696f 6e73 0d0a 0d0a 6060 607b  unctions....```{
-00021540: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
-00021550: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2031  local:..depth: 1
-00021560: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
-00021570: 2323 2060 6d61 6b65 6461 7461 600d 0a0d  ## `makedata`...
-00021580: 0a2a 2a6d 616b 6564 6174 612a 2a28 5f64  .**makedata**(_d
-00021590: 6174 615c 5f74 7970 655f 2c20 2a5f 6172  ata\_type_, *_ar
-000215a0: 6773 5f29 0d0a 0d0a 436f 636f 6e75 7420  gs_)....Coconut 
-000215b0: 7072 6f76 6964 6573 2074 6865 2060 6d61  provides the `ma
-000215c0: 6b65 6461 7461 6020 6675 6e63 7469 6f6e  kedata` function
-000215d0: 2074 6f20 636f 6e73 7472 7563 7420 6120   to construct a 
-000215e0: 636f 6e74 6169 6e65 7220 6769 7665 6e20  container given 
-000215f0: 7468 6520 6465 7369 7265 6420 7479 7065  the desired type
-00021600: 2061 6e64 2063 6f6e 7465 6e74 732e 2054   and contents. T
-00021610: 6869 7320 6973 2070 6172 7469 6375 6c61  his is particula
-00021620: 726c 7920 7573 6566 756c 2077 6865 6e20  rly useful when 
-00021630: 7772 6974 696e 6720 616c 7465 726e 6174  writing alternat
-00021640: 6976 6520 636f 6e73 7472 7563 746f 7273  ive constructors
-00021650: 2066 6f72 205b 6064 6174 6160 5d28 2364   for [`data`](#d
-00021660: 6174 6129 2074 7970 6573 2062 7920 6f76  ata) types by ov
-00021670: 6572 7772 6974 696e 6720 605f 5f6e 6577  erwriting `__new
-00021680: 5f5f 602c 2073 696e 6365 2069 7420 616c  __`, since it al
-00021690: 6c6f 7773 2064 6972 6563 7420 6163 6365  lows direct acce
-000216a0: 7373 2074 6f20 7468 6520 6261 7365 2063  ss to the base c
-000216b0: 6f6e 7374 7275 6374 6f72 206f 6620 7468  onstructor of th
-000216c0: 6520 6461 7461 2074 7970 6520 6372 6561  e data type crea
-000216d0: 7465 6420 7769 7468 2074 6865 2043 6f63  ted with the Coc
-000216e0: 6f6e 7574 2060 6461 7461 6020 7374 6174  onut `data` stat
-000216f0: 656d 656e 742e 0d0a 0d0a 606d 616b 6564  ement.....`maked
-00021700: 6174 6160 2074 616b 6573 2074 6865 2064  ata` takes the d
-00021710: 6174 6120 7479 7065 2074 6f20 636f 6e73  ata type to cons
-00021720: 7472 7563 7420 6173 2074 6865 2066 6972  truct as the fir
-00021730: 7374 2061 7267 756d 656e 742c 2061 6e64  st argument, and
-00021740: 2074 6865 206f 626a 6563 7473 2074 6f20   the objects to 
-00021750: 7075 7420 696e 2074 6861 7420 636f 6e74  put in that cont
-00021760: 6169 6e65 7220 6173 2074 6865 2072 6573  ainer as the res
-00021770: 7420 6f66 2074 6865 2061 7267 756d 656e  t of the argumen
-00021780: 7473 2e0d 0a0d 0a60 6d61 6b65 6461 7461  ts.....`makedata
-00021790: 6020 6361 6e20 616c 736f 2062 6520 7573  ` can also be us
-000217a0: 6564 2074 6f20 6578 7472 6163 7420 7468  ed to extract th
-000217b0: 6520 756e 6465 726c 7969 6e67 2063 6f6e  e underlying con
-000217c0: 7374 7275 6374 6f72 2066 6f72 205b 606d  structor for [`m
-000217d0: 6174 6368 2064 6174 6160 5d28 236d 6174  atch data`](#mat
-000217e0: 6368 2d64 6174 6129 2074 7970 6573 2074  ch-data) types t
-000217f0: 6861 7420 6279 7061 7373 6573 2074 6865  hat bypasses the
-00021800: 206e 6f72 6d61 6c20 7061 7474 6572 6e2d   normal pattern-
-00021810: 6d61 7463 6869 6e67 2063 6f6e 7374 7275  matching constru
-00021820: 6374 6f72 2e0d 0a0d 0a41 6464 6974 696f  ctor.....Additio
-00021830: 6e61 6c6c 792c 2060 6d61 6b65 6461 7461  nally, `makedata
-00021840: 6020 6361 6e20 616c 736f 2062 6520 6361  ` can also be ca
-00021850: 6c6c 6564 2077 6974 6820 6e6f 6e2d 6064  lled with non-`d
-00021860: 6174 6160 2074 7970 6520 6173 2074 6865  ata` type as the
-00021870: 2066 6972 7374 2061 7267 756d 656e 742c   first argument,
-00021880: 2069 6e20 7768 6963 6820 6361 7365 2069   in which case i
-00021890: 7420 7769 6c6c 2064 6f20 6974 7320 6265  t will do its be
-000218a0: 7374 2074 6f20 636f 6e73 7472 7563 7420  st to construct 
-000218b0: 7468 6520 6769 7665 6e20 7479 7065 206f  the given type o
-000218c0: 6620 6f62 6a65 6374 2077 6974 6820 7468  f object with th
-000218d0: 6520 6769 7665 6e20 6172 6775 6d65 6e74  e given argument
-000218e0: 732e 2054 6869 7320 6675 6e63 7469 6f6e  s. This function
-000218f0: 616c 6974 7920 6973 2075 7365 6420 696e  ality is used in
-00021900: 7465 726e 616c 6c79 2062 7920 6066 6d61  ternally by `fma
-00021910: 7060 2e0d 0a0d 0a23 2323 2323 2060 6461  p`.....##### `da
-00021920: 7461 6d61 6b65 7260 0d0a 0d0a 2a2a 4445  tamaker`....**DE
-00021930: 5052 4543 4154 4544 3a2a 2a20 436f 636f  PRECATED:** Coco
-00021940: 6e75 7420 616c 736f 2068 6173 2061 2060  nut also has a `
-00021950: 6461 7461 6d61 6b65 7260 2062 7569 6c74  datamaker` built
-00021960: 2d69 6e2c 2077 6869 6368 2070 6172 7469  -in, which parti
-00021970: 616c 6c79 2061 7070 6c69 6573 2060 6d61  ally applies `ma
-00021980: 6b65 6461 7461 603b 2060 6461 7461 6d61  kedata`; `datama
-00021990: 6b65 7260 2069 7320 6465 6669 6e65 6420  ker` is defined 
-000219a0: 6173 3a0d 0a60 6060 636f 636f 6e75 740d  as:..```coconut.
-000219b0: 0a64 6566 2064 6174 616d 616b 6572 2864  .def datamaker(d
-000219c0: 6174 615f 7479 7065 293a 0d0a 2020 2020  ata_type):..    
-000219d0: 2222 2247 6574 2074 6865 206f 7269 6769  """Get the origi
-000219e0: 6e61 6c20 636f 6e73 7472 7563 746f 7220  nal constructor 
-000219f0: 6f66 2074 6865 2067 6976 656e 2064 6174  of the given dat
-00021a00: 6120 7479 7065 206f 7220 636c 6173 732e  a type or class.
-00021a10: 2222 220d 0a20 2020 2072 6574 7572 6e20  """..    return 
-00021a20: 6d61 6b65 6461 7461 2428 6461 7461 5f74  makedata$(data_t
-00021a30: 7970 6529 0d0a 6060 600d 0a5f 4e6f 7465  ype)..```.._Note
-00021a40: 3a20 5061 7373 696e 6720 602d 2d73 7472  : Passing `--str
-00021a50: 6963 7460 2064 6973 6162 6c65 7320 6465  ict` disables de
-00021a60: 7072 6563 6174 6564 2066 6561 7475 7265  precated feature
-00021a70: 732e 5f0d 0a0d 0a23 2323 2323 2045 7861  s._....##### Exa
-00021a80: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00021a90: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00021aa0: 0d0a 6461 7461 2054 7570 6c65 2865 6c65  ..data Tuple(ele
-00021ab0: 6d73 293a 0d0a 2020 2020 6465 6620 5f5f  ms):..    def __
-00021ac0: 6e65 775f 5f28 636c 732c 202a 656c 656d  new__(cls, *elem
-00021ad0: 7329 3a0d 0a20 2020 2020 2020 2072 6574  s):..        ret
-00021ae0: 7572 6e20 656c 656d 7320 7c3e 206d 616b  urn elems |> mak
-00021af0: 6564 6174 6124 2863 6c73 290d 0a60 6060  edata$(cls)..```
-00021b00: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00021b10: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-00021b20: 7769 7468 6f75 7420 6120 7365 7269 6573  without a series
-00021b30: 206f 6620 6d65 7468 6f64 2064 6566 696e   of method defin
-00021b40: 6974 696f 6e73 2066 6f72 2065 6163 6820  itions for each 
-00021b50: 6461 7461 2074 7970 652e 2053 6565 2074  data type. See t
-00021b60: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
-00021b70: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
-00021b80: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2323  syntax._....####
-00021b90: 2060 666d 6170 600d 0a0d 0a2a 2a66 6d61   `fmap`....**fma
-00021ba0: 702a 2a28 5f66 756e 635f 2c20 5f6f 626a  p**(_func_, _obj
-00021bb0: 5f2c 202a 2c20 5f73 7461 726d 6170 5c5f  _, *, _starmap\_
-00021bc0: 6f76 6572 5c5f 6d61 7070 696e 6773 5f3d  over\_mappings_=
-00021bd0: 6046 616c 7365 6029 0d0a 0d0a 496e 2048  `False`)....In H
-00021be0: 6173 6b65 6c6c 2c20 6066 6d61 7028 6675  askell, `fmap(fu
-00021bf0: 6e63 2c20 6f62 6a29 6020 7461 6b65 7320  nc, obj)` takes 
-00021c00: 6120 6461 7461 2074 7970 6520 606f 626a  a data type `obj
-00021c10: 6020 616e 6420 7265 7475 726e 7320 6120  ` and returns a 
-00021c20: 6e65 7720 6461 7461 2074 7970 6520 7769  new data type wi
-00021c30: 7468 2060 6675 6e63 6020 6d61 7070 6564  th `func` mapped
-00021c40: 206f 7665 7220 7468 6520 636f 6e74 656e   over the conten
-00021c50: 7473 2e20 436f 636f 6e75 7427 7320 6066  ts. Coconut's `f
-00021c60: 6d61 7060 2066 756e 6374 696f 6e20 646f  map` function do
-00021c70: 6573 2074 6865 2065 7861 6374 2073 616d  es the exact sam
-00021c80: 6520 7468 696e 6720 696e 2043 6f63 6f6e  e thing in Cocon
-00021c90: 7574 2e0d 0a0d 0a60 666d 6170 6020 6361  ut.....`fmap` ca
-00021ca0: 6e20 616c 736f 2062 6520 7573 6564 206f  n also be used o
-00021cb0: 6e20 6275 696c 742d 696e 7320 7375 6368  n built-ins such
-00021cc0: 2061 7320 6073 7472 602c 2060 6c69 7374   as `str`, `list
-00021cd0: 602c 2060 7365 7460 2c20 616e 6420 6064  `, `set`, and `d
-00021ce0: 6963 7460 2061 7320 6120 7661 7269 616e  ict` as a varian
-00021cf0: 7420 6f66 2060 6d61 7060 2074 6861 7420  t of `map` that 
-00021d00: 7265 7475 726e 7320 6261 636b 2061 6e20  returns back an 
-00021d10: 6f62 6a65 6374 206f 6620 7468 6520 7361  object of the sa
-00021d20: 6d65 2074 7970 652e 2054 6865 2062 6568  me type. The beh
-00021d30: 6176 696f 7220 6f66 2060 666d 6170 6020  avior of `fmap` 
-00021d40: 666f 7220 6120 6769 7665 6e20 6f62 6a65  for a given obje
-00021d50: 6374 2063 616e 2062 6520 6f76 6572 7269  ct can be overri
-00021d60: 6464 656e 2062 7920 6465 6669 6e69 6e67  dden by defining
-00021d70: 2061 6e20 605f 5f66 6d61 705f 5f28 7365   an `__fmap__(se
-00021d80: 6c66 2c20 6675 6e63 2960 206d 6167 6963  lf, func)` magic
-00021d90: 206d 6574 686f 6420 7468 6174 2077 696c   method that wil
-00021da0: 6c20 6265 2063 616c 6c65 6420 7768 656e  l be called when
-00021db0: 6576 6572 2060 666d 6170 6020 6973 2069  ever `fmap` is i
-00021dc0: 6e76 6f6b 6564 206f 6e20 7468 6174 206f  nvoked on that o
-00021dd0: 626a 6563 742e 204e 6f74 6520 7468 6174  bject. Note that
-00021de0: 2060 5f5f 666d 6170 5f5f 6020 696d 706c   `__fmap__` impl
-00021df0: 656d 656e 7461 7469 6f6e 7320 7368 6f75  ementations shou
-00021e00: 6c64 2061 6c77 6179 7320 7361 7469 7366  ld always satisf
-00021e10: 7920 7468 6520 5b46 756e 6374 6f72 204c  y the [Functor L
-00021e20: 6177 735d 2868 7474 7073 3a2f 2f77 696b  aws](https://wik
-00021e30: 692e 6861 736b 656c 6c2e 6f72 672f 4675  i.haskell.org/Fu
-00021e40: 6e63 746f 7229 2e0d 0a0d 0a46 6f72 2060  nctor).....For `
-00021e50: 6469 6374 602c 206f 7220 616e 7920 6f74  dict`, or any ot
-00021e60: 6865 7220 6063 6f6c 6c65 6374 696f 6e73  her `collections
-00021e70: 2e61 6263 2e4d 6170 7069 6e67 602c 2060  .abc.Mapping`, `
-00021e80: 666d 6170 6020 7769 6c6c 206d 6170 206f  fmap` will map o
-00021e90: 7665 7220 7468 6520 6d61 7070 696e 6727  ver the mapping'
-00021ea0: 7320 602e 6974 656d 7328 2960 2069 6e73  s `.items()` ins
-00021eb0: 7465 6164 206f 6620 7468 6520 6465 6661  tead of the defa
-00021ec0: 756c 7420 6974 6572 6174 696f 6e20 7468  ult iteration th
-00021ed0: 726f 7567 6820 6974 7320 602e 6b65 7973  rough its `.keys
-00021ee0: 2829 602c 2077 6974 6820 7468 6520 6e65  ()`, with the ne
-00021ef0: 7720 6d61 7070 696e 6720 7265 636f 6e73  w mapping recons
-00021f00: 7472 7563 7465 6420 6672 6f6d 2074 6865  tructed from the
-00021f10: 206d 6170 7065 6420 6f76 6572 2069 7465   mapped over ite
-00021f20: 6d73 2e20 5f44 4550 5245 4341 5445 443a  ms. _DEPRECATED:
-00021f30: 2060 666d 6170 2428 7374 6172 6d61 705f   `fmap$(starmap_
-00021f40: 6f76 6572 5f6d 6170 7069 6e67 733d 5472  over_mappings=Tr
-00021f50: 7565 2960 2077 696c 6c20 6073 7461 726d  ue)` will `starm
-00021f60: 6170 6020 6f76 6572 2074 6865 2060 2e69  ap` over the `.i
-00021f70: 7465 6d73 2829 6020 696e 7374 6561 6420  tems()` instead 
-00021f80: 6f66 2060 6d61 7060 206f 7665 7220 7468  of `map` over th
-00021f90: 656d 2e5f 0d0a 0d0a 466f 7220 5b60 6e75  em._....For [`nu
-00021fa0: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
-00021fb0: 6567 7261 7469 6f6e 2920 6f62 6a65 6374  egration) object
-00021fc0: 732c 2060 666d 6170 6020 7769 6c6c 2075  s, `fmap` will u
-00021fd0: 7365 205b 606e 702e 7665 6374 6f72 697a  se [`np.vectoriz
-00021fe0: 6560 5d28 6874 7470 733a 2f2f 646f 6373  e`](https://docs
-00021ff0: 2e73 6369 7079 2e6f 7267 2f64 6f63 2f6e  .scipy.org/doc/n
-00022000: 756d 7079 2f72 6566 6572 656e 6365 2f67  umpy/reference/g
-00022010: 656e 6572 6174 6564 2f6e 756d 7079 2e76  enerated/numpy.v
-00022020: 6563 746f 7269 7a65 2e68 746d 6c29 2074  ectorize.html) t
-00022030: 6f20 7072 6f64 7563 6520 7468 6520 7265  o produce the re
-00022040: 7375 6c74 2e0d 0a0d 0a46 6f72 2061 7379  sult.....For asy
-00022050: 6e63 6872 6f6e 6f75 7320 6974 6572 6162  nchronous iterab
-00022060: 6c65 732c 2060 666d 6170 6020 7769 6c6c  les, `fmap` will
-00022070: 206d 6170 2061 7379 6e63 6872 6f6e 6f75   map asynchronou
-00022080: 736c 792c 206d 616b 696e 6720 6066 6d61  sly, making `fma
-00022090: 7060 2065 7175 6976 616c 656e 7420 696e  p` equivalent in
-000220a0: 2074 6861 7420 6361 7365 2074 6f0d 0a60   that case to..`
-000220b0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000220c0: 0d0a 6173 796e 6320 6465 6620 666d 6170  ..async def fmap
-000220d0: 5f6f 7665 725f 6173 796e 635f 6974 6572  _over_async_iter
-000220e0: 7328 6675 6e63 2c20 6173 796e 635f 6974  s(func, async_it
-000220f0: 6572 293a 0d0a 2020 2020 6173 796e 6320  er):..    async 
-00022100: 666f 7220 6974 656d 2069 6e20 6173 796e  for item in asyn
-00022110: 635f 6974 6572 3a0d 0a20 2020 2020 2020  c_iter:..       
-00022120: 2079 6965 6c64 2066 756e 6328 6974 656d   yield func(item
-00022130: 290d 0a60 6060 0d0a 7375 6368 2074 6861  )..```..such tha
-00022140: 7420 6066 6d61 7060 2063 616e 2065 6666  t `fmap` can eff
-00022150: 6563 7469 7665 6c79 2062 6520 7573 6564  ectively be used
-00022160: 2061 7320 616e 2061 7379 6e63 206d 6170   as an async map
-00022170: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-00022180: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-00022190: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-000221a0: 5b31 2c20 322c 2033 5d20 7c3e 2066 6d61  [1, 2, 3] |> fma
-000221b0: 7024 2878 202d 3e20 782b 3129 203d 3d20  p$(x -> x+1) == 
-000221c0: 5b32 2c20 332c 2034 5d0d 0a0d 0a63 6c61  [2, 3, 4]....cla
-000221d0: 7373 204d 6179 6265 0d0a 6461 7461 204e  ss Maybe..data N
-000221e0: 6f74 6869 6e67 2829 2066 726f 6d20 4d61  othing() from Ma
-000221f0: 7962 650d 0a64 6174 6120 4a75 7374 286e  ybe..data Just(n
-00022200: 2920 6672 6f6d 204d 6179 6265 0d0a 0d0a  ) from Maybe....
-00022210: 4a75 7374 2833 2920 7c3e 2066 6d61 7024  Just(3) |> fmap$
-00022220: 2878 202d 3e20 782a 3229 203d 3d20 4a75  (x -> x*2) == Ju
-00022230: 7374 2836 290d 0a4e 6f74 6869 6e67 2829  st(6)..Nothing()
-00022240: 207c 3e20 666d 6170 2428 7820 2d3e 2078   |> fmap$(x -> x
-00022250: 2a32 2920 3d3d 204e 6f74 6869 6e67 2829  *2) == Nothing()
-00022260: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00022270: 6e3a 2a2a 0d0a 5f43 616e 2774 2062 6520  n:**.._Can't be 
-00022280: 646f 6e65 2077 6974 686f 7574 2061 2073  done without a s
-00022290: 6572 6965 7320 6f66 206d 6574 686f 6420  eries of method 
-000222a0: 6465 6669 6e69 7469 6f6e 7320 666f 7220  definitions for 
-000222b0: 6561 6368 2064 6174 6120 7479 7065 2e20  each data type. 
-000222c0: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
-000222d0: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
-000222e0: 7468 6f6e 2073 796e 7461 782e 5f0d 0a0d  thon syntax._...
-000222f0: 0a0d 0a23 2323 2320 6063 616c 6c60 0d0a  ...#### `call`..
-00022300: 0d0a 2a2a 6361 6c6c 2a2a 285f 6675 6e63  ..**call**(_func
-00022310: 5f2c 202f 2c20 2a5f 6172 6773 5f2c 205c  _, /, *_args_, \
-00022320: 2a5c 2a5f 6b77 6172 6773 5f29 0d0a 0d0a  *\*_kwargs_)....
-00022330: 436f 636f 6e75 7427 7320 6063 616c 6c60  Coconut's `call`
-00022340: 2073 696d 706c 7920 696d 706c 656d 656e   simply implemen
-00022350: 7473 2066 756e 6374 696f 6e20 6170 706c  ts function appl
-00022360: 6963 6174 696f 6e2e 2054 6875 732c 2060  ication. Thus, `
-00022370: 6361 6c6c 6020 6973 2065 7175 6976 616c  call` is equival
-00022380: 656e 7420 746f 0d0a 6060 6063 6f63 6f6e  ent to..```cocon
-00022390: 7574 0d0a 6465 6620 6361 6c6c 2866 2c20  ut..def call(f, 
-000223a0: 2f2c 202a 6172 6773 2c20 2a2a 6b77 6172  /, *args, **kwar
-000223b0: 6773 2920 3d20 6628 2a61 7267 732c 202a  gs) = f(*args, *
-000223c0: 2a6b 7761 7267 7329 0d0a 6060 600d 0a0d  *kwargs)..```...
-000223d0: 0a60 6361 6c6c 6020 6973 2070 7269 6d61  .`call` is prima
-000223e0: 7269 6c79 2075 7365 6675 6c20 6173 2061  rily useful as a
-000223f0: 6e20 5b6f 7065 7261 746f 7220 6675 6e63  n [operator func
-00022400: 7469 6f6e 5d28 236f 7065 7261 746f 722d  tion](#operator-
-00022410: 6675 6e63 7469 6f6e 7329 2066 6f72 2066  functions) for f
-00022420: 756e 6374 696f 6e20 6170 706c 6963 6174  unction applicat
-00022430: 696f 6e20 7768 656e 2077 7269 7469 6e67  ion when writing
-00022440: 2069 6e20 6120 706f 696e 742d 6672 6565   in a point-free
-00022450: 2073 7479 6c65 2e0d 0a0d 0a5f 4445 5052   style....._DEPR
-00022460: 4543 4154 4544 3a20 606f 6660 2069 7320  ECATED: `of` is 
-00022470: 6176 6169 6c61 626c 6520 6173 2061 2064  available as a d
-00022480: 6570 7265 6361 7465 6420 616c 6961 7320  eprecated alias 
-00022490: 666f 7220 6063 616c 6c60 2e20 4e6f 7465  for `call`. Note
-000224a0: 2074 6861 7420 6465 7072 6563 6174 6564   that deprecated
-000224b0: 2066 6561 7475 7265 7320 6172 6520 6469   features are di
-000224c0: 7361 626c 6564 2069 6e20 602d 2d73 7472  sabled in `--str
-000224d0: 6963 7460 206d 6f64 652e 5f0d 0a0d 0a23  ict` mode._....#
-000224e0: 2323 2320 6073 6166 655f 6361 6c6c 600d  ### `safe_call`.
-000224f0: 0a0d 0a2a 2a73 6166 655f 6361 6c6c 2a2a  ...**safe_call**
-00022500: 285f 6675 6e63 5f2c 202f 2c20 2a5f 6172  (_func_, /, *_ar
-00022510: 6773 5f2c 205c 2a5c 2a5f 6b77 6172 6773  gs_, \*\*_kwargs
-00022520: 5f29 0d0a 0d0a 436f 636f 6e75 7427 7320  _)....Coconut's 
-00022530: 6073 6166 655f 6361 6c6c 6020 6973 2061  `safe_call` is a
-00022540: 2076 6572 7369 6f6e 206f 6620 5b60 6361   version of [`ca
-00022550: 6c6c 605d 2823 6361 6c6c 2920 7468 6174  ll`](#call) that
-00022560: 2063 6174 6368 6573 2061 6e79 2060 4578   catches any `Ex
-00022570: 6365 7074 696f 6e60 7320 616e 6420 7265  ception`s and re
-00022580: 7475 726e 7320 616e 205b 6045 7870 6563  turns an [`Expec
-00022590: 7465 6460 5d28 2365 7870 6563 7465 6429  ted`](#expected)
-000225a0: 2063 6f6e 7461 696e 696e 6720 6569 7468   containing eith
-000225b0: 6572 2074 6865 2072 6573 756c 7420 6f72  er the result or
-000225c0: 2074 6865 2065 7272 6f72 2e0d 0a0d 0a60   the error.....`
-000225d0: 7361 6665 5f63 616c 6c60 2069 7320 6566  safe_call` is ef
-000225e0: 6665 6374 6976 656c 7920 6571 7569 7661  fectively equiva
-000225f0: 6c65 6e74 2074 6f3a 0d0a 6060 6063 6f63  lent to:..```coc
-00022600: 6f6e 7574 0d0a 6465 6620 7361 6665 5f63  onut..def safe_c
-00022610: 616c 6c28 662c 202f 2c20 2a61 7267 732c  all(f, /, *args,
-00022620: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
-00022630: 2074 7279 3a0d 0a20 2020 2020 2020 2072   try:..        r
-00022640: 6574 7572 6e20 4578 7065 6374 6564 2866  eturn Expected(f
-00022650: 282a 6172 6773 2c20 2a2a 6b77 6172 6773  (*args, **kwargs
-00022660: 2929 0d0a 2020 2020 6578 6365 7074 2045  ))..    except E
-00022670: 7863 6570 7469 6f6e 2061 7320 6572 723a  xception as err:
-00022680: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00022690: 2045 7870 6563 7465 6428 6572 726f 723d   Expected(error=
-000226a0: 6572 7229 0d0a 6060 600d 0a0d 0a23 2323  err)..```....###
-000226b0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-000226c0: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-000226d0: 6f63 6f6e 7574 0d0a 7265 732c 2065 7272  oconut..res, err
-000226e0: 203d 2073 6166 655f 6361 6c6c 282d 3e20   = safe_call(-> 
-000226f0: 3120 2f20 3029 207c 3e20 666d 6170 2428  1 / 0) |> fmap$(
-00022700: 2e2b 3129 0d0a 6060 600d 0a0d 0a2a 2a50  .+1)..```....**P
-00022710: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
-00022720: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
-00022730: 2061 2063 6f6d 706c 6578 2060 4578 7065   a complex `Expe
-00022740: 6374 6564 6020 6465 6669 6e69 7469 6f6e  cted` definition
-00022750: 2e20 5365 6520 7468 6520 636f 6d70 696c  . See the compil
-00022760: 6564 2063 6f64 6520 666f 7220 7468 6520  ed code for the 
-00022770: 5079 7468 6f6e 2073 796e 7461 782e 5f0d  Python syntax._.
-00022780: 0a0d 0a23 2323 2320 606c 6966 7460 0d0a  ...#### `lift`..
-00022790: 0d0a 2a2a 6c69 6674 2a2a 285f 6675 6e63  ..**lift**(_func
-000227a0: 5f29 0d0a 0d0a 2a2a 6c69 6674 2a2a 285f  _)....**lift**(_
-000227b0: 6675 6e63 5f2c 202a 5f66 756e 635c 5f61  func_, *_func\_a
-000227c0: 7267 735f 2c20 2a2a 5f66 756e 635c 5f6b  rgs_, **_func\_k
-000227d0: 7761 7267 735f 290d 0a0d 0a43 6f63 6f6e  wargs_)....Cocon
-000227e0: 7574 2773 2060 6c69 6674 6020 6275 696c  ut's `lift` buil
-000227f0: 742d 696e 2069 7320 6120 6869 6768 6572  t-in is a higher
-00022800: 2d6f 7264 6572 2066 756e 6374 696f 6e20  -order function 
-00022810: 7468 6174 2074 616b 6573 2069 6e20 6120  that takes in a 
-00022820: 6675 6e63 7469 6f6e 2061 6e64 20e2 809c  function and ...
-00022830: 6c69 6674 73e2 809d 2069 7420 7570 2073  lifts... it up s
-00022840: 6f20 7468 6174 2061 6c6c 206f 6620 6974  o that all of it
-00022850: 7320 6172 6775 6d65 6e74 7320 6172 6520  s arguments are 
-00022860: 6675 6e63 7469 6f6e 732e 0d0a 0d0a 4173  functions.....As
-00022870: 2061 2073 696d 706c 6520 6578 616d 706c   a simple exampl
-00022880: 652c 2066 6f72 2061 2062 696e 6172 7920  e, for a binary 
-00022890: 6675 6e63 7469 6f6e 2060 6628 782c 2079  function `f(x, y
-000228a0: 2960 2061 6e64 2074 776f 2075 6e61 7279  )` and two unary
-000228b0: 2066 756e 6374 696f 6e73 2060 6728 7a29   functions `g(z)
-000228c0: 6020 616e 6420 6068 287a 2960 2c20 606c  ` and `h(z)`, `l
-000228d0: 6966 7460 2077 6f72 6b73 2061 730d 0a60  ift` works as..`
-000228e0: 6060 636f 636f 6e75 740d 0a6c 6966 7428  ``coconut..lift(
-000228f0: 6629 2867 2c20 6829 287a 2920 3d3d 2066  f)(g, h)(z) == f
-00022900: 2867 287a 292c 2068 287a 2929 0d0a 6060  (g(z), h(z))..``
-00022910: 600d 0a73 7563 6820 7468 6174 2069 6e20  `..such that in 
-00022920: 7468 6973 2063 6173 6520 606c 6966 7460  this case `lift`
-00022930: 2069 6d70 6c65 6d65 6e74 7320 7468 6520   implements the 
-00022940: 6053 2760 2063 6f6d 6269 6e61 746f 7220  `S'` combinator 
-00022950: 2860 6c69 6674 4132 6020 6f72 2060 6c69  (`liftA2` or `li
-00022960: 6674 4d32 6020 696e 2048 6173 6b65 6c6c  ftM2` in Haskell
-00022970: 292e 0d0a 0d0a 496e 2074 6865 2067 656e  ).....In the gen
-00022980: 6572 616c 2063 6173 652c 2060 6c69 6674  eral case, `lift
-00022990: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-000229a0: 746f 2061 2070 6963 6b6c 6561 626c 6520  to a pickleable 
-000229b0: 7665 7273 696f 6e20 6f66 0d0a 6060 6063  version of..```c
-000229c0: 6f63 6f6e 7574 0d0a 6465 6620 6c69 6674  oconut..def lift
-000229d0: 2866 2920 3d20 280d 0a20 2020 2028 2a66  (f) = (..    (*f
-000229e0: 756e 635f 6172 6773 2c20 2a2a 6675 6e63  unc_args, **func
-000229f0: 5f6b 7761 7267 7329 202d 3e0d 0a20 2020  _kwargs) ->..   
-00022a00: 2020 2020 2028 2a61 7267 732c 202a 2a6b       (*args, **k
-00022a10: 7761 7267 7329 202d 3e0d 0a20 2020 2020  wargs) ->..     
-00022a20: 2020 2020 2020 2066 280d 0a20 2020 2020         f(..     
-00022a30: 2020 2020 2020 2020 2020 202a 2867 282a             *(g(*
-00022a40: 6172 6773 2c20 2a2a 6b77 6172 6773 2920  args, **kwargs) 
-00022a50: 666f 7220 6720 696e 2066 756e 635f 6172  for g in func_ar
-00022a60: 6773 292c 0d0a 2020 2020 2020 2020 2020  gs),..          
-00022a70: 2020 2020 2020 2a2a 7b6b 3a20 6828 2a61        **{k: h(*a
-00022a80: 7267 732c 202a 2a6b 7761 7267 7329 2066  rgs, **kwargs) f
-00022a90: 6f72 206b 2c20 6820 696e 2066 756e 635f  or k, h in func_
-00022aa0: 6b77 6172 6773 2e69 7465 6d73 2829 7d0d  kwargs.items()}.
-00022ab0: 0a20 2020 2020 2020 2020 2020 2029 0d0a  .            )..
-00022ac0: 290d 0a60 6060 0d0a 0d0a 606c 6966 7460  )..```....`lift`
-00022ad0: 2061 6c73 6f20 7375 7070 6f72 7473 2061   also supports a
-00022ae0: 2073 686f 7274 6375 7420 666f 726d 2073   shortcut form s
-00022af0: 7563 6820 7468 6174 2060 6c69 6674 2866  uch that `lift(f
-00022b00: 2c20 2a66 756e 635f 6172 6773 2c20 2a2a  , *func_args, **
-00022b10: 6675 6e63 5f6b 7761 7267 7329 6020 6973  func_kwargs)` is
-00022b20: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
-00022b30: 6c69 6674 2866 2928 2a66 756e 635f 6172  lift(f)(*func_ar
-00022b40: 6773 2c20 2a2a 6675 6e63 5f6b 7761 7267  gs, **func_kwarg
-00022b50: 7329 602e 0d0a 0d0a 2323 2323 2320 4578  s)`.....##### Ex
-00022b60: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-00022b70: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-00022b80: 740d 0a78 735f 616e 645f 7873 7031 203d  t..xs_and_xsp1 =
-00022b90: 2069 6465 6e74 2060 6c69 6674 287a 6970   ident `lift(zip
-00022ba0: 2960 206d 6170 2428 2d3e 5f2b 3129 0d0a  )` map$(->_+1)..
-00022bb0: 6d69 6e5f 616e 645f 6d61 7820 3d20 6c69  min_and_max = li
-00022bc0: 6674 282c 2928 6d69 6e2c 206d 6178 290d  ft(,)(min, max).
-00022bd0: 0a70 6c75 735f 616e 645f 7469 6d65 7320  .plus_and_times 
-00022be0: 3d20 282b 2920 606c 6966 7428 2c29 6020  = (+) `lift(,)` 
-00022bf0: 282a 290d 0a60 6060 0d0a 0d0a 2a2a 5079  (*)..```....**Py
-00022c00: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-00022c10: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-00022c20: 7873 5f61 6e64 5f78 7370 3128 7873 293a  xs_and_xsp1(xs):
-00022c30: 0d0a 2020 2020 7265 7475 726e 207a 6970  ..    return zip
-00022c40: 2878 732c 206d 6170 286c 616d 6264 6120  (xs, map(lambda 
-00022c50: 783a 2078 202b 2031 2c20 7873 2929 0d0a  x: x + 1, xs))..
-00022c60: 6465 6620 6d69 6e5f 616e 645f 6d61 7828  def min_and_max(
-00022c70: 7873 293a 0d0a 2020 2020 7265 7475 726e  xs):..    return
-00022c80: 206d 696e 2878 7329 2c20 6d61 7828 7873   min(xs), max(xs
-00022c90: 290d 0a64 6566 2070 6c75 735f 616e 645f  )..def plus_and_
-00022ca0: 7469 6d65 7328 782c 2079 293a 0d0a 2020  times(x, y):..  
-00022cb0: 2020 7265 7475 726e 2078 202b 2079 2c20    return x + y, 
-00022cc0: 7820 2a20 790d 0a60 6060 0d0a 0d0a 2323  x * y..```....##
-00022cd0: 2323 2060 666c 6970 600d 0a0d 0a2a 2a66  ## `flip`....**f
-00022ce0: 6c69 702a 2a28 5f66 756e 635f 2c20 5f6e  lip**(_func_, _n
-00022cf0: 6172 6773 5f3d 604e 6f6e 6560 290d 0a0d  args_=`None`)...
-00022d00: 0a43 6f63 6f6e 7574 2773 2060 666c 6970  .Coconut's `flip
-00022d10: 2866 2c20 6e61 7267 733d 4e6f 6e65 2960  (f, nargs=None)`
-00022d20: 2069 7320 6120 6869 6768 6572 2d6f 7264   is a higher-ord
-00022d30: 6572 2066 756e 6374 696f 6e20 7468 6174  er function that
-00022d40: 2c20 6769 7665 6e20 6120 6675 6e63 7469  , given a functi
-00022d50: 6f6e 2060 6660 2c20 7265 7475 726e 7320  on `f`, returns 
-00022d60: 6120 6e65 7720 6675 6e63 7469 6f6e 2077  a new function w
-00022d70: 6974 6820 7265 7665 7273 6564 2061 7267  ith reversed arg
-00022d80: 756d 656e 7420 6f72 6465 722e 2049 6620  ument order. If 
-00022d90: 606e 6172 6773 6020 6973 2070 6173 7365  `nargs` is passe
-00022da0: 642c 206f 6e6c 7920 7468 6520 6669 7273  d, only the firs
-00022db0: 7420 606e 6172 6773 6020 6172 6775 6d65  t `nargs` argume
-00022dc0: 6e74 7320 6172 6520 7265 7665 7273 6564  nts are reversed
-00022dd0: 2e0d 0a0d 0a46 6f72 2074 6865 2062 696e  .....For the bin
-00022de0: 6172 7920 6361 7365 2c20 6066 6c69 7060  ary case, `flip`
-00022df0: 2077 6f72 6b73 2061 730d 0a60 6060 636f   works as..```co
-00022e00: 636f 6e75 740d 0a66 6c69 7028 662c 2032  conut..flip(f, 2
-00022e10: 2928 782c 2079 2920 3d3d 2066 2879 2c20  )(x, y) == f(y, 
-00022e20: 7829 0d0a 6060 600d 0a73 7563 6820 7468  x)..```..such th
-00022e30: 6174 2060 666c 6970 2428 3f2c 2032 2960  at `flip$(?, 2)`
-00022e40: 2069 6d70 6c65 6d65 6e74 7320 7468 6520   implements the 
-00022e50: 6043 6020 636f 6d62 696e 6174 6f72 2028  `C` combinator (
-00022e60: 6066 6c69 7060 2069 6e20 4861 736b 656c  `flip` in Haskel
-00022e70: 6c29 2e0d 0a0d 0a49 6e20 7468 6520 6765  l).....In the ge
-00022e80: 6e65 7261 6c20 6361 7365 2c20 6066 6c69  neral case, `fli
-00022e90: 7060 2069 7320 6571 7569 7661 6c65 6e74  p` is equivalent
-00022ea0: 2074 6f20 6120 7069 636b 6c65 6162 6c65   to a pickleable
-00022eb0: 2076 6572 7369 6f6e 206f 660d 0a60 6060   version of..```
-00022ec0: 636f 636f 6e75 740d 0a64 6566 2066 6c69  coconut..def fli
-00022ed0: 7028 662c 206e 6172 6773 3d4e 6f6e 6529  p(f, nargs=None)
-00022ee0: 203d 0d0a 2020 2020 282a 6172 6773 2c20   =..    (*args, 
-00022ef0: 2a2a 6b77 6172 6773 2920 2d3e 2028 0d0a  **kwargs) -> (..
-00022f00: 2020 2020 2020 2020 6628 2a61 7267 735b          f(*args[
-00022f10: 3a3a 2d31 5d2c 202a 2a6b 7761 7267 7329  ::-1], **kwargs)
-00022f20: 2069 6620 6e61 7267 7320 6973 204e 6f6e   if nargs is Non
-00022f30: 650d 0a20 2020 2020 2020 2065 6c73 6520  e..        else 
-00022f40: 6628 2a28 6172 6773 5b6e 6172 6773 2d31  f(*(args[nargs-1
-00022f50: 3a3a 2d31 5d20 2b20 6172 6773 5b6e 6172  ::-1] + args[nar
-00022f60: 6773 3a5d 292c 202a 2a6b 7761 7267 7329  gs:]), **kwargs)
-00022f70: 0d0a 2020 2020 290d 0a60 6060 0d0a 0d0a  ..    )..```....
-00022f80: 2323 2323 2060 636f 6e73 7460 0d0a 0d0a  #### `const`....
-00022f90: 2a2a 636f 6e73 742a 2a28 5f76 616c 7565  **const**(_value
-00022fa0: 5f29 0d0a 0d0a 436f 636f 6e75 7427 7320  _)....Coconut's 
-00022fb0: 6063 6f6e 7374 6020 7369 6d70 6c79 2063  `const` simply c
-00022fc0: 6f6e 7374 7275 6374 7320 6120 6675 6e63  onstructs a func
-00022fd0: 7469 6f6e 2074 6861 742c 2077 6861 7465  tion that, whate
-00022fe0: 7665 7220 6974 7320 6172 6775 6d65 6e74  ver its argument
-00022ff0: 732c 206a 7573 7420 7265 7475 726e 7320  s, just returns 
-00023000: 7468 6520 6769 7665 6e20 7661 6c75 652e  the given value.
-00023010: 2054 6875 732c 2060 636f 6e73 7460 2069   Thus, `const` i
-00023020: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-00023030: 6120 7069 636b 6c65 6162 6c65 2076 6572  a pickleable ver
-00023040: 7369 6f6e 206f 660d 0a60 6060 636f 636f  sion of..```coco
-00023050: 6e75 740d 0a64 6566 2063 6f6e 7374 2876  nut..def const(v
-00023060: 616c 7565 2920 3d20 282a 6172 6773 2c20  alue) = (*args, 
-00023070: 2a2a 6b77 6172 6773 2920 2d3e 2076 616c  **kwargs) -> val
-00023080: 7565 0d0a 6060 600d 0a0d 0a60 636f 6e73  ue..```....`cons
-00023090: 7460 2069 7320 7072 696d 6172 696c 7920  t` is primarily 
-000230a0: 7573 6566 756c 2077 6865 6e20 7772 6974  useful when writ
-000230b0: 696e 6720 696e 2061 2070 6f69 6e74 2d66  ing in a point-f
-000230c0: 7265 6520 7374 796c 6520 2865 2e67 2e20  ree style (e.g. 
-000230d0: 696e 2063 6f6d 6269 6e61 7469 6f6e 2077  in combination w
-000230e0: 6974 6820 5b60 6c69 6674 605d 2823 6c69  ith [`lift`](#li
-000230f0: 6674 2929 2e0d 0a0d 0a23 2323 2320 6069  ft)).....#### `i
-00023100: 6465 6e74 600d 0a0d 0a2a 2a69 6465 6e74  dent`....**ident
-00023110: 2a2a 285f 785f 2c20 2a2c 205f 7369 6465  **(_x_, *, _side
-00023120: 5c5f 6566 6665 6374 5f3d 604e 6f6e 6560  \_effect_=`None`
-00023130: 290d 0a0d 0a43 6f63 6f6e 7574 2773 2060  )....Coconut's `
-00023140: 6964 656e 7460 2069 7320 7468 6520 6964  ident` is the id
-00023150: 656e 7469 7479 2066 756e 6374 696f 6e2c  entity function,
-00023160: 2067 656e 6572 616c 6c79 2065 7175 6976   generally equiv
-00023170: 616c 656e 7420 746f 2060 7820 2d3e 2078  alent to `x -> x
-00023180: 602e 0d0a 0d0a 6069 6465 6e74 6020 616c  `.....`ident` al
-00023190: 736f 2061 6363 6570 7473 206f 6e65 206b  so accepts one k
-000231a0: 6579 776f 7264 2d6f 6e6c 7920 6172 6775  eyword-only argu
-000231b0: 6d65 6e74 2c20 6073 6964 655f 6566 6665  ment, `side_effe
-000231c0: 6374 602c 2077 6869 6368 2073 7065 6369  ct`, which speci
-000231d0: 6669 6573 2061 2066 756e 6374 696f 6e20  fies a function 
-000231e0: 746f 2063 616c 6c20 6f6e 2074 6865 2061  to call on the a
-000231f0: 7267 756d 656e 7420 6265 666f 7265 2069  rgument before i
-00023200: 7420 6973 2072 6574 7572 6e65 642e 2054  t is returned. T
-00023210: 6875 732c 2060 6964 656e 7460 2069 7320  hus, `ident` is 
-00023220: 6566 6665 6374 6976 656c 7920 6571 7569  effectively equi
-00023230: 7661 6c65 6e74 2074 6f3a 0d0a 6060 6063  valent to:..```c
-00023240: 6f63 6f6e 7574 0d0a 6465 6620 6964 656e  oconut..def iden
-00023250: 7428 782c 202a 2c20 7369 6465 5f65 6666  t(x, *, side_eff
-00023260: 6563 743d 4e6f 6e65 293a 0d0a 2020 2020  ect=None):..    
-00023270: 6966 2073 6964 655f 6566 6665 6374 2069  if side_effect i
-00023280: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
-00023290: 2020 2020 2073 6964 655f 6566 6665 6374       side_effect
-000232a0: 2878 290d 0a20 2020 2072 6574 7572 6e20  (x)..    return 
-000232b0: 780d 0a60 6060 0d0a 0d0a 6069 6465 6e74  x..```....`ident
-000232c0: 6020 6973 2070 7269 6d61 7269 6c79 2075  ` is primarily u
-000232d0: 7365 6675 6c20 7768 656e 2077 7269 7469  seful when writi
-000232e0: 6e67 2069 6e20 6120 706f 696e 742d 6672  ng in a point-fr
-000232f0: 6565 2073 7479 6c65 2028 652e 672e 2069  ee style (e.g. i
-00023300: 6e20 636f 6d62 696e 6174 696f 6e20 7769  n combination wi
-00023310: 7468 205b 606c 6966 7460 5d28 236c 6966  th [`lift`](#lif
-00023320: 7429 2920 6f72 2066 6f72 2064 6562 7567  t)) or for debug
-00023330: 6769 6e67 205b 7069 7065 735d 2823 7069  ging [pipes](#pi
-00023340: 7065 7329 2077 6865 7265 2060 6964 656e  pes) where `iden
-00023350: 7424 2873 6964 655f 6566 6665 6374 3d70  t$(side_effect=p
-00023360: 7269 6e74 2960 2063 616e 206c 6574 2079  rint)` can let y
-00023370: 6f75 2073 6565 2077 6861 7420 6973 2062  ou see what is b
-00023380: 6569 6e67 2070 6970 6564 2e0d 0a0d 0a23  eing piped.....#
-00023390: 2323 2042 7569 6c74 2d49 6e73 2066 6f72  ## Built-Ins for
-000233a0: 2057 6f72 6b69 6e67 2077 6974 6820 4974   Working with It
-000233b0: 6572 6174 6f72 730d 0a0d 0a60 6060 7b63  erators....```{c
-000233c0: 6f6e 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c  ontents}..---..l
-000233d0: 6f63 616c 3a0d 0a64 6570 7468 3a20 310d  ocal:..depth: 1.
-000233e0: 0a2d 2d2d 0d0a 6060 600d 0a0d 0a23 2323  .---..```....###
-000233f0: 2320 456e 6861 6e63 6564 2042 7569 6c74  # Enhanced Built
-00023400: 2d49 6e73 0d0a 0d0a 436f 636f 6e75 7427  -Ins....Coconut'
-00023410: 7320 606d 6170 602c 2060 7a69 7060 2c20  s `map`, `zip`, 
-00023420: 6066 696c 7465 7260 2c20 6072 6576 6572  `filter`, `rever
-00023430: 7365 6460 2c20 616e 6420 6065 6e75 6d65  sed`, and `enume
-00023440: 7261 7465 6020 6f62 6a65 6374 7320 6172  rate` objects ar
-00023450: 6520 656e 6861 6e63 6564 2076 6572 7369  e enhanced versi
-00023460: 6f6e 7320 6f66 2074 6865 6972 2050 7974  ons of their Pyt
-00023470: 686f 6e20 6571 7569 7661 6c65 6e74 7320  hon equivalents 
-00023480: 7468 6174 2073 7570 706f 7274 3a0d 0a0d  that support:...
-00023490: 0a2d 2060 7265 7665 7273 6564 600d 0a2d  .- `reversed`..-
-000234a0: 2060 7265 7072 600d 0a2d 204f 7074 696d   `repr`..- Optim
-000234b0: 697a 6564 206e 6f72 6d61 6c20 2861 6e64  ized normal (and
-000234c0: 2069 7465 7261 746f 7229 2069 6e64 6578   iterator) index
-000234d0: 696e 672f 736c 6963 696e 6720 2860 6d61  ing/slicing (`ma
-000234e0: 7060 2c20 607a 6970 602c 2060 7265 7665  p`, `zip`, `reve
-000234f0: 7273 6564 602c 2061 6e64 2060 656e 756d  rsed`, and `enum
-00023500: 6572 6174 6560 2062 7574 206e 6f74 2060  erate` but not `
-00023510: 6669 6c74 6572 6029 2e0d 0a2d 2060 6c65  filter`)...- `le
-00023520: 6e60 2028 616c 6c20 6275 7420 6066 696c  n` (all but `fil
-00023530: 7465 7260 2920 2874 686f 7567 6820 6062  ter`) (though `b
-00023540: 6f6f 6c60 2077 696c 6c20 7374 696c 6c20  ool` will still 
-00023550: 616c 7761 7973 2079 6965 6c64 2060 5472  always yield `Tr
-00023560: 7565 6029 2e0d 0a2d 2054 6865 2061 6269  ue`)...- The abi
-00023570: 6c69 7479 2074 6f20 6265 2069 7465 7261  lity to be itera
-00023580: 7465 6420 6f76 6572 206d 756c 7469 706c  ted over multipl
-00023590: 6520 7469 6d65 7320 6966 2074 6865 2075  e times if the u
-000235a0: 6e64 6572 6c79 696e 6720 6974 6572 6174  nderlying iterat
-000235b0: 6f72 7320 6361 6e20 6265 2069 7465 7261  ors can be itera
-000235c0: 7465 6420 6f76 6572 206d 756c 7469 706c  ted over multipl
-000235d0: 6520 7469 6d65 732e 0d0a 2d20 5b50 4550  e times...- [PEP
-000235e0: 2036 3138 5d28 6874 7470 733a 2f2f 7777   618](https://ww
-000235f0: 772e 7079 7468 6f6e 2e6f 7267 2f64 6576  w.python.org/dev
-00023600: 2f70 6570 732f 7065 702d 3036 3138 2920  /peps/pep-0618) 
-00023610: 607a 6970 282e 2e2e 2c20 7374 7269 6374  `zip(..., strict
-00023620: 3d54 7275 6529 6020 7375 7070 6f72 7420  =True)` support 
-00023630: 6f6e 2061 6c6c 2050 7974 686f 6e20 7665  on all Python ve
-00023640: 7273 696f 6e73 2e0d 0a2d 2041 6464 6564  rsions...- Added
-00023650: 2060 7374 7269 6374 3d54 7275 6560 2073   `strict=True` s
-00023660: 7570 706f 7274 2074 6f20 606d 6170 6020  upport to `map` 
-00023670: 6173 2077 656c 6c20 2865 6e66 6f72 6365  as well (enforce
-00023680: 7320 7468 6174 2069 7465 7261 626c 6573  s that iterables
-00023690: 2061 7265 2074 6865 2073 616d 6520 6c65   are the same le
-000236a0: 6e67 7468 2069 6e20 7468 6520 6d75 6c74  ngth in the mult
-000236b0: 692d 6974 6572 6162 6c65 2063 6173 653b  i-iterable case;
-000236c0: 2075 7365 7320 607a 6970 6020 756e 6465   uses `zip` unde
-000236d0: 7220 7468 6520 686f 6f64 2073 7563 6820  r the hood such 
-000236e0: 7468 6174 2065 7272 6f72 7320 7769 6c6c  that errors will
-000236f0: 2073 686f 7720 7570 2061 7320 607a 6970   show up as `zip
-00023700: 282e 2e2e 2c20 7374 7269 6374 3d54 7275  (..., strict=Tru
-00023710: 6529 6020 6572 726f 7273 292e 0d0a 2d20  e)` errors)...- 
-00023720: 4164 6465 6420 6174 7472 6962 7574 6573  Added attributes
-00023730: 2077 6869 6368 2073 7562 636c 6173 7365   which subclasse
-00023740: 7320 6361 6e20 6d61 6b65 2075 7365 206f  s can make use o
-00023750: 6620 746f 2067 6574 2061 7420 7468 6520  f to get at the 
-00023760: 6f72 6967 696e 616c 2061 7267 756d 656e  original argumen
-00023770: 7473 2074 6f20 7468 6520 6f62 6a65 6374  ts to the object
-00023780: 3a0d 0a20 202a 2060 6d61 7060 3a20 6066  :..  * `map`: `f
-00023790: 756e 6360 2c20 6069 7465 7273 600d 0a20  unc`, `iters`.. 
-000237a0: 202a 2060 7a69 7060 3a20 6069 7465 7273   * `zip`: `iters
-000237b0: 600d 0a20 202a 2060 6669 6c74 6572 603a  `..  * `filter`:
-000237c0: 2060 6675 6e63 602c 2060 6974 6572 600d   `func`, `iter`.
-000237d0: 0a20 202a 2060 7265 7665 7273 6564 603a  .  * `reversed`:
-000237e0: 2060 6974 6572 600d 0a20 202a 2060 656e   `iter`..  * `en
-000237f0: 756d 6572 6174 6560 3a20 6069 7465 7260  umerate`: `iter`
-00023800: 2c20 6073 7461 7274 600d 0a0d 0a23 2323  , `start`....###
-00023810: 2323 2049 6e64 6578 696e 6720 696e 746f  ## Indexing into
-00023820: 206f 7468 6572 2062 7569 6c74 2d69 6e73   other built-ins
-00023830: 0d0a 0d0a 5468 6f75 6768 2043 6f63 6f6e  ....Though Cocon
-00023840: 7574 2070 726f 7669 6465 7320 7261 6e64  ut provides rand
-00023850: 6f6d 2061 6363 6573 7320 696e 6465 7869  om access indexi
-00023860: 6e67 2f73 6c69 6369 6e67 2074 6f20 6072  ng/slicing to `r
-00023870: 616e 6765 602c 2060 6d61 7060 2c20 607a  ange`, `map`, `z
-00023880: 6970 602c 2060 7265 7665 7273 6564 602c  ip`, `reversed`,
-00023890: 2061 6e64 2060 656e 756d 6572 6174 6560   and `enumerate`
-000238a0: 2c20 436f 636f 6e75 7420 6361 6e6e 6f74  , Coconut cannot
-000238b0: 2069 6e64 6578 2069 6e74 6f20 6275 696c   index into buil
-000238c0: 742d 696e 7320 6c69 6b65 2060 6669 6c74  t-ins like `filt
-000238d0: 6572 602c 2060 7461 6b65 7768 696c 6560  er`, `takewhile`
-000238e0: 2c20 6f72 2060 6472 6f70 7768 696c 6560  , or `dropwhile`
-000238f0: 2064 6972 6563 746c 792c 2061 7320 7468   directly, as th
-00023900: 6572 6520 6973 206e 6f20 6566 6669 6369  ere is no effici
-00023910: 656e 7420 7761 7920 746f 2064 6f20 736f  ent way to do so
-00023920: 2e0d 0a0d 0a60 6060 636f 636f 6e75 740d  .....```coconut.
-00023930: 0a72 616e 6765 2831 3029 207c 3e20 6669  .range(10) |> fi
-00023940: 6c74 6572 2428 692d 3e69 3e33 2920 7c3e  lter$(i->i>3) |>
-00023950: 202e 5b30 5d20 2023 2064 6f65 736e 2774   .[0]  # doesn't
-00023960: 2077 6f72 6b0d 0a60 6060 0d0a 0d0a 496e   work..```....In
-00023970: 206f 7264 6572 2074 6f20 6d61 6b65 2074   order to make t
-00023980: 6869 7320 776f 726b 2c20 796f 7520 6361  his work, you ca
-00023990: 6e20 6578 706c 6963 6974 6c79 2075 7365  n explicitly use
-000239a0: 2069 7465 7261 746f 7220 736c 6963 696e   iterator slicin
-000239b0: 672c 2077 6869 6368 2069 7320 6c65 7373  g, which is less
-000239c0: 2065 6666 6963 6965 6e74 2069 6e20 7468   efficient in th
-000239d0: 6520 6765 6e65 7261 6c20 6361 7365 3a0d  e general case:.
-000239e0: 0a0d 0a60 6060 636f 636f 6e75 740d 0a72  ...```coconut..r
-000239f0: 616e 6765 2831 3029 207c 3e20 6669 6c74  ange(10) |> filt
-00023a00: 6572 2428 692d 3e69 3e33 2920 7c3e 202e  er$(i->i>3) |> .
-00023a10: 245b 305d 2020 2320 776f 726b 730d 0a60  $[0]  # works..`
-00023a20: 6060 0d0a 0d0a 466f 7220 6d6f 7265 2069  ``....For more i
-00023a30: 6e66 6f72 6d61 7469 6f6e 206f 6e20 436f  nformation on Co
-00023a40: 636f 6e75 7427 7320 6974 6572 6174 6f72  conut's iterator
-00023a50: 2073 6c69 6369 6e67 2c20 7365 6520 5b68   slicing, see [h
-00023a60: 6572 655d 2823 6974 6572 6174 6f72 2d73  ere](#iterator-s
-00023a70: 6c69 6369 6e67 292e 0d0a 0d0a 2323 2323  licing).....####
-00023a80: 2320 4578 616d 706c 6573 0d0a 0d0a 2a2a  # Examples....**
-00023a90: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-00023aa0: 6f63 6f6e 7574 0d0a 6d61 7028 282b 292c  oconut..map((+),
-00023ab0: 2072 616e 6765 2835 292c 2072 616e 6765   range(5), range
-00023ac0: 2836 2929 207c 3e20 6c65 6e20 7c3e 2070  (6)) |> len |> p
-00023ad0: 7269 6e74 0d0a 7261 6e67 6528 3130 2920  rint..range(10) 
-00023ae0: 7c3e 2066 696c 7465 7224 2828 7829 202d  |> filter$((x) -
-00023af0: 3e20 7820 3c20 3529 207c 3e20 7265 7665  > x < 5) |> reve
-00023b00: 7273 6564 207c 3e20 7475 706c 6520 7c3e  rsed |> tuple |>
-00023b10: 2070 7269 6e74 0d0a 6060 600d 0a0d 0a2a   print..```....*
-00023b20: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
-00023b30: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
-00023b40: 7574 2064 6566 696e 696e 6720 6120 6375  ut defining a cu
-00023b50: 7374 6f6d 2060 6d61 7060 2074 7970 652e  stom `map` type.
-00023b60: 2054 6865 2066 756c 6c20 6465 6669 6e69   The full defini
-00023b70: 7469 6f6e 206f 6620 606d 6170 6020 6361  tion of `map` ca
-00023b80: 6e20 6265 2066 6f75 6e64 2069 6e20 7468  n be found in th
-00023b90: 6520 436f 636f 6e75 7420 6865 6164 6572  e Coconut header
-00023ba0: 2e5f 0d0a 0d0a 2a2a 436f 636f 6e75 743a  ._....**Coconut:
-00023bb0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-00023bc0: 7261 6e67 6528 302c 2031 322c 2032 295b  range(0, 12, 2)[
-00023bd0: 345d 2020 2320 380d 0a0d 0a6d 6170 2828  4]  # 8....map((
-00023be0: 692d 3e69 2a32 292c 2072 616e 6765 2831  i->i*2), range(1
-00023bf0: 3029 295b 325d 2020 2320 340d 0a60 6060  0))[2]  # 4..```
-00023c00: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00023c10: 0a5f 4361 6ee2 8099 7420 6265 2064 6f6e  ._Can...t be don
-00023c20: 6520 7175 6963 6b6c 7920 7769 7468 6f75  e quickly withou
-00023c30: 7420 436f 636f 6e75 74e2 8099 7320 6974  t Coconut...s it
-00023c40: 6572 6162 6c65 2069 6e64 6578 696e 672c  erable indexing,
-00023c50: 2077 6869 6368 2072 6571 7569 7265 7320   which requires 
-00023c60: 6d61 6e79 2063 6f6d 706c 6963 6174 6564  many complicated
-00023c70: 2070 6965 6365 732e 2054 6865 206e 6563   pieces. The nec
-00023c80: 6573 7361 7279 2064 6566 696e 6974 696f  essary definitio
-00023c90: 6e73 2069 6e20 5079 7468 6f6e 2063 616e  ns in Python can
-00023ca0: 2062 6520 666f 756e 6420 696e 2074 6865   be found in the
-00023cb0: 2043 6f63 6f6e 7574 2068 6561 6465 722e   Coconut header.
-00023cc0: 5f0d 0a0d 0a23 2323 2320 6072 6564 7563  _....#### `reduc
-00023cd0: 6560 0d0a 0d0a 2a2a 7265 6475 6365 2a2a  e`....**reduce**
-00023ce0: 285f 6675 6e63 7469 6f6e 5f2c 205f 6974  (_function_, _it
-00023cf0: 6572 6162 6c65 5f5b 2c20 5f69 6e69 7469  erable_[, _initi
-00023d00: 616c 5f5d 2c20 2f29 0d0a 0d0a 436f 636f  al_], /)....Coco
-00023d10: 6e75 7420 7265 2d69 6e74 726f 6475 6365  nut re-introduce
-00023d20: 7320 5079 7468 6f6e 2032 2773 2060 7265  s Python 2's `re
-00023d30: 6475 6365 6020 6275 696c 742d 696e 2c20  duce` built-in, 
-00023d40: 7573 696e 6720 7468 6520 6066 756e 6374  using the `funct
-00023d50: 6f6f 6c73 2e72 6564 7563 6560 2076 6572  ools.reduce` ver
-00023d60: 7369 6f6e 2e0d 0a0d 0a23 2323 2323 2050  sion.....##### P
-00023d70: 7974 686f 6e20 446f 6373 0d0a 0d0a 2a2a  ython Docs....**
-00023d80: 7265 6475 6365 2a2a 285f 6675 6e63 7469  reduce**(_functi
-00023d90: 6f6e 2c20 6974 6572 6162 6c65 5f2a 2a5b  on, iterable_**[
-00023da0: 2a2a 5f2c 2069 6e69 7469 616c 5f2a 2a5d  **_, initial_**]
-00023db0: 2a2a 290d 0a0d 0a41 7070 6c79 205f 6675  **)....Apply _fu
-00023dc0: 6e63 7469 6f6e 5f20 6f66 2074 776f 2061  nction_ of two a
-00023dd0: 7267 756d 656e 7473 2063 756d 756c 6174  rguments cumulat
-00023de0: 6976 656c 7920 746f 2074 6865 2069 7465  ively to the ite
-00023df0: 6d73 206f 6620 5f73 6571 7565 6e63 655f  ms of _sequence_
-00023e00: 2c20 6672 6f6d 206c 6566 7420 746f 2072  , from left to r
-00023e10: 6967 6874 2c20 736f 2061 7320 746f 2072  ight, so as to r
-00023e20: 6564 7563 6520 7468 6520 7365 7175 656e  educe the sequen
-00023e30: 6365 2074 6f20 6120 7369 6e67 6c65 2076  ce to a single v
-00023e40: 616c 7565 2e20 466f 7220 6578 616d 706c  alue. For exampl
-00023e50: 652c 2060 7265 6475 6365 2828 782c 2079  e, `reduce((x, y
-00023e60: 2920 2d3e 2078 2b79 2c20 5b31 2c20 322c  ) -> x+y, [1, 2,
-00023e70: 2033 2c20 342c 2035 5d29 6020 6361 6c63   3, 4, 5])` calc
-00023e80: 756c 6174 6573 2060 2828 2828 312b 3229  ulates `((((1+2)
-00023e90: 2b33 292b 3429 2b35 2960 2e20 5468 6520  +3)+4)+5)`. The 
-00023ea0: 6c65 6674 2061 7267 756d 656e 742c 205f  left argument, _
-00023eb0: 785f 2c20 6973 2074 6865 2061 6363 756d  x_, is the accum
-00023ec0: 756c 6174 6564 2076 616c 7565 2061 6e64  ulated value and
-00023ed0: 2074 6865 2072 6967 6874 2061 7267 756d   the right argum
-00023ee0: 656e 742c 205f 795f 2c20 6973 2074 6865  ent, _y_, is the
-00023ef0: 2075 7064 6174 6520 7661 6c75 6520 6672   update value fr
-00023f00: 6f6d 2074 6865 205f 7365 7175 656e 6365  om the _sequence
-00023f10: 5f2e 2049 6620 7468 6520 6f70 7469 6f6e  _. If the option
-00023f20: 616c 205f 696e 6974 6961 6c5f 2069 7320  al _initial_ is 
-00023f30: 7072 6573 656e 742c 2069 7420 6973 2070  present, it is p
-00023f40: 6c61 6365 6420 6265 666f 7265 2074 6865  laced before the
-00023f50: 2069 7465 6d73 206f 6620 7468 6520 7365   items of the se
-00023f60: 7175 656e 6365 2069 6e20 7468 6520 6361  quence in the ca
-00023f70: 6c63 756c 6174 696f 6e2c 2061 6e64 2073  lculation, and s
-00023f80: 6572 7665 7320 6173 2061 2064 6566 6175  erves as a defau
-00023f90: 6c74 2077 6865 6e20 7468 6520 7365 7175  lt when the sequ
-00023fa0: 656e 6365 2069 7320 656d 7074 792e 2049  ence is empty. I
-00023fb0: 6620 5f69 6e69 7469 616c 5f20 6973 206e  f _initial_ is n
-00023fc0: 6f74 2067 6976 656e 2061 6e64 205f 7365  ot given and _se
-00023fd0: 7175 656e 6365 5f20 636f 6e74 6169 6e73  quence_ contains
-00023fe0: 206f 6e6c 7920 6f6e 6520 6974 656d 2c20   only one item, 
-00023ff0: 7468 6520 6669 7273 7420 6974 656d 2069  the first item i
-00024000: 7320 7265 7475 726e 6564 2e0d 0a0d 0a23  s returned.....#
-00024010: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-00024020: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-00024030: 6063 6f63 6f6e 7574 0d0a 7072 6f64 7563  `coconut..produc
-00024040: 7420 3d20 7265 6475 6365 2428 2a29 0d0a  t = reduce$(*)..
-00024050: 7261 6e67 6528 312c 2031 3029 207c 3e20  range(1, 10) |> 
-00024060: 7072 6f64 7563 7420 7c3e 2070 7269 6e74  product |> print
-00024070: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00024080: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-00024090: 5f70 7974 686f 6e0d 0a69 6d70 6f72 7420  _python..import 
-000240a0: 6f70 6572 6174 6f72 0d0a 696d 706f 7274  operator..import
-000240b0: 2066 756e 6374 6f6f 6c73 0d0a 7072 6f64   functools..prod
-000240c0: 7563 7420 3d20 6675 6e63 746f 6f6c 732e  uct = functools.
-000240d0: 7061 7274 6961 6c28 6675 6e63 746f 6f6c  partial(functool
-000240e0: 732e 7265 6475 6365 2c20 6f70 6572 6174  s.reduce, operat
-000240f0: 6f72 2e6d 756c 290d 0a70 7269 6e74 2870  or.mul)..print(p
-00024100: 726f 6475 6374 2872 616e 6765 2831 2c20  roduct(range(1, 
-00024110: 3130 2929 290d 0a60 6060 0d0a 0d0a 2323  10)))..```....##
-00024120: 2323 2060 7265 6974 6572 6162 6c65 600d  ## `reiterable`.
-00024130: 0a0d 0a2a 2a72 6569 7465 7261 626c 652a  ...**reiterable*
-00024140: 2a28 5f69 7465 7261 626c 655f 290d 0a0d  *(_iterable_)...
-00024150: 0a60 7265 6974 6572 6162 6c65 6020 7772  .`reiterable` wr
-00024160: 6170 7320 7468 6520 6769 7665 6e20 6974  aps the given it
-00024170: 6572 6162 6c65 2074 6f20 656e 7375 7265  erable to ensure
-00024180: 2074 6861 7420 6576 6572 7920 7469 6d65   that every time
-00024190: 2074 6865 2060 7265 6974 6572 6162 6c65   the `reiterable
-000241a0: 6020 6973 2069 7465 7261 7465 6420 6f76  ` is iterated ov
-000241b0: 6572 2c20 6974 2070 726f 6475 6365 7320  er, it produces 
-000241c0: 7468 6520 7361 6d65 2072 6573 756c 7473  the same results
-000241d0: 2e20 4e6f 7465 2074 6861 7420 7468 6520  . Note that the 
-000241e0: 7265 7375 6c74 206e 6565 6420 6e6f 7420  result need not 
-000241f0: 6265 2061 2060 7265 6974 6572 6162 6c65  be a `reiterable
-00024200: 6020 6f62 6a65 6374 2069 6620 7468 6520  ` object if the 
-00024210: 6769 7665 6e20 6974 6572 6162 6c65 2069  given iterable i
-00024220: 7320 616c 7265 6164 7920 7265 6974 6572  s already reiter
-00024230: 6162 6c65 2e20 6072 6569 7465 7261 626c  able. `reiterabl
-00024240: 6560 2075 7365 7320 5b60 7465 6560 5d28  e` uses [`tee`](
-00024250: 2374 6565 2920 756e 6465 7220 7468 6520  #tee) under the 
-00024260: 686f 6f64 2061 6e64 2060 7465 6560 2063  hood and `tee` c
-00024270: 616e 2062 6520 7573 6564 2069 6e20 6974  an be used in it
-00024280: 7320 706c 6163 652c 2074 686f 7567 6820  s place, though 
-00024290: 6072 6569 7465 7261 626c 6560 2069 7320  `reiterable` is 
-000242a0: 6765 6e65 7261 6c6c 7920 7265 636f 6d6d  generally recomm
-000242b0: 656e 6465 6420 6f76 6572 2060 7465 6560  ended over `tee`
-000242c0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-000242d0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-000242e0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-000242f0: 6465 6620 6c69 7374 5f74 7970 6528 7873  def list_type(xs
-00024300: 293a 0d0a 2020 2020 6d61 7463 6820 7265  ):..    match re
-00024310: 6974 6572 6162 6c65 2878 7329 3a0d 0a20  iterable(xs):.. 
-00024320: 2020 2020 2020 2063 6173 6520 5b66 7374         case [fst
-00024330: 2c20 736e 645d 203a 3a20 7461 696c 3a0d  , snd] :: tail:.
-00024340: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00024350: 7572 6e20 2261 7420 6c65 6173 7420 3222  urn "at least 2"
-00024360: 0d0a 2020 2020 2020 2020 6361 7365 205b  ..        case [
-00024370: 6673 745d 203a 3a20 7461 696c 3a0d 0a20  fst] :: tail:.. 
-00024380: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00024390: 6e20 2261 7420 6c65 6173 7420 3122 0d0a  n "at least 1"..
-000243a0: 2020 2020 2020 2020 6361 7365 2028 7c20          case (| 
-000243b0: 7c29 3a0d 0a20 2020 2020 2020 2020 2020  |):..           
-000243c0: 2072 6574 7572 6e20 2265 6d70 7479 220d   return "empty".
-000243d0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-000243e0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
-000243f0: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
-00024400: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
-00024410: 636b 7320 666f 7220 6561 6368 2060 6d61  cks for each `ma
-00024420: 7463 6860 2073 7461 7465 6d65 6e74 2e20  tch` statement. 
-00024430: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
-00024440: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
-00024450: 7468 6f6e 2073 796e 7461 782e 5f0d 0a0d  thon syntax._...
-00024460: 0a23 2323 2320 6073 7461 726d 6170 600d  .#### `starmap`.
-00024470: 0a0d 0a2a 2a73 7461 726d 6170 2a2a 285f  ...**starmap**(_
-00024480: 6675 6e63 7469 6f6e 5f2c 205f 6974 6572  function_, _iter
-00024490: 6162 6c65 5f29 0d0a 0d0a 436f 636f 6e75  able_)....Coconu
-000244a0: 7420 7072 6f76 6964 6573 2061 206d 6f64  t provides a mod
-000244b0: 6966 6965 6420 7665 7273 696f 6e20 6f66  ified version of
-000244c0: 2060 6974 6572 746f 6f6c 732e 7374 6172   `itertools.star
-000244d0: 6d61 7060 2074 6861 7420 7375 7070 6f72  map` that suppor
-000244e0: 7473 2060 7265 7665 7273 6564 602c 2060  ts `reversed`, `
-000244f0: 7265 7072 602c 206f 7074 696d 697a 6564  repr`, optimized
-00024500: 206e 6f72 6d61 6c20 2861 6e64 2069 7465   normal (and ite
-00024510: 7261 746f 7229 2073 6c69 6369 6e67 2c20  rator) slicing, 
-00024520: 606c 656e 602c 2061 6e64 2060 6675 6e63  `len`, and `func
-00024530: 602f 6069 7465 7260 2061 7474 7269 6275  `/`iter` attribu
-00024540: 7465 732e 0d0a 0d0a 2323 2323 2320 5079  tes.....##### Py
-00024550: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a73  thon Docs....**s
-00024560: 7461 726d 6170 2a2a 285f 6675 6e63 7469  tarmap**(_functi
-00024570: 6f6e 2c20 6974 6572 6162 6c65 5f29 0d0a  on, iterable_)..
-00024580: 0d0a 4d61 6b65 2061 6e20 6974 6572 6174  ..Make an iterat
-00024590: 6f72 2074 6861 7420 636f 6d70 7574 6573  or that computes
-000245a0: 2074 6865 2066 756e 6374 696f 6e20 7573   the function us
-000245b0: 696e 6720 6172 6775 6d65 6e74 7320 6f62  ing arguments ob
-000245c0: 7461 696e 6564 2066 726f 6d20 7468 6520  tained from the 
-000245d0: 6974 6572 6162 6c65 2e20 5573 6564 2069  iterable. Used i
-000245e0: 6e73 7465 6164 206f 6620 606d 6170 2829  nstead of `map()
-000245f0: 6020 7768 656e 2061 7267 756d 656e 7420  ` when argument 
-00024600: 7061 7261 6d65 7465 7273 2061 7265 2061  parameters are a
-00024610: 6c72 6561 6479 2067 726f 7570 6564 2069  lready grouped i
-00024620: 6e20 7475 706c 6573 2066 726f 6d20 6120  n tuples from a 
-00024630: 7369 6e67 6c65 2069 7465 7261 626c 6520  single iterable 
-00024640: 2874 6865 2064 6174 6120 6861 7320 6265  (the data has be
-00024650: 656e 2022 7072 652d 7a69 7070 6564 2229  en "pre-zipped")
-00024660: 2e20 5468 6520 6469 6666 6572 656e 6365  . The difference
-00024670: 2062 6574 7765 656e 2060 6d61 7028 2960   between `map()`
-00024680: 2061 6e64 2060 7374 6172 6d61 7028 2960   and `starmap()`
-00024690: 2070 6172 616c 6c65 6c73 2074 6865 2064   parallels the d
-000246a0: 6973 7469 6e63 7469 6f6e 2062 6574 7765  istinction betwe
-000246b0: 656e 2060 6675 6e63 7469 6f6e 2861 2c62  en `function(a,b
-000246c0: 2960 2061 6e64 2060 6675 6e63 7469 6f6e  )` and `function
-000246d0: 282a 6329 602e 2052 6f75 6768 6c79 2065  (*c)`. Roughly e
-000246e0: 7175 6976 616c 656e 7420 746f 3a0d 0a0d  quivalent to:...
-000246f0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00024700: 6f6e 0d0a 6465 6620 7374 6172 6d61 7028  on..def starmap(
-00024710: 6675 6e63 7469 6f6e 2c20 6974 6572 6162  function, iterab
-00024720: 6c65 293a 0d0a 2020 2020 2320 7374 6172  le):..    # star
-00024730: 6d61 7028 706f 772c 205b 2832 2c35 292c  map(pow, [(2,5),
-00024740: 2028 332c 3229 2c20 2831 302c 3329 5d29   (3,2), (10,3)])
-00024750: 202d 2d3e 2033 3220 3920 3130 3030 0d0a   --> 32 9 1000..
-00024760: 2020 2020 666f 7220 6172 6773 2069 6e20      for args in 
-00024770: 6974 6572 6162 6c65 3a0d 0a20 2020 2020  iterable:..     
-00024780: 2020 2079 6965 6c64 2066 756e 6374 696f     yield functio
-00024790: 6e28 2a61 7267 7329 0d0a 6060 600d 0a0d  n(*args)..```...
-000247a0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-000247b0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-000247c0: 6060 6063 6f63 6f6e 7574 0d0a 7261 6e67  ```coconut..rang
-000247d0: 6528 312c 2035 2920 7c3e 206d 6170 2428  e(1, 5) |> map$(
-000247e0: 7261 6e67 6529 207c 3e20 7374 6172 6d61  range) |> starma
-000247f0: 7024 2870 7269 6e74 2920 7c3e 2063 6f6e  p$(print) |> con
-00024800: 7375 6d65 0d0a 6060 600d 0a0d 0a2a 2a50  sume..```....**P
-00024810: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
-00024820: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6d70  onut_python..imp
-00024830: 6f72 7420 6974 6572 746f 6f6c 732c 2063  ort itertools, c
-00024840: 6f6c 6c65 6374 696f 6e73 0d0a 636f 6c6c  ollections..coll
-00024850: 6563 7469 6f6e 732e 6465 7175 6528 6974  ections.deque(it
-00024860: 6572 746f 6f6c 732e 7374 6172 6d61 7028  ertools.starmap(
-00024870: 7072 696e 742c 206d 6170 2872 616e 6765  print, map(range
-00024880: 2c20 7261 6e67 6528 312c 2035 2929 292c  , range(1, 5))),
-00024890: 206d 6178 6c65 6e3d 3029 0d0a 6060 600d   maxlen=0)..```.
-000248a0: 0a0d 0a23 2323 2320 607a 6970 5f6c 6f6e  ...#### `zip_lon
-000248b0: 6765 7374 600d 0a0d 0a2a 2a7a 6970 5c5f  gest`....**zip\_
-000248c0: 6c6f 6e67 6573 742a 2a28 2a5f 6974 6572  longest**(*_iter
-000248d0: 6162 6c65 735f 2c20 5f66 696c 6c76 616c  ables_, _fillval
-000248e0: 7565 5f3d 604e 6f6e 6560 290d 0a0d 0a43  ue_=`None`)....C
-000248f0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
-00024900: 616e 2065 6e68 616e 6365 6420 7665 7273  an enhanced vers
-00024910: 696f 6e20 6f66 2060 6974 6572 746f 6f6c  ion of `itertool
-00024920: 732e 7a69 705f 6c6f 6e67 6573 7460 2061  s.zip_longest` a
-00024930: 7320 6120 6275 696c 742d 696e 2075 6e64  s a built-in und
-00024940: 6572 2074 6865 206e 616d 6520 607a 6970  er the name `zip
-00024950: 5f6c 6f6e 6765 7374 602e 2060 7a69 705f  _longest`. `zip_
-00024960: 6c6f 6e67 6573 7460 2073 7570 706f 7274  longest` support
-00024970: 7320 616c 6c20 7468 6520 7361 6d65 2066  s all the same f
-00024980: 6561 7475 7265 7320 6173 2043 6f63 6f6e  eatures as Cocon
-00024990: 7574 2773 205b 656e 6861 6e63 6564 207a  ut's [enhanced z
-000249a0: 6970 5d28 2365 6e68 616e 6365 642d 6275  ip](#enhanced-bu
-000249b0: 696c 742d 696e 7329 2061 7320 7765 6c6c  ilt-ins) as well
-000249c0: 2061 7320 7468 6520 6164 6469 7469 6f6e   as the addition
-000249d0: 616c 2061 7474 7269 6275 7465 2060 6669  al attribute `fi
-000249e0: 6c6c 7661 6c75 6560 2e0d 0a0d 0a23 2323  llvalue`.....###
-000249f0: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-00024a00: 0d0a 2a2a 7a69 705c 5f6c 6f6e 6765 7374  ..**zip\_longest
-00024a10: 2a2a 285f 5c2a 6974 6572 6162 6c65 732c  **(_\*iterables,
-00024a20: 2066 696c 6c76 616c 7565 3d4e 6f6e 655f   fillvalue=None_
-00024a30: 290d 0a0d 0a4d 616b 6520 616e 2069 7465  )....Make an ite
-00024a40: 7261 746f 7220 7468 6174 2061 6767 7265  rator that aggre
-00024a50: 6761 7465 7320 656c 656d 656e 7473 2066  gates elements f
-00024a60: 726f 6d20 6561 6368 206f 6620 7468 6520  rom each of the 
-00024a70: 6974 6572 6162 6c65 732e 2049 6620 7468  iterables. If th
-00024a80: 6520 6974 6572 6162 6c65 7320 6172 6520  e iterables are 
-00024a90: 6f66 2075 6e65 7665 6e20 6c65 6e67 7468  of uneven length
-00024aa0: 2c20 6d69 7373 696e 6720 7661 6c75 6573  , missing values
-00024ab0: 2061 7265 2066 696c 6c65 642d 696e 2077   are filled-in w
-00024ac0: 6974 6820 5f66 696c 6c76 616c 7565 5f2e  ith _fillvalue_.
-00024ad0: 2049 7465 7261 7469 6f6e 2063 6f6e 7469   Iteration conti
-00024ae0: 6e75 6573 2075 6e74 696c 2074 6865 206c  nues until the l
-00024af0: 6f6e 6765 7374 2069 7465 7261 626c 6520  ongest iterable 
-00024b00: 6973 2065 7868 6175 7374 6564 2e20 526f  is exhausted. Ro
-00024b10: 7567 686c 7920 6571 7569 7661 6c65 6e74  ughly equivalent
-00024b20: 2074 6f3a 0d0a 0d0a 6060 6063 6f63 6f6e   to:....```cocon
-00024b30: 7574 5f70 7974 686f 6e0d 0a64 6566 207a  ut_python..def z
-00024b40: 6970 5f6c 6f6e 6765 7374 282a 6172 6773  ip_longest(*args
-00024b50: 2c20 6669 6c6c 7661 6c75 653d 4e6f 6e65  , fillvalue=None
-00024b60: 293a 0d0a 2020 2020 2320 7a69 705f 6c6f  ):..    # zip_lo
-00024b70: 6e67 6573 7428 2741 4243 4427 2c20 2778  ngest('ABCD', 'x
-00024b80: 7927 2c20 6669 6c6c 7661 6c75 653d 272d  y', fillvalue='-
-00024b90: 2729 202d 2d3e 2041 7820 4279 2043 2d20  ') --> Ax By C- 
-00024ba0: 442d 0d0a 2020 2020 6974 6572 6174 6f72  D-..    iterator
-00024bb0: 7320 3d20 5b69 7465 7228 6974 2920 666f  s = [iter(it) fo
-00024bc0: 7220 6974 2069 6e20 6172 6773 5d0d 0a20  r it in args].. 
-00024bd0: 2020 206e 756d 5f61 6374 6976 6520 3d20     num_active = 
-00024be0: 6c65 6e28 6974 6572 6174 6f72 7329 0d0a  len(iterators)..
-00024bf0: 2020 2020 6966 206e 6f74 206e 756d 5f61      if not num_a
-00024c00: 6374 6976 653a 0d0a 2020 2020 2020 2020  ctive:..        
-00024c10: 7265 7475 726e 0d0a 2020 2020 7768 696c  return..    whil
-00024c20: 6520 5472 7565 3a0d 0a20 2020 2020 2020  e True:..       
-00024c30: 2076 616c 7565 7320 3d20 5b5d 0d0a 2020   values = []..  
-00024c40: 2020 2020 2020 666f 7220 692c 2069 7420        for i, it 
-00024c50: 696e 2065 6e75 6d65 7261 7465 2869 7465  in enumerate(ite
-00024c60: 7261 746f 7273 293a 0d0a 2020 2020 2020  rators):..      
-00024c70: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-00024c80: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-00024c90: 6520 3d20 6e65 7874 2869 7429 0d0a 2020  e = next(it)..  
-00024ca0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00024cb0: 2053 746f 7049 7465 7261 7469 6f6e 3a0d   StopIteration:.
-00024cc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024cd0: 206e 756d 5f61 6374 6976 6520 2d3d 2031   num_active -= 1
-00024ce0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00024cf0: 2020 6966 206e 6f74 206e 756d 5f61 6374    if not num_act
-00024d00: 6976 653a 0d0a 2020 2020 2020 2020 2020  ive:..          
-00024d10: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00024d20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00024d30: 2020 6974 6572 6174 6f72 735b 695d 203d    iterators[i] =
-00024d40: 2072 6570 6561 7428 6669 6c6c 7661 6c75   repeat(fillvalu
-00024d50: 6529 0d0a 2020 2020 2020 2020 2020 2020  e)..            
-00024d60: 2020 2020 7661 6c75 6520 3d20 6669 6c6c      value = fill
-00024d70: 7661 6c75 650d 0a20 2020 2020 2020 2020  value..         
-00024d80: 2020 2076 616c 7565 732e 6170 7065 6e64     values.append
-00024d90: 2876 616c 7565 290d 0a20 2020 2020 2020  (value)..       
-00024da0: 2079 6965 6c64 2074 7570 6c65 2876 616c   yield tuple(val
-00024db0: 7565 7329 0d0a 6060 600d 0a0d 0a49 6620  ues)..```....If 
-00024dc0: 6f6e 6520 6f66 2074 6865 2069 7465 7261  one of the itera
-00024dd0: 626c 6573 2069 7320 706f 7465 6e74 6961  bles is potentia
-00024de0: 6c6c 7920 696e 6669 6e69 7465 2c20 7468  lly infinite, th
-00024df0: 656e 2074 6865 2060 7a69 705f 6c6f 6e67  en the `zip_long
-00024e00: 6573 7428 2960 2066 756e 6374 696f 6e20  est()` function 
-00024e10: 7368 6f75 6c64 2062 6520 7772 6170 7065  should be wrappe
-00024e20: 6420 7769 7468 2073 6f6d 6574 6869 6e67  d with something
-00024e30: 2074 6861 7420 6c69 6d69 7473 2074 6865   that limits the
-00024e40: 206e 756d 6265 7220 6f66 2063 616c 6c73   number of calls
-00024e50: 2028 666f 7220 6578 616d 706c 6520 6974   (for example it
-00024e60: 6572 6174 6f72 2073 6c69 6369 6e67 206f  erator slicing o
-00024e70: 7220 6074 616b 6577 6869 6c65 6029 2e20  r `takewhile`). 
-00024e80: 4966 206e 6f74 2073 7065 6369 6669 6564  If not specified
-00024e90: 2c20 5f66 696c 6c76 616c 7565 5f20 6465  , _fillvalue_ de
-00024ea0: 6661 756c 7473 2074 6f20 604e 6f6e 6560  faults to `None`
-00024eb0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-00024ec0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-00024ed0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-00024ee0: 7265 7375 6c74 203d 207a 6970 5f6c 6f6e  result = zip_lon
-00024ef0: 6765 7374 2872 616e 6765 2835 292c 2072  gest(range(5), r
-00024f00: 616e 6765 2831 3029 290d 0a60 6060 0d0a  ange(10))..```..
-00024f10: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00024f20: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00024f30: 0d0a 696d 706f 7274 2069 7465 7274 6f6f  ..import itertoo
-00024f40: 6c73 0d0a 7265 7375 6c74 203d 2069 7465  ls..result = ite
-00024f50: 7274 6f6f 6c73 2e7a 6970 5f6c 6f6e 6765  rtools.zip_longe
-00024f60: 7374 2872 616e 6765 2835 292c 2072 616e  st(range(5), ran
-00024f70: 6765 2831 3029 290d 0a60 6060 0d0a 0d0a  ge(10))..```....
-00024f80: 2323 2323 2060 7461 6b65 7768 696c 6560  #### `takewhile`
-00024f90: 0d0a 0d0a 2a2a 7461 6b65 7768 696c 652a  ....**takewhile*
-00024fa0: 2a28 5f70 7265 6469 6361 7465 5f2c 205f  *(_predicate_, _
-00024fb0: 6974 6572 6162 6c65 5f2c 202f 290d 0a0d  iterable_, /)...
-00024fc0: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
-00024fd0: 7320 6069 7465 7274 6f6f 6c73 2e74 616b  s `itertools.tak
-00024fe0: 6577 6869 6c65 6020 6173 2061 2062 7569  ewhile` as a bui
-00024ff0: 6c74 2d69 6e20 756e 6465 7220 7468 6520  lt-in under the 
-00025000: 6e61 6d65 2060 7461 6b65 7768 696c 6560  name `takewhile`
-00025010: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
-00025020: 6e20 446f 6373 0d0a 0d0a 2a2a 7461 6b65  n Docs....**take
-00025030: 7768 696c 652a 2a28 5f70 7265 6469 6361  while**(_predica
-00025040: 7465 2c20 6974 6572 6162 6c65 5f29 0d0a  te, iterable_)..
-00025050: 0d0a 4d61 6b65 2061 6e20 6974 6572 6174  ..Make an iterat
-00025060: 6f72 2074 6861 7420 7265 7475 726e 7320  or that returns 
-00025070: 656c 656d 656e 7473 2066 726f 6d20 7468  elements from th
-00025080: 6520 5f69 7465 7261 626c 655f 2061 7320  e _iterable_ as 
-00025090: 6c6f 6e67 2061 7320 7468 6520 5f70 7265  long as the _pre
-000250a0: 6469 6361 7465 5f20 6973 2074 7275 652e  dicate_ is true.
-000250b0: 2045 7175 6976 616c 656e 7420 746f 3a0d   Equivalent to:.
-000250c0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-000250d0: 6f6e 0d0a 6465 6620 7461 6b65 7768 696c  on..def takewhil
-000250e0: 6528 7072 6564 6963 6174 652c 2069 7465  e(predicate, ite
-000250f0: 7261 626c 6529 3a0d 0a20 2020 2023 2074  rable):..    # t
-00025100: 616b 6577 6869 6c65 286c 616d 6264 6120  akewhile(lambda 
-00025110: 783a 2078 3c35 2c20 5b31 2c34 2c36 2c34  x: x<5, [1,4,6,4
-00025120: 2c31 5d29 202d 2d3e 2031 2034 0d0a 2020  ,1]) --> 1 4..  
-00025130: 2020 666f 7220 7820 696e 2069 7465 7261    for x in itera
-00025140: 626c 653a 0d0a 2020 2020 2020 2020 6966  ble:..        if
-00025150: 2070 7265 6469 6361 7465 2878 293a 0d0a   predicate(x):..
-00025160: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-00025170: 6420 780d 0a20 2020 2020 2020 2065 6c73  d x..        els
-00025180: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00025190: 6272 6561 6b0d 0a60 6060 0d0a 0d0a 2323  break..```....##
-000251a0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-000251b0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-000251c0: 636f 636f 6e75 740d 0a6e 6567 6174 6976  coconut..negativ
-000251d0: 6573 203d 206e 756d 6974 6572 207c 3e20  es = numiter |> 
-000251e0: 7461 6b65 7768 696c 6524 2878 202d 3e20  takewhile$(x -> 
-000251f0: 7820 3c20 3029 0d0a 6060 600d 0a0d 0a2a  x < 0)..```....*
-00025200: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
-00025210: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a69  oconut_python..i
-00025220: 6d70 6f72 7420 6974 6572 746f 6f6c 730d  mport itertools.
-00025230: 0a6e 6567 6174 6976 6573 203d 2069 7465  .negatives = ite
-00025240: 7274 6f6f 6c73 2e74 616b 6577 6869 6c65  rtools.takewhile
-00025250: 286c 616d 6264 6120 783a 2078 203c 2030  (lambda x: x < 0
-00025260: 2c20 6e75 6d69 7465 7229 0d0a 6060 600d  , numiter)..```.
-00025270: 0a0d 0a23 2323 2320 6064 726f 7077 6869  ...#### `dropwhi
-00025280: 6c65 600d 0a0d 0a2a 2a64 726f 7077 6869  le`....**dropwhi
-00025290: 6c65 2a2a 285f 7072 6564 6963 6174 655f  le**(_predicate_
-000252a0: 2c20 5f69 7465 7261 626c 655f 2c20 2f29  , _iterable_, /)
-000252b0: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
-000252c0: 6964 6573 2060 6974 6572 746f 6f6c 732e  ides `itertools.
-000252d0: 6472 6f70 7768 696c 6560 2061 7320 6120  dropwhile` as a 
-000252e0: 6275 696c 742d 696e 2075 6e64 6572 2074  built-in under t
-000252f0: 6865 206e 616d 6520 6064 726f 7077 6869  he name `dropwhi
-00025300: 6c65 602e 0d0a 0d0a 2323 2323 2320 5079  le`.....##### Py
-00025310: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a64  thon Docs....**d
-00025320: 726f 7077 6869 6c65 2a2a 285f 7072 6564  ropwhile**(_pred
-00025330: 6963 6174 652c 2069 7465 7261 626c 655f  icate, iterable_
-00025340: 290d 0a0d 0a4d 616b 6520 616e 2069 7465  )....Make an ite
-00025350: 7261 746f 7220 7468 6174 2064 726f 7073  rator that drops
-00025360: 2065 6c65 6d65 6e74 7320 6672 6f6d 2074   elements from t
-00025370: 6865 205f 6974 6572 6162 6c65 5f20 6173  he _iterable_ as
-00025380: 206c 6f6e 6720 6173 2074 6865 205f 7072   long as the _pr
-00025390: 6564 6963 6174 655f 2069 7320 7472 7565  edicate_ is true
-000253a0: 3b20 6166 7465 7277 6172 6473 2c20 7265  ; afterwards, re
-000253b0: 7475 726e 7320 6576 6572 7920 656c 656d  turns every elem
-000253c0: 656e 742e 204e 6f74 653a 2074 6865 2069  ent. Note: the i
-000253d0: 7465 7261 746f 7220 646f 6573 206e 6f74  terator does not
-000253e0: 2070 726f 6475 6365 2061 6e79 206f 7574   produce any out
-000253f0: 7075 7420 756e 7469 6c20 7468 6520 7072  put until the pr
-00025400: 6564 6963 6174 6520 6669 7273 7420 6265  edicate first be
-00025410: 636f 6d65 7320 6661 6c73 652c 2073 6f20  comes false, so 
-00025420: 6974 206d 6179 2068 6176 6520 6120 6c65  it may have a le
-00025430: 6e67 7468 7920 7374 6172 742d 7570 2074  ngthy start-up t
-00025440: 696d 652e 2045 7175 6976 616c 656e 7420  ime. Equivalent 
-00025450: 746f 3a0d 0a60 6060 636f 636f 6e75 745f  to:..```coconut_
-00025460: 7079 7468 6f6e 0d0a 6465 6620 6472 6f70  python..def drop
-00025470: 7768 696c 6528 7072 6564 6963 6174 652c  while(predicate,
-00025480: 2069 7465 7261 626c 6529 3a0d 0a20 2020   iterable):..   
-00025490: 2023 2064 726f 7077 6869 6c65 286c 616d   # dropwhile(lam
-000254a0: 6264 6120 783a 2078 3c35 2c20 5b31 2c34  bda x: x<5, [1,4
-000254b0: 2c36 2c34 2c31 5d29 202d 2d3e 2036 2034  ,6,4,1]) --> 6 4
-000254c0: 2031 0d0a 2020 2020 6974 6572 6162 6c65   1..    iterable
-000254d0: 203d 2069 7465 7228 6974 6572 6162 6c65   = iter(iterable
-000254e0: 290d 0a20 2020 2066 6f72 2078 2069 6e20  )..    for x in 
-000254f0: 6974 6572 6162 6c65 3a0d 0a20 2020 2020  iterable:..     
-00025500: 2020 2069 6620 6e6f 7420 7072 6564 6963     if not predic
-00025510: 6174 6528 7829 3a0d 0a20 2020 2020 2020  ate(x):..       
-00025520: 2020 2020 2079 6965 6c64 2078 0d0a 2020       yield x..  
-00025530: 2020 2020 2020 2020 2020 6272 6561 6b0d            break.
-00025540: 0a20 2020 2066 6f72 2078 2069 6e20 6974  .    for x in it
-00025550: 6572 6162 6c65 3a0d 0a20 2020 2020 2020  erable:..       
-00025560: 2079 6965 6c64 2078 0d0a 6060 600d 0a0d   yield x..```...
-00025570: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-00025580: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-00025590: 6060 6063 6f63 6f6e 7574 0d0a 706f 7369  ```coconut..posi
-000255a0: 7469 7665 7320 3d20 6e75 6d69 7465 7220  tives = numiter 
-000255b0: 7c3e 2064 726f 7077 6869 6c65 2428 7820  |> dropwhile$(x 
-000255c0: 2d3e 2078 203c 2030 290d 0a60 6060 0d0a  -> x < 0)..```..
-000255d0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-000255e0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000255f0: 0d0a 696d 706f 7274 2069 7465 7274 6f6f  ..import itertoo
-00025600: 6c73 0d0a 706f 7369 7469 7665 7320 3d20  ls..positives = 
-00025610: 6974 6572 746f 6f6c 732e 6472 6f70 7768  itertools.dropwh
-00025620: 696c 6528 6c61 6d62 6461 2078 3a20 7820  ile(lambda x: x 
-00025630: 3c20 302c 206e 756d 6974 6572 290d 0a60  < 0, numiter)..`
-00025640: 6060 0d0a 0d0a 2323 2323 2060 666c 6174  ``....#### `flat
-00025650: 7465 6e60 0d0a 0d0a 2a2a 666c 6174 7465  ten`....**flatte
-00025660: 6e2a 2a28 5f69 7465 7261 626c 655f 2c20  n**(_iterable_, 
-00025670: 5f6c 6576 656c 735f 3d60 3160 290d 0a0d  _levels_=`1`)...
-00025680: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
-00025690: 7320 616e 2065 6e68 616e 6365 6420 7665  s an enhanced ve
-000256a0: 7273 696f 6e20 6f66 2060 6974 6572 746f  rsion of `iterto
-000256b0: 6f6c 732e 6368 6169 6e2e 6672 6f6d 5f69  ols.chain.from_i
-000256c0: 7465 7261 626c 6560 2061 7320 6120 6275  terable` as a bu
-000256d0: 696c 742d 696e 2075 6e64 6572 2074 6865  ilt-in under the
-000256e0: 206e 616d 6520 6066 6c61 7474 656e 6020   name `flatten` 
-000256f0: 7769 7468 2061 6464 6564 2073 7570 706f  with added suppo
-00025700: 7274 2066 6f72 2060 7265 7665 7273 6564  rt for `reversed
-00025710: 602c 2060 7265 7072 602c 2060 696e 602c  `, `repr`, `in`,
-00025720: 2060 2e63 6f75 6e74 2829 602c 2060 2e69   `.count()`, `.i
-00025730: 6e64 6578 2829 602c 2061 6e64 2060 666d  ndex()`, and `fm
-00025740: 6170 602e 0d0a 0d0a 4279 2064 6566 6175  ap`.....By defau
-00025750: 6c74 2c20 6066 6c61 7474 656e 6020 6f6e  lt, `flatten` on
-00025760: 6c79 2066 6c61 7474 656e 7320 7468 6520  ly flattens the 
-00025770: 746f 7020 6c65 7665 6c20 6f66 2074 6865  top level of the
-00025780: 2067 6976 656e 2069 7465 7261 626c 652f   given iterable/
-00025790: 6172 7261 792e 2049 6620 5f6c 6576 656c  array. If _level
-000257a0: 735f 2069 7320 7061 7373 6564 2c20 686f  s_ is passed, ho
-000257b0: 7765 7665 722c 2069 7420 6361 6e20 6265  wever, it can be
-000257c0: 2075 7365 6420 746f 2063 6f6e 7472 6f6c   used to control
-000257d0: 2074 6865 206e 756d 6265 7220 6f66 206c   the number of l
-000257e0: 6576 656c 7320 666c 6174 7465 6e65 642c  evels flattened,
-000257f0: 2077 6974 6820 6030 6020 6d65 616e 696e   with `0` meanin
-00025800: 6720 6e6f 2066 6c61 7474 656e 696e 6720  g no flattening 
-00025810: 616e 6420 604e 6f6e 6560 2066 6c61 7474  and `None` flatt
-00025820: 656e 696e 6720 6173 206d 616e 7920 6974  ening as many it
-00025830: 6572 6162 6c65 7320 6173 2061 7265 2066  erables as are f
-00025840: 6f75 6e64 2e20 4e6f 7465 2074 6861 7420  ound. Note that 
-00025850: 6966 205f 6c65 7665 6c73 5f20 6973 2073  if _levels_ is s
-00025860: 6574 2074 6f20 616e 7920 6e6f 6e2d 604e  et to any non-`N
-00025870: 6f6e 6560 2076 616c 7565 2c20 7468 6520  one` value, the 
-00025880: 6669 7273 7420 5f6c 6576 656c 735f 206c  first _levels_ l
-00025890: 6576 656c 7320 6d75 7374 2062 6520 6974  evels must be it
-000258a0: 6572 6162 6c65 732c 206f 7220 656c 7365  erables, or else
-000258b0: 2061 6e20 6572 726f 7220 7769 6c6c 2062   an error will b
-000258c0: 6520 7261 6973 6564 2e0d 0a0d 0a23 2323  e raised.....###
-000258d0: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-000258e0: 0d0a 6368 6169 6e2e 2a2a 6672 6f6d 5f69  ..chain.**from_i
-000258f0: 7465 7261 626c 652a 2a28 5f69 7465 7261  terable**(_itera
-00025900: 626c 655f 290d 0a0d 0a41 6c74 6572 6e61  ble_)....Alterna
-00025910: 7465 2063 6f6e 7374 7275 6374 6f72 2066  te constructor f
-00025920: 6f72 2060 6368 6169 6e28 2960 2e20 4765  or `chain()`. Ge
-00025930: 7473 2063 6861 696e 6564 2069 6e70 7574  ts chained input
-00025940: 7320 6672 6f6d 2061 2073 696e 676c 6520  s from a single 
-00025950: 6974 6572 6162 6c65 2061 7267 756d 656e  iterable argumen
-00025960: 7420 7468 6174 2069 7320 6576 616c 7561  t that is evalua
-00025970: 7465 6420 6c61 7a69 6c79 2e20 526f 7567  ted lazily. Roug
-00025980: 686c 7920 6571 7569 7661 6c65 6e74 2074  hly equivalent t
-00025990: 6f3a 0d0a 0d0a 6060 6063 6f63 6f6e 7574  o:....```coconut
-000259a0: 5f70 7974 686f 6e0d 0a64 6566 2066 6c61  _python..def fla
-000259b0: 7474 656e 2869 7465 7261 626c 6573 293a  tten(iterables):
-000259c0: 0d0a 2020 2020 2320 666c 6174 7465 6e28  ..    # flatten(
-000259d0: 5b27 4142 4327 2c20 2744 4546 275d 2920  ['ABC', 'DEF']) 
-000259e0: 2d2d 3e20 4120 4220 4320 4420 4520 460d  --> A B C D E F.
-000259f0: 0a20 2020 2066 6f72 2069 7420 696e 2069  .    for it in i
-00025a00: 7465 7261 626c 6573 3a0d 0a20 2020 2020  terables:..     
-00025a10: 2020 2066 6f72 2065 6c65 6d65 6e74 2069     for element i
-00025a20: 6e20 6974 3a0d 0a20 2020 2020 2020 2020  n it:..         
-00025a30: 2020 2079 6965 6c64 2065 6c65 6d65 6e74     yield element
-00025a40: 0d0a 6060 600d 0a0d 0a23 2323 2323 2045  ..```....##### E
-00025a50: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-00025a60: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-00025a70: 7574 0d0a 6974 6572 5f6f 665f 6974 6572  ut..iter_of_iter
-00025a80: 7320 3d20 5b5b 312c 2032 5d2c 205b 332c  s = [[1, 2], [3,
-00025a90: 2034 5d5d 0d0a 666c 6174 5f69 7420 3d20   4]]..flat_it = 
-00025aa0: 6974 6572 5f6f 665f 6974 6572 7320 7c3e  iter_of_iters |>
-00025ab0: 2066 6c61 7474 656e 207c 3e20 6c69 7374   flatten |> list
-00025ac0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00025ad0: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-00025ae0: 5f70 7974 686f 6e0d 0a66 726f 6d20 6974  _python..from it
-00025af0: 6572 746f 6f6c 7320 696d 706f 7274 2063  ertools import c
-00025b00: 6861 696e 0d0a 6974 6572 5f6f 665f 6974  hain..iter_of_it
-00025b10: 6572 7320 3d20 5b5b 312c 2032 5d2c 205b  ers = [[1, 2], [
-00025b20: 332c 2034 5d5d 0d0a 666c 6174 5f69 7420  3, 4]]..flat_it 
-00025b30: 3d20 6974 6572 5f6f 665f 6974 6572 7320  = iter_of_iters 
-00025b40: 7c3e 2063 6861 696e 2e66 726f 6d5f 6974  |> chain.from_it
-00025b50: 6572 6162 6c65 207c 3e20 6c69 7374 0d0a  erable |> list..
-00025b60: 6060 600d 0a0d 0a23 2323 2320 6073 6361  ```....#### `sca
-00025b70: 6e60 0d0a 0d0a 2a2a 7363 616e 2a2a 285f  n`....**scan**(_
-00025b80: 6675 6e63 7469 6f6e 5f2c 205f 6974 6572  function_, _iter
-00025b90: 6162 6c65 5f5b 2c20 5f69 6e69 7469 616c  able_[, _initial
-00025ba0: 5f5d 290d 0a0d 0a43 6f63 6f6e 7574 2070  _])....Coconut p
-00025bb0: 726f 7669 6465 7320 6120 6d6f 6469 6669  rovides a modifi
-00025bc0: 6564 2076 6572 7369 6f6e 206f 6620 6069  ed version of `i
-00025bd0: 7465 7274 6f6f 6c73 2e61 6363 756d 756c  tertools.accumul
-00025be0: 6174 6560 2077 6974 6820 6f70 706f 7369  ate` with opposi
-00025bf0: 7465 2061 7267 756d 656e 7420 6f72 6465  te argument orde
-00025c00: 7220 6173 2060 7363 616e 6020 7468 6174  r as `scan` that
-00025c10: 2061 6c73 6f20 7375 7070 6f72 7473 2060   also supports `
-00025c20: 7265 7072 602c 2060 6c65 6e60 2c20 616e  repr`, `len`, an
-00025c30: 6420 6066 756e 6360 2f60 6974 6572 602f  d `func`/`iter`/
-00025c40: 6069 6e69 7469 616c 6020 6174 7472 6962  `initial` attrib
-00025c50: 7574 6573 2e20 6073 6361 6e60 2077 6f72  utes. `scan` wor
-00025c60: 6b73 2065 7861 6374 6c79 206c 696b 6520  ks exactly like 
-00025c70: 5b60 7265 6475 6365 605d 2823 7265 6475  [`reduce`](#redu
-00025c80: 6365 292c 2065 7863 6570 7420 7468 6174  ce), except that
-00025c90: 2069 6e73 7465 6164 206f 6620 6f6e 6c79   instead of only
-00025ca0: 2072 6574 7572 6e69 6e67 2074 6865 206c   returning the l
-00025cb0: 6173 7420 6163 6375 6d75 6c61 7465 6420  ast accumulated 
-00025cc0: 7661 6c75 652c 2069 7420 7265 7475 726e  value, it return
-00025cd0: 7320 616e 2069 7465 7261 746f 7220 6f66  s an iterator of
-00025ce0: 2061 6c6c 2074 6865 2069 6e74 6572 6d65   all the interme
-00025cf0: 6469 6174 6520 7661 6c75 6573 2e0d 0a0d  diate values....
-00025d00: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
-00025d10: 6373 0d0a 0d0a 2a2a 7363 616e 2a2a 285f  cs....**scan**(_
-00025d20: 6675 6e63 7469 6f6e 2c20 6974 6572 6162  function, iterab
-00025d30: 6c65 5f2a 2a5b 2a2a 5f2c 2069 6e69 7469  le_**[**_, initi
-00025d40: 616c 5f2a 2a5d 2a2a 290d 0a0d 0a4d 616b  al_**]**)....Mak
-00025d50: 6520 616e 2069 7465 7261 746f 7220 7468  e an iterator th
-00025d60: 6174 2072 6574 7572 6e73 2061 6363 756d  at returns accum
-00025d70: 756c 6174 6564 2072 6573 756c 7473 206f  ulated results o
-00025d80: 6620 736f 6d65 2066 756e 6374 696f 6e20  f some function 
-00025d90: 6f66 2074 776f 2061 7267 756d 656e 7473  of two arguments
-00025da0: 2e20 456c 656d 656e 7473 206f 6620 7468  . Elements of th
-00025db0: 6520 696e 7075 7420 6974 6572 6162 6c65  e input iterable
-00025dc0: 206d 6179 2062 6520 616e 7920 7479 7065   may be any type
-00025dd0: 2074 6861 7420 6361 6e20 6265 2061 6363   that can be acc
-00025de0: 6570 7465 6420 6173 2061 7267 756d 656e  epted as argumen
-00025df0: 7473 2074 6f20 5f66 756e 6374 696f 6e5f  ts to _function_
-00025e00: 2e20 2846 6f72 2065 7861 6d70 6c65 2c20  . (For example, 
-00025e10: 7769 7468 2074 6865 206f 7065 7261 7469  with the operati
-00025e20: 6f6e 206f 6620 6164 6469 7469 6f6e 2c20  on of addition, 
-00025e30: 656c 656d 656e 7473 206d 6179 2062 6520  elements may be 
-00025e40: 616e 7920 6164 6461 626c 6520 7479 7065  any addable type
-00025e50: 2069 6e63 6c75 6469 6e67 2044 6563 696d   including Decim
-00025e60: 616c 206f 7220 4672 6163 7469 6f6e 2e29  al or Fraction.)
-00025e70: 2049 6620 7468 6520 696e 7075 7420 6974   If the input it
-00025e80: 6572 6162 6c65 2069 7320 656d 7074 792c  erable is empty,
-00025e90: 2074 6865 206f 7574 7075 7420 6974 6572   the output iter
-00025ea0: 6162 6c65 2077 696c 6c20 616c 736f 2062  able will also b
-00025eb0: 6520 656d 7074 792e 0d0a 0d0a 4966 206e  e empty.....If n
-00025ec0: 6f20 5f69 6e69 7469 616c 5f20 6973 2067  o _initial_ is g
-00025ed0: 6976 656e 2c20 726f 7567 686c 7920 6571  iven, roughly eq
-00025ee0: 7569 7661 6c65 6e74 2074 6f3a 0d0a 6060  uivalent to:..``
-00025ef0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-00025f00: 0a64 6566 2073 6361 6e28 6675 6e63 7469  .def scan(functi
-00025f10: 6f6e 2c20 6974 6572 6162 6c65 293a 0d0a  on, iterable):..
-00025f20: 2020 2020 2752 6574 7572 6e20 7275 6e6e      'Return runn
-00025f30: 696e 6720 746f 7461 6c73 270d 0a20 2020  ing totals'..   
-00025f40: 2023 2073 6361 6e28 6f70 6572 6174 6f72   # scan(operator
-00025f50: 2e61 6464 2c20 5b31 2c32 2c33 2c34 2c35  .add, [1,2,3,4,5
-00025f60: 5d29 202d 2d3e 2031 2033 2036 2031 3020  ]) --> 1 3 6 10 
-00025f70: 3135 0d0a 2020 2020 2320 7363 616e 286f  15..    # scan(o
-00025f80: 7065 7261 746f 722e 6d75 6c2c 205b 312c  perator.mul, [1,
-00025f90: 322c 332c 342c 355d 2920 2d2d 3e20 3120  2,3,4,5]) --> 1 
-00025fa0: 3220 3620 3234 2031 3230 0d0a 2020 2020  2 6 24 120..    
-00025fb0: 6974 203d 2069 7465 7228 6974 6572 6162  it = iter(iterab
-00025fc0: 6c65 290d 0a20 2020 2074 7279 3a0d 0a20  le)..    try:.. 
-00025fd0: 2020 2020 2020 2074 6f74 616c 203d 206e         total = n
-00025fe0: 6578 7428 6974 290d 0a20 2020 2065 7863  ext(it)..    exc
-00025ff0: 6570 7420 5374 6f70 4974 6572 6174 696f  ept StopIteratio
-00026000: 6e3a 0d0a 2020 2020 2020 2020 7265 7475  n:..        retu
-00026010: 726e 0d0a 2020 2020 7969 656c 6420 746f  rn..    yield to
-00026020: 7461 6c0d 0a20 2020 2066 6f72 2065 6c65  tal..    for ele
-00026030: 6d65 6e74 2069 6e20 6974 3a0d 0a20 2020  ment in it:..   
-00026040: 2020 2020 2074 6f74 616c 203d 2066 756e       total = fun
-00026050: 6374 696f 6e28 746f 7461 6c2c 2065 6c65  ction(total, ele
-00026060: 6d65 6e74 290d 0a20 2020 2020 2020 2079  ment)..        y
-00026070: 6965 6c64 2074 6f74 616c 0d0a 6060 600d  ield total..```.
-00026080: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-00026090: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-000260a0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 696e  ..```coconut..in
-000260b0: 7075 745f 6461 7461 203d 205b 332c 2034  put_data = [3, 4
-000260c0: 2c20 362c 2032 2c20 312c 2039 2c20 302c  , 6, 2, 1, 9, 0,
-000260d0: 2037 2c20 352c 2038 5d0d 0a72 756e 6e69   7, 5, 8]..runni
-000260e0: 6e67 5f6d 6178 203d 2069 6e70 7574 5f64  ng_max = input_d
-000260f0: 6174 6120 7c3e 2073 6361 6e24 286d 6178  ata |> scan$(max
-00026100: 2920 7c3e 206c 6973 740d 0a60 6060 0d0a  ) |> list..```..
-00026110: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00026120: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00026130: 0d0a 696e 7075 745f 6461 7461 203d 205b  ..input_data = [
-00026140: 332c 2034 2c20 362c 2032 2c20 312c 2039  3, 4, 6, 2, 1, 9
-00026150: 2c20 302c 2037 2c20 352c 2038 5d0d 0a72  , 0, 7, 5, 8]..r
-00026160: 756e 6e69 6e67 5f6d 6178 203d 205b 5d0d  unning_max = [].
-00026170: 0a6d 6178 5f73 6f5f 6661 7220 3d20 696e  .max_so_far = in
-00026180: 7075 745f 6461 7461 5b30 5d0d 0a66 6f72  put_data[0]..for
-00026190: 2078 2069 6e20 696e 7075 745f 6461 7461   x in input_data
-000261a0: 3a0d 0a20 2020 2069 6620 7820 3e20 6d61  :..    if x > ma
-000261b0: 785f 736f 5f66 6172 3a0d 0a20 2020 2020  x_so_far:..     
-000261c0: 2020 206d 6178 5f73 6f5f 6661 7220 3d20     max_so_far = 
-000261d0: 780d 0a20 2020 2072 756e 6e69 6e67 5f6d  x..    running_m
-000261e0: 6178 2e61 7070 656e 6428 7829 0d0a 6060  ax.append(x)..``
-000261f0: 600d 0a0d 0a23 2323 2320 6063 6f75 6e74  `....#### `count
-00026200: 600d 0a0d 0a2a 2a63 6f75 6e74 2a2a 285f  `....**count**(_
-00026210: 7374 6172 745f 3d60 3060 2c20 5f73 7465  start_=`0`, _ste
-00026220: 705f 3d60 3160 290d 0a0d 0a43 6f63 6f6e  p_=`1`)....Cocon
-00026230: 7574 2070 726f 7669 6465 7320 6120 6d6f  ut provides a mo
-00026240: 6469 6669 6564 2076 6572 7369 6f6e 206f  dified version o
-00026250: 6620 6069 7465 7274 6f6f 6c73 2e63 6f75  f `itertools.cou
-00026260: 6e74 6020 7468 6174 2073 7570 706f 7274  nt` that support
-00026270: 7320 6069 6e60 2c20 6e6f 726d 616c 2073  s `in`, normal s
-00026280: 6c69 6369 6e67 2c20 6f70 7469 6d69 7a65  licing, optimize
-00026290: 6420 6974 6572 6174 6f72 2073 6c69 6369  d iterator slici
-000262a0: 6e67 2c20 7468 6520 7374 616e 6461 7264  ng, the standard
-000262b0: 2060 636f 756e 7460 2061 6e64 2060 696e   `count` and `in
-000262c0: 6465 7860 2073 6571 7565 6e63 6520 6d65  dex` sequence me
-000262d0: 7468 6f64 732c 2060 7265 7072 602c 2061  thods, `repr`, a
-000262e0: 6e64 2060 7374 6172 7460 2f60 7374 6570  nd `start`/`step
-000262f0: 6020 6174 7472 6962 7574 6573 2061 7320  ` attributes as 
-00026300: 6120 6275 696c 742d 696e 2075 6e64 6572  a built-in under
-00026310: 2074 6865 206e 616d 6520 6063 6f75 6e74   the name `count
-00026320: 602e 0d0a 0d0a 4164 6469 7469 6f6e 616c  `.....Additional
-00026330: 6c79 2c20 6966 2074 6865 205f 7374 6570  ly, if the _step
-00026340: 5f20 7061 7261 6d65 7465 7220 6973 2073  _ parameter is s
-00026350: 6574 2074 6f20 604e 6f6e 6560 2c20 6063  et to `None`, `c
-00026360: 6f75 6e74 6020 7769 6c6c 2062 6568 6176  ount` will behav
-00026370: 6520 6c69 6b65 2060 6974 6572 746f 6f6c  e like `itertool
-00026380: 732e 7265 7065 6174 6020 696e 7374 6561  s.repeat` instea
-00026390: 642e 0d0a 0d0a 2323 2323 2320 5079 7468  d.....##### Pyth
-000263a0: 6f6e 2044 6f63 730d 0a0d 0a2a 2a63 6f75  on Docs....**cou
-000263b0: 6e74 2a2a 285f 7374 6172 743d 302c 2073  nt**(_start=0, s
-000263c0: 7465 703d 315f 290d 0a0d 0a4d 616b 6520  tep=1_)....Make 
-000263d0: 616e 2069 7465 7261 746f 7220 7468 6174  an iterator that
-000263e0: 2072 6574 7572 6e73 2065 7665 6e6c 7920   returns evenly 
-000263f0: 7370 6163 6564 2076 616c 7565 7320 7374  spaced values st
-00026400: 6172 7469 6e67 2077 6974 6820 6e75 6d62  arting with numb
-00026410: 6572 205f 7374 6172 745f 2e20 4f66 7465  er _start_. Ofte
-00026420: 6e20 7573 6564 2061 7320 616e 2061 7267  n used as an arg
-00026430: 756d 656e 7420 746f 2060 6d61 7028 2960  ument to `map()`
-00026440: 2074 6f20 6765 6e65 7261 7465 2063 6f6e   to generate con
-00026450: 7365 6375 7469 7665 2064 6174 6120 706f  secutive data po
-00026460: 696e 7473 2e20 416c 736f 2c20 7573 6564  ints. Also, used
-00026470: 2077 6974 6820 607a 6970 2829 6020 746f   with `zip()` to
-00026480: 2061 6464 2073 6571 7565 6e63 6520 6e75   add sequence nu
-00026490: 6d62 6572 732e 2052 6f75 6768 6c79 2065  mbers. Roughly e
-000264a0: 7175 6976 616c 656e 7420 746f 3a0d 0a60  quivalent to:..`
-000264b0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000264c0: 0d0a 6465 6620 636f 756e 7428 7374 6172  ..def count(star
-000264d0: 743d 302c 2073 7465 703d 3129 3a0d 0a20  t=0, step=1):.. 
-000264e0: 2020 2023 2063 6f75 6e74 2831 3029 202d     # count(10) -
-000264f0: 2d3e 2031 3020 3131 2031 3220 3133 2031  -> 10 11 12 13 1
-00026500: 3420 2e2e 2e0d 0a20 2020 2023 2063 6f75  4 .....    # cou
-00026510: 6e74 2832 2e35 2c20 302e 3529 202d 3e20  nt(2.5, 0.5) -> 
-00026520: 322e 3520 332e 3020 332e 3520 2e2e 2e0d  2.5 3.0 3.5 ....
-00026530: 0a20 2020 206e 203d 2073 7461 7274 0d0a  .    n = start..
-00026540: 2020 2020 7768 696c 6520 5472 7565 3a0d      while True:.
-00026550: 0a20 2020 2020 2020 2079 6965 6c64 206e  .        yield n
-00026560: 0d0a 2020 2020 2020 2020 6966 2073 7465  ..        if ste
-00026570: 703a 0d0a 2020 2020 2020 2020 2020 6e20  p:..          n 
-00026580: 2b3d 2073 7465 700d 0a60 6060 0d0a 0d0a  += step..```....
-00026590: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-000265a0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-000265b0: 6060 636f 636f 6e75 740d 0a63 6f75 6e74  ``coconut..count
-000265c0: 2829 245b 3130 2a2a 3130 305d 207c 3e20  ()$[10**100] |> 
-000265d0: 7072 696e 740d 0a60 6060 0d0a 0d0a 2a2a  print..```....**
-000265e0: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
-000265f0: 7420 6265 2064 6f6e 6520 7175 6963 6b6c  t be done quickl
-00026600: 7920 7769 7468 6f75 7420 436f 636f 6e75  y without Coconu
-00026610: 7427 7320 6974 6572 6174 6f72 2073 6c69  t's iterator sli
-00026620: 6369 6e67 2c20 7768 6963 6820 7265 7175  cing, which requ
-00026630: 6972 6573 206d 616e 7920 636f 6d70 6c69  ires many compli
-00026640: 6361 7465 6420 7069 6563 6573 2e20 5468  cated pieces. Th
-00026650: 6520 6e65 6365 7373 6172 7920 6465 6669  e necessary defi
-00026660: 6e69 7469 6f6e 7320 696e 2050 7974 686f  nitions in Pytho
-00026670: 6e20 6361 6e20 6265 2066 6f75 6e64 2069  n can be found i
-00026680: 6e20 7468 6520 436f 636f 6e75 7420 6865  n the Coconut he
-00026690: 6164 6572 2e5f 0d0a 0d0a 2323 2323 2060  ader._....#### `
-000266a0: 6379 636c 6560 0d0a 0d0a 2a2a 6379 636c  cycle`....**cycl
-000266b0: 652a 2a28 5f69 7465 7261 626c 655f 2c20  e**(_iterable_, 
-000266c0: 5f74 696d 6573 5f3d 604e 6f6e 6560 290d  _times_=`None`).
-000266d0: 0a0d 0a43 6f63 6f6e 7574 2773 2060 6379  ...Coconut's `cy
-000266e0: 636c 6560 2069 7320 6120 6d6f 6469 6669  cle` is a modifi
-000266f0: 6564 2076 6572 7369 6f6e 206f 6620 6069  ed version of `i
-00026700: 7465 7274 6f6f 6c73 2e63 7963 6c65 6020  tertools.cycle` 
-00026710: 7769 7468 2061 2060 7469 6d65 7360 2070  with a `times` p
-00026720: 6172 616d 6574 6572 2074 6861 7420 636f  arameter that co
-00026730: 6e74 726f 6c73 2074 6865 206e 756d 6265  ntrols the numbe
-00026740: 7220 6f66 2074 696d 6573 2074 6f20 6379  r of times to cy
-00026750: 636c 6520 7468 726f 7567 6820 5f69 7465  cle through _ite
-00026760: 7261 626c 655f 2062 6566 6f72 6520 7374  rable_ before st
-00026770: 6f70 7069 6e67 2e20 6063 7963 6c65 6020  opping. `cycle` 
-00026780: 616c 736f 2073 7570 706f 7274 7320 6069  also supports `i
-00026790: 6e60 2c20 736c 6963 696e 672c 2060 6c65  n`, slicing, `le
-000267a0: 6e60 2c20 6072 6576 6572 7365 6460 2c20  n`, `reversed`, 
-000267b0: 602e 636f 756e 7428 2960 2c20 602e 696e  `.count()`, `.in
-000267c0: 6465 7828 2960 2c20 616e 6420 6072 6570  dex()`, and `rep
-000267d0: 7260 2e0d 0a0d 0a23 2323 2323 2050 7974  r`.....##### Pyt
-000267e0: 686f 6e20 446f 6373 0d0a 0d0a 2a2a 6379  hon Docs....**cy
-000267f0: 636c 652a 2a28 5f69 7465 7261 626c 655f  cle**(_iterable_
-00026800: 290d 0a0d 0a4d 616b 6520 616e 2069 7465  )....Make an ite
-00026810: 7261 746f 7220 7265 7475 726e 696e 6720  rator returning 
-00026820: 656c 656d 656e 7473 2066 726f 6d20 7468  elements from th
-00026830: 6520 6974 6572 6162 6c65 2061 6e64 2073  e iterable and s
-00026840: 6176 696e 6720 6120 636f 7079 206f 6620  aving a copy of 
-00026850: 6561 6368 2e20 5768 656e 2074 6865 2069  each. When the i
-00026860: 7465 7261 626c 6520 6973 2065 7868 6175  terable is exhau
-00026870: 7374 6564 2c20 7265 7475 726e 2065 6c65  sted, return ele
-00026880: 6d65 6e74 7320 6672 6f6d 2074 6865 2073  ments from the s
-00026890: 6176 6564 2063 6f70 792e 2052 6570 6561  aved copy. Repea
-000268a0: 7473 2069 6e64 6566 696e 6974 656c 792e  ts indefinitely.
-000268b0: 2052 6f75 6768 6c79 2065 7175 6976 616c   Roughly equival
-000268c0: 656e 7420 746f 3a0d 0a0d 0a60 6060 636f  ent to:....```co
-000268d0: 636f 6e75 745f 7079 7468 6f6e 0d0a 6465  conut_python..de
-000268e0: 6620 6379 636c 6528 6974 6572 6162 6c65  f cycle(iterable
-000268f0: 293a 0d0a 2020 2020 2320 6379 636c 6528  ):..    # cycle(
-00026900: 2741 4243 4427 2920 2d2d 3e20 4120 4220  'ABCD') --> A B 
-00026910: 4320 4420 4120 4220 4320 4420 4120 4220  C D A B C D A B 
-00026920: 4320 4420 2e2e 2e0d 0a20 2020 2073 6176  C D .....    sav
-00026930: 6564 203d 205b 5d0d 0a20 2020 2066 6f72  ed = []..    for
-00026940: 2065 6c65 6d65 6e74 2069 6e20 6974 6572   element in iter
-00026950: 6162 6c65 3a0d 0a20 2020 2020 2020 2079  able:..        y
-00026960: 6965 6c64 2065 6c65 6d65 6e74 0d0a 2020  ield element..  
-00026970: 2020 2020 2020 7361 7665 642e 6170 7065        saved.appe
-00026980: 6e64 2865 6c65 6d65 6e74 290d 0a20 2020  nd(element)..   
-00026990: 2077 6869 6c65 2073 6176 6564 3a0d 0a20   while saved:.. 
-000269a0: 2020 2020 2020 2066 6f72 2065 6c65 6d65         for eleme
-000269b0: 6e74 2069 6e20 7361 7665 643a 0d0a 2020  nt in saved:..  
-000269c0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-000269d0: 6420 656c 656d 656e 740d 0a60 6060 0d0a  d element..```..
-000269e0: 0d0a 4e6f 7465 2c20 7468 6973 206d 656d  ..Note, this mem
-000269f0: 6265 7220 6f66 2074 6865 2074 6f6f 6c6b  ber of the toolk
-00026a00: 6974 206d 6179 2072 6571 7569 7265 2073  it may require s
-00026a10: 6967 6e69 6669 6361 6e74 2061 7578 696c  ignificant auxil
-00026a20: 6961 7279 2073 746f 7261 6765 2028 6465  iary storage (de
-00026a30: 7065 6e64 696e 6720 6f6e 2074 6865 206c  pending on the l
-00026a40: 656e 6774 6820 6f66 2074 6865 2069 7465  ength of the ite
-00026a50: 7261 626c 6529 2e0d 0a0d 0a23 2323 2323  rable).....#####
-00026a60: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-00026a70: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-00026a80: 6f6e 7574 0d0a 6379 636c 6528 7261 6e67  onut..cycle(rang
-00026a90: 6528 3229 2c20 3229 207c 3e20 6c69 7374  e(2), 2) |> list
-00026aa0: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
-00026ab0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00026ac0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00026ad0: 0d0a 6672 6f6d 2069 7465 7274 6f6f 6c73  ..from itertools
-00026ae0: 2069 6d70 6f72 7420 6379 636c 652c 2069   import cycle, i
-00026af0: 736c 6963 650d 0a70 7269 6e74 286c 6973  slice..print(lis
-00026b00: 7428 6973 6c69 6365 2863 7963 6c65 2872  t(islice(cycle(r
-00026b10: 616e 6765 2832 2929 2c20 3429 2929 0d0a  ange(2)), 4)))..
-00026b20: 6060 600d 0a0d 0a23 2323 2320 6063 6172  ```....#### `car
-00026b30: 7465 7369 616e 5f70 726f 6475 6374 600d  tesian_product`.
-00026b40: 0a0d 0a2a 2a63 6172 7465 7369 616e 5c5f  ...**cartesian\_
-00026b50: 7072 6f64 7563 742a 2a28 2a5f 6974 6572  product**(*_iter
-00026b60: 6162 6c65 735f 2c20 5f72 6570 6561 745f  ables_, _repeat_
-00026b70: 3d60 3160 290d 0a0d 0a43 6f63 6f6e 7574  =`1`)....Coconut
-00026b80: 2070 726f 7669 6465 7320 616e 2065 6e68   provides an enh
-00026b90: 616e 6365 6420 7665 7273 696f 6e20 6f66  anced version of
-00026ba0: 2060 6974 6572 746f 6f6c 732e 7072 6f64   `itertools.prod
-00026bb0: 7563 7460 2061 7320 6120 6275 696c 742d  uct` as a built-
-00026bc0: 696e 2075 6e64 6572 2074 6865 206e 616d  in under the nam
-00026bd0: 6520 6063 6172 7465 7369 616e 5f70 726f  e `cartesian_pro
-00026be0: 6475 6374 6020 7769 7468 2061 6464 6564  duct` with added
-00026bf0: 2073 7570 706f 7274 2066 6f72 2060 6c65   support for `le
-00026c00: 6e60 2c20 6072 6570 7260 2c20 6069 6e60  n`, `repr`, `in`
-00026c10: 2c20 602e 636f 756e 7428 2960 2c20 616e  , `.count()`, an
-00026c20: 6420 6066 6d61 7060 2e0d 0a0d 0a41 6464  d `fmap`.....Add
-00026c30: 6974 696f 6e61 6c6c 792c 2060 6361 7274  itionally, `cart
-00026c40: 6573 6961 6e5f 7072 6f64 7563 7460 2069  esian_product` i
-00026c50: 6e63 6c75 6465 7320 7370 6563 6961 6c20  ncludes special 
-00026c60: 7375 7070 6f72 7420 666f 7220 5b60 6e75  support for [`nu
-00026c70: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
-00026c80: 6567 7261 7469 6f6e 2920 6f62 6a65 6374  egration) object
-00026c90: 732c 2069 6e20 7768 6963 6820 6361 7365  s, in which case
-00026ca0: 2061 206d 756c 7469 6469 6d65 6e73 696f   a multidimensio
-00026cb0: 6e61 6c20 6172 7261 7920 6973 2072 6574  nal array is ret
-00026cc0: 7572 6e65 6420 696e 7374 6561 6420 6f66  urned instead of
-00026cd0: 2061 6e20 6974 6572 6174 6f72 2e0d 0a0d   an iterator....
-00026ce0: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
-00026cf0: 6373 0d0a 0d0a 2a2a 6361 7274 6573 6961  cs....**cartesia
-00026d00: 6e5c 5f70 726f 6475 6374 2a2a 285f 5c2a  n\_product**(_\*
-00026d10: 6974 6572 6162 6c65 732c 2072 6570 6561  iterables, repea
-00026d20: 743d 315f 290d 0a0d 0a43 6172 7465 7369  t=1_)....Cartesi
-00026d30: 616e 2070 726f 6475 6374 206f 6620 696e  an product of in
-00026d40: 7075 7420 6974 6572 6162 6c65 732e 0d0a  put iterables...
-00026d50: 0d0a 526f 7567 686c 7920 6571 7569 7661  ..Roughly equiva
-00026d60: 6c65 6e74 2074 6f20 6e65 7374 6564 2066  lent to nested f
-00026d70: 6f72 2d6c 6f6f 7073 2069 6e20 6120 6765  or-loops in a ge
-00026d80: 6e65 7261 746f 7220 6578 7072 6573 7369  nerator expressi
-00026d90: 6f6e 2e20 466f 7220 6578 616d 706c 652c  on. For example,
-00026da0: 2060 6361 7274 6573 6961 6e5f 7072 6f64   `cartesian_prod
-00026db0: 7563 7428 412c 2042 2960 2072 6574 7572  uct(A, B)` retur
-00026dc0: 6e73 2074 6865 2073 616d 6520 6173 2060  ns the same as `
-00026dd0: 2828 782c 7929 2066 6f72 2078 2069 6e20  ((x,y) for x in 
-00026de0: 4120 666f 7220 7920 696e 2042 2960 2e0d  A for y in B)`..
-00026df0: 0a0d 0a54 6865 206e 6573 7465 6420 6c6f  ...The nested lo
-00026e00: 6f70 7320 6379 636c 6520 6c69 6b65 2061  ops cycle like a
-00026e10: 6e20 6f64 6f6d 6574 6572 2077 6974 6820  n odometer with 
-00026e20: 7468 6520 7269 6768 746d 6f73 7420 656c  the rightmost el
-00026e30: 656d 656e 7420 6164 7661 6e63 696e 6720  ement advancing 
-00026e40: 6f6e 2065 7665 7279 2069 7465 7261 7469  on every iterati
-00026e50: 6f6e 2e20 5468 6973 2070 6174 7465 726e  on. This pattern
-00026e60: 2063 7265 6174 6573 2061 206c 6578 6963   creates a lexic
-00026e70: 6f67 7261 7068 6963 206f 7264 6572 696e  ographic orderin
-00026e80: 6720 736f 2074 6861 7420 6966 2074 6865  g so that if the
-00026e90: 2069 6e70 7574 e280 9973 2069 7465 7261   input...s itera
-00026ea0: 626c 6573 2061 7265 2073 6f72 7465 642c  bles are sorted,
-00026eb0: 2074 6865 2070 726f 6475 6374 2074 7570   the product tup
-00026ec0: 6c65 7320 6172 6520 656d 6974 7465 6420  les are emitted 
-00026ed0: 696e 2073 6f72 7465 6420 6f72 6465 722e  in sorted order.
-00026ee0: 0d0a 0d0a 546f 2063 6f6d 7075 7465 2074  ....To compute t
-00026ef0: 6865 2070 726f 6475 6374 206f 6620 616e  he product of an
-00026f00: 2069 7465 7261 626c 6520 7769 7468 2069   iterable with i
-00026f10: 7473 656c 662c 2073 7065 6369 6679 2074  tself, specify t
-00026f20: 6865 206e 756d 6265 7220 6f66 2072 6570  he number of rep
-00026f30: 6574 6974 696f 6e73 2077 6974 6820 7468  etitions with th
-00026f40: 6520 6f70 7469 6f6e 616c 2072 6570 6561  e optional repea
-00026f50: 7420 6b65 7977 6f72 6420 6172 6775 6d65  t keyword argume
-00026f60: 6e74 2e20 466f 7220 6578 616d 706c 652c  nt. For example,
-00026f70: 2060 7072 6f64 7563 7428 412c 2072 6570   `product(A, rep
-00026f80: 6561 743d 3429 6020 6d65 616e 7320 7468  eat=4)` means th
-00026f90: 6520 7361 6d65 2061 7320 6063 6172 7465  e same as `carte
-00026fa0: 7369 616e 5f70 726f 6475 6374 2841 2c20  sian_product(A, 
-00026fb0: 412c 2041 2c20 4129 602e 0d0a 0d0a 5468  A, A, A)`.....Th
-00026fc0: 6973 2066 756e 6374 696f 6e20 6973 2072  is function is r
-00026fd0: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
-00026fe0: 7420 746f 2074 6865 2066 6f6c 6c6f 7769  t to the followi
-00026ff0: 6e67 2063 6f64 652c 2065 7863 6570 7420  ng code, except 
-00027000: 7468 6174 2074 6865 2061 6374 7561 6c20  that the actual 
-00027010: 696d 706c 656d 656e 7461 7469 6f6e 2064  implementation d
-00027020: 6f65 7320 6e6f 7420 6275 696c 6420 7570  oes not build up
-00027030: 2069 6e74 6572 6d65 6469 6174 6520 7265   intermediate re
-00027040: 7375 6c74 7320 696e 206d 656d 6f72 793a  sults in memory:
-00027050: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 5f70  ....```coconut_p
-00027060: 7974 686f 6e0d 0a64 6566 2063 6172 7465  ython..def carte
-00027070: 7369 616e 5f70 726f 6475 6374 282a 6172  sian_product(*ar
-00027080: 6773 2c20 7265 7065 6174 3d31 293a 0d0a  gs, repeat=1):..
-00027090: 2020 2020 2320 7072 6f64 7563 7428 2741      # product('A
-000270a0: 4243 4427 2c20 2778 7927 2920 2d2d 3e20  BCD', 'xy') --> 
-000270b0: 4178 2041 7920 4278 2042 7920 4378 2043  Ax Ay Bx By Cx C
-000270c0: 7920 4478 2044 790d 0a20 2020 2023 2070  y Dx Dy..    # p
-000270d0: 726f 6475 6374 2872 616e 6765 2832 292c  roduct(range(2),
-000270e0: 2072 6570 6561 743d 3329 202d 2d3e 2030   repeat=3) --> 0
-000270f0: 3030 2030 3031 2030 3130 2030 3131 2031  00 001 010 011 1
-00027100: 3030 2031 3031 2031 3130 2031 3131 0d0a  00 101 110 111..
-00027110: 2020 2020 706f 6f6c 7320 3d20 5b74 7570      pools = [tup
-00027120: 6c65 2870 6f6f 6c29 2066 6f72 2070 6f6f  le(pool) for poo
-00027130: 6c20 696e 2061 7267 735d 202a 2072 6570  l in args] * rep
-00027140: 6561 740d 0a20 2020 2072 6573 756c 7420  eat..    result 
-00027150: 3d20 5b5b 5d5d 0d0a 2020 2020 666f 7220  = [[]]..    for 
-00027160: 706f 6f6c 2069 6e20 706f 6f6c 733a 0d0a  pool in pools:..
-00027170: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00027180: 205b 782b 5b79 5d20 666f 7220 7820 696e   [x+[y] for x in
-00027190: 2072 6573 756c 7420 666f 7220 7920 696e   result for y in
-000271a0: 2070 6f6f 6c5d 0d0a 2020 2020 666f 7220   pool]..    for 
-000271b0: 7072 6f64 2069 6e20 7265 7375 6c74 3a0d  prod in result:.
-000271c0: 0a20 2020 2020 2020 2079 6965 6c64 2074  .        yield t
-000271d0: 7570 6c65 2870 726f 6429 0d0a 6060 600d  uple(prod)..```.
-000271e0: 0a0d 0a42 6566 6f72 6520 6063 6172 7465  ...Before `carte
-000271f0: 7369 616e 5f70 726f 6475 6374 2829 6020  sian_product()` 
-00027200: 7275 6e73 2c20 6974 2063 6f6d 706c 6574  runs, it complet
-00027210: 656c 7920 636f 6e73 756d 6573 2074 6865  ely consumes the
-00027220: 2069 6e70 7574 2069 7465 7261 626c 6573   input iterables
-00027230: 2c20 6b65 6570 696e 6720 706f 6f6c 7320  , keeping pools 
-00027240: 6f66 2076 616c 7565 7320 696e 206d 656d  of values in mem
-00027250: 6f72 7920 746f 2067 656e 6572 6174 6520  ory to generate 
-00027260: 7468 6520 7072 6f64 7563 7473 2e20 4163  the products. Ac
-00027270: 636f 7264 696e 676c 792c 2069 7420 6973  cordingly, it is
-00027280: 206f 6e6c 7920 7573 6566 756c 2077 6974   only useful wit
-00027290: 6820 6669 6e69 7465 2069 6e70 7574 732e  h finite inputs.
-000272a0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-000272b0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-000272c0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a76  *..```coconut..v
-000272d0: 203d 205b 312c 2032 5d0d 0a61 7373 6572   = [1, 2]..asser
-000272e0: 7420 6361 7274 6573 6961 6e5f 7072 6f64  t cartesian_prod
-000272f0: 7563 7428 762c 2076 2920 7c3e 206c 6973  uct(v, v) |> lis
-00027300: 7420 3d3d 205b 2831 2c20 3129 2c20 2831  t == [(1, 1), (1
-00027310: 2c20 3229 2c20 2832 2c20 3129 2c20 2832  , 2), (2, 1), (2
-00027320: 2c20 3229 5d0d 0a60 6060 0d0a 0d0a 2a2a  , 2)]..```....**
-00027330: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
-00027340: 636f 6e75 745f 7079 7468 6f6e 0d0a 6672  conut_python..fr
-00027350: 6f6d 2069 7465 7274 6f6f 6c73 2069 6d70  om itertools imp
-00027360: 6f72 7420 7072 6f64 7563 740d 0a76 203d  ort product..v =
-00027370: 205b 312c 2032 5d0d 0a61 7373 6572 7420   [1, 2]..assert 
-00027380: 6c69 7374 2870 726f 6475 6374 2876 2c20  list(product(v, 
-00027390: 7629 2920 3d3d 205b 2831 2c20 3129 2c20  v)) == [(1, 1), 
-000273a0: 2831 2c20 3229 2c20 2832 2c20 3129 2c20  (1, 2), (2, 1), 
-000273b0: 2832 2c20 3229 5d0d 0a60 6060 0d0a 0d0a  (2, 2)]..```....
-000273c0: 2323 2323 2060 6d75 6c74 695f 656e 756d  #### `multi_enum
-000273d0: 6572 6174 6560 0d0a 0d0a 2a2a 6d75 6c74  erate`....**mult
-000273e0: 695c 5f65 6e75 6d65 7261 7465 2a2a 285f  i\_enumerate**(_
-000273f0: 6974 6572 6162 6c65 5f29 0d0a 0d0a 436f  iterable_)....Co
-00027400: 636f 6e75 7427 7320 606d 756c 7469 5f65  conut's `multi_e
-00027410: 6e75 6d65 7261 7465 6020 656e 756d 6572  numerate` enumer
-00027420: 6174 6573 2074 6872 6f75 6768 2061 6e20  ates through an 
-00027430: 6974 6572 6162 6c65 206f 6620 6974 6572  iterable of iter
-00027440: 6162 6c65 732e 2060 6d75 6c74 695f 656e  ables. `multi_en
-00027450: 756d 6572 6174 6560 2077 6f72 6b73 206c  umerate` works l
-00027460: 696b 6520 656e 756d 6572 6174 652c 2062  ike enumerate, b
-00027470: 7574 2069 6e64 6578 6573 2074 6872 6f75  ut indexes throu
-00027480: 6768 2069 6e6e 6572 2069 7465 7261 626c  gh inner iterabl
-00027490: 6573 2061 6e64 2070 726f 6475 6365 7320  es and produces 
-000274a0: 6120 7475 706c 6520 696e 6465 7820 7265  a tuple index re
-000274b0: 7072 6573 656e 7469 6e67 2074 6865 2069  presenting the i
-000274c0: 6e64 6578 2069 6e20 6561 6368 2069 6e6e  ndex in each inn
-000274d0: 6572 2069 7465 7261 626c 652e 2053 7570  er iterable. Sup
-000274e0: 706f 7274 7320 696e 6465 7869 6e67 2e0d  ports indexing..
-000274f0: 0a0d 0a46 6f72 205b 606e 756d 7079 605d  ...For [`numpy`]
-00027500: 2823 6e75 6d70 792d 696e 7465 6772 6174  (#numpy-integrat
-00027510: 696f 6e29 206f 626a 6563 7473 2c20 6566  ion) objects, ef
-00027520: 6665 6374 6976 656c 7920 6571 7569 7661  fectively equiva
-00027530: 6c65 6e74 2074 6f3a 0d0a 6060 6063 6f63  lent to:..```coc
-00027540: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
-00027550: 206d 756c 7469 5f65 6e75 6d65 7261 7465   multi_enumerate
-00027560: 2869 7465 7261 626c 6529 3a0d 0a20 2020  (iterable):..   
-00027570: 2069 7420 3d20 6e70 2e6e 6469 7465 7228   it = np.nditer(
-00027580: 6974 6572 6162 6c65 2c20 666c 6167 733d  iterable, flags=
-00027590: 5b22 6d75 6c74 695f 696e 6465 7822 5d29  ["multi_index"])
-000275a0: 0d0a 2020 2020 666f 7220 7820 696e 2069  ..    for x in i
-000275b0: 743a 0d0a 2020 2020 2020 2020 7969 656c  t:..        yiel
-000275c0: 6420 6974 2e6d 756c 7469 5f69 6e64 6578  d it.multi_index
-000275d0: 2c20 780d 0a60 6060 0d0a 0d0a 416c 736f  , x..```....Also
-000275e0: 2073 7570 706f 7274 7320 606c 656e 6020   supports `len` 
-000275f0: 666f 7220 5b60 6e75 6d70 7960 5d28 236e  for [`numpy`](#n
-00027600: 756d 7079 2d69 6e74 6567 7261 7469 6f6e  umpy-integration
-00027610: 292e 0d0a 0d0a 2323 2323 2320 4578 616d  ).....##### Exam
-00027620: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
-00027630: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
-00027640: 7079 636f 6e0d 0a3e 3e3e 205b 312c 2032  pycon..>>> [1, 2
-00027650: 3b3b 2033 2c20 345d 207c 3e20 6d75 6c74  ;; 3, 4] |> mult
-00027660: 695f 656e 756d 6572 6174 6520 7c3e 206c  i_enumerate |> l
-00027670: 6973 740d 0a5b 2828 302c 2030 292c 2031  ist..[((0, 0), 1
-00027680: 292c 2028 2830 2c20 3129 2c20 3229 2c20  ), ((0, 1), 2), 
-00027690: 2828 312c 2030 292c 2033 292c 2028 2831  ((1, 0), 3), ((1
-000276a0: 2c20 3129 2c20 3429 5d0d 0a60 6060 0d0a  , 1), 4)]..```..
-000276b0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-000276c0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000276d0: 0d0a 6172 7261 7920 3d20 5b5b 312c 2032  ..array = [[1, 2
-000276e0: 5d2c 205b 332c 2034 5d5d 0d0a 656e 756d  ], [3, 4]]..enum
-000276f0: 6572 6174 6564 5f61 7272 6179 203d 205b  erated_array = [
-00027700: 5d0d 0a66 6f72 2069 2069 6e20 7261 6e67  ]..for i in rang
-00027710: 6528 6c65 6e28 6172 7261 7929 293a 0d0a  e(len(array)):..
-00027720: 2020 2020 666f 7220 6a20 696e 2072 616e      for j in ran
-00027730: 6765 286c 656e 2861 7272 6179 5b69 5d29  ge(len(array[i])
-00027740: 293a 0d0a 2020 2020 2020 2020 656e 756d  ):..        enum
-00027750: 6572 6174 6564 5f61 7272 6179 2e61 7070  erated_array.app
-00027760: 656e 6428 2828 692c 206a 292c 2061 7272  end(((i, j), arr
-00027770: 6179 5b69 5d5b 6a5d 2929 0d0a 6060 600d  ay[i][j]))..```.
-00027780: 0a0d 0a23 2323 2320 6067 726f 7570 736f  ...#### `groupso
-00027790: 6660 0d0a 0d0a 2a2a 6772 6f75 7073 6f66  f`....**groupsof
-000277a0: 2a2a 285f 6e5f 2c20 5f69 7465 7261 626c  **(_n_, _iterabl
-000277b0: 655f 2c20 5f66 696c 6c76 616c 7565 5f3d  e_, _fillvalue_=
-000277c0: 602e 2e2e 6029 0d0a 0d0a 436f 636f 6e75  `...`)....Coconu
-000277d0: 7420 7072 6f76 6964 6573 2074 6865 2060  t provides the `
-000277e0: 6772 6f75 7073 6f66 6020 6275 696c 742d  groupsof` built-
-000277f0: 696e 2074 6f20 7370 6c69 7420 616e 2069  in to split an i
-00027800: 7465 7261 626c 6520 696e 746f 2067 726f  terable into gro
-00027810: 7570 7320 6f66 2061 2073 7065 6369 6669  ups of a specifi
-00027820: 6320 6c65 6e67 7468 2e20 5370 6563 6966  c length. Specif
-00027830: 6963 616c 6c79 2c20 6067 726f 7570 736f  ically, `groupso
-00027840: 6628 6e2c 2069 7465 7261 626c 6529 6020  f(n, iterable)` 
-00027850: 7769 6c6c 2073 706c 6974 2060 6974 6572  will split `iter
-00027860: 6162 6c65 6020 696e 746f 2074 7570 6c65  able` into tuple
-00027870: 7320 6f66 206c 656e 6774 6820 606e 602c  s of length `n`,
-00027880: 2077 6974 6820 6f6e 6c79 2074 6865 206c   with only the l
-00027890: 6173 7420 7475 706c 6520 706f 7465 6e74  ast tuple potent
-000278a0: 6961 6c6c 7920 6f66 2073 697a 6520 603c  ially of size `<
-000278b0: 206e 6020 6966 2074 6865 206c 656e 6774   n` if the lengt
-000278c0: 6820 6f66 2060 6974 6572 6162 6c65 6020  h of `iterable` 
-000278d0: 6973 206e 6f74 2064 6976 6973 6962 6c65  is not divisible
-000278e0: 2062 7920 606e 602e 2049 6620 7468 6174   by `n`. If that
-000278f0: 2069 7320 6e6f 7420 7468 6520 6465 7369   is not the desi
-00027900: 7265 6420 6265 6861 7669 6f72 2c20 5f66  red behavior, _f
-00027910: 696c 6c76 616c 7565 5f20 6361 6e20 6265  illvalue_ can be
-00027920: 2070 6173 7365 6420 616e 6420 7769 6c6c   passed and will
-00027930: 2062 6520 7573 6564 2074 6f20 7061 6420   be used to pad 
-00027940: 7468 6520 656e 6420 6f66 2074 6865 206c  the end of the l
-00027950: 6173 7420 7475 706c 6520 746f 206c 656e  ast tuple to len
-00027960: 6774 6820 606e 602e 0d0a 0d0a 4164 6469  gth `n`.....Addi
-00027970: 7469 6f6e 616c 6c79 2c20 6067 726f 7570  tionally, `group
-00027980: 736f 6660 2073 7570 706f 7274 7320 606c  sof` supports `l
-00027990: 656e 6020 7768 656e 2060 6974 6572 6162  en` when `iterab
-000279a0: 6c65 6020 7375 7070 6f72 7473 2060 6c65  le` supports `le
-000279b0: 6e60 2e0d 0a0d 0a23 2323 2323 2045 7861  n`.....##### Exa
-000279c0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-000279d0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-000279e0: 0d0a 7061 6972 7320 3d20 7261 6e67 6528  ..pairs = range(
-000279f0: 312c 2031 3129 207c 3e20 6772 6f75 7073  1, 11) |> groups
-00027a00: 6f66 2428 3229 0d0a 6060 600d 0a0d 0a2a  of$(2)..```....*
-00027a10: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
-00027a20: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a70  oconut_python..p
-00027a30: 6169 7273 203d 205b 5d0d 0a67 726f 7570  airs = []..group
-00027a40: 203d 205b 5d0d 0a66 6f72 2069 7465 6d20   = []..for item 
-00027a50: 696e 2072 616e 6765 2831 2c20 3131 293a  in range(1, 11):
-00027a60: 0d0a 2020 2020 6772 6f75 702e 6170 7065  ..    group.appe
-00027a70: 6e64 2869 7465 6d29 0d0a 2020 2020 6966  nd(item)..    if
-00027a80: 206c 656e 2867 726f 7570 2920 3d3d 2032   len(group) == 2
-00027a90: 3a0d 0a20 2020 2020 2020 2070 6169 7273  :..        pairs
-00027aa0: 2e61 7070 656e 6428 7475 706c 6528 6772  .append(tuple(gr
-00027ab0: 6f75 7029 290d 0a20 2020 2020 2020 2067  oup))..        g
-00027ac0: 726f 7570 203d 205b 5d0d 0a69 6620 6772  roup = []..if gr
-00027ad0: 6f75 703a 0d0a 2020 2020 7061 6972 732e  oup:..    pairs.
-00027ae0: 6170 7065 6e64 2874 7570 6c65 2867 726f  append(tuple(gro
-00027af0: 7570 2929 0d0a 6060 600d 0a0d 0a23 2323  up))..```....###
-00027b00: 2320 6077 696e 646f 7773 6f66 600d 0a0d  # `windowsof`...
-00027b10: 0a2a 2a77 696e 646f 7773 6f66 2a2a 285f  .**windowsof**(_
-00027b20: 7369 7a65 5f2c 205f 6974 6572 6162 6c65  size_, _iterable
-00027b30: 5f2c 205f 6669 6c6c 7661 6c75 655f 3d60  _, _fillvalue_=`
-00027b40: 2e2e 2e60 2c20 5f73 7465 705f 3d60 3160  ...`, _step_=`1`
-00027b50: 290d 0a0d 0a60 7769 6e64 6f77 736f 6660  )....`windowsof`
-00027b60: 2070 726f 6475 6365 7320 616e 2069 7465   produces an ite
-00027b70: 7261 626c 6520 7468 6174 2065 6666 6563  rable that effec
-00027b80: 7469 7665 6c79 206d 696d 6963 7320 6120  tively mimics a 
-00027b90: 736c 6964 696e 6720 7769 6e64 6f77 206f  sliding window o
-00027ba0: 7665 7220 5f69 7465 7261 626c 655f 206f  ver _iterable_ o
-00027bb0: 6620 7369 7a65 205f 7369 7a65 5f2e 205f  f size _size_. _
-00027bc0: 7374 6570 5f20 6465 7465 726d 696e 6573  step_ determines
-00027bd0: 2074 6865 2073 7061 6369 6e67 2062 6574   the spacing bet
-00027be0: 7765 656e 2077 696e 646f 7773 6f66 2e0d  ween windowsof..
-00027bf0: 0a0d 0a49 6620 5f73 697a 655f 2069 7320  ...If _size_ is 
-00027c00: 6c61 7267 6572 2074 6861 6e20 5f69 7465  larger than _ite
-00027c10: 7261 626c 655f 2c20 6077 696e 646f 7773  rable_, `windows
-00027c20: 6f66 6020 7769 6c6c 2070 726f 6475 6365  of` will produce
-00027c30: 2061 6e20 656d 7074 7920 6974 6572 6162   an empty iterab
-00027c40: 6c65 2e20 4966 2074 6861 7420 6973 206e  le. If that is n
-00027c50: 6f74 2074 6865 2064 6573 6972 6564 2062  ot the desired b
-00027c60: 6568 6176 696f 722c 205f 6669 6c6c 7661  ehavior, _fillva
-00027c70: 6c75 655f 2063 616e 2062 6520 7061 7373  lue_ can be pass
-00027c80: 6564 2061 6e64 2077 696c 6c20 6265 2075  ed and will be u
-00027c90: 7365 6420 696e 2070 6c61 6365 206f 6620  sed in place of 
-00027ca0: 6d69 7373 696e 6720 7661 6c75 6573 2e20  missing values. 
-00027cb0: 416c 736f 2c20 6966 205f 6669 6c6c 7661  Also, if _fillva
-00027cc0: 6c75 655f 2069 7320 7061 7373 6564 2061  lue_ is passed a
-00027cd0: 6e64 2074 6865 206c 656e 6774 6820 6f66  nd the length of
-00027ce0: 2074 6865 205f 6974 6572 6162 6c65 5f20   the _iterable_ 
-00027cf0: 6973 206e 6f74 2064 6976 6973 6962 6c65  is not divisible
-00027d00: 2062 7920 5f73 7465 705f 2c20 5f66 696c   by _step_, _fil
-00027d10: 6c76 616c 7565 5f20 7769 6c6c 2062 6520  lvalue_ will be 
-00027d20: 7573 6564 2069 6e20 7468 6174 2063 6173  used in that cas
-00027d30: 6520 746f 2070 6164 2074 6865 206c 6173  e to pad the las
-00027d40: 7420 7769 6e64 6f77 2061 7320 7765 6c6c  t window as well
-00027d50: 2e20 4e6f 7465 2074 6861 7420 5f66 696c  . Note that _fil
-00027d60: 6c76 616c 7565 5f20 7769 6c6c 206f 6e6c  lvalue_ will onl
-00027d70: 7920 6576 6572 2061 7070 6561 7220 696e  y ever appear in
-00027d80: 2074 6865 206c 6173 7420 7769 6e64 6f77   the last window
-00027d90: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
-00027da0: 792c 2060 7769 6e64 6f77 736f 6660 2073  y, `windowsof` s
-00027db0: 7570 706f 7274 7320 606c 656e 6020 7768  upports `len` wh
-00027dc0: 656e 2060 6974 6572 6162 6c65 6020 7375  en `iterable` su
-00027dd0: 7070 6f72 7473 2060 6c65 6e60 2e0d 0a0d  pports `len`....
-00027de0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-00027df0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-00027e00: 6060 6063 6f63 6f6e 7574 0d0a 6173 7365  ```coconut..asse
-00027e10: 7274 2022 3132 3334 3522 207c 3e20 7769  rt "12345" |> wi
-00027e20: 6e64 6f77 736f 6624 2833 2920 7c3e 206c  ndowsof$(3) |> l
-00027e30: 6973 7420 3d3d 205b 2822 3122 2c20 2232  ist == [("1", "2
-00027e40: 222c 2022 3322 292c 2028 2232 222c 2022  ", "3"), ("2", "
-00027e50: 3322 2c20 2234 2229 2c20 2822 3322 2c20  3", "4"), ("3", 
-00027e60: 2234 222c 2022 3522 295d 0d0a 6060 600d  "4", "5")]..```.
-00027e70: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-00027e80: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
-00027e90: 6974 686f 7574 2074 6865 2064 6566 696e  ithout the defin
-00027ea0: 6974 696f 6e20 6f66 2060 7769 6e64 6f77  ition of `window
-00027eb0: 736f 6660 3b20 7365 6520 7468 6520 636f  sof`; see the co
-00027ec0: 6d70 696c 6564 2068 6561 6465 7220 666f  mpiled header fo
-00027ed0: 7220 7468 6520 6675 6c6c 2064 6566 696e  r the full defin
-00027ee0: 6974 696f 6e2e 5f0d 0a0d 0a23 2323 2320  ition._....#### 
-00027ef0: 6063 6f6c 6c65 6374 6279 600d 0a0d 0a2a  `collectby`....*
-00027f00: 2a63 6f6c 6c65 6374 6279 2a2a 285f 6b65  *collectby**(_ke
-00027f10: 795c 5f66 756e 635f 2c20 5f69 7465 7261  y\_func_, _itera
-00027f20: 626c 655f 2c20 5f76 616c 7565 5c5f 6675  ble_, _value\_fu
-00027f30: 6e63 5f3d 604e 6f6e 6560 2c20 5f72 6564  nc_=`None`, _red
-00027f40: 7563 655c 5f66 756e 635f 3d60 4e6f 6e65  uce\_func_=`None
-00027f50: 6029 0d0a 0d0a 6063 6f6c 6c65 6374 6279  `)....`collectby
-00027f60: 286b 6579 5f66 756e 632c 2069 7465 7261  (key_func, itera
-00027f70: 626c 6529 6020 636f 6c6c 6563 7473 2074  ble)` collects t
-00027f80: 6865 2069 7465 6d73 2069 6e20 6069 7465  he items in `ite
-00027f90: 7261 626c 6560 2069 6e74 6f20 6120 6469  rable` into a di
-00027fa0: 6374 696f 6e61 7279 206f 6620 6c69 7374  ctionary of list
-00027fb0: 7320 6b65 7965 6420 6279 2060 6b65 795f  s keyed by `key_
-00027fc0: 6675 6e63 2869 7465 6d29 602e 0d0a 0d0a  func(item)`.....
-00027fd0: 4966 2060 7661 6c75 655f 6675 6e63 6020  If `value_func` 
-00027fe0: 6973 2070 6173 7365 642c 2060 636f 6c6c  is passed, `coll
-00027ff0: 6563 7462 7928 6b65 795f 6675 6e63 2c20  ectby(key_func, 
-00028000: 6974 6572 6162 6c65 2c20 7661 6c75 655f  iterable, value_
-00028010: 6675 6e63 3d76 616c 7565 5f66 756e 6329  func=value_func)
-00028020: 6020 696e 7374 6561 6420 636f 6c6c 6563  ` instead collec
-00028030: 7473 2076 616c 7565 5f66 756e 6328 6974  ts value_func(it
-00028040: 656d 2920 696e 746f 2065 6163 6820 6c69  em) into each li
-00028050: 7374 2069 6e73 7465 6164 206f 6620 6974  st instead of it
-00028060: 656d 2e0d 0a0d 0a49 6620 6072 6564 7563  em.....If `reduc
-00028070: 655f 6675 6e63 6020 6973 2070 6173 7365  e_func` is passe
-00028080: 642c 2060 636f 6c6c 6563 7462 7928 6b65  d, `collectby(ke
-00028090: 795f 6675 6e63 2c20 6974 6572 6162 6c65  y_func, iterable
-000280a0: 2c20 7265 6475 6365 5f66 756e 633d 7265  , reduce_func=re
-000280b0: 6475 6365 5f66 756e 6329 602c 2069 6e73  duce_func)`, ins
-000280c0: 7465 6164 206f 6620 636f 6c6c 6563 7469  tead of collecti
-000280d0: 6e67 2074 6865 2069 7465 6d73 2069 6e74  ng the items int
-000280e0: 6f20 6c69 7374 732c 2072 6564 7563 6573  o lists, reduces
-000280f0: 206f 7665 7220 7468 6520 6974 656d 7320   over the items 
-00028100: 6f66 2065 6163 6820 6b65 7920 7769 7468  of each key with
-00028110: 2072 6564 7563 655f 6675 6e63 2c20 6566   reduce_func, ef
-00028120: 6665 6374 6976 656c 7920 696d 706c 656d  fectively implem
-00028130: 656e 7469 6e67 2061 204d 6170 5265 6475  enting a MapRedu
-00028140: 6365 206f 7065 7261 7469 6f6e 2e0d 0a0d  ce operation....
-00028150: 0a60 636f 6c6c 6563 7462 7960 2069 7320  .`collectby` is 
-00028160: 6566 6665 6374 6976 656c 7920 6571 7569  effectively equi
-00028170: 7661 6c65 6e74 2074 6f3a 0d0a 6060 6063  valent to:..```c
-00028180: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a66  oconut_python..f
-00028190: 726f 6d20 636f 6c6c 6563 7469 6f6e 7320  rom collections 
-000281a0: 696d 706f 7274 2064 6566 6175 6c74 6469  import defaultdi
-000281b0: 6374 0d0a 0d0a 6465 6620 636f 6c6c 6563  ct....def collec
-000281c0: 7462 7928 6b65 795f 6675 6e63 2c20 6974  tby(key_func, it
-000281d0: 6572 6162 6c65 2c20 7661 6c75 655f 6675  erable, value_fu
-000281e0: 6e63 3d69 6465 6e74 2c20 7265 6475 6365  nc=ident, reduce
-000281f0: 5f66 756e 633d 4e6f 6e65 293a 0d0a 2020  _func=None):..  
-00028200: 2020 636f 6c6c 6563 7469 6f6e 203d 2064    collection = d
-00028210: 6566 6175 6c74 6469 6374 286c 6973 7429  efaultdict(list)
-00028220: 2069 6620 7265 6475 6365 5f66 756e 6320   if reduce_func 
-00028230: 6973 204e 6f6e 6520 656c 7365 207b 7d0d  is None else {}.
-00028240: 0a20 2020 2066 6f72 2069 7465 6d20 696e  .    for item in
-00028250: 2069 7465 7261 626c 653a 0d0a 2020 2020   iterable:..    
-00028260: 2020 2020 6b65 7920 3d20 6b65 795f 6675      key = key_fu
-00028270: 6e63 2869 7465 6d29 0d0a 2020 2020 2020  nc(item)..      
-00028280: 2020 7661 6c75 6520 3d20 7661 6c75 655f    value = value_
-00028290: 6675 6e63 2869 7465 6d29 0d0a 2020 2020  func(item)..    
-000282a0: 2020 2020 6966 2072 6564 7563 655f 6675      if reduce_fu
-000282b0: 6e63 2069 7320 4e6f 6e65 3a0d 0a20 2020  nc is None:..   
-000282c0: 2020 2020 2020 2020 2063 6f6c 6c65 6374           collect
-000282d0: 696f 6e5b 6b65 795d 2e61 7070 656e 6428  ion[key].append(
-000282e0: 7661 6c75 6529 0d0a 2020 2020 2020 2020  value)..        
-000282f0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00028300: 2020 206f 6c64 5f76 616c 7565 203d 2063     old_value = c
-00028310: 6f6c 6c65 6374 696f 6e2e 6765 7428 6b65  ollection.get(ke
-00028320: 792c 2073 656e 7469 6e65 6c29 0d0a 2020  y, sentinel)..  
-00028330: 2020 2020 2020 2020 2020 6966 206f 6c64            if old
-00028340: 5f76 616c 7565 2069 7320 6e6f 7420 7365  _value is not se
-00028350: 6e74 696e 656c 3a0d 0a20 2020 2020 2020  ntinel:..       
-00028360: 2020 2020 2020 2020 2076 616c 7565 203d           value =
-00028370: 2072 6564 7563 655f 6675 6e63 286f 6c64   reduce_func(old
-00028380: 5f76 616c 7565 2c20 7661 6c75 6529 0d0a  _value, value)..
-00028390: 2020 2020 2020 2020 2020 2020 636f 6c6c              coll
-000283a0: 6563 7469 6f6e 5b6b 6579 5d20 3d20 7661  ection[key] = va
-000283b0: 6c75 650d 0a20 2020 2072 6574 7572 6e20  lue..    return 
-000283c0: 636f 6c6c 6563 7469 6f6e 0d0a 6060 600d  collection..```.
-000283d0: 0a0d 0a60 636f 6c6c 6563 7462 7960 2069  ...`collectby` i
-000283e0: 7320 7369 6d69 6c61 7220 746f 205b 6069  s similar to [`i
-000283f0: 7465 7274 6f6f 6c73 2e67 726f 7570 6279  tertools.groupby
-00028400: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
-00028410: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
-00028420: 7261 7279 2f69 7465 7274 6f6f 6c73 2e68  rary/itertools.h
-00028430: 746d 6c23 6974 6572 746f 6f6c 732e 6772  tml#itertools.gr
-00028440: 6f75 7062 7929 2065 7863 6570 7420 7468  oupby) except th
-00028450: 6174 2060 636f 6c6c 6563 7462 7960 2061  at `collectby` a
-00028460: 6767 7265 6761 7465 7320 636f 6d6d 6f6e  ggregates common
-00028470: 2065 6c65 6d65 6e74 7320 7265 6761 7264   elements regard
-00028480: 6c65 7373 206f 6620 7468 6569 7220 6f72  less of their or
-00028490: 6465 7220 696e 2074 6865 2069 6e70 7574  der in the input
-000284a0: 2069 7465 7261 626c 652c 2077 6865 7265   iterable, where
-000284b0: 6173 2060 6772 6f75 7062 7960 206f 6e6c  as `groupby` onl
-000284c0: 7920 6167 6772 6567 6174 6573 2063 6f6d  y aggregates com
-000284d0: 6d6f 6e20 656c 656d 656e 7473 2074 6861  mon elements tha
-000284e0: 7420 6172 6520 6164 6a61 6365 6e74 2069  t are adjacent i
-000284f0: 6e20 7468 6520 696e 7075 7420 6974 6572  n the input iter
-00028500: 6162 6c65 2e0d 0a0d 0a23 2323 2323 2045  able.....##### E
-00028510: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-00028520: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-00028530: 7574 0d0a 7573 6572 5f62 616c 616e 6365  ut..user_balance
-00028540: 7320 3d20 280d 0a20 2020 2062 616c 616e  s = (..    balan
-00028550: 6365 5f64 6174 610d 0a20 2020 207c 3e20  ce_data..    |> 
-00028560: 636f 6c6c 6563 7462 7924 282e 7573 6572  collectby$(.user
-00028570: 2c20 7661 6c75 655f 6675 6e63 3d2e 6261  , value_func=.ba
-00028580: 6c61 6e63 652c 2072 6564 7563 655f 6675  lance, reduce_fu
-00028590: 6e63 3d28 2b29 290d 0a29 0d0a 6060 600d  nc=(+))..)..```.
-000285a0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-000285b0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-000285c0: 6e0d 0a66 726f 6d20 636f 6c6c 6563 7469  n..from collecti
-000285d0: 6f6e 7320 696d 706f 7274 2064 6566 6175  ons import defau
-000285e0: 6c74 6469 6374 0d0a 0d0a 7573 6572 5f62  ltdict....user_b
-000285f0: 616c 616e 6365 7320 3d20 6465 6661 756c  alances = defaul
-00028600: 7464 6963 7428 696e 7429 0d0a 666f 7220  tdict(int)..for 
-00028610: 6974 656d 2069 6e20 6261 6c61 6e63 655f  item in balance_
-00028620: 6461 7461 3a0d 0a20 2020 2075 7365 725f  data:..    user_
-00028630: 6261 6c61 6e63 6573 5b69 7465 6d2e 7573  balances[item.us
-00028640: 6572 5d20 2b3d 2069 7465 6d2e 6261 6c61  er] += item.bala
-00028650: 6e63 650d 0a60 6060 0d0a 0d0a 2323 2323  nce..```....####
-00028660: 2060 616c 6c5f 6571 7561 6c60 0d0a 0d0a   `all_equal`....
-00028670: 2a2a 616c 6c5c 5f65 7175 616c 2a2a 285f  **all\_equal**(_
-00028680: 6974 6572 6162 6c65 5f29 0d0a 0d0a 436f  iterable_)....Co
-00028690: 636f 6e75 7427 7320 6061 6c6c 5f65 7175  conut's `all_equ
-000286a0: 616c 6020 6275 696c 742d 696e 2074 616b  al` built-in tak
-000286b0: 6573 2069 6e20 616e 2069 7465 7261 626c  es in an iterabl
-000286c0: 6520 616e 6420 6465 7465 726d 696e 6573  e and determines
-000286d0: 2077 6865 7468 6572 2061 6c6c 206f 6620   whether all of 
-000286e0: 6974 7320 656c 656d 656e 7473 2061 7265  its elements are
-000286f0: 2065 7175 616c 2074 6f20 6561 6368 206f   equal to each o
-00028700: 7468 6572 2e20 6061 6c6c 5f65 7175 616c  ther. `all_equal
-00028710: 6020 6173 7375 6d65 7320 7472 616e 7369  ` assumes transi
-00028720: 7469 7669 7479 206f 6620 6571 7561 6c69  tivity of equali
-00028730: 7479 2061 6e64 2074 6861 7420 6021 3d60  ty and that `!=`
-00028740: 2069 7320 7468 6520 6e65 6761 7469 6f6e   is the negation
-00028750: 206f 6620 603d 3d60 2e20 5370 6563 6961   of `==`. Specia
-00028760: 6c20 7375 7070 6f72 7420 6973 2070 726f  l support is pro
-00028770: 7669 6465 6420 666f 7220 5b60 6e75 6d70  vided for [`nump
-00028780: 7960 5d28 236e 756d 7079 2d69 6e74 6567  y`](#numpy-integ
-00028790: 7261 7469 6f6e 2920 6f62 6a65 6374 732e  ration) objects.
-000287a0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-000287b0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-000287c0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a61  *..```coconut..a
-000287d0: 6c6c 5f65 7175 616c 285b 312c 2031 2c20  ll_equal([1, 1, 
-000287e0: 315d 290d 0a61 6c6c 5f65 7175 616c 285b  1])..all_equal([
-000287f0: 312c 2031 2c20 325d 290d 0a60 6060 0d0a  1, 1, 2])..```..
-00028800: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00028810: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00028820: 0d0a 7365 6e74 696e 656c 203d 206f 626a  ..sentinel = obj
-00028830: 6563 7428 290d 0a64 6566 2061 6c6c 5f65  ect()..def all_e
-00028840: 7175 616c 2869 7465 7261 626c 6529 3a0d  qual(iterable):.
-00028850: 0a20 2020 2066 6972 7374 5f69 7465 6d20  .    first_item 
-00028860: 3d20 7365 6e74 696e 656c 0d0a 2020 2020  = sentinel..    
-00028870: 666f 7220 6974 656d 2069 6e20 6974 6572  for item in iter
-00028880: 6162 6c65 3a0d 0a20 2020 2020 2020 2069  able:..        i
-00028890: 6620 6669 7273 745f 6974 656d 2069 7320  f first_item is 
-000288a0: 7365 6e74 696e 656c 3a0d 0a20 2020 2020  sentinel:..     
-000288b0: 2020 2020 2020 2066 6972 7374 5f69 7465         first_ite
-000288c0: 6d20 3d20 6974 656d 0d0a 2020 2020 2020  m = item..      
-000288d0: 2020 656c 6966 2066 6972 7374 5f69 7465    elif first_ite
-000288e0: 6d20 213d 2069 7465 6d3a 0d0a 2020 2020  m != item:..    
-000288f0: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-00028900: 616c 7365 0d0a 2020 2020 7265 7475 726e  alse..    return
-00028910: 2054 7275 650d 0a61 6c6c 5f65 7175 616c   True..all_equal
-00028920: 285b 312c 2031 2c20 315d 290d 0a61 6c6c  ([1, 1, 1])..all
-00028930: 5f65 7175 616c 285b 312c 2031 2c20 325d  _equal([1, 1, 2]
-00028940: 290d 0a60 6060 0d0a 0d0a 2323 2323 2060  )..```....#### `
-00028950: 7061 7261 6c6c 656c 5f6d 6170 600d 0a0d  parallel_map`...
-00028960: 0a2a 2a70 6172 616c 6c65 6c5c 5f6d 6170  .**parallel\_map
-00028970: 2a2a 285f 6675 6e63 7469 6f6e 5f2c 202a  **(_function_, *
-00028980: 5f69 7465 7261 626c 6573 5f2c 202a 2c20  _iterables_, *, 
-00028990: 5f63 6875 6e6b 7369 7a65 5f3d 6031 602c  _chunksize_=`1`,
-000289a0: 205f 7374 7269 6374 5f3d 6046 616c 7365   _strict_=`False
-000289b0: 6029 0d0a 0d0a 436f 636f 6e75 7420 7072  `)....Coconut pr
-000289c0: 6f76 6964 6573 2061 2070 6172 616c 6c65  ovides a paralle
-000289d0: 6c20 7665 7273 696f 6e20 6f66 2060 6d61  l version of `ma
-000289e0: 7060 2075 6e64 6572 2074 6865 206e 616d  p` under the nam
-000289f0: 6520 6070 6172 616c 6c65 6c5f 6d61 7060  e `parallel_map`
-00028a00: 2e20 6070 6172 616c 6c65 6c5f 6d61 7060  . `parallel_map`
-00028a10: 206d 616b 6573 2075 7365 206f 6620 6d75   makes use of mu
-00028a20: 6c74 6970 6c65 2070 726f 6365 7373 6573  ltiple processes
-00028a30: 2c20 616e 6420 6973 2074 6865 7265 666f  , and is therefo
-00028a40: 7265 206d 7563 6820 6661 7374 6572 2074  re much faster t
-00028a50: 6861 6e20 606d 6170 6020 666f 7220 4350  han `map` for CP
-00028a60: 552d 626f 756e 6420 7461 736b 732e 2060  U-bound tasks. `
-00028a70: 7061 7261 6c6c 656c 5f6d 6170 6020 6e65  parallel_map` ne
-00028a80: 7665 7220 6c6f 6164 7320 7468 6520 656e  ver loads the en
-00028a90: 7469 7265 2069 6e70 7574 2069 7465 7261  tire input itera
-00028aa0: 746f 7220 696e 746f 206d 656d 6f72 792c  tor into memory,
-00028ab0: 2074 686f 7567 6820 6974 2064 6f65 7320   though it does 
-00028ac0: 636f 6e73 756d 6520 7468 6520 656e 7469  consume the enti
-00028ad0: 7265 2069 6e70 7574 2069 7465 7261 746f  re input iterato
-00028ae0: 7220 6173 2073 6f6f 6e20 6173 2061 2073  r as soon as a s
-00028af0: 696e 676c 6520 6f75 7470 7574 2069 7320  ingle output is 
-00028b00: 7265 7175 6573 7465 642e 2049 6620 616e  requested. If an
-00028b10: 7920 6578 6365 7074 696f 6e73 2061 7265  y exceptions are
-00028b20: 2072 6169 7365 6420 696e 7369 6465 206f   raised inside o
-00028b30: 6620 6070 6172 616c 6c65 6c5f 6d61 7060  f `parallel_map`
-00028b40: 2c20 6120 7472 6163 6562 6163 6b20 7769  , a traceback wi
-00028b50: 6c6c 2062 6520 7072 696e 7465 6420 6173  ll be printed as
-00028b60: 2073 6f6f 6e20 6173 2074 6865 7920 6172   soon as they ar
-00028b70: 6520 656e 636f 756e 7465 7265 642e 0d0a  e encountered...
-00028b80: 0d0a 4265 6361 7573 6520 6070 6172 616c  ..Because `paral
-00028b90: 6c65 6c5f 6d61 7060 2075 7365 7320 6d75  lel_map` uses mu
-00028ba0: 6c74 6970 6c65 2070 726f 6365 7373 6573  ltiple processes
-00028bb0: 2066 6f72 2069 7473 2065 7865 6375 7469   for its executi
-00028bc0: 6f6e 2c20 6974 2069 7320 6e65 6365 7373  on, it is necess
-00028bd0: 6172 7920 7468 6174 2061 6c6c 206f 6620  ary that all of 
-00028be0: 6974 7320 6172 6775 6d65 6e74 7320 6265  its arguments be
-00028bf0: 2070 6963 6b6c 6561 626c 652e 204f 6e6c   pickleable. Onl
-00028c00: 7920 6f62 6a65 6374 7320 6465 6669 6e65  y objects define
-00028c10: 6420 6174 2074 6865 206d 6f64 756c 6520  d at the module 
-00028c20: 6c65 7665 6c2c 2061 6e64 206e 6f74 206c  level, and not l
-00028c30: 616d 6264 6173 2c20 6f62 6a65 6374 7320  ambdas, objects 
-00028c40: 6465 6669 6e65 6420 696e 7369 6465 206f  defined inside o
-00028c50: 6620 6120 6675 6e63 7469 6f6e 2c20 6f72  f a function, or
-00028c60: 206f 626a 6563 7473 2064 6566 696e 6564   objects defined
-00028c70: 2069 6e73 6964 6520 6f66 2074 6865 2069   inside of the i
-00028c80: 6e74 6572 7072 6574 6572 2c20 6172 6520  nterpreter, are 
-00028c90: 7069 636b 6c65 6162 6c65 2e20 4675 7274  pickleable. Furt
-00028ca0: 6865 726d 6f72 652c 206f 6e20 5769 6e64  hermore, on Wind
-00028cb0: 6f77 732c 2069 7420 6973 206e 6563 6573  ows, it is neces
-00028cc0: 7361 7279 2074 6861 7420 616c 6c20 6361  sary that all ca
-00028cd0: 6c6c 7320 746f 2060 7061 7261 6c6c 656c  lls to `parallel
-00028ce0: 5f6d 6170 6020 6f63 6375 7220 696e 7369  _map` occur insi
-00028cf0: 6465 206f 6620 616e 2060 6966 205f 5f6e  de of an `if __n
-00028d00: 616d 655f 5f20 3d3d 2022 5f5f 6d61 696e  ame__ == "__main
-00028d10: 5f5f 2260 2067 7561 7264 2e0d 0a0d 0a60  __"` guard.....`
-00028d20: 7061 7261 6c6c 656c 5f6d 6170 6020 7375  parallel_map` su
-00028d30: 7070 6f72 7473 2061 2060 6368 756e 6b73  pports a `chunks
-00028d40: 697a 6560 2061 7267 756d 656e 742c 2077  ize` argument, w
-00028d50: 6869 6368 2064 6574 6572 6d69 6e65 7320  hich determines 
-00028d60: 686f 7720 6d61 6e79 2069 7465 6d73 2061  how many items a
-00028d70: 7265 2070 6173 7365 6420 746f 2065 6163  re passed to eac
-00028d80: 6820 7072 6f63 6573 7320 6174 2061 2074  h process at a t
-00028d90: 696d 652e 204c 6172 6765 7220 7661 6c75  ime. Larger valu
-00028da0: 6573 206f 6620 5f63 6875 6e6b 7369 7a65  es of _chunksize
-00028db0: 5f20 6172 6520 7265 636f 6d6d 656e 6465  _ are recommende
-00028dc0: 6420 7768 656e 2064 6561 6c69 6e67 2077  d when dealing w
-00028dd0: 6974 6820 7665 7279 206c 6f6e 6720 6974  ith very long it
-00028de0: 6572 6162 6c65 732e 2041 6464 6974 696f  erables. Additio
-00028df0: 6e61 6c6c 792c 2069 6e20 7468 6520 6d75  nally, in the mu
-00028e00: 6c74 692d 6974 6572 6162 6c65 2063 6173  lti-iterable cas
-00028e10: 652c 205f 7374 7269 6374 5f20 6361 6e20  e, _strict_ can 
-00028e20: 6265 2073 6574 2074 6f20 6054 7275 6560  be set to `True`
-00028e30: 2074 6f20 656e 7375 7265 2074 6861 7420   to ensure that 
-00028e40: 616c 6c20 6974 6572 6162 6c65 7320 6172  all iterables ar
-00028e50: 6520 7468 6520 7361 6d65 206c 656e 6774  e the same lengt
-00028e60: 682e 0d0a 0d0a 4966 206d 756c 7469 706c  h.....If multipl
-00028e70: 6520 7365 7175 656e 7469 616c 2063 616c  e sequential cal
-00028e80: 6c73 2074 6f20 6070 6172 616c 6c65 6c5f  ls to `parallel_
-00028e90: 6d61 7060 206e 6565 6420 746f 2062 6520  map` need to be 
-00028ea0: 6d61 6465 2c20 6974 2069 7320 6869 6768  made, it is high
-00028eb0: 6c79 2072 6563 6f6d 6d65 6e64 6564 2074  ly recommended t
-00028ec0: 6861 7420 7468 6579 2062 6520 646f 6e65  hat they be done
-00028ed0: 2069 6e73 6964 6520 6f66 2061 2060 7769   inside of a `wi
-00028ee0: 7468 2070 6172 616c 6c65 6c5f 6d61 702e  th parallel_map.
-00028ef0: 6d75 6c74 6970 6c65 5f73 6571 7565 6e74  multiple_sequent
-00028f00: 6961 6c5f 6361 6c6c 7328 293a 6020 626c  ial_calls():` bl
-00028f10: 6f63 6b2c 2077 6869 6368 2077 696c 6c20  ock, which will 
-00028f20: 6361 7573 6520 7468 6520 6469 6666 6572  cause the differ
-00028f30: 656e 7420 6361 6c6c 7320 746f 2075 7365  ent calls to use
-00028f40: 2074 6865 2073 616d 6520 7072 6f63 6573   the same proces
-00028f50: 7320 706f 6f6c 2061 6e64 2072 6573 756c  s pool and resul
-00028f60: 7420 696e 2060 7061 7261 6c6c 656c 5f6d  t in `parallel_m
-00028f70: 6170 6020 696d 6d65 6469 6174 656c 7920  ap` immediately 
-00028f80: 7265 7475 726e 696e 6720 6120 6c69 7374  returning a list
-00028f90: 2072 6174 6865 7220 7468 616e 2061 2060   rather than a `
-00028fa0: 7061 7261 6c6c 656c 5f6d 6170 6020 6f62  parallel_map` ob
-00028fb0: 6a65 6374 2e20 4966 206d 756c 7469 706c  ject. If multipl
-00028fc0: 6520 7365 7175 656e 7469 616c 2063 616c  e sequential cal
-00028fd0: 6c73 2061 7265 206e 6563 6573 7361 7279  ls are necessary
-00028fe0: 2061 6e64 2074 6865 206c 617a 696e 6573   and the lazines
-00028ff0: 7320 6f66 2070 6172 616c 6c65 6c5f 6d61  s of parallel_ma
-00029000: 7020 6973 2072 6571 7569 7265 642c 2074  p is required, t
-00029010: 6865 6e20 7468 6520 6070 6172 616c 6c65  hen the `paralle
-00029020: 6c5f 6d61 7060 206f 626a 6563 7473 2073  l_map` objects s
-00029030: 686f 756c 6420 6265 2063 6f6e 7374 7275  hould be constru
-00029040: 6374 6564 2062 6566 6f72 6520 7468 6520  cted before the 
-00029050: 606d 756c 7469 706c 655f 7365 7175 656e  `multiple_sequen
-00029060: 7469 616c 5f63 616c 6c73 6020 626c 6f63  tial_calls` bloc
-00029070: 6b20 616e 6420 7468 656e 206f 6e6c 7920  k and then only 
-00029080: 6974 6572 6174 6564 206f 7665 7220 6f6e  iterated over on
-00029090: 6365 2069 6e73 6964 6520 7468 6520 626c  ce inside the bl
-000290a0: 6f63 6b2e 0d0a 0d0a 6070 6172 616c 6c65  ock.....`paralle
-000290b0: 6c5f 6d61 702e 6d75 6c74 6970 6c65 5f73  l_map.multiple_s
-000290c0: 6571 7565 6e74 6961 6c5f 6361 6c6c 7360  equential_calls`
-000290d0: 2061 6c73 6f20 7375 7070 6f72 7473 2061   also supports a
-000290e0: 2060 6d61 785f 776f 726b 6572 7360 2061   `max_workers` a
-000290f0: 7267 756d 656e 7420 746f 2073 6574 2074  rgument to set t
-00029100: 6865 206e 756d 6265 7220 6f66 2070 726f  he number of pro
-00029110: 6365 7373 6573 2e0d 0a0d 0a23 2323 2323  cesses.....#####
-00029120: 2050 7974 686f 6e20 446f 6373 0d0a 0d0a   Python Docs....
-00029130: 2a2a 7061 7261 6c6c 656c 5f6d 6170 2a2a  **parallel_map**
-00029140: 285f 6675 6e63 2c20 5c2a 6974 6572 6162  (_func, \*iterab
-00029150: 6c65 735f 2c20 5f63 6875 6e6b 7369 7a65  les_, _chunksize
-00029160: 5f3d 6031 6029 0d0a 0d0a 4571 7569 7661  _=`1`)....Equiva
-00029170: 6c65 6e74 2074 6f20 606d 6170 2866 756e  lent to `map(fun
-00029180: 632c 202a 6974 6572 6162 6c65 7329 6020  c, *iterables)` 
-00029190: 6578 6365 7074 205f 6675 6e63 5f20 6973  except _func_ is
-000291a0: 2065 7865 6375 7465 6420 6173 796e 6368   executed asynch
-000291b0: 726f 6e6f 7573 6c79 2061 6e64 2073 6576  ronously and sev
-000291c0: 6572 616c 2063 616c 6c73 2074 6f20 5f66  eral calls to _f
-000291d0: 756e 635f 206d 6179 2062 6520 6d61 6465  unc_ may be made
-000291e0: 2063 6f6e 6375 7272 656e 746c 792e 2049   concurrently. I
-000291f0: 6620 6120 6361 6c6c 2072 6169 7365 7320  f a call raises 
-00029200: 616e 2065 7863 6570 7469 6f6e 2c20 7468  an exception, th
-00029210: 656e 2074 6861 7420 6578 6365 7074 696f  en that exceptio
-00029220: 6e20 7769 6c6c 2062 6520 7261 6973 6564  n will be raised
-00029230: 2077 6865 6e20 6974 7320 7661 6c75 6520   when its value 
-00029240: 6973 2072 6574 7269 6576 6564 2066 726f  is retrieved fro
-00029250: 6d20 7468 6520 6974 6572 6174 6f72 2e0d  m the iterator..
-00029260: 0a0d 0a60 7061 7261 6c6c 656c 5f6d 6170  ...`parallel_map
-00029270: 6020 6368 6f70 7320 7468 6520 6974 6572  ` chops the iter
-00029280: 6162 6c65 2069 6e74 6f20 6120 6e75 6d62  able into a numb
-00029290: 6572 206f 6620 6368 756e 6b73 2077 6869  er of chunks whi
-000292a0: 6368 2069 7420 7375 626d 6974 7320 746f  ch it submits to
-000292b0: 2074 6865 2070 726f 6365 7373 2070 6f6f   the process poo
-000292c0: 6c20 6173 2073 6570 6172 6174 6520 7461  l as separate ta
-000292d0: 736b 732e 2054 6865 2028 6170 7072 6f78  sks. The (approx
-000292e0: 696d 6174 6529 2073 697a 6520 6f66 2074  imate) size of t
-000292f0: 6865 7365 2063 6875 6e6b 7320 6361 6e20  hese chunks can 
-00029300: 6265 2073 7065 6369 6669 6564 2062 7920  be specified by 
-00029310: 7365 7474 696e 6720 5f63 6875 6e6b 7369  setting _chunksi
-00029320: 7a65 5f20 746f 2061 2070 6f73 6974 6976  ze_ to a positiv
-00029330: 6520 696e 7465 6765 722e 2046 6f72 2076  e integer. For v
-00029340: 6572 7920 6c6f 6e67 2069 7465 7261 626c  ery long iterabl
-00029350: 6573 2075 7369 6e67 2061 206c 6172 6765  es using a large
-00029360: 2076 616c 7565 2066 6f72 205f 6368 756e   value for _chun
-00029370: 6b73 697a 655f 2063 616e 206d 616b 6520  ksize_ can make 
-00029380: 7468 6520 6a6f 6220 636f 6d70 6c65 7465  the job complete
-00029390: 202a 2a6d 7563 682a 2a20 6661 7374 6572   **much** faster
-000293a0: 2074 6861 6e20 7573 696e 6720 7468 6520   than using the 
-000293b0: 6465 6661 756c 7420 7661 6c75 6520 6f66  default value of
-000293c0: 2060 3160 2e0d 0a0d 0a23 2323 2323 2045   `1`.....##### E
-000293d0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-000293e0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-000293f0: 7574 0d0a 7061 7261 6c6c 656c 5f6d 6170  ut..parallel_map
-00029400: 2870 6f77 2428 3229 2c20 7261 6e67 6528  (pow$(2), range(
-00029410: 3130 3029 2920 7c3e 206c 6973 7420 7c3e  100)) |> list |>
-00029420: 2070 7269 6e74 0d0a 6060 600d 0a0d 0a2a   print..```....*
-00029430: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
-00029440: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a69  oconut_python..i
-00029450: 6d70 6f72 7420 6675 6e63 746f 6f6c 730d  mport functools.
-00029460: 0a66 726f 6d20 6d75 6c74 6970 726f 6365  .from multiproce
-00029470: 7373 696e 6720 696d 706f 7274 2050 6f6f  ssing import Poo
-00029480: 6c0d 0a77 6974 6820 506f 6f6c 2829 2061  l..with Pool() a
-00029490: 7320 706f 6f6c 3a0d 0a20 2020 2070 7269  s pool:..    pri
-000294a0: 6e74 286c 6973 7428 706f 6f6c 2e69 6d61  nt(list(pool.ima
-000294b0: 7028 6675 6e63 746f 6f6c 732e 7061 7274  p(functools.part
-000294c0: 6961 6c28 706f 772c 2032 292c 2072 616e  ial(pow, 2), ran
-000294d0: 6765 2831 3030 2929 2929 0d0a 6060 600d  ge(100))))..```.
-000294e0: 0a0d 0a23 2323 2320 6063 6f6e 6375 7272  ...#### `concurr
-000294f0: 656e 745f 6d61 7060 0d0a 0d0a 2a2a 636f  ent_map`....**co
-00029500: 6e63 7572 7265 6e74 5c5f 6d61 702a 2a28  ncurrent\_map**(
-00029510: 5f66 756e 6374 696f 6e5f 2c20 2a5f 6974  _function_, *_it
-00029520: 6572 6162 6c65 735f 2c20 2a2c 205f 6368  erables_, *, _ch
-00029530: 756e 6b73 697a 655f 3d60 3160 2c20 5f73  unksize_=`1`, _s
-00029540: 7472 6963 745f 3d60 4661 6c73 6560 290d  trict_=`False`).
-00029550: 0a0d 0a43 6f63 6f6e 7574 2070 726f 7669  ...Coconut provi
-00029560: 6465 7320 6120 636f 6e63 7572 7265 6e74  des a concurrent
-00029570: 2076 6572 7369 6f6e 206f 6620 5b60 7061   version of [`pa
-00029580: 7261 6c6c 656c 5f6d 6170 605d 2823 7061  rallel_map`](#pa
-00029590: 7261 6c6c 656c 5f6d 6170 2920 756e 6465  rallel_map) unde
-000295a0: 7220 7468 6520 6e61 6d65 2060 636f 6e63  r the name `conc
-000295b0: 7572 7265 6e74 5f6d 6170 602e 2060 636f  urrent_map`. `co
-000295c0: 6e63 7572 7265 6e74 5f6d 6170 6020 6265  ncurrent_map` be
-000295d0: 6861 7665 7320 6964 656e 7469 6361 6c6c  haves identicall
-000295e0: 7920 746f 2060 7061 7261 6c6c 656c 5f6d  y to `parallel_m
-000295f0: 6170 6020 2869 6e63 6c75 6469 6e67 2073  ap` (including s
-00029600: 7570 706f 7274 2066 6f72 2060 636f 6e63  upport for `conc
-00029610: 7572 7265 6e74 5f6d 6170 2e6d 756c 7469  urrent_map.multi
-00029620: 706c 655f 7365 7175 656e 7469 616c 5f63  ple_sequential_c
-00029630: 616c 6c73 6029 2065 7863 6570 7420 7468  alls`) except th
-00029640: 6174 2069 7420 7573 6573 206d 756c 7469  at it uses multi
-00029650: 7468 7265 6164 696e 6720 696e 7374 6561  threading instea
-00029660: 6420 6f66 206d 756c 7469 7072 6f63 6573  d of multiproces
-00029670: 7369 6e67 2c20 616e 6420 6973 2074 6865  sing, and is the
-00029680: 7265 666f 7265 2070 7269 6d61 7269 6c79  refore primarily
-00029690: 2075 7365 6675 6c20 6f6e 6c79 2066 6f72   useful only for
-000296a0: 2049 4f2d 626f 756e 6420 7461 736b 7320   IO-bound tasks 
-000296b0: 6475 6520 746f 2043 5079 7468 6f6e 2773  due to CPython's
-000296c0: 2047 6c6f 6261 6c20 496e 7465 7270 7265   Global Interpre
-000296d0: 7465 7220 4c6f 636b 2e0d 0a0d 0a23 2323  ter Lock.....###
-000296e0: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-000296f0: 0d0a 2a2a 636f 6e63 7572 7265 6e74 5f6d  ..**concurrent_m
-00029700: 6170 2a2a 285f 6675 6e63 2c20 5c2a 6974  ap**(_func, \*it
-00029710: 6572 6162 6c65 735f 2c20 5f63 6875 6e6b  erables_, _chunk
-00029720: 7369 7a65 5f3d 6031 6029 0d0a 0d0a 4571  size_=`1`)....Eq
-00029730: 7569 7661 6c65 6e74 2074 6f20 606d 6170  uivalent to `map
-00029740: 2866 756e 632c 202a 6974 6572 6162 6c65  (func, *iterable
-00029750: 7329 6020 6578 6365 7074 205f 6675 6e63  s)` except _func
-00029760: 5f20 6973 2065 7865 6375 7465 6420 6173  _ is executed as
-00029770: 796e 6368 726f 6e6f 7573 6c79 2061 6e64  ynchronously and
-00029780: 2073 6576 6572 616c 2063 616c 6c73 2074   several calls t
-00029790: 6f20 5f66 756e 635f 206d 6179 2062 6520  o _func_ may be 
-000297a0: 6d61 6465 2063 6f6e 6375 7272 656e 746c  made concurrentl
-000297b0: 792e 2049 6620 6120 6361 6c6c 2072 6169  y. If a call rai
-000297c0: 7365 7320 616e 2065 7863 6570 7469 6f6e  ses an exception
-000297d0: 2c20 7468 656e 2074 6861 7420 6578 6365  , then that exce
-000297e0: 7074 696f 6e20 7769 6c6c 2062 6520 7261  ption will be ra
-000297f0: 6973 6564 2077 6865 6e20 6974 7320 7661  ised when its va
-00029800: 6c75 6520 6973 2072 6574 7269 6576 6564  lue is retrieved
-00029810: 2066 726f 6d20 7468 6520 6974 6572 6174   from the iterat
-00029820: 6f72 2e0d 0a0d 0a60 636f 6e63 7572 7265  or.....`concurre
-00029830: 6e74 5f6d 6170 6020 6368 6f70 7320 7468  nt_map` chops th
-00029840: 6520 6974 6572 6162 6c65 2069 6e74 6f20  e iterable into 
-00029850: 6120 6e75 6d62 6572 206f 6620 6368 756e  a number of chun
-00029860: 6b73 2077 6869 6368 2069 7420 7375 626d  ks which it subm
-00029870: 6974 7320 746f 2074 6865 2074 6872 6561  its to the threa
-00029880: 6420 706f 6f6c 2061 7320 7365 7061 7261  d pool as separa
-00029890: 7465 2074 6173 6b73 2e20 5468 6520 2861  te tasks. The (a
-000298a0: 7070 726f 7869 6d61 7465 2920 7369 7a65  pproximate) size
-000298b0: 206f 6620 7468 6573 6520 6368 756e 6b73   of these chunks
-000298c0: 2063 616e 2062 6520 7370 6563 6966 6965   can be specifie
-000298d0: 6420 6279 2073 6574 7469 6e67 205f 6368  d by setting _ch
-000298e0: 756e 6b73 697a 655f 2074 6f20 6120 706f  unksize_ to a po
-000298f0: 7369 7469 7665 2069 6e74 6567 6572 2e20  sitive integer. 
-00029900: 466f 7220 7665 7279 206c 6f6e 6720 6974  For very long it
-00029910: 6572 6162 6c65 7320 7573 696e 6720 6120  erables using a 
-00029920: 6c61 7267 6520 7661 6c75 6520 666f 7220  large value for 
-00029930: 5f63 6875 6e6b 7369 7a65 5f20 6361 6e20  _chunksize_ can 
-00029940: 6d61 6b65 2074 6865 206a 6f62 2063 6f6d  make the job com
-00029950: 706c 6574 6520 2a2a 6d75 6368 2a2a 2066  plete **much** f
-00029960: 6173 7465 7220 7468 616e 2075 7369 6e67  aster than using
-00029970: 2074 6865 2064 6566 6175 6c74 2076 616c   the default val
-00029980: 7565 206f 6620 6031 602e 0d0a 0d0a 2323  ue of `1`.....##
-00029990: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-000299a0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-000299b0: 636f 636f 6e75 740d 0a63 6f6e 6375 7272  coconut..concurr
-000299c0: 656e 745f 6d61 7028 6765 745f 6461 7461  ent_map(get_data
-000299d0: 5f66 6f72 5f75 7365 722c 2067 6574 5f61  _for_user, get_a
-000299e0: 6c6c 5f75 7365 7273 2829 2920 7c3e 206c  ll_users()) |> l
-000299f0: 6973 7420 7c3e 2070 7269 6e74 0d0a 6060  ist |> print..``
-00029a00: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-00029a10: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-00029a20: 686f 6e0d 0a69 6d70 6f72 7420 6675 6e63  hon..import func
-00029a30: 746f 6f6c 730d 0a69 6d70 6f72 7420 636f  tools..import co
-00029a40: 6e63 7572 7265 6e74 2e66 7574 7572 6573  ncurrent.futures
-00029a50: 0d0a 7769 7468 2063 6f6e 6375 7272 656e  ..with concurren
-00029a60: 742e 6675 7475 7265 732e 5468 7265 6164  t.futures.Thread
-00029a70: 506f 6f6c 4578 6563 7574 6f72 2829 2061  PoolExecutor() a
-00029a80: 7320 6578 6563 7574 6f72 3a0d 0a20 2020  s executor:..   
-00029a90: 2070 7269 6e74 286c 6973 7428 6578 6563   print(list(exec
-00029aa0: 7574 6f72 2e6d 6170 2867 6574 5f64 6174  utor.map(get_dat
-00029ab0: 615f 666f 725f 7573 6572 2c20 6765 745f  a_for_user, get_
-00029ac0: 616c 6c5f 7573 6572 7328 2929 2929 0d0a  all_users())))..
-00029ad0: 6060 600d 0a0d 0a23 2323 2320 6074 6565  ```....#### `tee
-00029ae0: 600d 0a0d 0a2a 2a74 6565 2a2a 285f 6974  `....**tee**(_it
-00029af0: 6572 6162 6c65 5f2c 205f 6e5f 3d60 3260  erable_, _n_=`2`
-00029b00: 290d 0a0d 0a43 6f63 6f6e 7574 2070 726f  )....Coconut pro
-00029b10: 7669 6465 7320 616e 206f 7074 696d 697a  vides an optimiz
-00029b20: 6564 2076 6572 7369 6f6e 206f 6620 6069  ed version of `i
-00029b30: 7465 7274 6f6f 6c73 2e74 6565 6020 6173  tertools.tee` as
-00029b40: 2061 2062 7569 6c74 2d69 6e20 756e 6465   a built-in unde
-00029b50: 7220 7468 6520 6e61 6d65 2060 7465 6560  r the name `tee`
-00029b60: 2e0d 0a0d 0a54 686f 7567 6820 6074 6565  .....Though `tee
-00029b70: 6020 6973 206e 6f74 2064 6570 7265 6361  ` is not depreca
-00029b80: 7465 642c 205b 6072 6569 7465 7261 626c  ted, [`reiterabl
-00029b90: 6560 5d28 2372 6569 7465 7261 626c 6529  e`](#reiterable)
-00029ba0: 2069 7320 6765 6e65 7261 6c6c 7920 7265   is generally re
-00029bb0: 636f 6d6d 656e 6465 6420 6f76 6572 2060  commended over `
-00029bc0: 7465 6560 2e0d 0a0d 0a43 7573 746f 6d20  tee`.....Custom 
-00029bd0: 6074 6565 602f 6072 6569 7465 7261 626c  `tee`/`reiterabl
-00029be0: 6560 2069 6d70 6c65 6d65 6e74 6174 696f  e` implementatio
-00029bf0: 6e73 2066 6f72 2063 7573 746f 6d20 5b43  ns for custom [C
-00029c00: 6f6e 7461 696e 6572 732f 436f 6c6c 6563  ontainers/Collec
-00029c10: 7469 6f6e 735d 2868 7474 7073 3a2f 2f64  tions](https://d
-00029c20: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-00029c30: 2f6c 6962 7261 7279 2f63 6f6c 6c65 6374  /library/collect
-00029c40: 696f 6e73 2e61 6263 2e68 746d 6c29 2073  ions.abc.html) s
-00029c50: 686f 756c 6420 6265 2070 7574 2069 6e20  hould be put in 
-00029c60: 7468 6520 605f 5f63 6f70 795f 5f60 206d  the `__copy__` m
-00029c70: 6574 686f 642e 204e 6f74 6520 7468 6174  ethod. Note that
-00029c80: 2061 6c6c 205b 5365 7175 656e 6365 732f   all [Sequences/
-00029c90: 4d61 7070 696e 6773 2f53 6574 735d 2868  Mappings/Sets](h
-00029ca0: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
-00029cb0: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
-00029cc0: 2f63 6f6c 6c65 6374 696f 6e73 2e61 6263  /collections.abc
-00029cd0: 2e68 746d 6c29 2061 7265 2061 6c77 6179  .html) are alway
-00029ce0: 7320 6173 7375 6d65 6420 746f 2062 6520  s assumed to be 
-00029cf0: 7265 6974 6572 6162 6c65 2065 7665 6e20  reiterable even 
-00029d00: 7769 7468 6f75 7420 6361 6c6c 696e 6720  without calling 
-00029d10: 605f 5f63 6f70 795f 5f60 2e0d 0a0d 0a23  `__copy__`.....#
-00029d20: 2323 2323 2050 7974 686f 6e20 446f 6373  #### Python Docs
-00029d30: 0d0a 0d0a 2a2a 7465 652a 2a28 5f69 7465  ....**tee**(_ite
-00029d40: 7261 626c 652c 206e 3d32 5f29 0d0a 0d0a  rable, n=2_)....
-00029d50: 5265 7475 726e 205f 6e5f 2069 6e64 6570  Return _n_ indep
-00029d60: 656e 6465 6e74 2069 7465 7261 746f 7273  endent iterators
-00029d70: 2066 726f 6d20 6120 7369 6e67 6c65 2069   from a single i
-00029d80: 7465 7261 626c 652e 2045 7175 6976 616c  terable. Equival
-00029d90: 656e 7420 746f 3a0d 0a60 6060 636f 636f  ent to:..```coco
-00029da0: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-00029db0: 7465 6528 6974 6572 6162 6c65 2c20 6e3d  tee(iterable, n=
-00029dc0: 3229 3a0d 0a20 2020 2069 7420 3d20 6974  2):..    it = it
-00029dd0: 6572 2869 7465 7261 626c 6529 0d0a 2020  er(iterable)..  
-00029de0: 2020 6465 7175 6573 203d 205b 636f 6c6c    deques = [coll
-00029df0: 6563 7469 6f6e 732e 6465 7175 6528 2920  ections.deque() 
-00029e00: 666f 7220 6920 696e 2072 616e 6765 286e  for i in range(n
-00029e10: 295d 0d0a 2020 2020 6465 6620 6765 6e28  )]..    def gen(
-00029e20: 6d79 6465 7175 6529 3a0d 0a20 2020 2020  mydeque):..     
-00029e30: 2020 2077 6869 6c65 2054 7275 653a 0d0a     while True:..
-00029e40: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00029e50: 6f74 206d 7964 6571 7565 3a20 2020 2020  ot mydeque:     
-00029e60: 2020 2020 2020 2020 2320 7768 656e 2074          # when t
-00029e70: 6865 206c 6f63 616c 2064 6571 7565 2069  he local deque i
-00029e80: 7320 656d 7074 790d 0a20 2020 2020 2020  s empty..       
-00029e90: 2020 2020 2020 2020 206e 6577 7661 6c20           newval 
-00029ea0: 3d20 6e65 7874 2869 7429 2020 2020 2020  = next(it)      
-00029eb0: 2023 2066 6574 6368 2061 206e 6577 2076   # fetch a new v
-00029ec0: 616c 7565 2061 6e64 0d0a 2020 2020 2020  alue and..      
-00029ed0: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
-00029ee0: 696e 2064 6571 7565 733a 2020 2020 2020  in deques:      
-00029ef0: 2020 2320 6c6f 6164 2069 7420 746f 2061    # load it to a
-00029f00: 6c6c 2074 6865 2064 6571 7565 730d 0a20  ll the deques.. 
-00029f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029f20: 2020 2064 2e61 7070 656e 6428 6e65 7776     d.append(newv
-00029f30: 616c 290d 0a20 2020 2020 2020 2020 2020  al)..           
-00029f40: 2079 6965 6c64 206d 7964 6571 7565 2e70   yield mydeque.p
-00029f50: 6f70 6c65 6674 2829 0d0a 2020 2020 7265  opleft()..    re
-00029f60: 7475 726e 2074 7570 6c65 2867 656e 2864  turn tuple(gen(d
-00029f70: 2920 666f 7220 6420 696e 2064 6571 7565  ) for d in deque
-00029f80: 7329 0d0a 6060 600d 0a4f 6e63 6520 6074  s)..```..Once `t
-00029f90: 6565 2829 6020 6861 7320 6d61 6465 2061  ee()` has made a
-00029fa0: 2073 706c 6974 2c20 7468 6520 6f72 6967   split, the orig
-00029fb0: 696e 616c 205f 6974 6572 6162 6c65 5f20  inal _iterable_ 
-00029fc0: 7368 6f75 6c64 206e 6f74 2062 6520 7573  should not be us
-00029fd0: 6564 2061 6e79 7768 6572 6520 656c 7365  ed anywhere else
-00029fe0: 3b20 6f74 6865 7277 6973 652c 2074 6865  ; otherwise, the
-00029ff0: 205f 6974 6572 6162 6c65 5f20 636f 756c   _iterable_ coul
-0002a000: 6420 6765 7420 6164 7661 6e63 6564 2077  d get advanced w
-0002a010: 6974 686f 7574 2074 6865 2074 6565 206f  ithout the tee o
-0002a020: 626a 6563 7473 2062 6569 6e67 2069 6e66  bjects being inf
-0002a030: 6f72 6d65 642e 0d0a 0d0a 5468 6973 2069  ormed.....This i
-0002a040: 7465 7274 6f6f 6c20 6d61 7920 7265 7175  tertool may requ
-0002a050: 6972 6520 7369 676e 6966 6963 616e 7420  ire significant 
-0002a060: 6175 7869 6c69 6172 7920 7374 6f72 6167  auxiliary storag
-0002a070: 6520 2864 6570 656e 6469 6e67 206f 6e20  e (depending on 
-0002a080: 686f 7720 6d75 6368 2074 656d 706f 7261  how much tempora
-0002a090: 7279 2064 6174 6120 6e65 6564 7320 746f  ry data needs to
-0002a0a0: 2062 6520 7374 6f72 6564 292e 2049 6e20   be stored). In 
-0002a0b0: 6765 6e65 7261 6c2c 2069 6620 6f6e 6520  general, if one 
-0002a0c0: 6974 6572 6174 6f72 2075 7365 7320 6d6f  iterator uses mo
-0002a0d0: 7374 206f 7220 616c 6c20 6f66 2074 6865  st or all of the
-0002a0e0: 2064 6174 6120 6265 666f 7265 2061 6e6f   data before ano
-0002a0f0: 7468 6572 2069 7465 7261 746f 7220 7374  ther iterator st
-0002a100: 6172 7473 2c20 6974 2069 7320 6661 7374  arts, it is fast
-0002a110: 6572 2074 6f20 7573 6520 606c 6973 7428  er to use `list(
-0002a120: 2960 2069 6e73 7465 6164 206f 6620 6074  )` instead of `t
-0002a130: 6565 2829 602e 0d0a 0d0a 2323 2323 2320  ee()`.....##### 
-0002a140: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0002a150: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0002a160: 6e75 740d 0a6f 7269 6769 6e61 6c2c 2074  nut..original, t
-0002a170: 656d 7020 3d20 7465 6528 6f72 6967 696e  emp = tee(origin
-0002a180: 616c 290d 0a73 6c69 6365 6420 3d20 7465  al)..sliced = te
-0002a190: 6d70 245b 353a 5d0d 0a60 6060 0d0a 0d0a  mp$[5:]..```....
-0002a1a0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0002a1b0: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0002a1c0: 696d 706f 7274 2069 7465 7274 6f6f 6c73  import itertools
-0002a1d0: 0d0a 6f72 6967 696e 616c 2c20 7465 6d70  ..original, temp
-0002a1e0: 203d 2069 7465 7274 6f6f 6c73 2e74 6565   = itertools.tee
-0002a1f0: 286f 7269 6769 6e61 6c29 0d0a 736c 6963  (original)..slic
-0002a200: 6564 203d 2069 7465 7274 6f6f 6c73 2e69  ed = itertools.i
-0002a210: 736c 6963 6528 7465 6d70 2c20 352c 204e  slice(temp, 5, N
-0002a220: 6f6e 6529 0d0a 6060 600d 0a0d 0a23 2323  one)..```....###
-0002a230: 2320 6063 6f6e 7375 6d65 600d 0a0d 0a2a  # `consume`....*
-0002a240: 2a63 6f6e 7375 6d65 2a2a 285f 6974 6572  *consume**(_iter
-0002a250: 6162 6c65 5f2c 205f 6b65 6570 5c5f 6c61  able_, _keep\_la
-0002a260: 7374 5f3d 6030 6029 0d0a 0d0a 436f 636f  st_=`0`)....Coco
-0002a270: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
-0002a280: 2060 636f 6e73 756d 6560 2066 756e 6374   `consume` funct
-0002a290: 696f 6e20 746f 2065 6666 6963 6965 6e74  ion to efficient
-0002a2a0: 6c79 2065 7868 6175 7374 2061 6e20 6974  ly exhaust an it
-0002a2b0: 6572 6174 6f72 2061 6e64 2074 6875 7320  erator and thus 
-0002a2c0: 7065 7266 6f72 6d20 616e 7920 6c61 7a79  perform any lazy
-0002a2d0: 2065 7661 6c75 6174 696f 6e20 636f 6e74   evaluation cont
-0002a2e0: 6169 6e65 6420 7769 7468 696e 2069 742e  ained within it.
-0002a2f0: 2060 636f 6e73 756d 6560 2074 616b 6573   `consume` takes
-0002a300: 206f 6e65 206f 7074 696f 6e61 6c20 6172   one optional ar
-0002a310: 6775 6d65 6e74 2c20 606b 6565 705f 6c61  gument, `keep_la
-0002a320: 7374 602c 2074 6861 7420 6465 6661 756c  st`, that defaul
-0002a330: 7473 2074 6f20 3020 616e 6420 7370 6563  ts to 0 and spec
-0002a340: 6966 6965 7320 686f 7720 6d61 6e79 2c20  ifies how many, 
-0002a350: 6966 2061 6e79 2c20 6974 656d 7320 6672  if any, items fr
-0002a360: 6f6d 2074 6865 2065 6e64 2074 6f20 7265  om the end to re
-0002a370: 7475 726e 2061 7320 6120 7365 7175 656e  turn as a sequen
-0002a380: 6365 2028 604e 6f6e 6560 2077 696c 6c20  ce (`None` will 
-0002a390: 6b65 6570 2061 6c6c 2065 6c65 6d65 6e74  keep all element
-0002a3a0: 7329 2e0d 0a0d 0a45 7175 6976 616c 656e  s).....Equivalen
-0002a3b0: 7420 746f 3a0d 0a60 6060 636f 636f 6e75  t to:..```coconu
-0002a3c0: 740d 0a64 6566 2063 6f6e 7375 6d65 2869  t..def consume(i
-0002a3d0: 7465 7261 626c 652c 206b 6565 705f 6c61  terable, keep_la
-0002a3e0: 7374 3d30 293a 0d0a 2020 2020 2222 2246  st=0):..    """F
-0002a3f0: 756c 6c79 2065 7868 6175 7374 2069 7465  ully exhaust ite
-0002a400: 7261 626c 6520 616e 6420 7265 7475 726e  rable and return
-0002a410: 2074 6865 206c 6173 7420 6b65 6570 5f6c   the last keep_l
-0002a420: 6173 7420 656c 656d 656e 7473 2e22 2222  ast elements."""
-0002a430: 0d0a 2020 2020 7265 7475 726e 2063 6f6c  ..    return col
-0002a440: 6c65 6374 696f 6e73 2e64 6571 7565 2869  lections.deque(i
-0002a450: 7465 7261 626c 652c 206d 6178 6c65 6e3d  terable, maxlen=
-0002a460: 6b65 6570 5f6c 6173 7429 2020 2320 6661  keep_last)  # fa
-0002a470: 7374 6573 7420 7761 7920 746f 2065 7868  stest way to exh
-0002a480: 6175 7374 2061 6e20 6974 6572 6174 6f72  aust an iterator
-0002a490: 0d0a 6060 600d 0a0d 0a23 2323 2323 2052  ..```....##### R
-0002a4a0: 6174 696f 6e61 6c65 0d0a 0d0a 496e 2074  ationale....In t
-0002a4b0: 6865 2070 726f 6365 7373 206f 6620 6c61  he process of la
-0002a4c0: 7a69 6c79 2061 7070 6c79 696e 6720 6f70  zily applying op
-0002a4d0: 6572 6174 696f 6e73 2074 6f20 6974 6572  erations to iter
-0002a4e0: 6174 6f72 732c 2065 7665 6e74 7561 6c6c  ators, eventuall
-0002a4f0: 7920 6120 706f 696e 7420 6973 2072 6561  y a point is rea
-0002a500: 6368 6564 2077 6865 7265 2065 7661 6c75  ched where evalu
-0002a510: 6174 696f 6e20 6f66 2074 6865 2069 7465  ation of the ite
-0002a520: 7261 746f 7220 6973 206e 6563 6573 7361  rator is necessa
-0002a530: 7279 2e20 546f 2064 6f20 7468 6973 2065  ry. To do this e
-0002a540: 6666 6963 6965 6e74 6c79 2c20 436f 636f  fficiently, Coco
-0002a550: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
-0002a560: 2060 636f 6e73 756d 6560 2066 756e 6374   `consume` funct
-0002a570: 696f 6e2c 2077 6869 6368 2077 696c 6c20  ion, which will 
-0002a580: 6675 6c6c 7920 6578 6861 7573 7420 7468  fully exhaust th
-0002a590: 6520 6974 6572 6174 6f72 2067 6976 656e  e iterator given
-0002a5a0: 2074 6f20 6974 2e0d 0a0d 0a23 2323 2323   to it.....#####
-0002a5b0: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0002a5c0: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0002a5d0: 6f6e 7574 0d0a 7261 6e67 6528 3130 2920  onut..range(10) 
-0002a5e0: 7c3e 206d 6170 2428 2878 2920 2d3e 2078  |> map$((x) -> x
-0002a5f0: 2a2a 3229 207c 3e20 6d61 7024 2870 7269  **2) |> map$(pri
-0002a600: 6e74 2920 7c3e 2063 6f6e 7375 6d65 0d0a  nt) |> consume..
-0002a610: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-0002a620: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
-0002a630: 7974 686f 6e0d 0a63 6f6c 6c65 6374 696f  ython..collectio
-0002a640: 6e73 2e64 6571 7565 286d 6170 2870 7269  ns.deque(map(pri
-0002a650: 6e74 2c20 6d61 7028 6c61 6d62 6461 2078  nt, map(lambda x
-0002a660: 3a20 782a 2a32 2c20 7261 6e67 6528 3130  : x**2, range(10
-0002a670: 2929 292c 206d 6178 6c65 6e3d 3029 0d0a  ))), maxlen=0)..
-0002a680: 6060 600d 0a0d 0a23 2323 2054 7970 696e  ```....### Typin
-0002a690: 672d 5370 6563 6966 6963 2042 7569 6c74  g-Specific Built
-0002a6a0: 2d49 6e73 0d0a 0d0a 6060 607b 636f 6e74  -Ins....```{cont
-0002a6b0: 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361  ents}..---..loca
-0002a6c0: 6c3a 0d0a 6465 7074 683a 2031 0d0a 2d2d  l:..depth: 1..--
-0002a6d0: 2d0d 0a60 6060 0d0a 0d0a 2323 2323 2060  -..```....#### `
-0002a6e0: 5459 5045 5f43 4845 434b 494e 4760 0d0a  TYPE_CHECKING`..
-0002a6f0: 0d0a 5468 6520 6054 5950 455f 4348 4543  ..The `TYPE_CHEC
-0002a700: 4b49 4e47 6020 7661 7269 6162 6c65 2069  KING` variable i
-0002a710: 7320 7365 7420 746f 2060 4661 6c73 6560  s set to `False`
-0002a720: 2061 7420 7275 6e74 696d 6520 616e 6420   at runtime and 
-0002a730: 6054 7275 6560 2064 7572 696e 6720 7479  `True` during ty
-0002a740: 7065 5f63 6865 636b 696e 672c 2061 6c6c  pe_checking, all
-0002a750: 6f77 696e 6720 796f 7520 746f 2070 7265  owing you to pre
-0002a760: 7665 6e74 2079 6f75 7220 6074 7970 696e  vent your `typin
-0002a770: 6760 2069 6d70 6f72 7473 2061 6e64 2060  g` imports and `
-0002a780: 5479 7065 5661 7260 2064 6566 696e 6974  TypeVar` definit
-0002a790: 696f 6e73 2066 726f 6d20 6265 696e 6720  ions from being 
-0002a7a0: 6578 6563 7574 6564 2061 7420 7275 6e74  executed at runt
-0002a7b0: 696d 652e 2042 7920 7772 6170 7069 6e67  ime. By wrapping
-0002a7c0: 2079 6f75 7220 6074 7970 696e 6760 2069   your `typing` i
-0002a7d0: 6d70 6f72 7473 2069 6e20 616e 2060 6966  mports in an `if
-0002a7e0: 2054 5950 455f 4348 4543 4b49 4e47 3a60   TYPE_CHECKING:`
-0002a7f0: 2062 6c6f 636b 2c20 796f 7520 6361 6e20   block, you can 
-0002a800: 6576 656e 2075 7365 2074 6865 205b 6074  even use the [`t
-0002a810: 7970 696e 6760 5d28 6874 7470 733a 2f2f  yping`](https://
-0002a820: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-0002a830: 332f 6c69 6272 6172 792f 7479 7069 6e67  3/library/typing
-0002a840: 2e68 746d 6c29 206d 6f64 756c 6520 6f6e  .html) module on
-0002a850: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
-0002a860: 2074 6861 7420 646f 6e27 7420 6e61 7469   that don't nati
-0002a870: 7665 6c79 2073 7570 706f 7274 2069 742e  vely support it.
-0002a880: 2046 7572 7468 6572 6d6f 7265 2c20 6054   Furthermore, `T
-0002a890: 5950 455f 4348 4543 4b49 4e47 6020 6361  YPE_CHECKING` ca
-0002a8a0: 6e20 616c 736f 2062 6520 7573 6564 2074  n also be used t
-0002a8b0: 6f20 6869 6465 2063 6f64 6520 7468 6174  o hide code that
-0002a8c0: 2069 7320 6d69 7374 7970 6564 2062 7920   is mistyped by 
-0002a8d0: 6465 6661 756c 742e 0d0a 0d0a 2323 2323  default.....####
-0002a8e0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
-0002a8f0: 0a41 2073 7065 6369 616c 2063 6f6e 7374  .A special const
-0002a900: 616e 7420 7468 6174 2069 7320 6173 7375  ant that is assu
-0002a910: 6d65 6420 746f 2062 6520 6054 7275 6560  med to be `True`
-0002a920: 2062 7920 3372 6420 7061 7274 7920 7374   by 3rd party st
-0002a930: 6174 6963 2074 7970 6520 6368 6563 6b65  atic type checke
-0002a940: 7273 2e20 4974 2069 7320 6046 616c 7365  rs. It is `False
-0002a950: 6020 6174 2072 756e 7469 6d65 2e20 5573  ` at runtime. Us
-0002a960: 6167 653a 0d0a 6060 6063 6f63 6f6e 7574  age:..```coconut
-0002a970: 5f70 7974 686f 6e0d 0a69 6620 5459 5045  _python..if TYPE
-0002a980: 5f43 4845 434b 494e 473a 0d0a 2020 2020  _CHECKING:..    
-0002a990: 696d 706f 7274 2065 7870 656e 7369 7665  import expensive
-0002a9a0: 5f6d 6f64 0d0a 0d0a 6465 6620 6675 6e28  _mod....def fun(
-0002a9b0: 6172 673a 2065 7870 656e 7369 7665 5f6d  arg: expensive_m
-0002a9c0: 6f64 2e53 6f6d 6554 7970 6529 202d 3e20  od.SomeType) -> 
-0002a9d0: 4e6f 6e65 3a0d 0a20 2020 206c 6f63 616c  None:..    local
-0002a9e0: 5f76 6172 3a20 6578 7065 6e73 6976 655f  _var: expensive_
-0002a9f0: 6d6f 642e 416e 6f74 6865 7254 7970 6520  mod.AnotherType 
-0002aa00: 3d20 6f74 6865 725f 6675 6e28 290d 0a60  = other_fun()..`
-0002aa10: 6060 0d0a 0d0a 2323 2323 2320 4578 616d  ``....##### Exam
-0002aa20: 706c 6573 0d0a 0d0a 2a2a 436f 636f 6e75  ples....**Coconu
-0002aa30: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0002aa40: 0d0a 6966 2054 5950 455f 4348 4543 4b49  ..if TYPE_CHECKI
-0002aa50: 4e47 3a0d 0a20 2020 2066 726f 6d20 7479  NG:..    from ty
-0002aa60: 7069 6e67 2069 6d70 6f72 7420 4c69 7374  ping import List
-0002aa70: 0d0a 783a 204c 6973 745b 7374 725d 203d  ..x: List[str] =
-0002aa80: 205b 2261 222c 2022 6222 5d0d 0a60 6060   ["a", "b"]..```
-0002aa90: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ....```coconut..
-0002aaa0: 6966 2054 5950 455f 4348 4543 4b49 4e47  if TYPE_CHECKING
-0002aab0: 3a0d 0a20 2020 2064 6566 2066 6163 746f  :..    def facto
-0002aac0: 7269 616c 286e 3a20 696e 7429 202d 3e20  rial(n: int) -> 
-0002aad0: 696e 743a 202e 2e2e 0d0a 656c 7365 3a0d  int: .....else:.
-0002aae0: 0a20 2020 2064 6566 2066 6163 746f 7269  .    def factori
-0002aaf0: 616c 2830 2920 3d20 310d 0a20 2020 2061  al(0) = 1..    a
-0002ab00: 6464 7061 7474 6572 6e20 6465 6620 6661  ddpattern def fa
-0002ab10: 6374 6f72 6961 6c28 6e29 203d 206e 202a  ctorial(n) = n *
-0002ab20: 2066 6163 746f 7269 616c 286e 2d31 290d   factorial(n-1).
-0002ab30: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-0002ab40: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
-0002ab50: 7079 7468 6f6e 0d0a 7472 793a 0d0a 2020  python..try:..  
-0002ab60: 2020 6672 6f6d 2074 7970 696e 6720 696d    from typing im
-0002ab70: 706f 7274 2054 5950 455f 4348 4543 4b49  port TYPE_CHECKI
-0002ab80: 4e47 0d0a 6578 6365 7074 2049 6d70 6f72  NG..except Impor
-0002ab90: 7445 7272 6f72 3a0d 0a20 2020 2054 5950  tError:..    TYP
-0002aba0: 455f 4348 4543 4b49 4e47 203d 2046 616c  E_CHECKING = Fal
-0002abb0: 7365 0d0a 0d0a 6966 2054 5950 455f 4348  se....if TYPE_CH
-0002abc0: 4543 4b49 4e47 3a0d 0a20 2020 2066 726f  ECKING:..    fro
-0002abd0: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
-0002abe0: 4c69 7374 0d0a 783a 204c 6973 745b 7374  List..x: List[st
-0002abf0: 725d 203d 205b 2261 222c 2022 6222 5d0d  r] = ["a", "b"].
-0002ac00: 0a60 6060 0d0a 0d0a 6060 6063 6f63 6f6e  .```....```cocon
-0002ac10: 7574 5f70 7974 686f 6e0d 0a74 7279 3a0d  ut_python..try:.
-0002ac20: 0a20 2020 2066 726f 6d20 7479 7069 6e67  .    from typing
-0002ac30: 2069 6d70 6f72 7420 5459 5045 5f43 4845   import TYPE_CHE
-0002ac40: 434b 494e 470d 0a65 7863 6570 7420 496d  CKING..except Im
-0002ac50: 706f 7274 4572 726f 723a 0d0a 2020 2020  portError:..    
-0002ac60: 5459 5045 5f43 4845 434b 494e 4720 3d20  TYPE_CHECKING = 
-0002ac70: 4661 6c73 650d 0a0d 0a69 6620 5459 5045  False....if TYPE
-0002ac80: 5f43 4845 434b 494e 473a 0d0a 2020 2020  _CHECKING:..    
-0002ac90: 6465 6620 6661 6374 6f72 6961 6c28 6e3a  def factorial(n:
-0002aca0: 2069 6e74 2920 2d3e 2069 6e74 3a20 2e2e   int) -> int: ..
-0002acb0: 2e0d 0a65 6c73 653a 0d0a 2020 2020 6465  ...else:..    de
-0002acc0: 6620 6661 6374 6f72 6961 6c28 6e29 3a0d  f factorial(n):.
-0002acd0: 0a20 2020 2020 2020 2069 6620 6e20 3d3d  .        if n ==
-0002ace0: 2030 3a0d 0a20 2020 2020 2020 2020 2020   0:..           
-0002acf0: 2072 6574 7572 6e20 310d 0a20 2020 2020   return 1..     
-0002ad00: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0002ad10: 2020 2020 2020 7265 7475 726e 206e 202a        return n *
-0002ad20: 2066 6163 746f 7269 616c 286e 2d31 290d   factorial(n-1).
-0002ad30: 0a60 6060 0d0a 0d0a 2323 2323 2060 7265  .```....#### `re
-0002ad40: 7665 616c 5f74 7970 6560 2061 6e64 2060  veal_type` and `
-0002ad50: 7265 7665 616c 5f6c 6f63 616c 7360 0d0a  reveal_locals`..
-0002ad60: 0d0a 5768 656e 2075 7369 6e67 204d 7950  ..When using MyP
-0002ad70: 792c 2060 7265 7665 616c 5f74 7970 6528  y, `reveal_type(
-0002ad80: 3c65 7870 723e 2960 2077 696c 6c20 6361  <expr>)` will ca
-0002ad90: 7573 6520 4d79 5079 2074 6f20 7072 696e  use MyPy to prin
-0002ada0: 7420 7468 6520 7479 7065 206f 6620 603c  t the type of `<
-0002adb0: 6578 7072 3e60 2061 6e64 2060 7265 7665  expr>` and `reve
-0002adc0: 616c 5f6c 6f63 616c 7328 2960 2077 696c  al_locals()` wil
-0002add0: 6c20 6361 7573 6520 4d79 5079 2074 6f20  l cause MyPy to 
-0002ade0: 7072 696e 7420 7468 6520 7479 7065 7320  print the types 
-0002adf0: 6f66 2074 6865 2063 7572 7265 6e74 2060  of the current `
-0002ae00: 6c6f 6361 6c73 2829 602e 2041 7420 7275  locals()`. At ru
-0002ae10: 6e74 696d 652c 2060 7265 7665 616c 5f74  ntime, `reveal_t
-0002ae20: 7970 6528 7829 6020 6973 2061 6c77 6179  ype(x)` is alway
-0002ae30: 7320 7468 6520 6964 656e 7469 7479 2066  s the identity f
-0002ae40: 756e 6374 696f 6e20 616e 6420 6072 6576  unction and `rev
-0002ae50: 6561 6c5f 6c6f 6361 6c73 2829 6020 616c  eal_locals()` al
-0002ae60: 7761 7973 2072 6574 7572 6e73 2060 4e6f  ways returns `No
-0002ae70: 6e65 602e 2053 6565 205b 7468 6520 4d79  ne`. See [the My
-0002ae80: 5079 2064 6f63 756d 656e 7461 7469 6f6e  Py documentation
-0002ae90: 5d28 6874 7470 733a 2f2f 6d79 7079 2e72  ](https://mypy.r
-0002aea0: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
-0002aeb0: 2f73 7461 626c 652f 636f 6d6d 6f6e 5f69  /stable/common_i
-0002aec0: 7373 7565 732e 6874 6d6c 2372 6576 6561  ssues.html#revea
-0002aed0: 6c2d 7479 7065 2920 666f 7220 6d6f 7265  l-type) for more
-0002aee0: 2069 6e66 6f72 6d61 7469 6f6e 2e0d 0a0d   information....
-0002aef0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-0002af00: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-0002af10: 6060 6063 6f63 6f6e 7574 5f70 7963 6f6e  ```coconut_pycon
-0002af20: 0d0a 3e20 636f 636f 6e75 7420 2d2d 6d79  ..> coconut --my
-0002af30: 7079 0d0a 436f 636f 6e75 7420 496e 7465  py..Coconut Inte
-0002af40: 7270 7265 7465 7220 7658 2e58 2e58 3a0d  rpreter vX.X.X:.
-0002af50: 0a28 656e 7465 7220 2765 7869 7428 2927  .(enter 'exit()'
-0002af60: 206f 7220 7072 6573 7320 4374 726c 2d44   or press Ctrl-D
-0002af70: 2074 6f20 656e 6429 0d0a 3e3e 3e20 7265   to end)..>>> re
-0002af80: 7665 616c 5f74 7970 6528 666d 6170 290d  veal_type(fmap).
-0002af90: 0a3c 6675 6e63 7469 6f6e 2066 6d61 7020  .<function fmap 
-0002afa0: 6174 2030 7830 3030 3030 3233 3942 3036  at 0x00000239B06
-0002afb0: 4532 3034 303e 0d0a 3c73 7472 696e 673e  E2040>..<string>
-0002afc0: 3a31 373a 206e 6f74 653a 2052 6576 6561  :17: note: Revea
-0002afd0: 6c65 6420 7479 7065 2069 7320 2764 6566  led type is 'def
-0002afe0: 205b 5f54 2c20 5f55 5d20 2866 756e 633a   [_T, _U] (func:
-0002aff0: 2064 6566 2028 5f54 602d 3129 202d 3e20   def (_T`-1) -> 
-0002b000: 5f55 602d 322c 206f 626a 3a20 7479 7069  _U`-2, obj: typi
-0002b010: 6e67 2e49 7465 7261 626c 655b 5f54 602d  ng.Iterable[_T`-
-0002b020: 315d 2920 2d3e 2074 7970 696e 672e 4974  1]) -> typing.It
-0002b030: 6572 6162 6c65 5b5f 5560 2d32 5d27 0d0a  erable[_U`-2]'..
-0002b040: 3e3e 3e0d 0a60 6060 0d0a 0d0a 2a2a 5079  >>>..```....**Py
-0002b050: 7468 6f6e 2a2a 0d0a 6060 6063 6f63 6f6e  thon**..```cocon
-0002b060: 7574 5f70 7974 686f 6e0d 0a74 7279 3a0d  ut_python..try:.
-0002b070: 0a20 2020 2066 726f 6d20 7479 7069 6e67  .    from typing
-0002b080: 2069 6d70 6f72 7420 5459 5045 5f43 4845   import TYPE_CHE
-0002b090: 434b 494e 470d 0a65 7863 6570 7420 496d  CKING..except Im
-0002b0a0: 706f 7274 4572 726f 723a 0d0a 2020 2020  portError:..    
-0002b0b0: 5459 5045 5f43 4845 434b 494e 4720 3d20  TYPE_CHECKING = 
-0002b0c0: 4661 6c73 650d 0a0d 0a69 6620 6e6f 7420  False....if not 
-0002b0d0: 5459 5045 5f43 4845 434b 494e 473a 0d0a  TYPE_CHECKING:..
-0002b0e0: 2020 2020 6465 6620 7265 7665 616c 5f74      def reveal_t
-0002b0f0: 7970 6528 7829 3a0d 0a20 2020 2020 2020  ype(x):..       
-0002b100: 2072 6574 7572 6e20 780d 0a0d 0a66 726f   return x....fro
-0002b110: 6d20 636f 636f 6e75 742e 5f5f 636f 636f  m coconut.__coco
-0002b120: 6e75 745f 5f20 696d 706f 7274 2066 6d61  nut__ import fma
-0002b130: 700d 0a72 6576 6561 6c5f 7479 7065 2866  p..reveal_type(f
-0002b140: 6d61 7029 0d0a 6060 600d 0a0d 0a23 2320  map)..```....## 
-0002b150: 436f 636f 6e75 7420 4150 490d 0a0d 0a60  Coconut API....`
-0002b160: 6060 7b63 6f6e 7465 6e74 737d 0d0a 2d2d  ``{contents}..--
-0002b170: 2d0d 0a6c 6f63 616c 3a0d 0a64 6570 7468  -..local:..depth
-0002b180: 3a20 320d 0a2d 2d2d 0d0a 6060 600d 0a0d  : 2..---..```...
-0002b190: 0a23 2323 2060 636f 636f 6e75 742e 656d  .### `coconut.em
-0002b1a0: 6265 6460 0d0a 0d0a 2a2a 636f 636f 6e75  bed`....**coconu
-0002b1b0: 742e 656d 6265 642a 2a28 5f6b 6572 6e65  t.embed**(_kerne
-0002b1c0: 6c5f 3d60 4e6f 6e65 602c 205f 6465 7074  l_=`None`, _dept
-0002b1d0: 685f 3d60 3060 2c20 5c2a 5c2a 5f6b 7761  h_=`0`, \*\*_kwa
-0002b1e0: 7267 735f 290d 0a0d 0a49 6620 5f6b 6572  rgs_)....If _ker
-0002b1f0: 6e65 6c5f 3d60 4661 6c73 6560 2028 6465  nel_=`False` (de
-0002b200: 6661 756c 7429 2c20 656d 6265 6473 2061  fault), embeds a
-0002b210: 2043 6f63 6f6e 7574 204a 7570 7974 6572   Coconut Jupyter
-0002b220: 2063 6f6e 736f 6c65 2069 6e69 7469 616c   console initial
-0002b230: 697a 6564 2066 726f 6d20 7468 6520 6375  ized from the cu
-0002b240: 7272 656e 7420 6c6f 6361 6c20 6e61 6d65  rrent local name
-0002b250: 7370 6163 652e 2049 6620 5f6b 6572 6e65  space. If _kerne
-0002b260: 6c5f 3d60 5472 7565 602c 206c 6175 6e63  l_=`True`, launc
-0002b270: 6865 7320 6120 436f 636f 6e75 7420 4a75  hes a Coconut Ju
-0002b280: 7079 7465 7220 6b65 726e 656c 2069 6e69  pyter kernel ini
-0002b290: 7469 616c 697a 6564 2066 726f 6d20 7468  tialized from th
-0002b2a0: 6520 6c6f 6361 6c20 6e61 6d65 7370 6163  e local namespac
-0002b2b0: 6520 7468 6174 2063 616e 2074 6865 6e20  e that can then 
-0002b2c0: 6265 2061 7474 6163 6865 6420 746f 2e20  be attached to. 
-0002b2d0: 5468 6520 5f64 6570 7468 5f20 696e 6469  The _depth_ indi
-0002b2e0: 6361 7465 7320 686f 7720 6d61 6e79 2061  cates how many a
-0002b2f0: 6464 6974 696f 6e61 6c20 6361 6c6c 2066  dditional call f
-0002b300: 7261 6d65 7320 746f 2069 676e 6f72 652e  rames to ignore.
-0002b310: 205f 6b77 6172 6773 5f20 6172 6520 6173   _kwargs_ are as
-0002b320: 2069 6e20 5b49 5079 7468 6f6e 2e65 6d62   in [IPython.emb
-0002b330: 6564 5d28 6874 7470 733a 2f2f 6970 7974  ed](https://ipyt
-0002b340: 686f 6e2e 7265 6164 7468 6564 6f63 732e  hon.readthedocs.
-0002b350: 696f 2f65 6e2f 7374 6162 6c65 2f61 7069  io/en/stable/api
-0002b360: 2f67 656e 6572 6174 6564 2f49 5079 7468  /generated/IPyth
-0002b370: 6f6e 2e74 6572 6d69 6e61 6c2e 656d 6265  on.terminal.embe
-0002b380: 642e 6874 6d6c 2349 5079 7468 6f6e 2e74  d.html#IPython.t
-0002b390: 6572 6d69 6e61 6c2e 656d 6265 642e 656d  erminal.embed.em
-0002b3a0: 6265 6429 206f 7220 5b49 5079 7468 6f6e  bed) or [IPython
-0002b3b0: 2e65 6d62 6564 5f6b 6572 6e65 6c5d 2868  .embed_kernel](h
-0002b3c0: 7474 7073 3a2f 2f69 7079 7468 6f6e 2e72  ttps://ipython.r
-0002b3d0: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
-0002b3e0: 2f73 7461 626c 652f 6170 692f 6765 6e65  /stable/api/gene
-0002b3f0: 7261 7465 642f 4950 7974 686f 6e2e 6874  rated/IPython.ht
-0002b400: 6d6c 2349 5079 7468 6f6e 2e65 6d62 6564  ml#IPython.embed
-0002b410: 5f6b 6572 6e65 6c29 2062 6173 6564 206f  _kernel) based o
-0002b420: 6e20 5f6b 6572 6e65 6c5f 2e0d 0a0d 0a52  n _kernel_.....R
-0002b430: 6563 6f6d 6d65 6e64 6564 2075 7361 6765  ecommended usage
-0002b440: 2069 7320 6173 2061 2064 6562 7567 6769   is as a debuggi
-0002b450: 6e67 2074 6f6f 6c2c 2077 6865 7265 2074  ng tool, where t
-0002b460: 6865 2063 6f64 6520 6066 726f 6d20 636f  he code `from co
-0002b470: 636f 6e75 7420 696d 706f 7274 2065 6d62  conut import emb
-0002b480: 6564 3b20 656d 6265 6428 2960 2063 616e  ed; embed()` can
-0002b490: 2062 6520 696e 7365 7274 6564 2074 6f20   be inserted to 
-0002b4a0: 6c61 756e 6368 2061 6e20 696e 7465 7261  launch an intera
-0002b4b0: 6374 6976 6520 436f 636f 6e75 7420 7368  ctive Coconut sh
-0002b4c0: 656c 6c20 696e 6974 6961 6c69 7a65 6420  ell initialized 
-0002b4d0: 6672 6f6d 2074 6861 7420 706f 696e 742e  from that point.
-0002b4e0: 0d0a 0d0a 2323 2320 4175 746f 6d61 7469  ....### Automati
-0002b4f0: 6320 436f 6d70 696c 6174 696f 6e0d 0a0d  c Compilation...
-0002b500: 0a49 6620 796f 7520 646f 6e27 7420 6361  .If you don't ca
-0002b510: 7265 2061 626f 7574 2074 6865 2065 7861  re about the exa
-0002b520: 6374 2063 6f6d 7069 6c61 7469 6f6e 2070  ct compilation p
-0002b530: 6172 616d 6574 6572 7320 796f 7520 7761  arameters you wa
-0002b540: 6e74 2074 6f20 7573 652c 2061 7574 6f6d  nt to use, autom
-0002b550: 6174 6963 2063 6f6d 7069 6c61 7469 6f6e  atic compilation
-0002b560: 206c 6574 7320 436f 636f 6e75 7420 7461   lets Coconut ta
-0002b570: 6b65 2063 6172 6520 6f66 2065 7665 7279  ke care of every
-0002b580: 7468 696e 6720 666f 7220 796f 752e 2041  thing for you. A
-0002b590: 7574 6f6d 6174 6963 2063 6f6d 7069 6c61  utomatic compila
-0002b5a0: 7469 6f6e 2063 616e 2062 6520 656e 6162  tion can be enab
-0002b5b0: 6c65 6420 6569 7468 6572 2062 7920 696d  led either by im
-0002b5c0: 706f 7274 696e 6720 5b60 636f 636f 6e75  porting [`coconu
-0002b5d0: 742e 636f 6e76 656e 6965 6e63 6560 5d28  t.convenience`](
-0002b5e0: 2363 6f63 6f6e 7574 2d63 6f6e 7665 6e69  #coconut-conveni
-0002b5f0: 656e 6365 2920 6265 666f 7265 2079 6f75  ence) before you
-0002b600: 2069 6d70 6f72 7420 616e 7974 6869 6e67   import anything
-0002b610: 2065 6c73 652c 206f 7220 6279 2072 756e   else, or by run
-0002b620: 6e69 6e67 2060 636f 636f 6e75 7420 2d2d  ning `coconut --
-0002b630: 7369 7465 2d69 6e73 7461 6c6c 602e 204f  site-install`. O
-0002b640: 6e63 6520 6175 746f 6d61 7469 6320 636f  nce automatic co
-0002b650: 6d70 696c 6174 696f 6e20 6973 2065 6e61  mpilation is ena
-0002b660: 626c 6564 2c20 436f 636f 6e75 7420 7769  bled, Coconut wi
-0002b670: 6c6c 2063 6865 636b 2065 6163 6820 6f66  ll check each of
-0002b680: 2079 6f75 7220 696d 706f 7274 7320 746f   your imports to
-0002b690: 2073 6565 2069 6620 796f 7520 6172 6520   see if you are 
-0002b6a0: 6174 7465 6d70 7469 6e67 2074 6f20 696d  attempting to im
-0002b6b0: 706f 7274 2061 2060 2e63 6f63 6f60 2066  port a `.coco` f
-0002b6c0: 696c 6520 616e 642c 2069 6620 736f 2c20  ile and, if so, 
-0002b6d0: 6175 746f 6d61 7469 6361 6c6c 7920 636f  automatically co
-0002b6e0: 6d70 696c 6520 6974 2066 6f72 2079 6f75  mpile it for you
-0002b6f0: 2e20 4e6f 7465 2074 6861 742c 2066 6f72  . Note that, for
-0002b700: 2043 6f63 6f6e 7574 2074 6f20 6b6e 6f77   Coconut to know
-0002b710: 2077 6861 7420 6669 6c65 2079 6f75 2061   what file you a
-0002b720: 7265 2074 7279 696e 6720 746f 2069 6d70  re trying to imp
-0002b730: 6f72 742c 2069 7420 7769 6c6c 206e 6565  ort, it will nee
-0002b740: 6420 746f 2062 6520 6163 6365 7373 6962  d to be accessib
-0002b750: 6c65 2076 6961 2060 7379 732e 7061 7468  le via `sys.path
-0002b760: 602c 206a 7573 7420 6c69 6b65 2061 206e  `, just like a n
-0002b770: 6f72 6d61 6c20 696d 706f 7274 2e0d 0a0d  ormal import....
-0002b780: 0a41 7574 6f6d 6174 6963 2063 6f6d 7069  .Automatic compi
-0002b790: 6c61 7469 6f6e 2061 6c77 6179 7320 636f  lation always co
-0002b7a0: 6d70 696c 6573 206d 6f64 756c 6573 2061  mpiles modules a
-0002b7b0: 6e64 2070 6163 6b61 6765 7320 696e 2d70  nd packages in-p
-0002b7c0: 6c61 6365 2c20 616e 6420 616c 7761 7973  lace, and always
-0002b7d0: 2075 7365 7320 602d 2d74 6172 6765 7420   uses `--target 
-0002b7e0: 7379 7360 2e20 4175 746f 6d61 7469 6320  sys`. Automatic 
-0002b7f0: 636f 6d70 696c 6174 696f 6e20 6973 2061  compilation is a
-0002b800: 6c77 6179 7320 6176 6169 6c61 626c 6520  lways available 
-0002b810: 696e 2074 6865 2043 6f63 6f6e 7574 2069  in the Coconut i
-0002b820: 6e74 6572 7072 6574 6572 2c20 616e 642c  nterpreter, and,
-0002b830: 2069 6620 7573 696e 6720 7468 6520 436f   if using the Co
-0002b840: 636f 6e75 7420 696e 7465 7270 7265 7465  conut interprete
-0002b850: 722c 2061 2060 7265 6c6f 6164 6020 6275  r, a `reload` bu
-0002b860: 696c 742d 696e 2069 7320 7072 6f76 6964  ilt-in is provid
-0002b870: 6564 2074 6f20 6561 7369 6c79 2072 656c  ed to easily rel
-0002b880: 6f61 6420 696d 706f 7274 6564 206d 6f64  oad imported mod
-0002b890: 756c 6573 2e20 4164 6469 7469 6f6e 616c  ules. Additional
-0002b8a0: 6c79 2c20 7468 6520 696e 7465 7270 7265  ly, the interpre
-0002b8b0: 7465 7220 616c 7761 7973 2061 6c6c 6f77  ter always allow
-0002b8c0: 7320 696d 706f 7274 696e 6720 6672 6f6d  s importing from
-0002b8d0: 2074 6865 2063 7572 7265 6e74 2077 6f72   the current wor
-0002b8e0: 6b69 6e67 2064 6972 6563 746f 7279 2c20  king directory, 
-0002b8f0: 6c65 7474 696e 6720 796f 7520 6561 7369  letting you easi
-0002b900: 6c79 2063 6f6d 7069 6c65 2061 6e64 2070  ly compile and p
-0002b910: 6c61 7920 6172 6f75 6e64 2077 6974 6820  lay around with 
-0002b920: 6120 602e 636f 636f 6020 6669 6c65 2073  a `.coco` file s
-0002b930: 696d 706c 7920 6279 2072 756e 6e69 6e67  imply by running
-0002b940: 2074 6865 2043 6f63 6f6e 7574 2069 6e74   the Coconut int
-0002b950: 6572 7072 6574 6572 2061 6e64 2069 6d70  erpreter and imp
-0002b960: 6f72 7469 6e67 2069 742e 0d0a 0d0a 2323  orting it.....##
-0002b970: 2320 436f 636f 6e75 7420 456e 636f 6469  # Coconut Encodi
-0002b980: 6e67 0d0a 0d0a 5768 696c 6520 6175 746f  ng....While auto
-0002b990: 6d61 7469 6320 636f 6d70 696c 6174 696f  matic compilatio
-0002b9a0: 6e20 6973 2074 6865 2070 7265 6665 7272  n is the preferr
-0002b9b0: 6564 206d 6574 686f 6420 666f 7220 6479  ed method for dy
-0002b9c0: 6e61 6d69 6361 6c6c 7920 636f 6d70 696c  namically compil
-0002b9d0: 696e 6720 436f 636f 6e75 7420 6669 6c65  ing Coconut file
-0002b9e0: 732c 2061 7320 6974 2063 6163 6865 7320  s, as it caches 
-0002b9f0: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
-0002ba00: 6520 6173 2061 2060 2e70 7960 2066 696c  e as a `.py` fil
-0002ba10: 6520 746f 2070 7265 7665 6e74 2072 6563  e to prevent rec
-0002ba20: 6f6d 7069 6c61 7469 6f6e 2c20 436f 636f  ompilation, Coco
-0002ba30: 6e75 7420 616c 736f 2073 7570 706f 7274  nut also support
-0002ba40: 7320 6120 7370 6563 6961 6c0d 0a60 6060  s a special..```
-0002ba50: 636f 636f 6e75 740d 0a23 2063 6f64 696e  coconut..# codin
-0002ba60: 673a 2063 6f63 6f6e 7574 0d0a 6060 600d  g: coconut..```.
-0002ba70: 0a64 6563 6c61 7261 7469 6f6e 2077 6869  .declaration whi
-0002ba80: 6368 2063 616e 2062 6520 6164 6465 6420  ch can be added 
-0002ba90: 746f 2060 2e70 7960 2066 696c 6573 2074  to `.py` files t
-0002baa0: 6f20 6861 7665 2074 6865 6d20 7472 6561  o have them trea
-0002bab0: 7465 6420 6173 2043 6f63 6f6e 7574 2066  ted as Coconut f
-0002bac0: 696c 6573 2069 6e73 7465 6164 2e20 546f  iles instead. To
-0002bad0: 2075 7365 2073 7563 6820 6120 636f 6469   use such a codi
-0002bae0: 6e67 2064 6563 6c61 7261 7469 6f6e 2c20  ng declaration, 
-0002baf0: 796f 7527 6c6c 206e 6565 6420 746f 2065  you'll need to e
-0002bb00: 6974 6865 7220 7275 6e20 6063 6f63 6f6e  ither run `cocon
-0002bb10: 7574 202d 2d73 6974 652d 696e 7374 616c  ut --site-instal
-0002bb20: 6c60 206f 7220 6069 6d70 6f72 7420 636f  l` or `import co
-0002bb30: 636f 6e75 742e 636f 6e76 656e 6965 6e63  conut.convenienc
-0002bb40: 6560 2061 7420 736f 6d65 2070 6f69 6e74  e` at some point
-0002bb50: 2062 6566 6f72 6520 796f 7520 6669 7273   before you firs
-0002bb60: 7420 6174 7465 6d70 7420 746f 2069 6d70  t attempt to imp
-0002bb70: 6f72 7420 6120 6669 6c65 2077 6974 6820  ort a file with 
-0002bb80: 6120 6023 2063 6f64 696e 673a 2063 6f63  a `# coding: coc
-0002bb90: 6f6e 7574 6020 6465 636c 6172 6174 696f  onut` declaratio
-0002bba0: 6e2e 204c 696b 6520 6175 746f 6d61 7469  n. Like automati
-0002bbb0: 6320 636f 6d70 696c 6174 696f 6e2c 2063  c compilation, c
-0002bbc0: 6f6d 7069 6c61 7469 6f6e 2069 7320 616c  ompilation is al
-0002bbd0: 7761 7973 2064 6f6e 6520 7769 7468 2060  ways done with `
-0002bbe0: 2d2d 7461 7267 6574 2073 7973 6020 616e  --target sys` an
-0002bbf0: 6420 6973 2061 6c77 6179 7320 6176 6169  d is always avai
-0002bc00: 6c61 626c 6520 6672 6f6d 2074 6865 2043  lable from the C
-0002bc10: 6f63 6f6e 7574 2069 6e74 6572 7072 6574  oconut interpret
-0002bc20: 6572 2e0d 0a0d 0a23 2323 2060 636f 636f  er.....### `coco
-0002bc30: 6e75 742e 636f 6e76 656e 6965 6e63 6560  nut.convenience`
-0002bc40: 0d0a 0d0a 496e 2061 6464 6974 696f 6e20  ....In addition 
-0002bc50: 746f 2065 6e61 626c 696e 6720 6175 746f  to enabling auto
-0002bc60: 6d61 7469 6320 636f 6d70 696c 6174 696f  matic compilatio
-0002bc70: 6e2c 2060 636f 636f 6e75 742e 636f 6e76  n, `coconut.conv
-0002bc80: 656e 6965 6e63 6560 2063 616e 2061 6c73  enience` can als
-0002bc90: 6f20 6265 2075 7365 6420 746f 2063 616c  o be used to cal
-0002bca0: 6c20 7468 6520 436f 636f 6e75 7420 636f  l the Coconut co
-0002bcb0: 6d70 696c 6572 2066 726f 6d20 636f 6465  mpiler from code
-0002bcc0: 2069 6e73 7465 6164 206f 6620 6672 6f6d   instead of from
-0002bcd0: 2074 6865 2063 6f6d 6d61 6e64 206c 696e   the command lin
-0002bce0: 652e 2053 6565 2062 656c 6f77 2066 6f72  e. See below for
-0002bcf0: 2073 7065 6369 6669 6361 7469 6f6e 7320   specifications 
-0002bd00: 6f66 2074 6865 2064 6966 6665 7265 6e74  of the different
-0002bd10: 2063 6f6e 7665 6e69 656e 6365 2066 756e   convenience fun
-0002bd20: 6374 696f 6e73 2e0d 0a0d 0a23 2323 2320  ctions.....#### 
-0002bd30: 6067 6574 5f73 7461 7465 600d 0a0d 0a2a  `get_state`....*
-0002bd40: 2a63 6f63 6f6e 7574 2e63 6f6e 7665 6e69  *coconut.conveni
-0002bd50: 656e 6365 2e67 6574 5c5f 7374 6174 652a  ence.get\_state*
-0002bd60: 2a28 5f73 7461 7465 5f3d 604e 6f6e 6560  *(_state_=`None`
-0002bd70: 290d 0a0d 0a47 6574 7320 6120 7374 6174  )....Gets a stat
-0002bd80: 6520 6f62 6a65 6374 2077 6869 6368 2073  e object which s
-0002bd90: 746f 7265 7320 7468 6520 6375 7272 656e  tores the curren
-0002bda0: 7420 636f 6d70 696c 6174 696f 6e20 7061  t compilation pa
-0002bdb0: 7261 6d65 7465 7273 2e20 5374 6174 6520  rameters. State 
-0002bdc0: 6f62 6a65 6374 7320 6361 6e20 6265 2063  objects can be c
-0002bdd0: 6f6e 6669 6775 7265 6420 7769 7468 205b  onfigured with [
-0002bde0: 2a2a 7365 7475 702a 2a5d 2823 7365 7475  **setup**](#setu
-0002bdf0: 7029 206f 7220 5b2a 2a63 6d64 2a2a 5d28  p) or [**cmd**](
-0002be00: 2363 6d64 2920 616e 6420 7468 656e 2075  #cmd) and then u
-0002be10: 7365 6420 696e 205b 2a2a 7061 7273 652a  sed in [**parse*
-0002be20: 2a5d 2823 7061 7273 6529 206f 7220 5b2a  *](#parse) or [*
-0002be30: 2a63 6f63 6f6e 7574 5c5f 6576 616c 2a2a  *coconut\_eval**
-0002be40: 5d28 2363 6f63 6f6e 7574 5f65 7661 6c29  ](#coconut_eval)
-0002be50: 2e0d 0a0d 0a49 6620 5f73 7461 7465 5f20  .....If _state_ 
-0002be60: 6973 2060 4e6f 6e65 602c 2067 6574 7320  is `None`, gets 
-0002be70: 6120 6e65 7720 7374 6174 6520 6f62 6a65  a new state obje
-0002be80: 6374 2c20 7768 6572 6561 7320 6966 205f  ct, whereas if _
-0002be90: 7374 6174 655f 2069 7320 6046 616c 7365  state_ is `False
-0002bea0: 602c 2074 6865 2067 6c6f 6261 6c20 7374  `, the global st
-0002beb0: 6174 6520 6f62 6a65 6374 2069 7320 7265  ate object is re
-0002bec0: 7475 726e 6564 2e0d 0a0d 0a23 2323 2320  turned.....#### 
-0002bed0: 6070 6172 7365 600d 0a0d 0a2a 2a63 6f63  `parse`....**coc
-0002bee0: 6f6e 7574 2e63 6f6e 7665 6e69 656e 6365  onut.convenience
-0002bef0: 2e70 6172 7365 2a2a 285f 636f 6465 5f3d  .parse**(_code_=
-0002bf00: 6022 2260 2c20 5f6d 6f64 655f 3d60 2273  `""`, _mode_=`"s
-0002bf10: 7973 2260 2c20 5f73 7461 7465 5f3d 6046  ys"`, _state_=`F
-0002bf20: 616c 7365 602c 205f 6b65 6570 5c5f 696e  alse`, _keep\_in
-0002bf30: 7465 726e 616c 5c5f 7374 6174 655f 3d60  ternal\_state_=`
-0002bf40: 4e6f 6e65 6029 0d0a 0d0a 4c69 6b65 6c79  None`)....Likely
-0002bf50: 2074 6865 206d 6f73 7420 7573 6566 756c   the most useful
-0002bf60: 206f 6620 7468 6520 636f 6e76 656e 6965   of the convenie
-0002bf70: 6e63 6520 6675 6e63 7469 6f6e 732c 2060  nce functions, `
-0002bf80: 7061 7273 6560 2074 616b 6573 2043 6f63  parse` takes Coc
-0002bf90: 6f6e 7574 2063 6f64 6520 6173 2069 6e70  onut code as inp
-0002bfa0: 7574 2061 6e64 206f 7574 7075 7473 2074  ut and outputs t
-0002bfb0: 6865 2065 7175 6976 616c 656e 7420 636f  he equivalent co
-0002bfc0: 6d70 696c 6564 2050 7974 686f 6e20 636f  mpiled Python co
-0002bfd0: 6465 2e20 5f6d 6f64 655f 2069 7320 7573  de. _mode_ is us
-0002bfe0: 6564 2074 6f20 696e 6469 6361 7465 2074  ed to indicate t
-0002bff0: 6865 2063 6f6e 7465 7874 2066 6f72 2074  he context for t
-0002c000: 6865 2070 6172 7369 6e67 2061 6e64 205f  he parsing and _
-0002c010: 7374 6174 655f 2069 7320 7468 6520 7374  state_ is the st
-0002c020: 6174 6520 6f62 6a65 6374 2073 746f 7269  ate object stori
-0002c030: 6e67 2074 6865 2063 6f6d 7069 6c61 7469  ng the compilati
-0002c040: 6f6e 2070 6172 616d 6574 6572 7320 746f  on parameters to
-0002c050: 2075 7365 2061 7320 6f62 7461 696e 6564   use as obtained
-0002c060: 2066 726f 6d20 5b2a 2a67 6574 5f73 7461   from [**get_sta
-0002c070: 7465 2a2a 5d28 2367 6574 5f73 7461 7465  te**](#get_state
-0002c080: 2920 2869 6620 6046 616c 7365 602c 2075  ) (if `False`, u
-0002c090: 7365 7320 7468 6520 676c 6f62 616c 2073  ses the global s
-0002c0a0: 7461 7465 206f 626a 6563 7429 2e20 5f6b  tate object). _k
-0002c0b0: 6565 705c 5f69 6e74 6572 6e61 6c5c 5f73  eep\_internal\_s
-0002c0c0: 7461 7465 5f20 6465 7465 726d 696e 6573  tate_ determines
-0002c0d0: 2077 6865 7468 6572 2074 6865 2073 7461   whether the sta
-0002c0e0: 7465 206f 626a 6563 7420 7769 6c6c 206b  te object will k
-0002c0f0: 6565 7020 696e 7465 726e 616c 2073 7461  eep internal sta
-0002c100: 7465 2028 7375 6368 2061 7320 7768 6174  te (such as what
-0002c110: 205b 6375 7374 6f6d 206f 7065 7261 746f   [custom operato
-0002c120: 7273 5d28 2363 7573 746f 6d2d 6f70 6572  rs](#custom-oper
-0002c130: 6174 6f72 7329 2068 6176 6520 6265 656e  ators) have been
-0002c140: 2064 6563 6c61 7265 6429 e280 9469 6620   declared)...if 
-0002c150: 604e 6f6e 6560 2c20 696e 7465 726e 616c  `None`, internal
-0002c160: 2073 7461 7465 2077 696c 6c20 6265 206b   state will be k
-0002c170: 6570 7420 6966 6620 796f 7520 6172 6520  ept iff you are 
-0002c180: 6e6f 7420 7573 696e 6720 7468 6520 676c  not using the gl
-0002c190: 6f62 616c 205f 7374 6174 655f 2e0d 0a0d  obal _state_....
-0002c1a0: 0a49 6620 5f63 6f64 655f 2069 7320 6e6f  .If _code_ is no
-0002c1b0: 7420 7061 7373 6564 2c20 6070 6172 7365  t passed, `parse
-0002c1c0: 6020 7769 6c6c 206f 7574 7075 7420 6a75  ` will output ju
-0002c1d0: 7374 2074 6865 2067 6976 656e 205f 6d6f  st the given _mo
-0002c1e0: 6465 5f27 7320 6865 6164 6572 2c20 7768  de_'s header, wh
-0002c1f0: 6963 6820 6361 6e20 6265 2065 7865 6375  ich can be execu
-0002c200: 7465 6420 746f 2073 6574 2075 7020 616e  ted to set up an
-0002c210: 2065 7865 6375 7469 6f6e 2065 6e76 6972   execution envir
-0002c220: 6f6e 6d65 6e74 2069 6e20 7768 6963 6820  onment in which 
-0002c230: 6675 7475 7265 2063 6f64 6520 6361 6e20  future code can 
-0002c240: 6265 2070 6172 7365 6420 616e 6420 6578  be parsed and ex
-0002c250: 6563 7574 6564 2077 6974 686f 7574 2061  ecuted without a
-0002c260: 2068 6561 6465 722e 0d0a 0d0a 4561 6368   header.....Each
-0002c270: 205f 6d6f 6465 5f20 6861 7320 7477 6f20   _mode_ has two 
-0002c280: 636f 6d70 6f6e 656e 7473 3a20 7768 6174  components: what
-0002c290: 2070 6172 7365 7220 6974 2075 7365 732c   parser it uses,
-0002c2a0: 2061 6e64 2077 6861 7420 6865 6164 6572   and what header
-0002c2b0: 2069 7420 7072 6570 656e 6473 2e20 5468   it prepends. Th
-0002c2c0: 6520 7061 7273 6572 2064 6574 6572 6d69  e parser determi
-0002c2d0: 6e65 7320 7768 6174 2043 6f63 6f6e 7574  nes what Coconut
-0002c2e0: 2063 6f64 6520 6973 2061 6c6c 6f77 6564   code is allowed
-0002c2f0: 2061 7320 696e 7075 742c 2061 6e64 2074   as input, and t
-0002c300: 6865 2068 6561 6465 7220 6465 7465 726d  he header determ
-0002c310: 696e 6573 2068 6f77 2074 6865 2063 6f6d  ines how the com
-0002c320: 7069 6c65 6420 5079 7468 6f6e 2063 616e  piled Python can
-0002c330: 2062 6520 7573 6564 2e20 506f 7373 6962   be used. Possib
-0002c340: 6c65 2076 616c 7565 7320 6f66 205f 6d6f  le values of _mo
-0002c350: 6465 5f20 6172 653a 0d0a 0d0a 2d20 6022  de_ are:....- `"
-0002c360: 7379 7322 603a 2028 7468 6520 6465 6661  sys"`: (the defa
-0002c370: 756c 7429 0d0a 2020 2020 2b20 7061 7273  ult)..    + pars
-0002c380: 6572 3a20 6669 6c65 0d0a 2020 2020 2020  er: file..      
-0002c390: 2020 2a20 5468 6520 6669 6c65 2070 6172    * The file par
-0002c3a0: 7365 7220 6361 6e20 7061 7273 6520 616e  ser can parse an
-0002c3b0: 7920 436f 636f 6e75 7420 636f 6465 2e0d  y Coconut code..
-0002c3c0: 0a20 2020 202b 2068 6561 6465 723a 2073  .    + header: s
-0002c3d0: 7973 0d0a 2020 2020 2020 2020 2a20 5468  ys..        * Th
-0002c3e0: 6973 2068 6561 6465 7220 696d 706f 7274  is header import
-0002c3f0: 7320 5b60 636f 636f 6e75 742e 5f5f 636f  s [`coconut.__co
-0002c400: 636f 6e75 745f 5f60 5d28 2363 6f63 6f6e  conut__`](#cocon
-0002c410: 7574 2d63 6f63 6f6e 7574 2920 746f 2061  ut-coconut) to a
-0002c420: 6363 6573 7320 7468 6520 6e65 6365 7373  ccess the necess
-0002c430: 6172 7920 436f 636f 6e75 7420 6f62 6a65  ary Coconut obje
-0002c440: 6374 732e 0d0a 2d20 6022 6578 6563 2260  cts...- `"exec"`
-0002c450: 3a0d 0a20 2020 202b 2070 6172 7365 723a  :..    + parser:
-0002c460: 2066 696c 650d 0a20 2020 202b 2068 6561   file..    + hea
-0002c470: 6465 723a 2065 7865 630d 0a20 2020 2020  der: exec..     
-0002c480: 2020 202a 2057 6865 6e20 7061 7373 6564     * When passed
-0002c490: 2074 6f20 6065 7865 6360 2061 7420 7468   to `exec` at th
-0002c4a0: 6520 676c 6f62 616c 206c 6576 656c 2c20  e global level, 
-0002c4b0: 7468 6973 2068 6561 6465 7220 7769 6c6c  this header will
-0002c4c0: 2063 7265 6174 6520 616c 6c20 7468 6520   create all the 
-0002c4d0: 6e65 6365 7373 6172 7920 436f 636f 6e75  necessary Coconu
-0002c4e0: 7420 6f62 6a65 6374 7320 6974 7365 6c66  t objects itself
-0002c4f0: 2069 6e73 7465 6164 206f 6620 696d 706f   instead of impo
-0002c500: 7274 696e 6720 7468 656d 2e0d 0a2d 2060  rting them...- `
-0002c510: 2266 696c 6522 603a 0d0a 2020 2020 2b20  "file"`:..    + 
-0002c520: 7061 7273 6572 3a20 6669 6c65 0d0a 2020  parser: file..  
-0002c530: 2020 2b20 6865 6164 6572 3a20 6669 6c65    + header: file
-0002c540: 0d0a 2020 2020 2020 2020 2a20 5468 6973  ..        * This
-0002c550: 2068 6561 6465 7220 6973 206d 6561 6e74   header is meant
-0002c560: 2074 6f20 6265 2077 7269 7474 656e 2074   to be written t
-0002c570: 6f20 6120 602d 2d73 7461 6e64 616c 6f6e  o a `--standalon
-0002c580: 6560 2066 696c 6520 616e 6420 7368 6f75  e` file and shou
-0002c590: 6c64 206e 6f74 2062 6520 7061 7373 6564  ld not be passed
-0002c5a0: 2074 6f20 6065 7865 6360 2e0d 0a2d 2060   to `exec`...- `
-0002c5b0: 2270 6163 6b61 6765 2260 3a0d 0a20 2020  "package"`:..   
-0002c5c0: 202b 2070 6172 7365 723a 2066 696c 650d   + parser: file.
-0002c5d0: 0a20 2020 202b 2068 6561 6465 723a 2070  .    + header: p
-0002c5e0: 6163 6b61 6765 0d0a 2020 2020 2020 2020  ackage..        
-0002c5f0: 2a20 5468 6973 2068 6561 6465 7220 6973  * This header is
-0002c600: 206d 6561 6e74 2074 6f20 6265 2077 7269   meant to be wri
-0002c610: 7474 656e 2074 6f20 6120 602d 2d70 6163  tten to a `--pac
-0002c620: 6b61 6765 6020 6669 6c65 2061 6e64 2073  kage` file and s
-0002c630: 686f 756c 6420 6e6f 7420 6265 2070 6173  hould not be pas
-0002c640: 7365 6420 746f 2060 6578 6563 602e 0d0a  sed to `exec`...
-0002c650: 2d20 6022 626c 6f63 6b22 603a 0d0a 2020  - `"block"`:..  
-0002c660: 2020 2b20 7061 7273 6572 3a20 6669 6c65    + parser: file
-0002c670: 0d0a 2020 2020 2b20 6865 6164 6572 3a20  ..    + header: 
-0002c680: 6e6f 6e65 0d0a 2020 2020 2020 2020 2a20  none..        * 
-0002c690: 4e6f 2068 6561 6465 7220 6973 2069 6e63  No header is inc
-0002c6a0: 6c75 6465 642c 2074 6875 7320 7468 6973  luded, thus this
-0002c6b0: 2063 616e 206f 6e6c 7920 6265 2070 6173   can only be pas
-0002c6c0: 7365 6420 746f 2060 6578 6563 6020 6966  sed to `exec` if
-0002c6d0: 2063 6f64 6520 7769 7468 2061 2068 6561   code with a hea
-0002c6e0: 6465 7220 6861 7320 616c 7265 6164 7920  der has already 
-0002c6f0: 6265 656e 2065 7865 6375 7465 6420 6174  been executed at
-0002c700: 2074 6865 2067 6c6f 6261 6c20 6c65 7665   the global leve
-0002c710: 6c2e 0d0a 2d20 6022 7369 6e67 6c65 2260  l...- `"single"`
-0002c720: 3a0d 0a20 2020 202b 2070 6172 7365 723a  :..    + parser:
-0002c730: 2073 696e 676c 650d 0a20 2020 2020 2020   single..       
-0002c740: 202a 2043 616e 206f 6e6c 7920 7061 7273   * Can only pars
-0002c750: 6520 6f6e 6520 6c69 6e65 206f 6620 436f  e one line of Co
-0002c760: 636f 6e75 7420 636f 6465 2e0d 0a20 2020  conut code...   
-0002c770: 202b 2068 6561 6465 723a 206e 6f6e 650d   + header: none.
-0002c780: 0a2d 2060 2265 7661 6c22 603a 0d0a 2020  .- `"eval"`:..  
-0002c790: 2020 2b20 7061 7273 6572 3a20 6576 616c    + parser: eval
-0002c7a0: 0d0a 2020 2020 2020 2020 2a20 4361 6e20  ..        * Can 
-0002c7b0: 6f6e 6c79 2070 6172 7365 2061 2043 6f63  only parse a Coc
-0002c7c0: 6f6e 7574 2065 7870 7265 7373 696f 6e2c  onut expression,
-0002c7d0: 206e 6f74 2061 2073 7461 7465 6d65 6e74   not a statement
-0002c7e0: 2e0d 0a20 2020 202b 2068 6561 6465 723a  ...    + header:
-0002c7f0: 206e 6f6e 650d 0a2d 2060 226c 656e 6965   none..- `"lenie
-0002c800: 6e74 2260 3a0d 0a20 2020 202b 2070 6172  nt"`:..    + par
-0002c810: 7365 723a 206c 656e 6965 6e74 0d0a 2020  ser: lenient..  
-0002c820: 2020 2020 2020 2a20 4361 6e20 7061 7273        * Can pars
-0002c830: 6520 616e 7920 436f 636f 6e75 7420 636f  e any Coconut co
-0002c840: 6465 2c20 616c 6c6f 7773 206c 6561 6469  de, allows leadi
-0002c850: 6e67 2077 6869 7465 7370 6163 652c 2061  ng whitespace, a
-0002c860: 6e64 2068 6173 206e 6f20 7472 6169 6c69  nd has no traili
-0002c870: 6e67 206e 6577 6c69 6e65 2e0d 0a20 2020  ng newline...   
-0002c880: 202b 2068 6561 6465 723a 206e 6f6e 650d   + header: none.
-0002c890: 0a2d 2060 2278 6f6e 7368 2260 3a0d 0a20  .- `"xonsh"`:.. 
-0002c8a0: 2020 202b 2070 6172 7365 723a 2078 6f6e     + parser: xon
-0002c8b0: 7368 0d0a 2020 2020 2020 2020 2a20 5061  sh..        * Pa
-0002c8c0: 7273 6573 2043 6f63 6f6e 7574 205b 6078  rses Coconut [`x
-0002c8d0: 6f6e 7368 605d 2868 7474 7073 3a2f 2f78  onsh`](https://x
-0002c8e0: 6f6e 2e73 6829 2063 6f64 6520 666f 7220  on.sh) code for 
-0002c8f0: 7573 6520 696e 205b 436f 636f 6e75 7427  use in [Coconut'
-0002c900: 7320 6078 6f6e 7368 6020 7375 7070 6f72  s `xonsh` suppor
-0002c910: 745d 2823 786f 6e73 682d 7375 7070 6f72  t](#xonsh-suppor
-0002c920: 7429 2e0d 0a20 2020 202b 2068 6561 6465  t)...    + heade
-0002c930: 723a 206e 6f6e 650d 0a0d 0a23 2323 2323  r: none....#####
-0002c940: 2045 7861 6d70 6c65 0d0a 0d0a 6060 6063   Example....```c
-0002c950: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a66  oconut_python..f
-0002c960: 726f 6d20 636f 636f 6e75 742e 636f 6e76  rom coconut.conv
-0002c970: 656e 6965 6e63 6520 696d 706f 7274 2070  enience import p
-0002c980: 6172 7365 0d0a 6578 6563 2870 6172 7365  arse..exec(parse
-0002c990: 2829 290d 0a77 6869 6c65 2054 7275 653a  ())..while True:
-0002c9a0: 0d0a 2020 2020 6578 6563 2870 6172 7365  ..    exec(parse
-0002c9b0: 2869 6e70 7574 2829 2c20 6d6f 6465 3d22  (input(), mode="
-0002c9c0: 626c 6f63 6b22 2929 0d0a 6060 600d 0a0d  block"))..```...
-0002c9d0: 0a23 2323 2320 6073 6574 7570 600d 0a0d  .#### `setup`...
-0002c9e0: 0a2a 2a63 6f63 6f6e 7574 2e63 6f6e 7665  .**coconut.conve
-0002c9f0: 6e69 656e 6365 2e73 6574 7570 2a2a 285f  nience.setup**(_
-0002ca00: 7461 7267 6574 5f3d 604e 6f6e 6560 2c20  target_=`None`, 
-0002ca10: 5f73 7472 6963 745f 3d60 4661 6c73 6560  _strict_=`False`
-0002ca20: 2c20 5f6d 696e 6966 795f 3d60 4661 6c73  , _minify_=`Fals
-0002ca30: 6560 2c20 5f6c 696e 655c 5f6e 756d 6265  e`, _line\_numbe
-0002ca40: 7273 5f3d 6046 616c 7365 602c 205f 6b65  rs_=`False`, _ke
-0002ca50: 6570 5c5f 6c69 6e65 735f 3d60 4661 6c73  ep\_lines_=`Fals
-0002ca60: 6560 2c20 5f6e 6f5c 5f74 636f 5f3d 6046  e`, _no\_tco_=`F
-0002ca70: 616c 7365 602c 205f 6e6f 5c5f 7772 6170  alse`, _no\_wrap
-0002ca80: 5f3d 6046 616c 7365 602c 202a 2c20 5f73  _=`False`, *, _s
-0002ca90: 7461 7465 5f3d 6046 616c 7365 6029 0d0a  tate_=`False`)..
-0002caa0: 0d0a 6073 6574 7570 6020 6361 6e20 6265  ..`setup` can be
-0002cab0: 2075 7365 6420 746f 2073 6574 2075 7020   used to set up 
-0002cac0: 7468 6520 6769 7665 6e20 7374 6174 6520  the given state 
-0002cad0: 6f62 6a65 6374 2077 6974 6820 7468 6520  object with the 
-0002cae0: 6769 7665 6e20 636f 6d6d 616e 642d 6c69  given command-li
-0002caf0: 6e65 2066 6c61 6773 2e20 4966 205f 7374  ne flags. If _st
-0002cb00: 6174 655f 2069 7320 6046 616c 7365 602c  ate_ is `False`,
-0002cb10: 2074 6865 2067 6c6f 6261 6c20 7374 6174   the global stat
-0002cb20: 6520 6f62 6a65 6374 2069 7320 7573 6564  e object is used
-0002cb30: 2e0d 0a0d 0a54 6865 2070 6f73 7369 626c  .....The possibl
-0002cb40: 6520 7661 6c75 6573 2066 6f72 2065 6163  e values for eac
-0002cb50: 6820 666c 6167 2061 7267 756d 656e 7420  h flag argument 
-0002cb60: 6172 653a 0d0a 0d0a 2d20 5f74 6172 6765  are:....- _targe
-0002cb70: 745f 3a20 604e 6f6e 6560 2028 6465 6661  t_: `None` (defa
-0002cb80: 756c 7429 2c20 6f72 2061 6e79 205b 616c  ult), or any [al
-0002cb90: 6c6f 7761 626c 6520 7461 7267 6574 5d28  lowable target](
-0002cba0: 2361 6c6c 6f77 6162 6c65 2d74 6172 6765  #allowable-targe
-0002cbb0: 7473 290d 0a2d 205f 7374 7269 6374 5f3a  ts)..- _strict_:
-0002cbc0: 2060 4661 6c73 6560 2028 6465 6661 756c   `False` (defaul
-0002cbd0: 7429 206f 7220 6054 7275 6560 0d0a 2d20  t) or `True`..- 
-0002cbe0: 5f6d 696e 6966 795f 3a20 6046 616c 7365  _minify_: `False
-0002cbf0: 6020 2864 6566 6175 6c74 2920 6f72 2060  ` (default) or `
-0002cc00: 5472 7565 600d 0a2d 205f 6c69 6e65 5c5f  True`..- _line\_
-0002cc10: 6e75 6d62 6572 735f 3a20 6046 616c 7365  numbers_: `False
-0002cc20: 6020 2864 6566 6175 6c74 2920 6f72 2060  ` (default) or `
-0002cc30: 5472 7565 600d 0a2d 205f 6b65 6570 5c5f  True`..- _keep\_
-0002cc40: 6c69 6e65 735f 3a20 6046 616c 7365 6020  lines_: `False` 
-0002cc50: 2864 6566 6175 6c74 2920 6f72 2060 5472  (default) or `Tr
-0002cc60: 7565 600d 0a2d 205f 6e6f 5c5f 7463 6f5f  ue`..- _no\_tco_
-0002cc70: 3a20 6046 616c 7365 6020 2864 6566 6175  : `False` (defau
-0002cc80: 6c74 2920 6f72 2060 5472 7565 600d 0a2d  lt) or `True`..-
-0002cc90: 205f 6e6f 5c5f 7772 6170 5f3a 2060 4661   _no\_wrap_: `Fa
-0002cca0: 6c73 6560 2028 6465 6661 756c 7429 206f  lse` (default) o
-0002ccb0: 7220 6054 7275 6560 0d0a 0d0a 2323 2323  r `True`....####
-0002ccc0: 2060 636d 6460 0d0a 0d0a 2a2a 636f 636f   `cmd`....**coco
-0002ccd0: 6e75 742e 636f 6e76 656e 6965 6e63 652e  nut.convenience.
-0002cce0: 636d 642a 2a28 5f61 7267 735f 3d60 4e6f  cmd**(_args_=`No
-0002ccf0: 6e65 602c 202a 2c20 5f61 7267 765f 3d60  ne`, *, _argv_=`
-0002cd00: 4e6f 6e65 602c 205f 696e 7465 7261 6374  None`, _interact
-0002cd10: 5f3d 6046 616c 7365 602c 205f 6465 6661  _=`False`, _defa
-0002cd20: 756c 745c 5f74 6172 6765 745f 3d60 4e6f  ult\_target_=`No
-0002cd30: 6e65 602c 205f 7374 6174 655f 3d60 4661  ne`, _state_=`Fa
-0002cd40: 6c73 6560 290d 0a0d 0a45 7865 6375 7465  lse`)....Execute
-0002cd50: 7320 7468 6520 6769 7665 6e20 5f61 7267  s the given _arg
-0002cd60: 735f 2061 7320 6966 2074 6865 7920 7765  s_ as if they we
-0002cd70: 7265 2066 6564 2074 6f20 6063 6f63 6f6e  re fed to `cocon
-0002cd80: 7574 6020 6f6e 2074 6865 2063 6f6d 6d61  ut` on the comma
-0002cd90: 6e64 2d6c 696e 652c 2077 6974 6820 7468  nd-line, with th
-0002cda0: 6520 6578 6365 7074 696f 6e20 7468 6174  e exception that
-0002cdb0: 2075 6e6c 6573 7320 5f69 6e74 6572 6163   unless _interac
-0002cdc0: 745f 2069 7320 7472 7565 206f 7220 602d  t_ is true or `-
-0002cdd0: 6960 2069 7320 7061 7373 6564 2c20 7468  i` is passed, th
-0002cde0: 6520 696e 7465 7270 7265 7465 7220 7769  e interpreter wi
-0002cdf0: 6c6c 206e 6f74 2062 6520 7374 6172 7465  ll not be starte
-0002ce00: 642e 2041 6464 6974 696f 6e61 6c6c 792c  d. Additionally,
-0002ce10: 205f 6172 6776 5f20 6361 6e20 6265 2075   _argv_ can be u
-0002ce20: 7365 6420 746f 2070 6173 7320 696e 2061  sed to pass in a
-0002ce30: 7267 756d 656e 7473 2061 7320 696e 2060  rguments as in `
-0002ce40: 2d2d 6172 6776 6020 616e 6420 5f64 6566  --argv` and _def
-0002ce50: 6175 6c74 5c5f 7461 7267 6574 5f20 6361  ault\_target_ ca
-0002ce60: 6e20 6265 2075 7365 6420 746f 2073 6574  n be used to set
-0002ce70: 2074 6865 2064 6566 6175 6c74 2060 2d2d   the default `--
-0002ce80: 7461 7267 6574 602e 0d0a 0d0a 4861 7320  target`.....Has 
-0002ce90: 7468 6520 7361 6d65 2065 6666 6563 7420  the same effect 
-0002cea0: 6f66 2073 6574 7469 6e67 2074 6865 2063  of setting the c
-0002ceb0: 6f6d 6d61 6e64 2d6c 696e 6520 666c 6167  ommand-line flag
-0002cec0: 7320 6f6e 2074 6865 2067 6976 656e 205f  s on the given _
-0002ced0: 7374 6174 655f 206f 626a 6563 7420 6173  state_ object as
-0002cee0: 2060 7365 7475 7060 2028 7769 7468 2074   `setup` (with t
-0002cef0: 6865 2067 6c6f 6261 6c20 6073 7461 7465  he global `state
-0002cf00: 6020 6f62 6a65 6374 2075 7365 6420 7768  ` object used wh
-0002cf10: 656e 205f 7374 6174 655f 2069 7320 6046  en _state_ is `F
-0002cf20: 616c 7365 6029 2e0d 0a0d 0a23 2323 2320  alse`).....#### 
-0002cf30: 6063 6f63 6f6e 7574 5f65 7661 6c60 0d0a  `coconut_eval`..
-0002cf40: 0d0a 2a2a 636f 636f 6e75 742e 636f 6e76  ..**coconut.conv
-0002cf50: 656e 6965 6e63 652e 636f 636f 6e75 745f  enience.coconut_
-0002cf60: 6576 616c 2a2a 285f 6578 7072 6573 7369  eval**(_expressi
-0002cf70: 6f6e 5f2c 205f 676c 6f62 616c 735f 3d60  on_, _globals_=`
-0002cf80: 4e6f 6e65 602c 205f 6c6f 6361 6c73 5f3d  None`, _locals_=
-0002cf90: 604e 6f6e 6560 2c20 5f73 7461 7465 5f3d  `None`, _state_=
-0002cfa0: 6046 616c 7365 602c 205f 6b65 6570 5c5f  `False`, _keep\_
-0002cfb0: 696e 7465 726e 616c 5c5f 7374 6174 655f  internal\_state_
-0002cfc0: 3d60 4e6f 6e65 6029 0d0a 0d0a 5665 7273  =`None`)....Vers
-0002cfd0: 696f 6e20 6f66 205b 6065 7661 6c60 5d28  ion of [`eval`](
-0002cfe0: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-0002cff0: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-0002d000: 792f 6675 6e63 7469 6f6e 732e 6874 6d6c  y/functions.html
-0002d010: 2365 7661 6c29 2077 6869 6368 2063 616e  #eval) which can
-0002d020: 2065 7661 6c75 6174 6520 436f 636f 6e75   evaluate Coconu
-0002d030: 7420 636f 6465 2e0d 0a0d 0a23 2323 2320  t code.....#### 
-0002d040: 6076 6572 7369 6f6e 600d 0a0d 0a2a 2a63  `version`....**c
-0002d050: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
-0002d060: 6365 2e76 6572 7369 6f6e 2a2a 282a 2a5b  ce.version**(**[
-0002d070: 2a2a 5f77 6869 6368 5f2a 2a5d 2a2a 290d  **_which_**]**).
-0002d080: 0a0d 0a52 6574 7269 6576 6573 2061 2073  ...Retrieves a s
-0002d090: 7472 696e 6720 636f 6e74 6169 6e69 6e67  tring containing
-0002d0a0: 2069 6e66 6f72 6d61 7469 6f6e 2061 626f   information abo
-0002d0b0: 7574 2074 6865 2043 6f63 6f6e 7574 2076  ut the Coconut v
-0002d0c0: 6572 7369 6f6e 2e20 5468 6520 6f70 7469  ersion. The opti
-0002d0d0: 6f6e 616c 2061 7267 756d 656e 7420 5f77  onal argument _w
-0002d0e0: 6869 6368 5f20 6973 2074 6865 2074 7970  hich_ is the typ
-0002d0f0: 6520 6f66 2076 6572 7369 6f6e 2069 6e66  e of version inf
-0002d100: 6f72 6d61 7469 6f6e 2064 6573 6972 6564  ormation desired
-0002d110: 2e20 506f 7373 6962 6c65 2076 616c 7565  . Possible value
-0002d120: 7320 6f66 205f 7768 6963 685f 2061 7265  s of _which_ are
-0002d130: 3a0d 0a0d 0a2d 2060 226e 756d 2260 3a20  :....- `"num"`: 
-0002d140: 7468 6520 6e75 6d65 7269 6361 6c20 7665  the numerical ve
-0002d150: 7273 696f 6e20 2874 6865 2064 6566 6175  rsion (the defau
-0002d160: 6c74 290d 0a2d 2060 226e 616d 6522 603a  lt)..- `"name"`:
-0002d170: 2074 6865 2076 6572 7369 6f6e 2063 6f64   the version cod
-0002d180: 656e 616d 650d 0a2d 2060 2273 7065 6322  ename..- `"spec"
-0002d190: 603a 2074 6865 206e 756d 6572 6963 616c  `: the numerical
-0002d1a0: 2076 6572 7369 6f6e 2077 6974 6820 7468   version with th
-0002d1b0: 6520 636f 6465 6e61 6d65 2061 7474 6163  e codename attac
-0002d1c0: 6865 640d 0a2d 2060 2274 6167 2260 3a20  hed..- `"tag"`: 
-0002d1d0: 7468 6520 7665 7273 696f 6e20 7461 6720  the version tag 
-0002d1e0: 7573 6564 2069 6e20 4769 7448 7562 2061  used in GitHub a
-0002d1f0: 6e64 2064 6f63 756d 656e 7461 7469 6f6e  nd documentation
-0002d200: 2055 524c 730d 0a2d 2060 222d 7622 603a   URLs..- `"-v"`:
-0002d210: 2074 6865 2066 756c 6c20 7374 7269 6e67   the full string
-0002d220: 2070 7269 6e74 6564 2062 7920 6063 6f63   printed by `coc
-0002d230: 6f6e 7574 202d 7660 0d0a 0d0a 2323 2323  onut -v`....####
-0002d240: 2060 6175 746f 5f63 6f6d 7069 6c61 7469   `auto_compilati
-0002d250: 6f6e 600d 0a0d 0a2a 2a63 6f63 6f6e 7574  on`....**coconut
-0002d260: 2e63 6f6e 7665 6e69 656e 6365 2e61 7574  .convenience.aut
-0002d270: 6f5f 636f 6d70 696c 6174 696f 6e2a 2a28  o_compilation**(
-0002d280: 5f6f 6e5f 3d60 5472 7565 6029 0d0a 0d0a  _on_=`True`)....
-0002d290: 5475 726e 7320 5b61 7574 6f6d 6174 6963  Turns [automatic
-0002d2a0: 2063 6f6d 7069 6c61 7469 6f6e 5d28 2361   compilation](#a
-0002d2b0: 7574 6f6d 6174 6963 2d63 6f6d 7069 6c61  utomatic-compila
-0002d2c0: 7469 6f6e 2920 6f6e 206f 7220 6f66 662e  tion) on or off.
-0002d2d0: 2054 6869 7320 6675 6e63 7469 6f6e 2069   This function i
-0002d2e0: 7320 6361 6c6c 6564 2061 7574 6f6d 6174  s called automat
-0002d2f0: 6963 616c 6c79 2077 6865 6e20 6063 6f63  ically when `coc
-0002d300: 6f6e 7574 2e63 6f6e 7665 6e69 656e 6365  onut.convenience
-0002d310: 6020 6973 2069 6d70 6f72 7465 642e 0d0a  ` is imported...
-0002d320: 0d0a 2323 2323 2060 7573 655f 636f 636f  ..#### `use_coco
-0002d330: 6e75 745f 6272 6561 6b70 6f69 6e74 600d  nut_breakpoint`.
-0002d340: 0a0d 0a2a 2a63 6f63 6f6e 7574 2e63 6f6e  ...**coconut.con
-0002d350: 7665 6e69 656e 6365 2e75 7365 5f63 6f63  venience.use_coc
-0002d360: 6f6e 7574 5f62 7265 616b 706f 696e 742a  onut_breakpoint*
-0002d370: 2a28 5f6f 6e5f 3d60 5472 7565 6029 0d0a  *(_on_=`True`)..
-0002d380: 0d0a 5377 6974 6368 6573 2074 6865 205b  ..Switches the [
-0002d390: 6062 7265 616b 706f 696e 7460 2062 7569  `breakpoint` bui
-0002d3a0: 6c74 2d69 6e5d 2868 7474 7073 3a2f 2f77  lt-in](https://w
-0002d3b0: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-0002d3c0: 762f 7065 7073 2f70 6570 2d30 3535 332f  v/peps/pep-0553/
-0002d3d0: 2920 7768 6963 6820 436f 636f 6e75 7420  ) which Coconut 
-0002d3e0: 6d61 6b65 7320 756e 6976 6572 7361 6c6c  makes universall
-0002d3f0: 7920 6176 6169 6c61 626c 6520 746f 2075  y available to u
-0002d400: 7365 205b 6063 6f63 6f6e 7574 2e65 6d62  se [`coconut.emb
-0002d410: 6564 605d 2823 636f 636f 6e75 742d 656d  ed`](#coconut-em
-0002d420: 6265 6429 2069 6e73 7465 6164 206f 6620  bed) instead of 
-0002d430: 5b60 7064 622e 7365 745f 7472 6163 6560  [`pdb.set_trace`
-0002d440: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-0002d450: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-0002d460: 6172 792f 7064 622e 6874 6d6c 2370 6462  ary/pdb.html#pdb
-0002d470: 2e73 6574 5f74 7261 6365 2920 286f 7220  .set_trace) (or 
-0002d480: 756e 646f 6573 2074 6861 7420 7377 6974  undoes that swit
-0002d490: 6368 2069 6620 606f 6e3d 4661 6c73 6560  ch if `on=False`
-0002d4a0: 292e 2054 6869 7320 6675 6e63 7469 6f6e  ). This function
-0002d4b0: 2069 7320 6361 6c6c 6564 2061 7574 6f6d   is called autom
-0002d4c0: 6174 6963 616c 6c79 2077 6865 6e20 6063  atically when `c
-0002d4d0: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
-0002d4e0: 6365 6020 6973 2069 6d70 6f72 7465 642e  ce` is imported.
-0002d4f0: 0d0a 0d0a 2323 2323 2060 436f 636f 6e75  ....#### `Coconu
-0002d500: 7445 7863 6570 7469 6f6e 600d 0a0d 0a49  tException`....I
-0002d510: 6620 616e 2065 7272 6f72 2069 7320 656e  f an error is en
-0002d520: 636f 756e 7465 7265 6420 696e 2061 2063  countered in a c
-0002d530: 6f6e 7665 6e69 656e 6365 2066 756e 6374  onvenience funct
-0002d540: 696f 6e2c 2061 2060 436f 636f 6e75 7445  ion, a `CoconutE
-0002d550: 7863 6570 7469 6f6e 6020 696e 7374 616e  xception` instan
-0002d560: 6365 206d 6179 2062 6520 7261 6973 6564  ce may be raised
-0002d570: 2e20 6063 6f63 6f6e 7574 2e63 6f6e 7665  . `coconut.conve
-0002d580: 6e69 656e 6365 2e43 6f63 6f6e 7574 4578  nience.CoconutEx
-0002d590: 6365 7074 696f 6e60 2069 7320 7072 6f76  ception` is prov
-0002d5a0: 6964 6564 2074 6f20 616c 6c6f 7720 6361  ided to allow ca
-0002d5b0: 7463 6869 6e67 2073 7563 6820 6572 726f  tching such erro
-0002d5c0: 7273 2e0d 0a0d 0a23 2323 2060 636f 636f  rs.....### `coco
-0002d5d0: 6e75 742e 5f5f 636f 636f 6e75 745f 5f60  nut.__coconut__`
-0002d5e0: 0d0a 0d0a 4974 2069 7320 736f 6d65 7469  ....It is someti
-0002d5f0: 6d65 7320 7573 6566 756c 2074 6f20 6265  mes useful to be
-0002d600: 2061 626c 6520 746f 2061 6363 6573 7320   able to access 
-0002d610: 436f 636f 6e75 7420 6275 696c 742d 696e  Coconut built-in
-0002d620: 7320 6672 6f6d 2070 7572 6520 5079 7468  s from pure Pyth
-0002d630: 6f6e 2e20 546f 2061 6363 6f6d 706c 6973  on. To accomplis
-0002d640: 6820 7468 6973 2c20 436f 636f 6e75 7420  h this, Coconut 
-0002d650: 7072 6f76 6964 6573 2060 636f 636f 6e75  provides `coconu
-0002d660: 742e 5f5f 636f 636f 6e75 745f 5f60 2c20  t.__coconut__`, 
-0002d670: 7768 6963 6820 6265 6861 7665 7320 6578  which behaves ex
-0002d680: 6163 746c 7920 6c69 6b65 2074 6865 2060  actly like the `
-0002d690: 5f5f 636f 636f 6e75 745f 5f2e 7079 6020  __coconut__.py` 
-0002d6a0: 6865 6164 6572 2066 696c 6520 696e 636c  header file incl
-0002d6b0: 7564 6564 2077 6865 6e20 436f 636f 6e75  uded when Coconu
-0002d6c0: 7420 6973 2063 6f6d 7069 6c65 6420 696e  t is compiled in
-0002d6d0: 2070 6163 6b61 6765 206d 6f64 652e 0d0a   package mode...
-0002d6e0: 0d0a 416c 6c20 436f 636f 6e75 7420 6275  ..All Coconut bu
-0002d6f0: 696c 742d 696e 7320 6172 6520 6163 6365  ilt-ins are acce
-0002d700: 7373 6962 6c65 2066 726f 6d20 6063 6f63  ssible from `coc
-0002d710: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
-0002d720: 602e 2054 6865 2072 6563 6f6d 6d65 6e64  `. The recommend
-0002d730: 6564 2077 6179 2074 6f20 696d 706f 7274  ed way to import
-0002d740: 2074 6865 6d20 6973 2074 6f20 7573 6520   them is to use 
-0002d750: 6066 726f 6d20 636f 636f 6e75 742e 5f5f  `from coconut.__
-0002d760: 636f 636f 6e75 745f 5f20 696d 706f 7274  coconut__ import
-0002d770: 6020 616e 6420 696d 706f 7274 2077 6861  ` and import wha
-0002d780: 7465 7665 7220 6275 696c 742d 696e 7320  tever built-ins 
-0002d790: 796f 7527 6c6c 2062 6520 7573 696e 672e  you'll be using.
-0002d7a0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-0002d7b0: 650d 0a0d 0a60 6060 636f 636f 6e75 745f  e....```coconut_
-0002d7c0: 7079 7468 6f6e 0d0a 6672 6f6d 2063 6f63  python..from coc
-0002d7d0: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
-0002d7e0: 2069 6d70 6f72 7420 7061 7261 6c6c 656c   import parallel
-0002d7f0: 5f6d 6170 0d0a 6060 600d 0a              _map..```..
+000022c0: 206e 756d 6265 7220 6f66 2061 6464 6974   number of addit
+000022d0: 696f 6e61 6c20 7072 6f63 6573 7365 7320  ional processes 
+000022e0: 746f 2075 7365 2028 6465 6661 756c 7473  to use (defaults
+000022f0: 2074 6f20 2773 7973 2729 2028 3020 6973   to 'sys') (0 is
+00002300: 206e 6f0d 0a20 2020 2020 2020 2020 2020   no..           
+00002310: 2020 2020 2020 2020 2020 2020 2061 6464               add
+00002320: 6974 696f 6e61 6c20 7072 6f63 6573 7365  itional processe
+00002330: 733b 2027 7379 7327 2075 7365 7320 6d61  s; 'sys' uses ma
+00002340: 6368 696e 6520 6465 6661 756c 7429 0d0a  chine default)..
+00002350: 2020 2d66 2c20 2d2d 666f 7263 6520 2020    -f, --force   
+00002360: 2020 2020 2020 2020 666f 7263 6520 7265          force re
+00002370: 2d63 6f6d 7069 6c61 7469 6f6e 2065 7665  -compilation eve
+00002380: 6e20 7768 656e 2073 6f75 7263 6520 636f  n when source co
+00002390: 6465 2061 6e64 2063 6f6d 7069 6c61 7469  de and compilati
+000023a0: 6f6e 2070 6172 616d 6574 6572 730d 0a20  on parameters.. 
+000023b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023c0: 2020 2020 2020 2068 6176 656e 2774 2063         haven't c
+000023d0: 6861 6e67 6564 0d0a 2020 2d2d 6d69 6e69  hanged..  --mini
+000023e0: 6679 2020 2020 2020 2020 2020 2020 2020  fy              
+000023f0: 7265 6475 6365 2073 697a 6520 6f66 2063  reduce size of c
+00002400: 6f6d 7069 6c65 6420 5079 7468 6f6e 0d0a  ompiled Python..
+00002410: 2020 2d2d 6a75 7079 7465 7220 2e2e 2e2c    --jupyter ...,
+00002420: 202d 2d69 7079 7468 6f6e 202e 2e2e 0d0a   --ipython .....
+00002430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002440: 2020 2020 2020 2020 7275 6e20 4a75 7079          run Jupy
+00002450: 7465 722f 4950 7974 686f 6e20 7769 7468  ter/IPython with
+00002460: 2043 6f63 6f6e 7574 2061 7320 7468 6520   Coconut as the 
+00002470: 6b65 726e 656c 2028 7265 6d61 696e 696e  kernel (remainin
+00002480: 6720 6172 6773 2070 6173 7365 640d 0a20  g args passed.. 
+00002490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024a0: 2020 2020 2020 2074 6f20 4a75 7079 7465         to Jupyte
+000024b0: 7229 0d0a 2020 2d2d 6d79 7079 202e 2e2e  r)..  --mypy ...
+000024c0: 2020 2020 2020 2020 2020 2020 7275 6e20              run 
+000024d0: 4d79 5079 206f 6e20 636f 6d70 696c 6564  MyPy on compiled
+000024e0: 2050 7974 686f 6e20 2872 656d 6169 6e69   Python (remaini
+000024f0: 6e67 2061 7267 7320 7061 7373 6564 2074  ng args passed t
+00002500: 6f20 4d79 5079 2920 2869 6d70 6c69 6573  o MyPy) (implies
+00002510: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002520: 2020 2020 2020 2020 2020 2d2d 7061 636b            --pack
+00002530: 6167 6529 0d0a 2020 2d2d 6172 6776 202e  age)..  --argv .
+00002540: 2e2e 2c20 2d2d 6172 6773 202e 2e2e 0d0a  .., --args .....
+00002550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002560: 2020 2020 2020 2020 7365 7420 7379 732e          set sys.
+00002570: 6172 6776 2074 6f20 736f 7572 6365 2070  argv to source p
+00002580: 6c75 7320 7265 6d61 696e 696e 6720 6172  lus remaining ar
+00002590: 6773 2066 6f72 2075 7365 2069 6e20 7468  gs for use in th
+000025a0: 6520 436f 636f 6e75 740d 0a20 2020 2020  e Coconut..     
+000025b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025c0: 2020 2073 6372 6970 7420 6265 696e 6720     script being 
+000025d0: 7275 6e0d 0a20 202d 2d74 7574 6f72 6961  run..  --tutoria
+000025e0: 6c20 2020 2020 2020 2020 2020 206f 7065  l            ope
+000025f0: 6e20 436f 636f 6e75 7427 7320 7475 746f  n Coconut's tuto
+00002600: 7269 616c 2069 6e20 7468 6520 6465 6661  rial in the defa
+00002610: 756c 7420 7765 6220 6272 6f77 7365 720d  ult web browser.
+00002620: 0a20 202d 2d64 6f63 732c 202d 2d64 6f63  .  --docs, --doc
+00002630: 756d 656e 7461 7469 6f6e 0d0a 2020 2020  umentation..    
+00002640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002650: 2020 2020 6f70 656e 2043 6f63 6f6e 7574      open Coconut
+00002660: 2773 2064 6f63 756d 656e 7461 7469 6f6e  's documentation
+00002670: 2069 6e20 7468 6520 6465 6661 756c 7420   in the default 
+00002680: 7765 6220 6272 6f77 7365 720d 0a20 202d  web browser..  -
+00002690: 2d73 7479 6c65 206e 616d 6520 2020 2020  -style name     
+000026a0: 2020 2020 2073 6574 2050 7967 6d65 6e74       set Pygment
+000026b0: 7320 7379 6e74 6178 2068 6967 686c 6967  s syntax highlig
+000026c0: 6874 696e 6720 7374 796c 6520 286f 7220  hting style (or 
+000026d0: 276c 6973 7427 2074 6f20 6c69 7374 2073  'list' to list s
+000026e0: 7479 6c65 7329 0d0a 2020 2020 2020 2020  tyles)..        
+000026f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002700: 2864 6566 6175 6c74 7320 746f 2043 4f43  (defaults to COC
+00002710: 4f4e 5554 5f53 5459 4c45 2065 6e76 6972  ONUT_STYLE envir
+00002720: 6f6e 6d65 6e74 2076 6172 6961 626c 6520  onment variable 
+00002730: 6966 2069 7420 6578 6973 7473 2c0d 0a20  if it exists,.. 
+00002740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002750: 2020 2020 2020 206f 7468 6572 7769 7365         otherwise
+00002760: 2027 6465 6661 756c 7427 290d 0a20 202d   'default')..  -
+00002770: 2d68 6973 746f 7279 2d66 696c 6520 7061  -history-file pa
+00002780: 7468 2020 2073 6574 2068 6973 746f 7279  th   set history
+00002790: 2066 696c 6520 286f 7220 2727 2066 6f72   file (or '' for
+000027a0: 206e 6f20 6669 6c65 2920 2863 616e 2062   no file) (can b
+000027b0: 6520 6d6f 6469 6669 6564 2062 7920 7365  e modified by se
+000027c0: 7474 696e 670d 0a20 2020 2020 2020 2020  tting..         
+000027d0: 2020 2020 2020 2020 2020 2020 2020 2043                 C
+000027e0: 4f43 4f4e 5554 5f48 4f4d 4520 656e 7669  OCONUT_HOME envi
+000027f0: 726f 6e6d 656e 7420 7661 7269 6162 6c65  ronment variable
+00002800: 290d 0a20 202d 2d76 692d 6d6f 6465 2c20  )..  --vi-mode, 
+00002810: 2d2d 7669 6d6f 6465 2020 2065 6e61 626c  --vimode   enabl
+00002820: 6520 7669 206d 6f64 6520 696e 2074 6865  e vi mode in the
+00002830: 2069 6e74 6572 7072 6574 6572 2028 6375   interpreter (cu
+00002840: 7272 656e 746c 7920 7365 7420 746f 2046  rrently set to F
+00002850: 616c 7365 2920 2863 616e 2062 650d 0a20  alse) (can be.. 
+00002860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002870: 2020 2020 2020 206d 6f64 6966 6965 6420         modified 
+00002880: 6279 2073 6574 7469 6e67 2043 4f43 4f4e  by setting COCON
+00002890: 5554 5f56 495f 4d4f 4445 2065 6e76 6972  UT_VI_MODE envir
+000028a0: 6f6e 6d65 6e74 2076 6172 6961 626c 6529  onment variable)
+000028b0: 0d0a 2020 2d2d 7265 6375 7273 696f 6e2d  ..  --recursion-
+000028c0: 6c69 6d69 7420 6c69 6d69 742c 202d 2d72  limit limit, --r
+000028d0: 6563 7572 7369 6f6e 6c69 6d69 7420 6c69  ecursionlimit li
+000028e0: 6d69 740d 0a20 2020 2020 2020 2020 2020  mit..           
+000028f0: 2020 2020 2020 2020 2020 2020 2073 6574               set
+00002900: 206d 6178 696d 756d 2072 6563 7572 7369   maximum recursi
+00002910: 6f6e 2064 6570 7468 2069 6e20 636f 6d70  on depth in comp
+00002920: 696c 6572 2028 6465 6661 756c 7473 2074  iler (defaults t
+00002930: 6f20 3139 3230 2920 2877 6865 6e0d 0a20  o 1920) (when.. 
+00002940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002950: 2020 2020 2020 2069 6e63 7265 6173 696e         increasin
+00002960: 6720 2d2d 7265 6375 7273 696f 6e2d 6c69  g --recursion-li
+00002970: 6d69 742c 2079 6f75 206d 6179 2061 6c73  mit, you may als
+00002980: 6f20 6e65 6564 2074 6f20 696e 6372 6561  o need to increa
+00002990: 7365 202d 2d73 7461 636b 2d0d 0a20 2020  se --stack-..   
+000029a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000029b0: 2020 2020 2073 697a 6529 0d0a 2020 2d2d       size)..  --
+000029c0: 7374 6163 6b2d 7369 7a65 206b 6273 2c20  stack-size kbs, 
+000029d0: 2d2d 7374 6163 6b73 697a 6520 6b62 730d  --stacksize kbs.
+000029e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000029f0: 2020 2020 2020 2020 2072 756e 2074 6865           run the
+00002a00: 2063 6f6d 7069 6c65 7220 696e 2061 2073   compiler in a s
+00002a10: 6570 6172 6174 6520 7468 7265 6164 2077  eparate thread w
+00002a20: 6974 6820 7468 6520 6769 7665 6e20 7374  ith the given st
+00002a30: 6163 6b20 7369 7a65 2069 6e0d 0a20 2020  ack size in..   
+00002a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a50: 2020 2020 206b 696c 6f62 7974 6573 0d0a       kilobytes..
+00002a60: 2020 2d2d 7369 7465 2d69 6e73 7461 6c6c    --site-install
+00002a70: 2c20 2d2d 7369 7465 696e 7374 616c 6c0d  , --siteinstall.
+00002a80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002a90: 2020 2020 2020 2020 2073 6574 2075 7020           set up 
+00002aa0: 636f 636f 6e75 742e 636f 6e76 656e 6965  coconut.convenie
+00002ab0: 6e63 6520 746f 2062 6520 696d 706f 7274  nce to be import
+00002ac0: 6564 206f 6e20 5079 7468 6f6e 2073 7461  ed on Python sta
+00002ad0: 7274 0d0a 2020 2d2d 7369 7465 2d75 6e69  rt..  --site-uni
+00002ae0: 6e73 7461 6c6c 2c20 2d2d 7369 7465 756e  nstall, --siteun
+00002af0: 696e 7374 616c 6c0d 0a20 2020 2020 2020  install..       
+00002b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b10: 2072 6576 6572 7420 7468 6520 6566 6665   revert the effe
+00002b20: 6374 7320 6f66 202d 2d73 6974 652d 696e  cts of --site-in
+00002b30: 7374 616c 6c0d 0a20 202d 2d76 6572 626f  stall..  --verbo
+00002b40: 7365 2020 2020 2020 2020 2020 2020 2070  se             p
+00002b50: 7269 6e74 2076 6572 626f 7365 2064 6562  rint verbose deb
+00002b60: 7567 206f 7574 7075 740d 0a20 202d 2d74  ug output..  --t
+00002b70: 7261 6365 2020 2020 2020 2020 2020 2020  race            
+00002b80: 2020 2070 7269 6e74 2076 6572 626f 7365     print verbose
+00002b90: 2070 6172 7369 6e67 2064 6174 6120 286f   parsing data (o
+00002ba0: 6e6c 7920 6176 6169 6c61 626c 6520 696e  nly available in
+00002bb0: 2063 6f63 6f6e 7574 2d64 6576 656c 6f70   coconut-develop
+00002bc0: 290d 0a20 202d 2d70 726f 6669 6c65 2020  )..  --profile  
+00002bd0: 2020 2020 2020 2020 2020 2063 6f6c 6c65             colle
+00002be0: 6374 2061 6e64 2070 7269 6e74 2074 696d  ct and print tim
+00002bf0: 696e 6720 696e 666f 2028 6f6e 6c79 2061  ing info (only a
+00002c00: 7661 696c 6162 6c65 2069 6e20 636f 636f  vailable in coco
+00002c10: 6e75 742d 6465 7665 6c6f 7029 0d0a 6060  nut-develop)..``
+00002c20: 600d 0a0d 0a23 2323 2320 436f 636f 6e75  `....#### Coconu
+00002c30: 7420 5363 7269 7074 730d 0a0d 0a54 6f20  t Scripts....To 
+00002c40: 7275 6e20 6120 436f 636f 6e75 7420 6669  run a Coconut fi
+00002c50: 6c65 2061 7320 6120 7363 7269 7074 2c20  le as a script, 
+00002c60: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00002c70: 2074 6865 2063 6f6d 6d61 6e64 0d0a 6060   the command..``
+00002c80: 600d 0a63 6f63 6f6e 7574 2d72 756e 203c  `..coconut-run <
+00002c90: 736f 7572 6365 3e20 3c61 7267 733e 0d0a  source> <args>..
+00002ca0: 6060 600d 0a61 7320 616e 2061 6c69 6173  ```..as an alias
+00002cb0: 2066 6f72 0d0a 6060 600d 0a63 6f63 6f6e   for..```..cocon
+00002cc0: 7574 202d 2d72 756e 202d 2d71 7569 6574  ut --run --quiet
+00002cd0: 202d 2d74 6172 6765 7420 7379 7320 2d2d   --target sys --
+00002ce0: 6c69 6e65 2d6e 756d 6265 7273 203c 736f  line-numbers <so
+00002cf0: 7572 6365 3e20 2d2d 6172 6776 203c 6172  urce> --argv <ar
+00002d00: 6773 3e0d 0a60 6060 0d0a 7768 6963 6820  gs>..```..which 
+00002d10: 7769 6c6c 2071 7569 6574 6c79 2063 6f6d  will quietly com
+00002d20: 7069 6c65 2061 6e64 2072 756e 2060 3c73  pile and run `<s
+00002d30: 6f75 7263 653e 602c 2070 6173 7369 6e67  ource>`, passing
+00002d40: 2061 6e79 2061 6464 6974 696f 6e61 6c20   any additional 
+00002d50: 6172 6775 6d65 6e74 7320 746f 2074 6865  arguments to the
+00002d60: 2073 6372 6970 742c 206d 696d 6963 6b69   script, mimicki
+00002d70: 6e67 2068 6f77 2074 6865 2060 7079 7468  ng how the `pyth
+00002d80: 6f6e 6020 636f 6d6d 616e 6420 776f 726b  on` command work
+00002d90: 732e 0d0a 0d0a 6063 6f63 6f6e 7574 2d72  s.....`coconut-r
+00002da0: 756e 6020 6361 6e20 6265 2075 7365 6420  un` can be used 
+00002db0: 696e 2061 2055 6e69 7820 7368 6562 616e  in a Unix sheban
+00002dc0: 6720 6c69 6e65 2074 6f20 6372 6561 7465  g line to create
+00002dd0: 2061 2043 6f63 6f6e 7574 2073 6372 6970   a Coconut scrip
+00002de0: 7420 6279 2061 6464 696e 6720 7468 6520  t by adding the 
+00002df0: 666f 6c6c 6f77 696e 6720 6c69 6e65 2074  following line t
+00002e00: 6f20 7468 6520 7374 6172 7420 6f66 2079  o the start of y
+00002e10: 6f75 7220 7363 7269 7074 3a0d 0a60 6060  our script:..```
+00002e20: 6261 7368 0d0a 2321 2f75 7372 2f62 696e  bash..#!/usr/bin
+00002e30: 2f65 6e76 2063 6f63 6f6e 7574 2d72 756e  /env coconut-run
+00002e40: 0d0a 6060 600d 0a0d 0a54 6f20 7061 7373  ..```....To pass
+00002e50: 2061 6464 6974 696f 6e61 6c20 636f 6d70   additional comp
+00002e60: 696c 6174 696f 6e20 6172 6775 6d65 6e74  ilation argument
+00002e70: 7320 746f 2060 636f 636f 6e75 742d 7275  s to `coconut-ru
+00002e80: 6e60 2028 652e 672e 2060 2d2d 6e6f 2d74  n` (e.g. `--no-t
+00002e90: 636f 6029 2c20 7075 7420 7468 656d 2062  co`), put them b
+00002ea0: 6566 6f72 6520 7468 6520 603c 736f 7572  efore the `<sour
+00002eb0: 6365 3e60 2066 696c 652e 0d0a 0d0a 2323  ce>` file.....##
+00002ec0: 2323 204e 616d 696e 6720 536f 7572 6365  ## Naming Source
+00002ed0: 2046 696c 6573 0d0a 0d0a 436f 636f 6e75   Files....Coconu
+00002ee0: 7420 736f 7572 6365 2066 696c 6573 2073  t source files s
+00002ef0: 686f 756c 642c 2073 6f20 7468 6520 636f  hould, so the co
+00002f00: 6d70 696c 6572 2063 616e 2072 6563 6f67  mpiler can recog
+00002f10: 6e69 7a65 2074 6865 6d2c 2075 7365 2074  nize them, use t
+00002f20: 6865 2065 7874 656e 7369 6f6e 2060 2e63  he extension `.c
+00002f30: 6f63 6f60 2028 7072 6566 6572 7265 6429  oco` (preferred)
+00002f40: 2c20 602e 636f 6360 2c20 6f72 2060 2e63  , `.coc`, or `.c
+00002f50: 6f63 6f6e 7574 602e 0d0a 0d0a 5768 656e  oconut`.....When
+00002f60: 2043 6f63 6f6e 7574 2063 6f6d 7069 6c65   Coconut compile
+00002f70: 7320 6120 602e 636f 636f 6020 6669 6c65  s a `.coco` file
+00002f80: 2c20 6974 2077 696c 6c20 636f 6d70 696c  , it will compil
+00002f90: 6520 746f 2061 6e6f 7468 6572 2066 696c  e to another fil
+00002fa0: 6520 7769 7468 2074 6865 2073 616d 6520  e with the same 
+00002fb0: 6e61 6d65 2c20 6578 6365 7074 2077 6974  name, except wit
+00002fc0: 6820 602e 7079 6020 696e 7374 6561 6420  h `.py` instead 
+00002fd0: 6f66 2060 2e63 6f63 6f60 2c20 7768 6963  of `.coco`, whic
+00002fe0: 6820 7769 6c6c 2068 6f6c 6420 7468 6520  h will hold the 
+00002ff0: 636f 6d70 696c 6564 2063 6f64 652e 0d0a  compiled code...
+00003000: 0d0a 4966 2061 6e20 6578 7465 6e73 696f  ..If an extensio
+00003010: 6e20 6f74 6865 7220 7468 616e 2060 2e70  n other than `.p
+00003020: 7960 2069 7320 6465 7369 7265 6420 666f  y` is desired fo
+00003030: 7220 7468 6520 636f 6d70 696c 6564 2066  r the compiled f
+00003040: 696c 6573 2c20 7468 656e 2074 6861 7420  iles, then that 
+00003050: 6578 7465 6e73 696f 6e20 6361 6e20 6265  extension can be
+00003060: 2070 7574 2062 6566 6f72 6520 602e 636f   put before `.co
+00003070: 636f 6020 696e 2074 6865 2073 6f75 7263  co` in the sourc
+00003080: 6520 6669 6c65 206e 616d 652c 2061 6e64  e file name, and
+00003090: 2069 7420 7769 6c6c 2062 6520 7573 6564   it will be used
+000030a0: 2069 6e73 7465 6164 206f 6620 602e 7079   instead of `.py
+000030b0: 6020 666f 7220 7468 6520 636f 6d70 696c  ` for the compil
+000030c0: 6564 2066 696c 6573 2e20 466f 7220 6578  ed files. For ex
+000030d0: 616d 706c 652c 2060 6e61 6d65 2e63 6f63  ample, `name.coc
+000030e0: 6f60 2077 696c 6c20 636f 6d70 696c 6520  o` will compile 
+000030f0: 746f 2060 6e61 6d65 2e70 7960 2c20 7768  to `name.py`, wh
+00003100: 6572 6561 7320 606e 616d 652e 6162 632e  ereas `name.abc.
+00003110: 636f 636f 6020 7769 6c6c 2063 6f6d 7069  coco` will compi
+00003120: 6c65 2074 6f20 606e 616d 652e 6162 6360  le to `name.abc`
+00003130: 2e0d 0a0d 0a23 2323 2320 436f 6d70 696c  .....#### Compil
+00003140: 6174 696f 6e20 4d6f 6465 730d 0a0d 0a46  ation Modes....F
+00003150: 696c 6573 2063 6f6d 7069 6c65 6420 6279  iles compiled by
+00003160: 2074 6865 2060 636f 636f 6e75 7460 2063   the `coconut` c
+00003170: 6f6d 6d61 6e64 2d6c 696e 6520 7574 696c  ommand-line util
+00003180: 6974 7920 7769 6c6c 2076 6172 7920 6261  ity will vary ba
+00003190: 7365 6420 6f6e 2063 6f6d 7069 6c61 7469  sed on compilati
+000031a0: 6f6e 2070 6172 616d 6574 6572 732e 2049  on parameters. I
+000031b0: 6620 616e 2065 6e74 6972 6520 6469 7265  f an entire dire
+000031c0: 6374 6f72 7920 6f66 2066 696c 6573 2069  ctory of files i
+000031d0: 7320 636f 6d70 696c 6564 2028 7768 6963  s compiled (whic
+000031e0: 6820 7468 6520 636f 6d70 696c 6572 2077  h the compiler w
+000031f0: 696c 6c20 7365 6172 6368 2072 6563 7572  ill search recur
+00003200: 7369 7665 6c79 2066 6f72 2061 6e79 2066  sively for any f
+00003210: 6f6c 6465 7273 2063 6f6e 7461 696e 696e  olders containin
+00003220: 6720 602e 636f 636f 602c 2060 2e63 6f63  g `.coco`, `.coc
+00003230: 602c 206f 7220 602e 636f 636f 6e75 7460  `, or `.coconut`
+00003240: 2066 696c 6573 292c 2061 2060 5f5f 636f   files), a `__co
+00003250: 636f 6e75 745f 5f2e 7079 6020 6669 6c65  conut__.py` file
+00003260: 2077 696c 6c20 6265 2063 7265 6174 6564   will be created
+00003270: 2074 6f20 686f 7573 6520 6e65 6365 7373   to house necess
+00003280: 6172 7920 6675 6e63 7469 6f6e 7320 2870  ary functions (p
+00003290: 6163 6b61 6765 206d 6f64 6529 2c20 7768  ackage mode), wh
+000032a0: 6572 6561 7320 6966 206f 6e6c 7920 6120  ereas if only a 
+000032b0: 7369 6e67 6c65 2066 696c 6520 6973 2063  single file is c
+000032c0: 6f6d 7069 6c65 642c 2074 6861 7420 696e  ompiled, that in
+000032d0: 666f 726d 6174 696f 6e20 7769 6c6c 2062  formation will b
+000032e0: 6520 7374 6f72 6564 2077 6974 6869 6e20  e stored within 
+000032f0: 6120 6865 6164 6572 2069 6e73 6964 6520  a header inside 
+00003300: 7468 6520 6669 6c65 2028 7374 616e 6461  the file (standa
+00003310: 6c6f 6e65 206d 6f64 6529 2e20 5374 616e  lone mode). Stan
+00003320: 6461 6c6f 6e65 206d 6f64 6520 6973 2062  dalone mode is b
+00003330: 6574 7465 7220 666f 7220 7369 6e67 6c65  etter for single
+00003340: 2066 696c 6573 2062 6563 6175 7365 2069   files because i
+00003350: 7420 6765 7473 2072 6964 206f 6620 7468  t gets rid of th
+00003360: 6520 6f76 6572 6865 6164 2069 6e76 6f6c  e overhead invol
+00003370: 7665 6420 696e 2069 6d70 6f72 7469 6e67  ved in importing
+00003380: 2060 5f5f 636f 636f 6e75 745f 5f2e 7079   `__coconut__.py
+00003390: 602c 2062 7574 2070 6163 6b61 6765 206d  `, but package m
+000033a0: 6f64 6520 6973 2062 6574 7465 7220 666f  ode is better fo
+000033b0: 7220 6c61 7267 6520 7061 636b 6167 6573  r large packages
+000033c0: 2062 6563 6175 7365 2069 7420 6765 7473   because it gets
+000033d0: 2072 6964 206f 6620 7468 6520 6e65 6564   rid of the need
+000033e0: 2074 6f20 7275 6e20 7468 6520 7361 6d65   to run the same
+000033f0: 2043 6f63 6f6e 7574 2068 6561 6465 7220   Coconut header 
+00003400: 636f 6465 2061 6761 696e 2069 6e20 6576  code again in ev
+00003410: 6572 7920 6669 6c65 2c20 7369 6e63 6520  ery file, since 
+00003420: 6974 2063 616e 206a 7573 7420 6265 2069  it can just be i
+00003430: 6d70 6f72 7465 6420 6672 6f6d 2060 5f5f  mported from `__
+00003440: 636f 636f 6e75 745f 5f2e 7079 602e 0d0a  coconut__.py`...
+00003450: 0d0a 4279 2064 6566 6175 6c74 2c20 6966  ..By default, if
+00003460: 2074 6865 2060 736f 7572 6365 6020 6172   the `source` ar
+00003470: 6775 6d65 6e74 2074 6f20 7468 6520 636f  gument to the co
+00003480: 6d6d 616e 642d 6c69 6e65 2075 7469 6c69  mmand-line utili
+00003490: 7479 2069 7320 6120 6669 6c65 2c20 6974  ty is a file, it
+000034a0: 2077 696c 6c20 7065 7266 6f72 6d20 7374   will perform st
+000034b0: 616e 6461 6c6f 6e65 2063 6f6d 7069 6c61  andalone compila
+000034c0: 7469 6f6e 206f 6e20 6974 2c20 7768 6572  tion on it, wher
+000034d0: 6561 7320 6966 2069 7420 6973 2061 2064  eas if it is a d
+000034e0: 6972 6563 746f 7279 2c20 6974 2077 696c  irectory, it wil
+000034f0: 6c20 7265 6375 7273 6976 656c 7920 7365  l recursively se
+00003500: 6172 6368 2066 6f72 2061 6c6c 2060 2e63  arch for all `.c
+00003510: 6f63 6f60 2066 696c 6573 2061 6e64 2070  oco` files and p
+00003520: 6572 666f 726d 2070 6163 6b61 6765 2063  erform package c
+00003530: 6f6d 7069 6c61 7469 6f6e 206f 6e20 7468  ompilation on th
+00003540: 656d 2e20 5468 7573 2c20 696e 206d 6f73  em. Thus, in mos
+00003550: 7420 6361 7365 732c 2074 6865 206d 6f64  t cases, the mod
+00003560: 6520 6368 6f73 656e 2062 7920 436f 636f  e chosen by Coco
+00003570: 6e75 7420 6175 746f 6d61 7469 6361 6c6c  nut automaticall
+00003580: 7920 7769 6c6c 2062 6520 7468 6520 7269  y will be the ri
+00003590: 6768 7420 6f6e 652e 2042 7574 2069 6620  ght one. But if 
+000035a0: 6974 2069 7320 7665 7279 2069 6d70 6f72  it is very impor
+000035b0: 7461 6e74 2074 6861 7420 6e6f 2061 6464  tant that no add
+000035c0: 6974 696f 6e61 6c20 6669 6c65 7320 6c69  itional files li
+000035d0: 6b65 2060 5f5f 636f 636f 6e75 745f 5f2e  ke `__coconut__.
+000035e0: 7079 6020 6265 2063 7265 6174 6564 2c20  py` be created, 
+000035f0: 666f 7220 6578 616d 706c 652c 2074 6865  for example, the
+00003600: 6e20 7468 6520 636f 6d6d 616e 642d 6c69  n the command-li
+00003610: 6e65 2075 7469 6c69 7479 2063 616e 2061  ne utility can a
+00003620: 6c73 6f20 6265 2066 6f72 6365 6420 746f  lso be forced to
+00003630: 2075 7365 2061 2073 7065 6369 6669 6320   use a specific 
+00003640: 6d6f 6465 2077 6974 6820 7468 6520 602d  mode with the `-
+00003650: 2d70 6163 6b61 6765 6020 2860 2d70 6029  -package` (`-p`)
+00003660: 2061 6e64 2060 2d2d 7374 616e 6461 6c6f   and `--standalo
+00003670: 6e65 6020 2860 2d61 6029 2066 6c61 6773  ne` (`-a`) flags
+00003680: 2e0d 0a0d 0a23 2323 2320 436f 6d70 6174  .....#### Compat
+00003690: 6962 6c65 2050 7974 686f 6e20 5665 7273  ible Python Vers
+000036a0: 696f 6e73 0d0a 0d0a 5768 696c 6520 436f  ions....While Co
+000036b0: 636f 6e75 7420 7379 6e74 6178 2069 7320  conut syntax is 
+000036c0: 6261 7365 6420 6f66 6620 6f66 2074 6865  based off of the
+000036d0: 206c 6174 6573 7420 5079 7468 6f6e 2033   latest Python 3
+000036e0: 2c20 436f 636f 6e75 7420 636f 6465 2063  , Coconut code c
+000036f0: 6f6d 7069 6c65 6420 696e 2075 6e69 7665  ompiled in unive
+00003700: 7273 616c 206d 6f64 6520 2874 6865 2064  rsal mode (the d
+00003710: 6566 6175 6c74 2060 2d2d 7461 7267 6574  efault `--target
+00003720: 6029 e280 9461 6e64 2074 6865 2043 6f63  `)...and the Coc
+00003730: 6f6e 7574 2063 6f6d 7069 6c65 7220 6974  onut compiler it
+00003740: 7365 6c66 e280 9473 686f 756c 6420 7275  self...should ru
+00003750: 6e20 6f6e 2061 6e79 2050 7974 686f 6e20  n on any Python 
+00003760: 7665 7273 696f 6e20 603e 3d20 322e 3660  version `>= 2.6`
+00003770: 206f 6e20 7468 6520 6032 2e78 6020 6272   on the `2.x` br
+00003780: 616e 6368 206f 7220 603e 3d20 332e 3260  anch or `>= 3.2`
+00003790: 206f 6e20 7468 6520 6033 2e78 6020 6272   on the `3.x` br
+000037a0: 616e 6368 2028 616e 6420 6f6e 2065 6974  anch (and on eit
+000037b0: 6865 7220 5b43 5079 7468 6f6e 5d28 6874  her [CPython](ht
+000037c0: 7470 733a 2f2f 7777 772e 7079 7468 6f6e  tps://www.python
+000037d0: 2e6f 7267 2f29 206f 7220 5b50 7950 795d  .org/) or [PyPy]
+000037e0: 2868 7474 703a 2f2f 7079 7079 2e6f 7267  (http://pypy.org
+000037f0: 2f29 292e 0d0a 0d0a 546f 206d 616b 6520  /)).....To make 
+00003800: 436f 636f 6e75 7420 6275 696c 742d 696e  Coconut built-in
+00003810: 7320 756e 6976 6572 7361 6c20 6163 726f  s universal acro
+00003820: 7373 2050 7974 686f 6e20 7665 7273 696f  ss Python versio
+00003830: 6e73 2c20 436f 636f 6e75 7420 6d61 6b65  ns, Coconut make
+00003840: 7320 6176 6169 6c61 626c 6520 6f6e 2061  s available on a
+00003850: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
+00003860: 6e20 6275 696c 742d 696e 7320 7468 6174  n built-ins that
+00003870: 206f 6e6c 7920 6578 6973 7420 696e 206c   only exist in l
+00003880: 6174 6572 2076 6572 7369 6f6e 732c 2069  ater versions, i
+00003890: 6e63 6c75 6469 6e67 202a 2a61 7574 6f6d  ncluding **autom
+000038a0: 6174 6963 616c 6c79 206f 7665 7277 7269  atically overwri
+000038b0: 7469 6e67 2050 7974 686f 6e20 3220 6275  ting Python 2 bu
+000038c0: 696c 742d 696e 7320 7769 7468 2074 6865  ilt-ins with the
+000038d0: 6972 2050 7974 686f 6e20 3320 636f 756e  ir Python 3 coun
+000038e0: 7465 7270 6172 7473 2e2a 2a20 4164 6469  terparts.** Addi
+000038f0: 7469 6f6e 616c 6c79 2c20 436f 636f 6e75  tionally, Coconu
+00003900: 7420 616c 736f 205b 6f76 6572 7772 6974  t also [overwrit
+00003910: 6573 2073 6f6d 6520 5079 7468 6f6e 2033  es some Python 3
+00003920: 2062 7569 6c74 2d69 6e73 2066 6f72 206f   built-ins for o
+00003930: 7074 696d 697a 6174 696f 6e20 616e 6420  ptimization and 
+00003940: 656e 6861 6e63 656d 656e 7420 7075 7270  enhancement purp
+00003950: 6f73 6573 5d28 2365 6e68 616e 6365 642d  oses](#enhanced-
+00003960: 6275 696c 742d 696e 7329 2e20 4966 2061  built-ins). If a
+00003970: 6363 6573 7320 746f 2074 6865 206f 7269  ccess to the ori
+00003980: 6769 6e61 6c20 5079 7468 6f6e 2076 6572  ginal Python ver
+00003990: 7369 6f6e 7320 6f66 2061 6e79 206f 7665  sions of any ove
+000039a0: 7277 7269 7474 656e 2062 7569 6c74 2d69  rwritten built-i
+000039b0: 6e73 2069 7320 6465 7369 7265 642c 2074  ns is desired, t
+000039c0: 6865 206f 6c64 2062 7569 6c74 2d69 6e73  he old built-ins
+000039d0: 2063 616e 2062 6520 7265 7472 6965 7665   can be retrieve
+000039e0: 6420 6279 2070 7265 6669 7869 6e67 2074  d by prefixing t
+000039f0: 6865 6d20 7769 7468 2060 7079 5f60 2e20  hem with `py_`. 
+00003a00: 5370 6563 6966 6963 616c 6c79 2c20 7468  Specifically, th
+00003a10: 6520 6f76 6572 7772 6974 7465 6e20 6275  e overwritten bu
+00003a20: 696c 742d 696e 7320 6172 653a 0d0a 0d0a  ilt-ins are:....
+00003a30: 2d20 6070 795f 6368 7260 0d0a 2d20 6070  - `py_chr`..- `p
+00003a40: 795f 6469 6374 600d 0a2d 2060 7079 5f68  y_dict`..- `py_h
+00003a50: 6578 600d 0a2d 2060 7079 5f69 6e70 7574  ex`..- `py_input
+00003a60: 600d 0a2d 2060 7079 5f69 6e74 600d 0a2d  `..- `py_int`..-
+00003a70: 2060 7079 5f6d 6170 600d 0a2d 2060 7079   `py_map`..- `py
+00003a80: 5f6f 626a 6563 7460 0d0a 2d20 6070 795f  _object`..- `py_
+00003a90: 6f63 7460 0d0a 2d20 6070 795f 6f70 656e  oct`..- `py_open
+00003aa0: 600d 0a2d 2060 7079 5f70 7269 6e74 600d  `..- `py_print`.
+00003ab0: 0a2d 2060 7079 5f72 616e 6765 600d 0a2d  .- `py_range`..-
+00003ac0: 2060 7079 5f73 7472 600d 0a2d 2060 7079   `py_str`..- `py
+00003ad0: 5f73 7570 6572 600d 0a2d 2060 7079 5f7a  _super`..- `py_z
+00003ae0: 6970 600d 0a2d 2060 7079 5f66 696c 7465  ip`..- `py_filte
+00003af0: 7260 0d0a 2d20 6070 795f 7265 7665 7273  r`..- `py_revers
+00003b00: 6564 600d 0a2d 2060 7079 5f65 6e75 6d65  ed`..- `py_enume
+00003b10: 7261 7465 600d 0a2d 2060 7079 5f72 6177  rate`..- `py_raw
+00003b20: 5f69 6e70 7574 600d 0a2d 2060 7079 5f78  _input`..- `py_x
+00003b30: 7261 6e67 6560 0d0a 2d20 6070 795f 7265  range`..- `py_re
+00003b40: 7072 600d 0a2d 2060 7079 5f62 7265 616b  pr`..- `py_break
+00003b50: 706f 696e 7460 0d0a 0d0a 5f4e 6f74 653a  point`...._Note:
+00003b60: 2043 6f63 6f6e 7574 2773 2060 7265 7072   Coconut's `repr
+00003b70: 6020 6361 6e20 6265 2073 6f6d 6577 6861  ` can be somewha
+00003b80: 7420 7472 6963 6b79 2c20 6173 2069 7420  t tricky, as it 
+00003b90: 7769 6c6c 2061 7474 656d 7074 2074 6f20  will attempt to 
+00003ba0: 7265 6d6f 7665 2074 6865 2060 7560 2062  remove the `u` b
+00003bb0: 6566 6f72 6520 7265 7072 7320 6f66 2075  efore reprs of u
+00003bc0: 6e69 636f 6465 2073 7472 696e 6773 206f  nicode strings o
+00003bd0: 6e20 5079 7468 6f6e 2032 2c20 6275 7420  n Python 2, but 
+00003be0: 7769 6c6c 206e 6f74 2061 6c77 6179 7320  will not always 
+00003bf0: 6265 2061 626c 6520 746f 2064 6f20 736f  be able to do so
+00003c00: 2069 6620 7468 6520 756e 6963 6f64 6520   if the unicode 
+00003c10: 7374 7269 6e67 2069 7320 6e65 7374 6564  string is nested
+00003c20: 2e5f 0d0a 0d0a 466f 7220 7374 616e 6461  ._....For standa
+00003c30: 7264 206c 6962 7261 7279 2063 6f6d 7061  rd library compa
+00003c40: 7469 6269 6c69 7479 2c20 2a2a 436f 636f  tibility, **Coco
+00003c50: 6e75 7420 6175 746f 6d61 7469 6361 6c6c  nut automaticall
+00003c60: 7920 6d61 7073 2069 6d70 6f72 7473 2075  y maps imports u
+00003c70: 6e64 6572 2050 7974 686f 6e20 3320 6e61  nder Python 3 na
+00003c80: 6d65 7320 746f 2069 6d70 6f72 7473 2075  mes to imports u
+00003c90: 6e64 6572 2050 7974 686f 6e20 3220 6e61  nder Python 2 na
+00003ca0: 6d65 732a 2a2e 2054 6875 732c 2043 6f63  mes**. Thus, Coc
+00003cb0: 6f6e 7574 2077 696c 6c20 6175 746f 6d61  onut will automa
+00003cc0: 7469 6361 6c6c 7920 7461 6b65 2063 6172  tically take car
+00003cd0: 6520 6f66 2061 6e79 2073 7461 6e64 6172  e of any standar
+00003ce0: 6420 6c69 6272 6172 7920 6d6f 6475 6c65  d library module
+00003cf0: 7320 7468 6174 2077 6572 6520 7265 6e61  s that were rena
+00003d00: 6d65 6420 6672 6f6d 2050 7974 686f 6e20  med from Python 
+00003d10: 3220 746f 2050 7974 686f 6e20 3320 6966  2 to Python 3 if
+00003d20: 206a 7573 7420 7468 6520 5079 7468 6f6e   just the Python
+00003d30: 2033 206e 616d 6520 6973 2075 7365 642e   3 name is used.
+00003d40: 2046 6f72 206d 6f64 756c 6573 206f 7220   For modules or 
+00003d50: 7061 636b 6167 6573 2074 6861 7420 6f6e  packages that on
+00003d60: 6c79 2065 7869 7374 2069 6e20 5079 7468  ly exist in Pyth
+00003d70: 6f6e 2033 2c20 686f 7765 7665 722c 2043  on 3, however, C
+00003d80: 6f63 6f6e 7574 2068 6173 206e 6f20 7761  oconut has no wa
+00003d90: 7920 6f66 206d 6169 6e74 6169 6e69 6e67  y of maintaining
+00003da0: 2063 6f6d 7061 7469 6269 6c69 7479 2e0d   compatibility..
+00003db0: 0a0d 0a46 696e 616c 6c79 2c20 7768 696c  ...Finally, whil
+00003dc0: 6520 436f 636f 6e75 7420 7769 6c6c 2074  e Coconut will t
+00003dd0: 7279 2074 6f20 636f 6d70 696c 6520 5079  ry to compile Py
+00003de0: 7468 6f6e 2d33 2d73 7065 6369 6669 6320  thon-3-specific 
+00003df0: 7379 6e74 6178 2074 6f20 6974 7320 756e  syntax to its un
+00003e00: 6976 6572 7361 6c20 6571 7569 7661 6c65  iversal equivale
+00003e10: 6e74 2c20 7468 6520 666f 6c6c 6f77 696e  nt, the followin
+00003e20: 6720 636f 6e73 7472 7563 7473 2068 6176  g constructs hav
+00003e30: 6520 6e6f 2065 7175 6976 616c 656e 7420  e no equivalent 
+00003e40: 696e 2050 7974 686f 6e20 322c 2061 6e64  in Python 2, and
+00003e50: 2072 6571 7569 7265 2074 6865 2073 7065   require the spe
+00003e60: 6369 6669 6361 7469 6f6e 206f 6620 6120  cification of a 
+00003e70: 7461 7267 6574 206f 6620 6174 206c 6561  target of at lea
+00003e80: 7374 2060 3360 2074 6f20 6265 2075 7365  st `3` to be use
+00003e90: 643a 0d0a 0d0a 2d20 7468 6520 606e 6f6e  d:....- the `non
+00003ea0: 6c6f 6361 6c60 206b 6579 776f 7264 2c0d  local` keyword,.
+00003eb0: 0a2d 206b 6579 776f 7264 2d6f 6e6c 7920  .- keyword-only 
+00003ec0: 6675 6e63 7469 6f6e 2070 6172 616d 6574  function paramet
+00003ed0: 6572 7320 2875 7365 205b 7061 7474 6572  ers (use [patter
+00003ee0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+00003ef0: 696f 6e20 6465 6669 6e69 7469 6f6e 5d28  ion definition](
+00003f00: 2370 6174 7465 726e 2d6d 6174 6368 696e  #pattern-matchin
+00003f10: 672d 6675 6e63 7469 6f6e 7329 2066 6f72  g-functions) for
+00003f20: 2075 6e69 7665 7273 616c 2063 6f64 6529   universal code)
+00003f30: 2c0d 0a2d 2060 6173 796e 6360 2061 6e64  ,..- `async` and
+00003f40: 2060 6177 6169 7460 2073 7461 7465 6d65   `await` stateme
+00003f50: 6e74 7320 2872 6571 7569 7265 7320 602d  nts (requires `-
+00003f60: 2d74 6172 6765 7420 332e 3560 292c 0d0a  -target 3.5`),..
+00003f70: 2d20 603a 3d60 2061 7373 6967 6e6d 656e  - `:=` assignmen
+00003f80: 7420 6578 7072 6573 7369 6f6e 7320 2872  t expressions (r
+00003f90: 6571 7569 7265 7320 602d 2d74 6172 6765  equires `--targe
+00003fa0: 7420 332e 3860 292c 0d0a 2d20 706f 7369  t 3.8`),..- posi
+00003fb0: 7469 6f6e 616c 2d6f 6e6c 7920 6675 6e63  tional-only func
+00003fc0: 7469 6f6e 2070 6172 616d 6574 6572 7320  tion parameters 
+00003fd0: 2875 7365 205b 7061 7474 6572 6e2d 6d61  (use [pattern-ma
+00003fe0: 7463 6869 6e67 2066 756e 6374 696f 6e20  tching function 
+00003ff0: 6465 6669 6e69 7469 6f6e 5d28 2370 6174  definition](#pat
+00004000: 7465 726e 2d6d 6174 6368 696e 672d 6675  tern-matching-fu
+00004010: 6e63 7469 6f6e 7329 2066 6f72 2075 6e69  nctions) for uni
+00004020: 7665 7273 616c 2063 6f64 6529 2028 7265  versal code) (re
+00004030: 7175 6972 6573 2060 2d2d 7461 7267 6574  quires `--target
+00004040: 2033 2e38 6029 2c0d 0a2d 2060 615b 782c   3.8`),..- `a[x,
+00004050: 202a 795d 6020 7661 7269 6164 6963 2067   *y]` variadic g
+00004060: 656e 6572 6963 2073 796e 7461 7820 2875  eneric syntax (u
+00004070: 7365 205b 7479 7065 2070 6172 616d 6574  se [type paramet
+00004080: 6572 2073 796e 7461 785d 2823 7479 7065  er syntax](#type
+00004090: 2d70 6172 616d 6574 6572 2d73 796e 7461  -parameter-synta
+000040a0: 7829 2066 6f72 2075 6e69 7665 7273 616c  x) for universal
+000040b0: 2063 6f64 6529 2028 7265 7175 6972 6573   code) (requires
+000040c0: 2060 2d2d 7461 7267 6574 2033 2e31 3160   `--target 3.11`
+000040d0: 292c 2061 6e64 0d0a 2d20 6065 7863 6570  ), and..- `excep
+000040e0: 742a 6020 6d75 6c74 692d 6578 6365 7074  t*` multi-except
+000040f0: 2073 7461 7465 6d65 6e74 7320 2872 6571   statements (req
+00004100: 7569 7265 7320 602d 2d74 6172 6765 7420  uires `--target 
+00004110: 332e 3131 6029 2e0d 0a0d 0a5f 4e6f 7465  3.11`)....._Note
+00004120: 3a20 436f 636f 6e75 7420 616c 736f 2075  : Coconut also u
+00004130: 6e69 7665 7273 616c 697a 6573 206d 616e  niversalizes man
+00004140: 7920 6d61 6769 6320 6d65 7468 6f64 732c  y magic methods,
+00004150: 2069 6e63 6c75 6469 6e67 206d 616b 696e   including makin
+00004160: 6720 605f 5f62 6f6f 6c5f 5f60 2061 6e64  g `__bool__` and
+00004170: 205b 605f 5f73 6574 5f6e 616d 655f 5f60   [`__set_name__`
+00004180: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+00004190: 7974 686f 6e2e 6f72 672f 332f 7265 6665  ython.org/3/refe
+000041a0: 7265 6e63 652f 6461 7461 6d6f 6465 6c2e  rence/datamodel.
+000041b0: 6874 6d6c 236f 626a 6563 742e 5f5f 7365  html#object.__se
+000041c0: 745f 6e61 6d65 5f5f 2920 776f 726b 206f  t_name__) work o
+000041d0: 6e20 616e 7920 5079 7468 6f6e 2076 6572  n any Python ver
+000041e0: 7369 6f6e 2e5f 0d0a 0d0a 2323 2323 2041  sion._....#### A
+000041f0: 6c6c 6f77 6162 6c65 2054 6172 6765 7473  llowable Targets
+00004200: 0d0a 0d0a 4966 2074 6865 2076 6572 7369  ....If the versi
+00004210: 6f6e 206f 6620 5079 7468 6f6e 2074 6861  on of Python tha
+00004220: 7420 7468 6520 636f 6d70 696c 6564 2063  t the compiled c
+00004230: 6f64 6520 7769 6c6c 2062 6520 7275 6e6e  ode will be runn
+00004240: 696e 6720 6f6e 2069 7320 6b6e 6f77 6e20  ing on is known 
+00004250: 6168 6561 6420 6f66 2074 696d 652c 2061  ahead of time, a
+00004260: 2074 6172 6765 7420 7368 6f75 6c64 2062   target should b
+00004270: 6520 7370 6563 6966 6965 6420 7769 7468  e specified with
+00004280: 2060 2d2d 7461 7267 6574 602e 2054 6865   `--target`. The
+00004290: 2067 6976 656e 2074 6172 6765 7420 7769   given target wi
+000042a0: 6c6c 206f 6e6c 7920 6166 6665 6374 2074  ll only affect t
+000042b0: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
+000042c0: 2061 6e64 2077 6865 7468 6572 206f 7220   and whether or 
+000042d0: 6e6f 7420 7468 6520 5079 7468 6f6e 2d33  not the Python-3
+000042e0: 2d73 7065 6369 6669 6320 7379 6e74 6178  -specific syntax
+000042f0: 2064 6574 6169 6c65 6420 6162 6f76 6520   detailed above 
+00004300: 6973 2061 6c6c 6f77 6564 2e20 5768 6572  is allowed. Wher
+00004310: 6520 5079 7468 6f6e 2073 796e 7461 7820  e Python syntax 
+00004320: 6469 6666 6572 7320 6163 726f 7373 2076  differs across v
+00004330: 6572 7369 6f6e 732c 2043 6f63 6f6e 7574  ersions, Coconut
+00004340: 2073 796e 7461 7820 7769 6c6c 2061 6c77   syntax will alw
+00004350: 6179 7320 666f 6c6c 6f77 2074 6865 206c  ays follow the l
+00004360: 6174 6573 7420 5079 7468 6f6e 2033 2061  atest Python 3 a
+00004370: 6372 6f73 7320 616c 6c20 7461 7267 6574  cross all target
+00004380: 732e 2054 6865 2073 7570 706f 7274 6564  s. The supported
+00004390: 2074 6172 6765 7473 2061 7265 3a0d 0a0d   targets are:...
+000043a0: 0a2d 2060 756e 6976 6572 7361 6c60 2028  .- `universal` (
+000043b0: 6465 6661 756c 7429 2028 7769 6c6c 2077  default) (will w
+000043c0: 6f72 6b20 6f6e 205f 616e 795f 206f 6620  ork on _any_ of 
+000043d0: 7468 6520 6265 6c6f 7729 2c0d 0a2d 2060  the below),..- `
+000043e0: 3260 2c20 6032 2e36 6020 2877 696c 6c20  2`, `2.6` (will 
+000043f0: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
+00004400: 6f6e 2060 3e3d 2032 2e36 6020 6275 7420  on `>= 2.6` but 
+00004410: 603c 2033 6029 2c0d 0a2d 2060 322e 3760  `< 3`),..- `2.7`
+00004420: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
+00004430: 6e79 2050 7974 686f 6e20 603e 3d20 322e  ny Python `>= 2.
+00004440: 3760 2062 7574 2060 3c20 3360 292c 0d0a  7` but `< 3`),..
+00004450: 2d20 6033 602c 2060 332e 3260 2028 7769  - `3`, `3.2` (wi
+00004460: 6c6c 2077 6f72 6b20 6f6e 2061 6e79 2050  ll work on any P
+00004470: 7974 686f 6e20 603e 3d20 332e 3260 292c  ython `>= 3.2`),
+00004480: 0d0a 2d20 6033 2e33 6020 2877 696c 6c20  ..- `3.3` (will 
+00004490: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
+000044a0: 6f6e 2060 3e3d 2033 2e33 6029 2c0d 0a2d  on `>= 3.3`),..-
+000044b0: 2060 332e 3460 2028 7769 6c6c 2077 6f72   `3.4` (will wor
+000044c0: 6b20 6f6e 2061 6e79 2050 7974 686f 6e20  k on any Python 
+000044d0: 603e 3d20 332e 3460 292c 0d0a 2d20 6033  `>= 3.4`),..- `3
+000044e0: 2e35 6020 2877 696c 6c20 776f 726b 206f  .5` (will work o
+000044f0: 6e20 616e 7920 5079 7468 6f6e 2060 3e3d  n any Python `>=
+00004500: 2033 2e35 6029 2c0d 0a2d 2060 332e 3660   3.5`),..- `3.6`
+00004510: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
+00004520: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
+00004530: 3660 292c 0d0a 2d20 6033 2e37 6020 2877  6`),..- `3.7` (w
+00004540: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
+00004550: 5079 7468 6f6e 2060 3e3d 2033 2e37 6029  Python `>= 3.7`)
+00004560: 2c0d 0a2d 2060 332e 3860 2028 7769 6c6c  ,..- `3.8` (will
+00004570: 2077 6f72 6b20 6f6e 2061 6e79 2050 7974   work on any Pyt
+00004580: 686f 6e20 603e 3d20 332e 3860 292c 0d0a  hon `>= 3.8`),..
+00004590: 2d20 6033 2e39 6020 2877 696c 6c20 776f  - `3.9` (will wo
+000045a0: 726b 206f 6e20 616e 7920 5079 7468 6f6e  rk on any Python
+000045b0: 2060 3e3d 2033 2e39 6029 2c0d 0a2d 2060   `>= 3.9`),..- `
+000045c0: 332e 3130 6020 2877 696c 6c20 776f 726b  3.10` (will work
+000045d0: 206f 6e20 616e 7920 5079 7468 6f6e 2060   on any Python `
+000045e0: 3e3d 2033 2e31 3060 292c 0d0a 2d20 6033  >= 3.10`),..- `3
+000045f0: 2e31 3160 2028 7769 6c6c 2077 6f72 6b20  .11` (will work 
+00004600: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
+00004610: 3d20 332e 3131 6029 2c0d 0a2d 2060 332e  = 3.11`),..- `3.
+00004620: 3132 6020 2877 696c 6c20 776f 726b 206f  12` (will work o
+00004630: 6e20 616e 7920 5079 7468 6f6e 2060 3e3d  n any Python `>=
+00004640: 2033 2e31 3260 292c 2061 6e64 0d0a 2d20   3.12`), and..- 
+00004650: 6073 7973 6020 2863 686f 6f73 6573 2074  `sys` (chooses t
+00004660: 6865 2074 6172 6765 7420 636f 7272 6573  he target corres
+00004670: 706f 6e64 696e 6720 746f 2074 6865 2063  ponding to the c
+00004680: 7572 7265 6e74 2050 7974 686f 6e20 7665  urrent Python ve
+00004690: 7273 696f 6e29 2e0d 0a0d 0a5f 4e6f 7465  rsion)....._Note
+000046a0: 3a20 5065 7269 6f64 7320 6172 6520 6f70  : Periods are op
+000046b0: 7469 6f6e 616c 2069 6e20 7461 7267 6574  tional in target
+000046c0: 2073 7065 6369 6669 6361 7469 6f6e 732c   specifications,
+000046d0: 2073 7563 6820 7468 6174 2074 6865 2074   such that the t
+000046e0: 6172 6765 7420 6032 3760 2069 7320 6571  arget `27` is eq
+000046f0: 7569 7661 6c65 6e74 2074 6f20 7468 6520  uivalent to the 
+00004700: 7461 7267 6574 2060 322e 3760 2e5f 0d0a  target `2.7`._..
+00004710: 0d0a 2323 2323 2060 7374 7269 6374 6020  ..#### `strict` 
+00004720: 4d6f 6465 0d0a 0d0a 4966 2074 6865 2060  Mode....If the `
+00004730: 2d2d 7374 7269 6374 6020 2860 2d73 6020  --strict` (`-s` 
+00004740: 666f 7220 7368 6f72 7429 2066 6c61 6720  for short) flag 
+00004750: 6973 2065 6e61 626c 6564 2c20 436f 636f  is enabled, Coco
+00004760: 6e75 7420 7769 6c6c 2070 6572 666f 726d  nut will perform
+00004770: 2061 6464 6974 696f 6e61 6c20 6368 6563   additional chec
+00004780: 6b73 206f 6e20 7468 6520 636f 6465 2062  ks on the code b
+00004790: 6569 6e67 2063 6f6d 7069 6c65 642e 2049  eing compiled. I
+000047a0: 7420 6973 2072 6563 6f6d 6d65 6e64 6564  t is recommended
+000047b0: 2074 6861 7420 796f 7520 7573 6520 7468   that you use th
+000047c0: 6520 602d 2d73 7472 6963 7460 2066 6c61  e `--strict` fla
+000047d0: 6720 6966 2079 6f75 2061 7265 2073 7461  g if you are sta
+000047e0: 7274 696e 6720 6120 6e65 7720 436f 636f  rting a new Coco
+000047f0: 6e75 7420 7072 6f6a 6563 742c 2061 7320  nut project, as 
+00004800: 6974 2077 696c 6c20 6865 6c70 2079 6f75  it will help you
+00004810: 2077 7269 7465 2063 6c65 616e 6572 2063   write cleaner c
+00004820: 6f64 652e 2053 7065 6369 6669 6361 6c6c  ode. Specificall
+00004830: 792c 2074 6865 2065 7874 7261 2063 6865  y, the extra che
+00004840: 636b 7320 646f 6e65 2062 7920 602d 2d73  cks done by `--s
+00004850: 7472 6963 7460 2061 7265 3a0d 0a0d 0a2d  trict` are:....-
+00004860: 2064 6973 6162 6c69 6e67 2064 6570 7265   disabling depre
+00004870: 6361 7465 6420 6665 6174 7572 6573 2028  cated features (
+00004880: 6d61 6b69 6e67 2074 6865 6d20 656e 7469  making them enti
+00004890: 7265 6c79 2075 6e61 7661 696c 6162 6c65  rely unavailable
+000048a0: 2074 6f20 636f 6465 2063 6f6d 7069 6c65   to code compile
+000048b0: 6420 7769 7468 2060 2d2d 7374 7269 6374  d with `--strict
+000048c0: 6029 2c0d 0a2d 2065 7272 6f72 7320 696e  `),..- errors in
+000048d0: 7374 6561 6420 6f66 2077 6172 6e69 6e67  stead of warning
+000048e0: 7320 6f6e 2075 6e75 7365 6420 696d 706f  s on unused impo
+000048f0: 7274 7320 2875 6e6c 6573 7320 7468 6579  rts (unless they
+00004900: 2068 6176 6520 6120 6023 204e 4f51 4160   have a `# NOQA`
+00004910: 206f 7220 6023 206e 6f71 6160 2063 6f6d   or `# noqa` com
+00004920: 6d65 6e74 292c 0d0a 2d20 6572 726f 7273  ment),..- errors
+00004930: 2069 6e73 7465 6164 206f 6620 7761 726e   instead of warn
+00004940: 696e 6773 2077 6865 6e20 6f76 6572 7772  ings when overwr
+00004950: 6974 696e 6720 6275 696c 742d 696e 7320  iting built-ins 
+00004960: 2875 6e6c 6573 7320 6120 6261 636b 736c  (unless a backsl
+00004970: 6173 6820 6973 2075 7365 6420 746f 2065  ash is used to e
+00004980: 7363 6170 6520 7468 6520 6275 696c 742d  scape the built-
+00004990: 696e 206e 616d 6529 2c0d 0a2d 2077 6172  in name),..- war
+000049a0: 6e69 6e67 206f 6e20 6d69 7373 696e 6720  ning on missing 
+000049b0: 605f 5f69 6e69 745f 5f2e 636f 636f 6020  `__init__.coco` 
+000049c0: 6669 6c65 7320 7768 656e 2063 6f6d 7069  files when compi
+000049d0: 6c69 6e67 2069 6e20 602d 2d70 6163 6b61  ling in `--packa
+000049e0: 6765 6020 6d6f 6465 2c0d 0a2d 2074 6872  ge` mode,..- thr
+000049f0: 6f77 696e 6720 6572 726f 7273 206f 6e20  owing errors on 
+00004a00: 7661 7269 6f75 7320 7374 796c 6520 7072  various style pr
+00004a10: 6f62 6c65 6d73 2028 7365 6520 6c69 7374  oblems (see list
+00004a20: 2062 656c 6f77 292e 0d0a 0d0a 5468 6520   below).....The 
+00004a30: 7374 796c 6520 6973 7375 6573 2077 6869  style issues whi
+00004a40: 6368 2077 696c 6c20 6361 7573 6520 602d  ch will cause `-
+00004a50: 2d73 7472 6963 7460 2074 6f20 7468 726f  -strict` to thro
+00004a60: 7720 616e 2065 7272 6f72 2061 7265 3a0d  w an error are:.
+00004a70: 0a0d 0a2d 206d 6978 696e 6720 6f66 2074  ...- mixing of t
+00004a80: 6162 7320 616e 6420 7370 6163 6573 2028  abs and spaces (
+00004a90: 7769 7468 6f75 7420 602d 2d73 7472 6963  without `--stric
+00004aa0: 7460 2077 696c 6c20 7368 6f77 2061 2077  t` will show a w
+00004ab0: 6172 6e69 6e67 292c 0d0a 2d20 7573 6520  arning),..- use 
+00004ac0: 6f66 2060 6672 6f6d 205f 5f66 7574 7572  of `from __futur
+00004ad0: 655f 5f60 2069 6d70 6f72 7473 2028 436f  e__` imports (Co
+00004ae0: 636f 6e75 7420 646f 6573 2074 6865 7365  conut does these
+00004af0: 2061 7574 6f6d 6174 6963 616c 6c79 2920   automatically) 
+00004b00: 2877 6974 686f 7574 2060 2d2d 7374 7269  (without `--stri
+00004b10: 6374 6020 7769 6c6c 2073 686f 7720 6120  ct` will show a 
+00004b20: 7761 726e 696e 6729 2c0d 0a2d 2069 6e68  warning),..- inh
+00004b30: 6572 6974 696e 6720 6672 6f6d 2060 6f62  eriting from `ob
+00004b40: 6a65 6374 6020 696e 2063 6c61 7373 6573  ject` in classes
+00004b50: 2028 436f 636f 6e75 7420 646f 6573 2074   (Coconut does t
+00004b60: 6869 7320 6175 746f 6d61 7469 6361 6c6c  his automaticall
+00004b70: 7929 2028 7769 7468 6f75 7420 602d 2d73  y) (without `--s
+00004b80: 7472 6963 7460 2077 696c 6c20 7368 6f77  trict` will show
+00004b90: 2061 2077 6172 6e69 6e67 292c 0d0a 2d20   a warning),..- 
+00004ba0: 7365 6d69 636f 6c6f 6e73 2061 7420 656e  semicolons at en
+00004bb0: 6420 6f66 206c 696e 6573 2028 7769 7468  d of lines (with
+00004bc0: 6f75 7420 602d 2d73 7472 6963 7460 2077  out `--strict` w
+00004bd0: 696c 6c20 7368 6f77 2061 2077 6172 6e69  ill show a warni
+00004be0: 6e67 292c 0d0a 2d20 7573 6520 6f66 2060  ng),..- use of `
+00004bf0: 7560 2074 6f20 6465 6e6f 7465 2055 6e69  u` to denote Uni
+00004c00: 636f 6465 2073 7472 696e 6773 2028 616c  code strings (al
+00004c10: 6c20 436f 636f 6e75 7420 7374 7269 6e67  l Coconut string
+00004c20: 7320 6172 6520 556e 6963 6f64 6520 7374  s are Unicode st
+00004c30: 7269 6e67 7329 2028 7769 7468 6f75 7420  rings) (without 
+00004c40: 602d 2d73 7472 6963 7460 2077 696c 6c20  `--strict` will 
+00004c50: 7368 6f77 2061 2077 6172 6e69 6e67 292c  show a warning),
+00004c60: 0d0a 2d20 6d69 7373 696e 6720 6e65 7720  ..- missing new 
+00004c70: 6c69 6e65 2061 7420 656e 6420 6f66 2066  line at end of f
+00004c80: 696c 652c 0d0a 2d20 7472 6169 6c69 6e67  ile,..- trailing
+00004c90: 2077 6869 7465 7370 6163 6520 6174 2065   whitespace at e
+00004ca0: 6e64 206f 6620 6c69 6e65 732c 0d0a 2d20  nd of lines,..- 
+00004cb0: 7573 6520 6f66 2074 6865 2050 7974 686f  use of the Pytho
+00004cc0: 6e2d 7374 796c 6520 606c 616d 6264 6160  n-style `lambda`
+00004cd0: 2073 7461 7465 6d65 6e74 2028 7573 6520   statement (use 
+00004ce0: 5b43 6f63 6f6e 7574 2773 206c 616d 6264  [Coconut's lambd
+00004cf0: 6120 7379 6e74 6178 5d28 236c 616d 6264  a syntax](#lambd
+00004d00: 6173 2920 696e 7374 6561 6429 2c0d 0a2d  as) instead),..-
+00004d10: 2075 7365 206f 6620 6261 636b 736c 6173   use of backslas
+00004d20: 6820 636f 6e74 696e 7561 7469 6f6e 2028  h continuation (
+00004d30: 7573 6520 5b70 6172 656e 7468 6574 6963  use [parenthetic
+00004d40: 616c 2063 6f6e 7469 6e75 6174 696f 6e5d  al continuation]
+00004d50: 2823 656e 6861 6e63 6564 2d70 6172 656e  (#enhanced-paren
+00004d60: 7468 6574 6963 616c 2d63 6f6e 7469 6e75  thetical-continu
+00004d70: 6174 696f 6e29 2069 6e73 7465 6164 292c  ation) instead),
+00004d80: 0d0a 2d20 5079 7468 6f6e 2d33 2e31 302f  ..- Python-3.10/
+00004d90: 5045 502d 3633 342d 7374 796c 6520 646f  PEP-634-style do
+00004da0: 7474 6564 206e 616d 6573 2069 6e20 7061  tted names in pa
+00004db0: 7474 6572 6e2d 6d61 7463 6869 6e67 2028  ttern-matching (
+00004dc0: 436f 636f 6e75 7420 7374 796c 6520 6973  Coconut style is
+00004dd0: 2074 6f20 7072 6566 6163 6520 7468 6573   to preface thes
+00004de0: 6520 7769 7468 2060 3d3d 6029 2c20 616e  e with `==`), an
+00004df0: 640d 0a2d 2075 7365 206f 6620 603a 6020  d..- use of `:` 
+00004e00: 696e 7374 6561 6420 6f66 2060 3c3a 6020  instead of `<:` 
+00004e10: 746f 2073 7065 6369 6679 2075 7070 6572  to specify upper
+00004e20: 2062 6f75 6e64 7320 696e 205b 436f 636f   bounds in [Coco
+00004e30: 6e75 7427 7320 7479 7065 2070 6172 616d  nut's type param
+00004e40: 6574 6572 2073 796e 7461 785d 2823 7479  eter syntax](#ty
+00004e50: 7065 2d70 6172 616d 6574 6572 2d73 796e  pe-parameter-syn
+00004e60: 7461 7829 2e0d 0a0d 0a23 2320 496e 7465  tax).....## Inte
+00004e70: 6772 6174 696f 6e73 0d0a 0d0a 6060 607b  grations....```{
+00004e80: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
+00004e90: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2032  local:..depth: 2
+00004ea0: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
+00004eb0: 2323 2053 796e 7461 7820 4869 6768 6c69  ## Syntax Highli
+00004ec0: 6768 7469 6e67 0d0a 0d0a 5465 7874 2065  ghting....Text e
+00004ed0: 6469 746f 7273 2077 6974 6820 7375 7070  ditors with supp
+00004ee0: 6f72 7420 666f 7220 436f 636f 6e75 7420  ort for Coconut 
+00004ef0: 7379 6e74 6178 2068 6967 686c 6967 6874  syntax highlight
+00004f00: 696e 6720 6172 653a 0d0a 0d0a 2d20 2a2a  ing are:....- **
+00004f10: 5653 436f 6465 2a2a 3a20 496e 7374 616c  VSCode**: Instal
+00004f20: 6c20 5b43 6f63 6f6e 7574 2028 4f66 6669  l [Coconut (Offi
+00004f30: 6369 616c 295d 2868 7474 7073 3a2f 2f6d  cial)](https://m
+00004f40: 6172 6b65 7470 6c61 6365 2e76 6973 7561  arketplace.visua
+00004f50: 6c73 7475 6469 6f2e 636f 6d2f 6974 656d  lstudio.com/item
+00004f60: 733f 6974 656d 4e61 6d65 3d65 7668 7562  s?itemName=evhub
+00004f70: 2e63 6f63 6f6e 7574 2920 2866 6f72 202a  .coconut) (for *
+00004f80: 2a56 5343 6f64 6975 6d2a 2a2c 2069 6e73  *VSCodium**, ins
+00004f90: 7461 6c6c 2066 726f 6d20 4f70 656e 2056  tall from Open V
+00004fa0: 5358 205b 6865 7265 5d28 6874 7470 733a  SX [here](https:
+00004fb0: 2f2f 6f70 656e 2d76 7378 2e6f 7267 2f65  //open-vsx.org/e
+00004fc0: 7874 656e 7369 6f6e 2f65 7668 7562 2f63  xtension/evhub/c
+00004fd0: 6f63 6f6e 7574 2920 696e 7374 6561 6429  oconut) instead)
+00004fe0: 2e0d 0a2d 202a 2a53 7562 6c69 6d65 5465  ...- **SublimeTe
+00004ff0: 7874 2a2a 3a20 5365 6520 5375 626c 696d  xt**: See Sublim
+00005000: 6554 6578 7420 7365 6374 696f 6e20 6265  eText section be
+00005010: 6c6f 772e 0d0a 2d20 2a2a 5370 7964 6572  low...- **Spyder
+00005020: 2a2a 2028 6f72 2061 6e79 206f 7468 6572  ** (or any other
+00005030: 2065 6469 746f 7220 7468 6174 2073 7570   editor that sup
+00005040: 706f 7274 7320 2a2a 5079 676d 656e 7473  ports **Pygments
+00005050: 2a2a 293a 2053 6565 2050 7967 6d65 6e74  **): See Pygment
+00005060: 7320 7365 6374 696f 6e20 6265 6c6f 772e  s section below.
+00005070: 0d0a 2d20 2a2a 5669 6d2a 2a3a 2053 6565  ..- **Vim**: See
+00005080: 205b 6063 6f63 6f6e 7574 2e76 696d 605d   [`coconut.vim`]
+00005090: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000050a0: 636f 6d2f 6d61 6e69 636d 616e 6961 632f  com/manicmaniac/
+000050b0: 636f 636f 6e75 742e 7669 6d29 2e0d 0a2d  coconut.vim)...-
+000050c0: 202a 2a45 6d61 6373 2a2a 3a20 5365 6520   **Emacs**: See 
+000050d0: 5b60 656d 6163 732d 636f 636f 6e75 7460  [`emacs-coconut`
+000050e0: 5d28 6874 7470 733a 2f2f 636f 6465 6265  ](https://codebe
+000050f0: 7267 2e6f 7267 2f6b 6f62 6172 6974 792f  rg.org/kobarity/
+00005100: 656d 6163 732d 636f 636f 6e75 7429 2f5b  emacs-coconut)/[
+00005110: 6065 6d61 6373 2d6f 622d 636f 636f 6e75  `emacs-ob-coconu
+00005120: 7460 5d28 6874 7470 733a 2f2f 636f 6465  t`](https://code
+00005130: 6265 7267 2e6f 7267 2f6b 6f62 6172 6974  berg.org/kobarit
+00005140: 792f 656d 6163 732d 6f62 2d63 6f63 6f6e  y/emacs-ob-cocon
+00005150: 7574 292e 0d0a 2d20 2a2a 4174 6f6d 2a2a  ut)...- **Atom**
+00005160: 3a20 5365 6520 5b60 6c61 6e67 7561 6765  : See [`language
+00005170: 2d63 6f63 6f6e 7574 605d 2868 7474 7073  -coconut`](https
+00005180: 3a2f 2f67 6974 6875 622e 636f 6d2f 656e  ://github.com/en
+00005190: 696c 7365 6e31 362f 6c61 6e67 7561 6765  ilsen16/language
+000051a0: 2d63 6f63 6f6e 7574 292e 0d0a 0d0a 416c  -coconut).....Al
+000051b0: 7465 726e 6174 6976 656c 792c 2069 6620  ternatively, if 
+000051c0: 6e6f 6e65 206f 6620 7468 6520 6162 6f76  none of the abov
+000051d0: 6520 776f 726b 2066 6f72 2079 6f75 2c20  e work for you, 
+000051e0: 796f 7520 6361 6e20 6a75 7374 2074 7265  you can just tre
+000051f0: 6174 2043 6f63 6f6e 7574 2061 7320 5079  at Coconut as Py
+00005200: 7468 6f6e 2e20 5369 6d70 6c79 2073 6574  thon. Simply set
+00005210: 2075 7020 796f 7572 2065 6469 746f 7220   up your editor 
+00005220: 736f 2069 7420 696e 7465 7270 7265 7473  so it interprets
+00005230: 2061 6c6c 2060 2e63 6f63 6f60 2066 696c   all `.coco` fil
+00005240: 6573 2061 7320 5079 7468 6f6e 2061 6e64  es as Python and
+00005250: 2074 6861 7420 7368 6f75 6c64 2068 6967   that should hig
+00005260: 686c 6967 6874 206d 6f73 7420 6f66 2079  hlight most of y
+00005270: 6f75 7220 636f 6465 2077 656c 6c20 656e  our code well en
+00005280: 6f75 6768 2028 652e 672e 2066 6f72 2049  ough (e.g. for I
+00005290: 6e74 656c 6c69 4a20 4944 4541 2073 6565  ntelliJ IDEA see
+000052a0: 205b 7265 6769 7374 6572 696e 6720 6669   [registering fi
+000052b0: 6c65 2074 7970 6573 5d28 6874 7470 733a  le types](https:
+000052c0: 2f2f 7777 772e 6a65 7462 7261 696e 732e  //www.jetbrains.
+000052d0: 636f 6d2f 6865 6c70 2f69 6465 612f 6372  com/help/idea/cr
+000052e0: 6561 7469 6e67 2d61 6e64 2d72 6567 6973  eating-and-regis
+000052f0: 7465 7269 6e67 2d66 696c 652d 7479 7065  tering-file-type
+00005300: 732e 6874 6d6c 2929 2e0d 0a0d 0a23 2323  s.html)).....###
+00005310: 2323 2053 7562 6c69 6d65 5465 7874 0d0a  ## SublimeText..
+00005320: 0d0a 436f 636f 6e75 7420 7379 6e74 6178  ..Coconut syntax
+00005330: 2068 6967 686c 6967 6874 696e 6720 666f   highlighting fo
+00005340: 7220 5375 626c 696d 6554 6578 7420 7265  r SublimeText re
+00005350: 7175 6972 6573 2074 6861 7420 5b50 6163  quires that [Pac
+00005360: 6b61 6765 2043 6f6e 7472 6f6c 5d28 6874  kage Control](ht
+00005370: 7470 733a 2f2f 7061 636b 6167 6563 6f6e  tps://packagecon
+00005380: 7472 6f6c 2e69 6f2f 696e 7374 616c 6c61  trol.io/installa
+00005390: 7469 6f6e 292c 2074 6865 2073 7461 6e64  tion), the stand
+000053a0: 6172 6420 7061 636b 6167 6520 6d61 6e61  ard package mana
+000053b0: 6765 7220 666f 7220 5375 626c 696d 6554  ger for SublimeT
+000053c0: 6578 742c 2062 6520 696e 7374 616c 6c65  ext, be installe
+000053d0: 642e 204f 6e63 6520 7468 6174 2069 7320  d. Once that is 
+000053e0: 646f 6e65 2c20 7369 6d70 6c79 3a0d 0a0d  done, simply:...
+000053f0: 0a31 2e20 6f70 656e 2074 6865 2053 7562  .1. open the Sub
+00005400: 6c69 6d65 5465 7874 2063 6f6d 6d61 6e64  limeText command
+00005410: 2070 616c 6574 7465 2062 7920 7072 6573   palette by pres
+00005420: 7369 6e67 2060 4374 726c 2b53 6869 6674  sing `Ctrl+Shift
+00005430: 2b50 6020 286f 7220 6043 6d64 2b53 6869  +P` (or `Cmd+Shi
+00005440: 6674 2b50 6020 6f6e 204d 6163 292c 0d0a  ft+P` on Mac),..
+00005450: 322e 2074 7970 6520 616e 6420 656e 7465  2. type and ente
+00005460: 7220 6050 6163 6b61 6765 2043 6f6e 7472  r `Package Contr
+00005470: 6f6c 3a20 496e 7374 616c 6c20 5061 636b  ol: Install Pack
+00005480: 6167 6560 2c20 616e 640d 0a33 2e20 6669  age`, and..3. fi
+00005490: 6e61 6c6c 7920 7479 7065 2061 6e64 2065  nally type and e
+000054a0: 6e74 6572 2060 436f 636f 6e75 7460 2e0d  nter `Coconut`..
+000054b0: 0a0d 0a54 6f20 6d61 6b65 2073 7572 6520  ...To make sure 
+000054c0: 6576 6572 7974 6869 6e67 2069 7320 776f  everything is wo
+000054d0: 726b 696e 6720 7072 6f70 6572 6c79 2c20  rking properly, 
+000054e0: 6f70 656e 2061 2060 2e63 6f63 6f60 2066  open a `.coco` f
+000054f0: 696c 652c 2061 6e64 206d 616b 6520 7375  ile, and make su
+00005500: 7265 2060 436f 636f 6e75 7460 2061 7070  re `Coconut` app
+00005510: 6561 7273 2069 6e20 7468 6520 626f 7474  ears in the bott
+00005520: 6f6d 2072 6967 6874 2d68 616e 6420 636f  om right-hand co
+00005530: 726e 6572 2e20 4966 2073 6f6d 6574 6869  rner. If somethi
+00005540: 6e67 2065 6c73 6520 6170 7065 6172 732c  ng else appears,
+00005550: 206c 696b 6520 6050 6c61 696e 2054 6578   like `Plain Tex
+00005560: 7460 2c20 636c 6963 6b20 6f6e 2069 742c  t`, click on it,
+00005570: 2073 656c 6563 7420 604f 7065 6e20 616c   select `Open al
+00005580: 6c20 7769 7468 2063 7572 7265 6e74 2065  l with current e
+00005590: 7874 656e 7369 6f6e 2061 732e 2e2e 6020  xtension as...` 
+000055a0: 6174 2074 6865 2074 6f70 206f 6620 7468  at the top of th
+000055b0: 6520 7265 7375 6c74 696e 6720 6d65 6e75  e resulting menu
+000055c0: 2c20 616e 6420 7468 656e 2073 656c 6563  , and then selec
+000055d0: 7420 6043 6f63 6f6e 7574 602e 0d0a 0d0a  t `Coconut`.....
+000055e0: 5f4e 6f74 653a 2043 6f63 6f6e 7574 2073  _Note: Coconut s
+000055f0: 796e 7461 7820 6869 6768 6c69 6768 7469  yntax highlighti
+00005600: 6e67 2066 6f72 2053 7562 6c69 6d65 5465  ng for SublimeTe
+00005610: 7874 2069 7320 7072 6f76 6964 6564 2062  xt is provided b
+00005620: 7920 7468 6520 5b73 7562 6c69 6d65 2d63  y the [sublime-c
+00005630: 6f63 6f6e 7574 5d28 6874 7470 733a 2f2f  oconut](https://
+00005640: 6769 7468 7562 2e63 6f6d 2f65 7668 7562  github.com/evhub
+00005650: 2f73 7562 6c69 6d65 2d63 6f63 6f6e 7574  /sublime-coconut
+00005660: 2920 7061 636b 6167 652e 5f0d 0a0d 0a23  ) package._....#
+00005670: 2323 2323 2050 7967 6d65 6e74 730d 0a0d  #### Pygments...
+00005680: 0a54 6865 2073 616d 6520 6070 6970 2069  .The same `pip i
+00005690: 6e73 7461 6c6c 2063 6f63 6f6e 7574 6020  nstall coconut` 
+000056a0: 636f 6d6d 616e 6420 7468 6174 2069 6e73  command that ins
+000056b0: 7461 6c6c 7320 7468 6520 436f 636f 6e75  talls the Coconu
+000056c0: 7420 636f 6d6d 616e 642d 6c69 6e65 2075  t command-line u
+000056d0: 7469 6c69 7479 2077 696c 6c20 616c 736f  tility will also
+000056e0: 2069 6e73 7461 6c6c 2074 6865 2060 636f   install the `co
+000056f0: 636f 6e75 7460 2050 7967 6d65 6e74 7320  conut` Pygments 
+00005700: 6c65 7865 722e 2048 6f77 2074 6f20 7573  lexer. How to us
+00005710: 6520 7468 6973 206c 6578 6572 2064 6570  e this lexer dep
+00005720: 656e 6473 206f 6e20 7468 6520 5079 676d  ends on the Pygm
+00005730: 656e 7473 2d65 6e61 626c 6564 2061 7070  ents-enabled app
+00005740: 6c69 6361 7469 6f6e 2062 6569 6e67 2075  lication being u
+00005750: 7365 642c 2062 7574 2069 6e20 6765 6e65  sed, but in gene
+00005760: 7261 6c20 7369 6d70 6c79 2075 7365 2074  ral simply use t
+00005770: 6865 2060 2e63 6f63 6f60 2066 696c 6520  he `.coco` file 
+00005780: 6578 7465 6e73 696f 6e20 2873 686f 756c  extension (shoul
+00005790: 6420 6265 2061 6c6c 2079 6f75 206e 6565  d be all you nee
+000057a0: 6420 746f 2064 6f20 666f 7220 5370 7964  d to do for Spyd
+000057b0: 6572 2920 616e 642f 6f72 2065 6e74 6572  er) and/or enter
+000057c0: 2060 636f 636f 6e75 7460 2061 7320 7468   `coconut` as th
+000057d0: 6520 6c61 6e67 7561 6765 2062 6569 6e67  e language being
+000057e0: 2068 6967 686c 6967 6874 6564 2061 6e64   highlighted and
+000057f0: 2050 7967 6d65 6e74 7320 7368 6f75 6c64   Pygments should
+00005800: 2062 6520 6162 6c65 2074 6f20 6669 6775   be able to figu
+00005810: 7265 2069 7420 6f75 742e 0d0a 0d0a 466f  re it out.....Fo
+00005820: 7220 6578 616d 706c 652c 2074 6869 7320  r example, this 
+00005830: 646f 6375 6d65 6e74 6174 696f 6e20 6973  documentation is
+00005840: 2067 656e 6572 6174 6564 2077 6974 6820   generated with 
+00005850: 5b53 7068 696e 785d 2868 7474 703a 2f2f  [Sphinx](http://
+00005860: 7777 772e 7370 6869 6e78 2d64 6f63 2e6f  www.sphinx-doc.o
+00005870: 7267 2f65 6e2f 7374 6162 6c65 2f29 2c20  rg/en/stable/), 
+00005880: 7769 7468 2074 6865 2073 796e 7461 7820  with the syntax 
+00005890: 6869 6768 6c69 6768 7469 6e67 2079 6f75  highlighting you
+000058a0: 2073 6565 2063 7265 6174 6564 2062 7920   see created by 
+000058b0: 6164 6469 6e67 2074 6865 206c 696e 650d  adding the line.
+000058c0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+000058d0: 6f6e 0d0a 6869 6768 6c69 6768 745f 6c61  on..highlight_la
+000058e0: 6e67 7561 6765 203d 2022 636f 636f 6e75  nguage = "coconu
+000058f0: 7422 0d0a 6060 600d 0a74 6f20 436f 636f  t"..```..to Coco
+00005900: 6e75 7427 7320 6063 6f6e 662e 7079 602e  nut's `conf.py`.
+00005910: 0d0a 0d0a 2323 2323 2049 5079 7468 6f6e  ....#### IPython
+00005920: 2f4a 7570 7974 6572 2053 7570 706f 7274  /Jupyter Support
+00005930: 0d0a 0d0a 4966 2079 6f75 2075 7365 205b  ....If you use [
+00005940: 4950 7974 686f 6e5d 2868 7474 703a 2f2f  IPython](http://
+00005950: 6970 7974 686f 6e2e 6f72 672f 2920 2874  ipython.org/) (t
+00005960: 6865 2050 7974 686f 6e20 6b65 726e 656c  he Python kernel
+00005970: 2066 6f72 2074 6865 205b 4a75 7079 7465   for the [Jupyte
+00005980: 725d 2868 7474 703a 2f2f 6a75 7079 7465  r](http://jupyte
+00005990: 722e 6f72 672f 2920 6672 616d 6577 6f72  r.org/) framewor
+000059a0: 6b29 206e 6f74 6562 6f6f 6b73 206f 7220  k) notebooks or 
+000059b0: 636f 6e73 6f6c 652c 2043 6f63 6f6e 7574  console, Coconut
+000059c0: 2063 616e 2062 6520 7573 6564 2061 7320   can be used as 
+000059d0: 6120 4a75 7079 7465 7220 6b65 726e 656c  a Jupyter kernel
+000059e0: 206f 7220 4950 7974 686f 6e20 6578 7465   or IPython exte
+000059f0: 6e73 696f 6e2e 0d0a 0d0a 2323 2323 2320  nsion.....##### 
+00005a00: 4b65 726e 656c 0d0a 0d0a 4966 2043 6f63  Kernel....If Coc
+00005a10: 6f6e 7574 2069 7320 7573 6564 2061 7320  onut is used as 
+00005a20: 6120 6b65 726e 656c 2c20 616c 6c20 636f  a kernel, all co
+00005a30: 6465 2069 6e20 7468 6520 636f 6e73 6f6c  de in the consol
+00005a40: 6520 6f72 206e 6f74 6562 6f6f 6b20 7769  e or notebook wi
+00005a50: 6c6c 2062 6520 7365 6e74 2064 6972 6563  ll be sent direc
+00005a60: 746c 7920 746f 2043 6f63 6f6e 7574 2069  tly to Coconut i
+00005a70: 6e73 7465 6164 206f 6620 5079 7468 6f6e  nstead of Python
+00005a80: 2074 6f20 6265 2065 7661 6c75 6174 6564   to be evaluated
+00005a90: 2e20 4f74 6865 7277 6973 652c 2074 6865  . Otherwise, the
+00005aa0: 2043 6f63 6f6e 7574 206b 6572 6e65 6c20   Coconut kernel 
+00005ab0: 6265 6861 7665 7320 6578 6163 746c 7920  behaves exactly 
+00005ac0: 6c69 6b65 2074 6865 2049 5079 7468 6f6e  like the IPython
+00005ad0: 206b 6572 6e65 6c2c 2069 6e63 6c75 6469   kernel, includi
+00005ae0: 6e67 2073 7570 706f 7274 2066 6f72 2060  ng support for `
+00005af0: 256d 6167 6963 6020 636f 6d6d 616e 6473  %magic` commands
+00005b00: 2e0d 0a0d 0a53 696d 706c 7920 696e 7374  .....Simply inst
+00005b10: 616c 6c69 6e67 2043 6f63 6f6e 7574 2073  alling Coconut s
+00005b20: 686f 756c 6420 6164 6420 6120 6043 6f63  hould add a `Coc
+00005b30: 6f6e 7574 6020 6b65 726e 656c 2074 6f20  onut` kernel to 
+00005b40: 796f 7572 204a 7570 7974 6572 2f49 5079  your Jupyter/IPy
+00005b50: 7468 6f6e 206e 6f74 6562 6f6f 6b73 2e20  thon notebooks. 
+00005b60: 4966 2079 6f75 2061 7265 2068 6176 696e  If you are havin
+00005b70: 6720 6973 7375 6573 2061 6363 6573 7369  g issues accessi
+00005b80: 6e67 2074 6865 2043 6f63 6f6e 7574 206b  ng the Coconut k
+00005b90: 6572 6e65 6c2c 2068 6f77 6576 6572 2c20  ernel, however, 
+00005ba0: 7468 6520 636f 6d6d 616e 6420 6063 6f63  the command `coc
+00005bb0: 6f6e 7574 202d 2d6a 7570 7974 6572 6020  onut --jupyter` 
+00005bc0: 7769 6c6c 2072 652d 696e 7374 616c 6c20  will re-install 
+00005bd0: 7468 6520 6043 6f63 6f6e 7574 6020 6b65  the `Coconut` ke
+00005be0: 726e 656c 2074 6f20 656e 7375 7265 2069  rnel to ensure i
+00005bf0: 7420 6973 2075 7369 6e67 2074 6865 2063  t is using the c
+00005c00: 7572 7265 6e74 2050 7974 686f 6e20 6173  urrent Python as
+00005c10: 2077 656c 6c20 6173 2061 6464 2074 6865   well as add the
+00005c20: 2061 6464 6974 696f 6e61 6c20 6b65 726e   additional kern
+00005c30: 656c 7320 6043 6f63 6f6e 7574 2028 4465  els `Coconut (De
+00005c40: 6661 756c 7420 5079 7468 6f6e 2960 2c20  fault Python)`, 
+00005c50: 6043 6f63 6f6e 7574 2028 4465 6661 756c  `Coconut (Defaul
+00005c60: 7420 5079 7468 6f6e 2032 2960 2c20 616e  t Python 2)`, an
+00005c70: 6420 6043 6f63 6f6e 7574 2028 4465 6661  d `Coconut (Defa
+00005c80: 756c 7420 5079 7468 6f6e 2033 2960 2077  ult Python 3)` w
+00005c90: 6869 6368 2077 696c 6c20 7573 652c 2072  hich will use, r
+00005ca0: 6573 7065 6374 6976 656c 792c 2074 6865  espectively, the
+00005cb0: 2050 7974 686f 6e20 6163 6365 7373 6962   Python accessib
+00005cc0: 6c65 2061 7320 6070 7974 686f 6e60 2c20  le as `python`, 
+00005cd0: 6070 7974 686f 6e32 602c 2061 6e64 2060  `python2`, and `
+00005ce0: 7079 7468 6f6e 3360 2028 7468 6573 6520  python3` (these 
+00005cf0: 6b65 726e 656c 7320 6172 6520 6163 6365  kernels are acce
+00005d00: 7373 6962 6c65 2069 6e20 7468 6520 636f  ssible in the co
+00005d10: 6e73 6f6c 6520 6173 2060 636f 636f 6e75  nsole as `coconu
+00005d20: 745f 7079 602c 2060 636f 636f 6e75 745f  t_py`, `coconut_
+00005d30: 7079 3260 2c20 616e 6420 6063 6f63 6f6e  py2`, and `cocon
+00005d40: 7574 5f70 7933 6029 2e20 4675 7274 6865  ut_py3`). Furthe
+00005d50: 726d 6f72 652c 2074 6865 2043 6f63 6f6e  rmore, the Cocon
+00005d60: 7574 206b 6572 6e65 6c20 6675 6c6c 7920  ut kernel fully 
+00005d70: 7375 7070 6f72 7473 205b 606e 625f 636f  supports [`nb_co
+00005d80: 6e64 615f 6b65 726e 656c 7360 5d28 6874  nda_kernels`](ht
+00005d90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00005da0: 2f41 6e61 636f 6e64 612d 506c 6174 666f  /Anaconda-Platfo
+00005db0: 726d 2f6e 625f 636f 6e64 615f 6b65 726e  rm/nb_conda_kern
+00005dc0: 656c 7329 2074 6f20 656e 6162 6c65 2061  els) to enable a
+00005dd0: 6363 6573 7369 6e67 2074 6865 2043 6f63  ccessing the Coc
+00005de0: 6f6e 7574 206b 6572 6e65 6c20 696e 206f  onut kernel in o
+00005df0: 6e65 2043 6f6e 6461 2065 6e76 6972 6f6e  ne Conda environ
+00005e00: 6d65 6e74 2066 726f 6d20 616e 6f74 6865  ment from anothe
+00005e10: 7220 436f 6e64 6120 656e 7669 726f 6e6d  r Conda environm
+00005e20: 656e 742e 0d0a 0d0a 5468 6520 436f 636f  ent.....The Coco
+00005e30: 6e75 7420 6b65 726e 656c 2077 696c 6c20  nut kernel will 
+00005e40: 616c 7761 7973 2063 6f6d 7069 6c65 2075  always compile u
+00005e50: 7369 6e67 2074 6865 2070 6172 616d 6574  sing the paramet
+00005e60: 6572 733a 2060 2d2d 7461 7267 6574 2073  ers: `--target s
+00005e70: 7973 202d 2d6c 696e 652d 6e75 6d62 6572  ys --line-number
+00005e80: 7320 2d2d 6b65 6570 2d6c 696e 6573 202d  s --keep-lines -
+00005e90: 2d6e 6f2d 7772 6170 2d74 7970 6573 602e  -no-wrap-types`.
+00005ea0: 0d0a 0d0a 436f 636f 6e75 7420 616c 736f  ....Coconut also
+00005eb0: 2070 726f 7669 6465 7320 7468 6520 666f   provides the fo
+00005ec0: 6c6c 6f77 696e 6720 636f 6e76 656e 6965  llowing convenie
+00005ed0: 6e63 6520 636f 6d6d 616e 6473 3a0d 0a0d  nce commands:...
+00005ee0: 0a2d 2060 636f 636f 6e75 7420 2d2d 6a75  .- `coconut --ju
+00005ef0: 7079 7465 7220 6e6f 7465 626f 6f6b 6020  pyter notebook` 
+00005f00: 7769 6c6c 2065 6e73 7572 6520 7468 6174  will ensure that
+00005f10: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
+00005f20: 6e65 6c20 6973 2061 7661 696c 6162 6c65  nel is available
+00005f30: 2061 6e64 206c 6175 6e63 6820 6120 4a75   and launch a Ju
+00005f40: 7079 7465 722f 4950 7974 686f 6e20 6e6f  pyter/IPython no
+00005f50: 7465 626f 6f6b 2e0d 0a2d 2060 636f 636f  tebook...- `coco
+00005f60: 6e75 7420 2d2d 6a75 7079 7465 7220 636f  nut --jupyter co
+00005f70: 6e73 6f6c 6560 2077 696c 6c20 6c61 756e  nsole` will laun
+00005f80: 6368 2061 204a 7570 7974 6572 2f49 5079  ch a Jupyter/IPy
+00005f90: 7468 6f6e 2063 6f6e 736f 6c65 2075 7369  thon console usi
+00005fa0: 6e67 2074 6865 2043 6f63 6f6e 7574 206b  ng the Coconut k
+00005fb0: 6572 6e65 6c2e 0d0a 2d20 6063 6f63 6f6e  ernel...- `cocon
+00005fc0: 7574 202d 2d6a 7570 7974 6572 206c 6162  ut --jupyter lab
+00005fd0: 6020 7769 6c6c 2065 6e73 7572 6520 7468  ` will ensure th
+00005fe0: 6174 2074 6865 2043 6f63 6f6e 7574 206b  at the Coconut k
+00005ff0: 6572 6e65 6c20 6973 2061 7661 696c 6162  ernel is availab
+00006000: 6c65 2061 6e64 206c 6175 6e63 6820 5b4a  le and launch [J
+00006010: 7570 7974 6572 4c61 625d 2868 7474 7073  upyterLab](https
+00006020: 3a2f 2f67 6974 6875 622e 636f 6d2f 6a75  ://github.com/ju
+00006030: 7079 7465 726c 6162 2f6a 7570 7974 6572  pyterlab/jupyter
+00006040: 6c61 6229 2e0d 0a0d 0a41 6464 6974 696f  lab).....Additio
+00006050: 6e61 6c6c 792c 205b 4a75 7079 7465 7874  nally, [Jupytext
+00006060: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00006070: 2e63 6f6d 2f6d 776f 7574 732f 6a75 7079  .com/mwouts/jupy
+00006080: 7465 7874 2920 636f 6e74 6169 6e73 2073  text) contains s
+00006090: 7065 6369 616c 2073 7570 706f 7274 2066  pecial support f
+000060a0: 6f72 2074 6865 2043 6f63 6f6e 7574 206b  or the Coconut k
+000060b0: 6572 6e65 6c20 616e 6420 436f 636f 6e75  ernel and Coconu
+000060c0: 7420 636f 6e74 6169 6e73 2073 7065 6369  t contains speci
+000060d0: 616c 2073 7570 706f 7274 2066 6f72 205b  al support for [
+000060e0: 5061 7065 726d 696c 6c5d 2868 7474 7073  Papermill](https
+000060f0: 3a2f 2f70 6170 6572 6d69 6c6c 2e72 6561  ://papermill.rea
+00006100: 6474 6865 646f 6373 2e69 6f2f 656e 2f6c  dthedocs.io/en/l
+00006110: 6174 6573 742f 292e 0d0a 0d0a 2323 2323  atest/).....####
+00006120: 2320 4578 7465 6e73 696f 6e0d 0a0d 0a49  # Extension....I
+00006130: 6620 436f 636f 6e75 7420 6973 2075 7365  f Coconut is use
+00006140: 6420 6173 2061 6e20 6578 7465 6e73 696f  d as an extensio
+00006150: 6e2c 2061 2073 7065 6369 616c 206d 6167  n, a special mag
+00006160: 6963 2063 6f6d 6d61 6e64 2077 696c 6c20  ic command will 
+00006170: 7365 6e64 2073 6e69 7070 6574 7320 6f66  send snippets of
+00006180: 2063 6f64 6520 746f 2062 6520 6576 616c   code to be eval
+00006190: 7561 7465 6420 7573 696e 6720 436f 636f  uated using Coco
+000061a0: 6e75 7420 696e 7374 6561 6420 6f66 2049  nut instead of I
+000061b0: 5079 7468 6f6e 2c20 6275 7420 4950 7974  Python, but IPyt
+000061c0: 686f 6e20 7769 6c6c 2073 7469 6c6c 2062  hon will still b
+000061d0: 6520 7573 6564 2061 7320 7468 6520 6465  e used as the de
+000061e0: 6661 756c 742e 0d0a 0d0a 5468 6520 6c69  fault.....The li
+000061f0: 6e65 206d 6167 6963 2060 256c 6f61 645f  ne magic `%load_
+00006200: 6578 7420 636f 636f 6e75 7460 2077 696c  ext coconut` wil
+00006210: 6c20 6c6f 6164 2043 6f63 6f6e 7574 2061  l load Coconut a
+00006220: 7320 616e 2065 7874 656e 7369 6f6e 2c20  s an extension, 
+00006230: 7072 6f76 6964 696e 6720 7468 6520 6025  providing the `%
+00006240: 636f 636f 6e75 7460 2061 6e64 2060 2525  coconut` and `%%
+00006250: 636f 636f 6e75 7460 206d 6167 6963 7320  coconut` magics 
+00006260: 616e 6420 6164 6469 6e67 2043 6f63 6f6e  and adding Cocon
+00006270: 7574 2062 7569 6c74 2d69 6e73 2e20 5468  ut built-ins. Th
+00006280: 6520 6025 636f 636f 6e75 7460 206c 696e  e `%coconut` lin
+00006290: 6520 6d61 6769 6320 7769 6c6c 2072 756e  e magic will run
+000062a0: 2061 206c 696e 6520 6f66 2043 6f63 6f6e   a line of Cocon
+000062b0: 7574 2077 6974 6820 6465 6661 756c 7420  ut with default 
+000062c0: 7061 7261 6d65 7465 7273 2c20 616e 6420  parameters, and 
+000062d0: 7468 6520 6025 2563 6f63 6f6e 7574 6020  the `%%coconut` 
+000062e0: 626c 6f63 6b20 6d61 6769 6320 7769 6c6c  block magic will
+000062f0: 2074 616b 6520 636f 6d6d 616e 642d 6c69   take command-li
+00006300: 6e65 2061 7267 756d 656e 7473 206f 6e20  ne arguments on 
+00006310: 7468 6520 6669 7273 7420 6c69 6e65 2c20  the first line, 
+00006320: 616e 6420 7275 6e20 616e 7920 436f 636f  and run any Coco
+00006330: 6e75 7420 636f 6465 2070 726f 7669 6465  nut code provide
+00006340: 6420 696e 2074 6865 2072 6573 7420 6f66  d in the rest of
+00006350: 2074 6865 2063 656c 6c20 7769 7468 2074   the cell with t
+00006360: 686f 7365 2070 6172 616d 6574 6572 732e  hose parameters.
+00006370: 0d0a 0d0a 5f4e 6f74 653a 2055 6e6c 696b  ...._Note: Unlik
+00006380: 6520 7468 6520 6e6f 726d 616c 2043 6f63  e the normal Coc
+00006390: 6f6e 7574 2063 6f6d 6d61 6e64 2d6c 696e  onut command-lin
+000063a0: 652c 2060 2525 636f 636f 6e75 7460 2064  e, `%%coconut` d
+000063b0: 6566 6175 6c74 7320 746f 2074 6865 2060  efaults to the `
+000063c0: 7379 7360 2074 6172 6765 7420 7261 7468  sys` target rath
+000063d0: 6572 2074 6861 6e20 7468 6520 6075 6e69  er than the `uni
+000063e0: 7665 7273 616c 6020 7461 7267 6574 2e5f  versal` target._
+000063f0: 0d0a 0d0a 2323 2323 2054 7970 6520 4368  ....#### Type Ch
+00006400: 6563 6b69 6e67 0d0a 0d0a 2323 2323 2320  ecking....##### 
+00006410: 4d79 5079 2049 6e74 6567 7261 7469 6f6e  MyPy Integration
+00006420: 0d0a 0d0a 436f 636f 6e75 7420 6861 7320  ....Coconut has 
+00006430: 7468 6520 6162 696c 6974 7920 746f 2069  the ability to i
+00006440: 6e74 6567 7261 7465 2077 6974 6820 5b4d  ntegrate with [M
+00006450: 7950 795d 2868 7474 703a 2f2f 6d79 7079  yPy](http://mypy
+00006460: 2d6c 616e 672e 6f72 672f 2920 746f 2070  -lang.org/) to p
+00006470: 726f 7669 6465 206f 7074 696f 6e61 6c20  rovide optional 
+00006480: 7374 6174 6963 2074 7970 655f 6368 6563  static type_chec
+00006490: 6b69 6e67 2c20 696e 636c 7564 696e 6720  king, including 
+000064a0: 666f 7220 616c 6c20 436f 636f 6e75 7420  for all Coconut 
+000064b0: 6275 696c 742d 696e 732e 2053 696d 706c  built-ins. Simpl
+000064c0: 7920 7061 7373 2060 2d2d 6d79 7079 6020  y pass `--mypy` 
+000064d0: 746f 2060 636f 636f 6e75 7460 2074 6f20  to `coconut` to 
+000064e0: 656e 6162 6c65 204d 7950 7920 696e 7465  enable MyPy inte
+000064f0: 6772 6174 696f 6e2c 2074 686f 7567 6820  gration, though 
+00006500: 6265 2063 6172 6566 756c 2074 6f20 7061  be careful to pa
+00006510: 7373 2069 7420 6f6e 6c79 2061 7320 7468  ss it only as th
+00006520: 6520 6c61 7374 2061 7267 756d 656e 742c  e last argument,
+00006530: 2073 696e 6365 2061 6c6c 2061 7267 756d   since all argum
+00006540: 656e 7473 2061 6674 6572 2060 2d2d 6d79  ents after `--my
+00006550: 7079 6020 6172 6520 7061 7373 6564 2074  py` are passed t
+00006560: 6f20 606d 7970 7960 2c20 6e6f 7420 436f  o `mypy`, not Co
+00006570: 636f 6e75 742e 0d0a 0d0a 596f 7520 6361  conut.....You ca
+00006580: 6e20 616c 736f 2072 756e 2060 6d79 7079  n also run `mypy
+00006590: 60e2 8094 6f72 2061 6e79 206f 7468 6572  `...or any other
+000065a0: 2073 7461 7469 6320 7479 7065 2063 6865   static type che
+000065b0: 636b 6572 e280 9464 6972 6563 746c 7920  cker...directly 
+000065c0: 6f6e 2074 6865 2063 6f6d 7069 6c65 6420  on the compiled 
+000065d0: 436f 636f 6e75 742e 2049 6620 7468 6520  Coconut. If the 
+000065e0: 7374 6174 6963 2074 7970 6520 6368 6563  static type chec
+000065f0: 6b65 7220 6973 2075 6e61 626c 6520 746f  ker is unable to
+00006600: 2066 696e 6420 7468 6520 6e65 6365 7373   find the necess
+00006610: 6172 7920 7374 7562 2066 696c 6573 2c20  ary stub files, 
+00006620: 686f 7765 7665 722c 2074 6865 6e20 796f  however, then yo
+00006630: 7520 6d61 7920 6e65 6564 2074 6f3a 0d0a  u may need to:..
+00006640: 0d0a 312e 2072 756e 2060 636f 636f 6e75  ..1. run `coconu
+00006650: 7420 2d2d 6d79 7079 2069 6e73 7461 6c6c  t --mypy install
+00006660: 6020 616e 640d 0a32 2e20 7465 6c6c 2079  ` and..2. tell y
+00006670: 6f75 7220 7374 6174 6963 2074 7970 6520  our static type 
+00006680: 6368 6563 6b65 7220 6f66 2063 686f 6963  checker of choic
+00006690: 6520 746f 206c 6f6f 6b20 696e 2060 7e2f  e to look in `~/
+000066a0: 2e63 6f63 6f6e 7574 5f73 7475 6273 6020  .coconut_stubs` 
+000066b0: 666f 7220 7374 7562 2066 696c 6573 2028  for stub files (
+000066c0: 666f 7220 606d 7970 7960 2c20 7468 6973  for `mypy`, this
+000066d0: 2069 7320 646f 6e65 2062 7920 6164 6469   is done by addi
+000066e0: 6e67 2069 7420 746f 2079 6f75 7220 5b60  ng it to your [`
+000066f0: 4d59 5059 5041 5448 605d 2868 7474 7073  MYPYPATH`](https
+00006700: 3a2f 2f6d 7970 792e 7265 6164 7468 6564  ://mypy.readthed
+00006710: 6f63 732e 696f 2f65 6e2f 6c61 7465 7374  ocs.io/en/latest
+00006720: 2f72 756e 6e69 6e67 5f6d 7970 792e 6874  /running_mypy.ht
+00006730: 6d6c 2368 6f77 2d69 6d70 6f72 7473 2d61  ml#how-imports-a
+00006740: 7265 2d66 6f75 6e64 2929 2e0d 0a0d 0a54  re-found)).....T
+00006750: 6f20 6469 7374 7269 6275 7465 2079 6f75  o distribute you
+00006760: 7220 636f 6465 2077 6974 6820 6368 6563  r code with chec
+00006770: 6b61 626c 6520 7479 7065 2061 6e6e 6f74  kable type annot
+00006780: 6174 696f 6e73 2c20 796f 7527 6c6c 206e  ations, you'll n
+00006790: 6565 6420 746f 2069 6e63 6c75 6465 2060  eed to include `
+000067a0: 636f 636f 6e75 7460 2061 7320 6120 6465  coconut` as a de
+000067b0: 7065 6e64 656e 6379 2028 7468 6f75 6768  pendency (though
+000067c0: 2061 2060 2d2d 6e6f 2d64 6570 7360 2069   a `--no-deps` i
+000067d0: 6e73 7461 6c6c 2073 686f 756c 6420 6265  nstall should be
+000067e0: 2066 696e 6529 2c20 6173 2069 6e73 7461   fine), as insta
+000067f0: 6c6c 696e 6720 6974 2069 7320 6e65 6365  lling it is nece
+00006800: 7373 6172 7920 746f 206d 616b 6520 7468  ssary to make th
+00006810: 6520 7265 7175 6973 6974 6520 7374 7562  e requisite stub
+00006820: 2066 696c 6573 2061 7661 696c 6162 6c65   files available
+00006830: 2e20 596f 7527 6c6c 2061 6c73 6f20 7072  . You'll also pr
+00006840: 6f62 6162 6c79 2077 616e 7420 746f 2069  obably want to i
+00006850: 6e63 6c75 6465 2061 205b 6070 792e 7479  nclude a [`py.ty
+00006860: 7065 6460 5d28 6874 7470 733a 2f2f 7065  ped`](https://pe
+00006870: 7073 2e70 7974 686f 6e2e 6f72 672f 7065  ps.python.org/pe
+00006880: 702d 3035 3631 2f29 2066 696c 652e 0d0a  p-0561/) file...
+00006890: 0d0a 2323 2323 2320 5379 6e74 6178 0d0a  ..##### Syntax..
+000068a0: 0d0a 546f 2065 7870 6c69 6369 746c 7920  ..To explicitly 
+000068b0: 616e 6e6f 7461 7465 2079 6f75 7220 636f  annotate your co
+000068c0: 6465 2077 6974 6820 7479 7065 7320 746f  de with types to
+000068d0: 2062 6520 6368 6563 6b65 642c 2043 6f63   be checked, Coc
+000068e0: 6f6e 7574 2073 7570 706f 7274 733a 0d0a  onut supports:..
+000068f0: 2a20 5b50 7974 686f 6e20 3320 6675 6e63  * [Python 3 func
+00006900: 7469 6f6e 2074 7970 6520 616e 6e6f 7461  tion type annota
+00006910: 7469 6f6e 735d 2868 7474 7073 3a2f 2f77  tions](https://w
+00006920: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
+00006930: 762f 7065 7073 2f70 6570 2d30 3438 342f  v/peps/pep-0484/
+00006940: 292c 0d0a 2a20 5b50 7974 686f 6e20 332e  ),..* [Python 3.
+00006950: 3620 7661 7269 6162 6c65 2074 7970 6520  6 variable type 
+00006960: 616e 6e6f 7461 7469 6f6e 735d 2868 7474  annotations](htt
+00006970: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00006980: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+00006990: 2d30 3532 362f 292c 0d0a 2a20 5b50 4550  -0526/),..* [PEP
+000069a0: 2036 3935 2074 7970 6520 7061 7261 6d65   695 type parame
+000069b0: 7465 7220 7379 6e74 6178 5d28 2374 7970  ter syntax](#typ
+000069c0: 652d 7061 7261 6d65 7465 722d 7379 6e74  e-parameter-synt
+000069d0: 6178 2920 666f 7220 6561 7369 6c79 2061  ax) for easily a
+000069e0: 6464 696e 6720 7479 7065 2070 6172 616d  dding type param
+000069f0: 6574 6572 7320 746f 2063 6c61 7373 6573  eters to classes
+00006a00: 2c20 6675 6e63 7469 6f6e 732c 205b 6064  , functions, [`d
+00006a10: 6174 6160 2074 7970 6573 5d28 2364 6174  ata` types](#dat
+00006a20: 6129 2c20 616e 6420 7479 7065 2061 6c69  a), and type ali
+00006a30: 6173 6573 2c0d 0a2a 2043 6f63 6f6e 7574  ases,..* Coconut
+00006a40: 2773 206f 776e 205b 656e 6861 6e63 6564  's own [enhanced
+00006a50: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+00006a60: 2073 796e 7461 785d 2823 656e 6861 6e63   syntax](#enhanc
+00006a70: 6564 2d74 7970 652d 616e 6e6f 7461 7469  ed-type-annotati
+00006a80: 6f6e 292c 2061 6e64 0d0a 2a20 436f 636f  on), and..* Coco
+00006a90: 6e75 7427 7320 5b70 726f 746f 636f 6c20  nut's [protocol 
+00006aa0: 696e 7465 7273 6563 7469 6f6e 206f 7065  intersection ope
+00006ab0: 7261 746f 725d 2823 7072 6f74 6f63 6f6c  rator](#protocol
+00006ac0: 2d69 6e74 6572 7365 6374 696f 6e29 2e0d  -intersection)..
+00006ad0: 0a0d 0a42 7920 6465 6661 756c 742c 2061  ...By default, a
+00006ae0: 6c6c 2074 7970 6520 616e 6e6f 7461 7469  ll type annotati
+00006af0: 6f6e 7320 6172 6520 636f 6d70 696c 6564  ons are compiled
+00006b00: 2074 6f20 5079 7468 6f6e 2d32 2d63 6f6d   to Python-2-com
+00006b10: 7061 7469 626c 6520 7479 7065 2063 6f6d  patible type com
+00006b20: 6d65 6e74 732c 2077 6869 6368 206d 6561  ments, which mea
+00006b30: 6e73 2069 7420 616c 6c20 776f 726b 7320  ns it all works 
+00006b40: 6f6e 2061 6e79 2050 7974 686f 6e20 7665  on any Python ve
+00006b50: 7273 696f 6e2e 0d0a 0d0a 536f 6d65 7469  rsion.....Someti
+00006b60: 6d65 732c 204d 7950 7920 7769 6c6c 206e  mes, MyPy will n
+00006b70: 6f74 206b 6e6f 7720 686f 7720 746f 2068  ot know how to h
+00006b80: 616e 646c 6520 6365 7274 6169 6e20 436f  andle certain Co
+00006b90: 636f 6e75 7420 636f 6e73 7472 7563 7473  conut constructs
+00006ba0: 2c20 7375 6368 2061 7320 6061 6464 7061  , such as `addpa
+00006bb0: 7474 6572 6e60 2e20 466f 7220 7468 6520  ttern`. For the 
+00006bc0: 6061 6464 7061 7474 6572 6e60 2063 6173  `addpattern` cas
+00006bd0: 652c 2069 7420 6973 2072 6563 6f6d 6d65  e, it is recomme
+00006be0: 6e64 6564 2074 6f20 7061 7373 2060 2d2d  nded to pass `--
+00006bf0: 616c 6c6f 772d 7265 6465 6669 6e69 7469  allow-redefiniti
+00006c00: 6f6e 6020 746f 204d 7950 7920 2869 2e65  on` to MyPy (i.e
+00006c10: 2e20 7275 6e20 6063 6f63 6f6e 7574 203c  . run `coconut <
+00006c20: 6172 6773 3e20 2d2d 6d79 7079 202d 2d61  args> --mypy --a
+00006c30: 6c6c 6f77 2d72 6564 6566 696e 6974 696f  llow-redefinitio
+00006c40: 6e60 292c 2074 686f 7567 6820 696e 2073  n`), though in s
+00006c50: 6f6d 6520 6361 7365 7320 602d 2d61 6c6c  ome cases `--all
+00006c60: 6f77 2d72 6564 6566 696e 6974 696f 6e60  ow-redefinition`
+00006c70: 206d 6179 206e 6f74 2062 6520 7375 6666   may not be suff
+00006c80: 6963 6965 6e74 2e20 496e 2074 6861 7420  icient. In that 
+00006c90: 6361 7365 2c20 6569 7468 6572 2068 6964  case, either hid
+00006ca0: 6520 7468 6520 6f66 6665 6e64 696e 6720  e the offending 
+00006cb0: 636f 6465 2075 7369 6e67 205b 6054 5950  code using [`TYP
+00006cc0: 455f 4348 4543 4b49 4e47 605d 2823 7479  E_CHECKING`](#ty
+00006cd0: 7065 5f63 6865 636b 696e 6729 206f 7220  pe_checking) or 
+00006ce0: 7075 7420 6120 6023 2074 7970 653a 2069  put a `# type: i
+00006cf0: 676e 6f72 6560 2063 6f6d 6d65 6e74 206f  gnore` comment o
+00006d00: 6e20 7468 6520 436f 636f 6e75 7420 6c69  n the Coconut li
+00006d10: 6e65 2077 6869 6368 2069 7320 6765 6e65  ne which is gene
+00006d20: 7261 7469 6e67 2074 6865 206c 696e 6520  rating the line 
+00006d30: 4d79 5079 2069 7320 636f 6d70 6c61 696e  MyPy is complain
+00006d40: 696e 6720 6162 6f75 7420 616e 6420 7468  ing about and th
+00006d50: 6520 636f 6d6d 656e 7420 7769 6c6c 2062  e comment will b
+00006d60: 6520 6164 6465 6420 746f 2065 7665 7279  e added to every
+00006d70: 2067 656e 6572 6174 6564 206c 696e 652e   generated line.
+00006d80: 0d0a 0d0a 2323 2323 2320 496e 7465 7270  ....##### Interp
+00006d90: 7265 7465 720d 0a0d 0a43 6f63 6f6e 7574  reter....Coconut
+00006da0: 2065 7665 6e20 7375 7070 6f72 7473 2060   even supports `
+00006db0: 2d2d 6d79 7079 6020 696e 2074 6865 2069  --mypy` in the i
+00006dc0: 6e74 6572 7072 6574 6572 2c20 7768 6963  nterpreter, whic
+00006dd0: 6820 7769 6c6c 2069 6e74 656c 6c69 6765  h will intellige
+00006de0: 6e74 6c79 2073 6361 6e20 6561 6368 206e  ntly scan each n
+00006df0: 6577 206c 696e 6520 6f66 2063 6f64 652c  ew line of code,
+00006e00: 2069 6e20 7468 6520 636f 6e74 6578 7420   in the context 
+00006e10: 6f66 2070 7265 7669 6f75 7320 6c69 6e65  of previous line
+00006e20: 732c 2066 6f72 206e 6577 6c79 2d69 6e74  s, for newly-int
+00006e30: 726f 6475 6365 6420 4d79 5079 2065 7272  roduced MyPy err
+00006e40: 6f72 732e 2046 6f72 2065 7861 6d70 6c65  ors. For example
+00006e50: 3a0d 0a60 6060 636f 636f 6e75 745f 7079  :..```coconut_py
+00006e60: 636f 6e0d 0a3e 3e3e 2061 3a20 7374 7220  con..>>> a: str 
+00006e70: 3d20 636f 756e 7428 295b 305d 0d0a 3c73  = count()[0]..<s
+00006e80: 7472 696e 673e 3a31 343a 2065 7272 6f72  tring>:14: error
+00006e90: 3a20 496e 636f 6d70 6174 6962 6c65 2074  : Incompatible t
+00006ea0: 7970 6573 2069 6e20 6173 7369 676e 6d65  ypes in assignme
+00006eb0: 6e74 2028 6578 7072 6573 7369 6f6e 2068  nt (expression h
+00006ec0: 6173 2074 7970 6520 2269 6e74 222c 2076  as type "int", v
+00006ed0: 6172 6961 626c 6520 6861 7320 7479 7065  ariable has type
+00006ee0: 2022 7374 7222 290d 0a3e 3e3e 2072 6576   "str")..>>> rev
+00006ef0: 6561 6c5f 7479 7065 2861 290d 0a30 0d0a  eal_type(a)..0..
+00006f00: 3c73 7472 696e 673e 3a31 393a 206e 6f74  <string>:19: not
+00006f10: 653a 2052 6576 6561 6c65 6420 7479 7065  e: Revealed type
+00006f20: 2069 7320 2762 7569 6c74 696e 732e 756e   is 'builtins.un
+00006f30: 6963 6f64 6527 0d0a 6060 600d 0a5f 466f  icode'..```.._Fo
+00006f40: 7220 6d6f 7265 2069 6e66 6f72 6d61 7469  r more informati
+00006f50: 6f6e 206f 6e20 6072 6576 6561 6c5f 7479  on on `reveal_ty
+00006f60: 7065 602c 2073 6565 205b 6072 6576 6561  pe`, see [`revea
+00006f70: 6c5f 7479 7065 6020 616e 6420 6072 6576  l_type` and `rev
+00006f80: 6561 6c5f 6c6f 6361 6c73 605d 2823 7265  eal_locals`](#re
+00006f90: 7665 616c 2d74 7970 652d 616e 642d 7265  veal-type-and-re
+00006fa0: 7665 616c 2d6c 6f63 616c 7329 2e5f 0d0a  veal-locals)._..
+00006fb0: 0d0a 2323 2323 2060 6e75 6d70 7960 2049  ..#### `numpy` I
+00006fc0: 6e74 6567 7261 7469 6f6e 0d0a 0d0a 546f  ntegration....To
+00006fd0: 2061 6c6c 6f77 2066 6f72 2062 6574 7465   allow for bette
+00006fe0: 7220 7573 6520 6f66 205b 606e 756d 7079  r use of [`numpy
+00006ff0: 605d 2868 7474 7073 3a2f 2f6e 756d 7079  `](https://numpy
+00007000: 2e6f 7267 2f29 206f 626a 6563 7473 2069  .org/) objects i
+00007010: 6e20 436f 636f 6e75 742c 2061 6c6c 2063  n Coconut, all c
+00007020: 6f6d 7069 6c65 6420 436f 636f 6e75 7420  ompiled Coconut 
+00007030: 636f 6465 2077 696c 6c20 646f 2061 206e  code will do a n
+00007040: 756d 6265 7220 6f66 2073 7065 6369 616c  umber of special
+00007050: 2074 6869 6e67 7320 746f 2062 6574 7465   things to bette
+00007060: 7220 696e 7465 6772 6174 6520 7769 7468  r integrate with
+00007070: 2060 6e75 6d70 7960 2028 6966 2060 6e75   `numpy` (if `nu
+00007080: 6d70 7960 2069 7320 6176 6169 6c61 626c  mpy` is availabl
+00007090: 6520 746f 2069 6d70 6f72 7420 7768 656e  e to import when
+000070a0: 2074 6865 2063 6f64 6520 6973 2072 756e   the code is run
+000070b0: 292e 2053 7065 6369 6669 6361 6c6c 793a  ). Specifically:
+000070c0: 0d0a 0d0a 2d20 436f 636f 6e75 7427 7320  ....- Coconut's 
+000070d0: 5b6d 756c 7469 6469 6d65 6e73 696f 6e61  [multidimensiona
+000070e0: 6c20 6172 7261 7920 6c69 7465 7261 6c20  l array literal 
+000070f0: 616e 6420 6172 7261 7920 636f 6e63 6174  and array concat
+00007100: 656e 6174 696f 6e20 7379 6e74 6178 5d28  enation syntax](
+00007110: 236d 756c 7469 6469 6d65 6e73 696f 6e61  #multidimensiona
+00007120: 6c2d 6172 7261 792d 6c69 7465 7261 6c63  l-array-literalc
+00007130: 6f6e 6361 7465 6e61 7469 6f6e 2d73 796e  oncatenation-syn
+00007140: 7461 7829 2073 7570 706f 7274 7320 606e  tax) supports `n
+00007150: 756d 7079 6020 6f62 6a65 6374 732c 2069  umpy` objects, i
+00007160: 6e63 6c75 6469 6e67 2075 7369 6e67 2066  ncluding using f
+00007170: 6173 7420 606e 756d 7079 6020 636f 6e63  ast `numpy` conc
+00007180: 6174 656e 6174 696f 6e20 6d65 7468 6f64  atenation method
+00007190: 7320 6966 2067 6976 656e 2060 6e75 6d70  s if given `nump
+000071a0: 7960 2061 7272 6179 7320 7261 7468 6572  y` arrays rather
+000071b0: 2074 6861 6e20 436f 636f 6e75 7427 7320   than Coconut's 
+000071c0: 6465 6661 756c 7420 6d75 6368 2073 6c6f  default much slo
+000071d0: 7765 7220 696d 706c 656d 656e 7461 7469  wer implementati
+000071e0: 6f6e 2062 7569 6c74 2066 6f72 2050 7974  on built for Pyt
+000071f0: 686f 6e20 6c69 7374 7320 6f66 206c 6973  hon lists of lis
+00007200: 7473 2e0d 0a2d 204d 616e 7920 6f66 2043  ts...- Many of C
+00007210: 6f63 6f6e 7574 2773 2062 7569 6c74 2d69  oconut's built-i
+00007220: 6e73 2069 6e63 6c75 6465 2073 7065 6369  ns include speci
+00007230: 616c 2060 6e75 6d70 7960 2073 7570 706f  al `numpy` suppo
+00007240: 7274 2c20 7370 6563 6966 6963 616c 6c79  rt, specifically
+00007250: 3a0d 0a20 202a 205b 6066 6d61 7060 5d28  :..  * [`fmap`](
+00007260: 2366 6d61 7029 2077 696c 6c20 7573 6520  #fmap) will use 
+00007270: 5b60 6e75 6d70 792e 7665 6374 6f72 697a  [`numpy.vectoriz
+00007280: 6560 5d28 6874 7470 733a 2f2f 6e75 6d70  e`](https://nump
+00007290: 792e 6f72 672f 646f 632f 7374 6162 6c65  y.org/doc/stable
+000072a0: 2f72 6566 6572 656e 6365 2f67 656e 6572  /reference/gener
+000072b0: 6174 6564 2f6e 756d 7079 2e76 6563 746f  ated/numpy.vecto
+000072c0: 7269 7a65 2e68 746d 6c29 2074 6f20 6d61  rize.html) to ma
+000072d0: 7020 6f76 6572 2060 6e75 6d70 7960 2061  p over `numpy` a
+000072e0: 7272 6179 732e 0d0a 2020 2a20 5b60 6d75  rrays...  * [`mu
+000072f0: 6c74 695f 656e 756d 6572 6174 6560 5d28  lti_enumerate`](
+00007300: 236d 756c 7469 5f65 6e75 6d65 7261 7465  #multi_enumerate
+00007310: 2920 616c 6c6f 7773 2066 6f72 2065 6173  ) allows for eas
+00007320: 696c 7920 6c6f 6f70 696e 6720 6f76 6572  ily looping over
+00007330: 2061 6c6c 2074 6865 206d 756c 7469 2d64   all the multi-d
+00007340: 696d 656e 7369 6f6e 616c 2069 6e64 6963  imensional indic
+00007350: 6573 2069 6e20 6120 606e 756d 7079 6020  es in a `numpy` 
+00007360: 6172 7261 792e 0d0a 2020 2a20 5b60 6361  array...  * [`ca
+00007370: 7274 6573 6961 6e5f 7072 6f64 7563 7460  rtesian_product`
+00007380: 5d28 2363 6172 7465 7369 616e 5f70 726f  ](#cartesian_pro
+00007390: 6475 6374 2920 6361 6e20 636f 6d70 7574  duct) can comput
+000073a0: 6520 7468 6520 4361 7274 6573 6961 6e20  e the Cartesian 
+000073b0: 7072 6f64 7563 7420 6f66 2067 6976 656e  product of given
+000073c0: 2060 6e75 6d70 7960 2061 7272 6179 7320   `numpy` arrays 
+000073d0: 6173 2061 2060 6e75 6d70 7960 2061 7272  as a `numpy` arr
+000073e0: 6179 2e0d 0a20 202a 205b 6061 6c6c 5f65  ay...  * [`all_e
+000073f0: 7175 616c 605d 2823 616c 6c5f 6571 7561  qual`](#all_equa
+00007400: 6c29 2061 6c6c 6f77 7320 666f 7220 6561  l) allows for ea
+00007410: 7369 6c79 2063 6865 636b 696e 6720 6966  sily checking if
+00007420: 2061 6c6c 2074 6865 2065 6c65 6d65 6e74   all the element
+00007430: 7320 696e 2061 2060 6e75 6d70 7960 2061  s in a `numpy` a
+00007440: 7272 6179 2061 7265 2074 6865 2073 616d  rray are the sam
+00007450: 652e 0d0a 2d20 5b60 6e75 6d70 792e 6e64  e...- [`numpy.nd
+00007460: 6172 7261 7960 5d28 6874 7470 733a 2f2f  array`](https://
+00007470: 6e75 6d70 792e 6f72 672f 646f 632f 7374  numpy.org/doc/st
+00007480: 6162 6c65 2f72 6566 6572 656e 6365 2f67  able/reference/g
+00007490: 656e 6572 6174 6564 2f6e 756d 7079 2e6e  enerated/numpy.n
+000074a0: 6461 7272 6179 2e68 746d 6c29 2069 7320  darray.html) is 
+000074b0: 7265 6769 7374 6572 6564 2061 7320 6120  registered as a 
+000074c0: 5b60 636f 6c6c 6563 7469 6f6e 732e 6162  [`collections.ab
+000074d0: 632e 5365 7175 656e 6365 605d 2868 7474  c.Sequence`](htt
+000074e0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+000074f0: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
+00007500: 6f6c 6c65 6374 696f 6e73 2e61 6263 2e68  ollections.abc.h
+00007510: 746d 6c23 636f 6c6c 6563 7469 6f6e 732e  tml#collections.
+00007520: 6162 632e 5365 7175 656e 6365 292c 2065  abc.Sequence), e
+00007530: 6e61 626c 696e 6720 6974 2074 6f20 6265  nabling it to be
+00007540: 2075 7365 6420 696e 205b 7365 7175 656e   used in [sequen
+00007550: 6365 2070 6174 7465 726e 735d 2823 7365  ce patterns](#se
+00007560: 6d61 6e74 6963 732d 7370 6563 6966 6963  mantics-specific
+00007570: 6174 696f 6e29 2e0d 0a2d 2060 6e75 6d70  ation)...- `nump
+00007580: 7960 206f 626a 6563 7473 2061 7265 2061  y` objects are a
+00007590: 6c6c 6f77 6564 2073 6561 6d6c 6573 736c  llowed seamlessl
+000075a0: 7920 696e 2043 6f63 6f6e 7574 2773 205b  y in Coconut's [
+000075b0: 696d 706c 6963 6974 2063 6f65 6666 6963  implicit coeffic
+000075c0: 6965 6e74 2073 796e 7461 785d 2823 696d  ient syntax](#im
+000075d0: 706c 6963 6974 2d66 756e 6374 696f 6e2d  plicit-function-
+000075e0: 6170 706c 6963 6174 696f 6e2d 616e 642d  application-and-
+000075f0: 636f 6566 6669 6369 656e 7473 292c 2061  coefficients), a
+00007600: 6c6c 6f77 696e 6720 7468 6520 7573 6520  llowing the use 
+00007610: 6f66 2065 2e67 2e20 6041 2042 2a2a 3260  of e.g. `A B**2`
+00007620: 2073 686f 7274 6861 6e64 2066 6f72 2060   shorthand for `
+00007630: 4120 2a20 422a 2a32 6020 7768 656e 2060  A * B**2` when `
+00007640: 4160 2061 6e64 2060 4260 2061 7265 2060  A` and `B` are `
+00007650: 6e75 6d70 7960 2061 7272 6179 7320 286e  numpy` arrays (n
+00007660: 6f74 653a 202a 2a6e 6f74 2a2a 2060 4120  ote: **not** `A 
+00007670: 4020 422a 2a32 6029 2e0d 0a2d 2043 6f63  @ B**2`)...- Coc
+00007680: 6f6e 7574 2073 7570 706f 7274 7320 6040  onut supports `@
+00007690: 6020 666f 7220 6d61 7472 6978 206d 756c  ` for matrix mul
+000076a0: 7469 706c 6963 6174 696f 6e20 6f66 2060  tiplication of `
+000076b0: 6e75 6d70 7960 2061 7272 6179 7320 6f6e  numpy` arrays on
+000076c0: 2061 6c6c 2050 7974 686f 6e20 7665 7273   all Python vers
+000076d0: 696f 6e73 2c20 6173 2077 656c 6c20 6173  ions, as well as
+000076e0: 2073 7570 706c 7969 6e67 2074 6865 2060   supplying the `
+000076f0: 2840 2960 205b 6f70 6572 6174 6f72 2066  (@)` [operator f
+00007700: 756e 6374 696f 6e5d 2823 6f70 6572 6174  unction](#operat
+00007710: 6f72 2d66 756e 6374 696f 6e73 292e 0d0a  or-functions)...
+00007720: 0d0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
+00007730: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00007740: 2074 6865 2065 7861 6374 2073 616d 6520   the exact same 
+00007750: 7375 7070 6f72 7420 666f 7220 5b60 7061  support for [`pa
+00007760: 6e64 6173 605d 2868 7474 7073 3a2f 2f70  ndas`](https://p
+00007770: 616e 6461 732e 7079 6461 7461 2e6f 7267  andas.pydata.org
+00007780: 2f29 2c20 5b60 7079 746f 7263 6860 5d28  /), [`pytorch`](
+00007790: 6874 7470 733a 2f2f 7079 746f 7263 682e  https://pytorch.
+000077a0: 6f72 672f 292c 2061 6e64 205b 606a 6178  org/), and [`jax
+000077b0: 2e6e 756d 7079 605d 2868 7474 7073 3a2f  .numpy`](https:/
+000077c0: 2f6a 6178 2e72 6561 6474 6865 646f 6373  /jax.readthedocs
+000077d0: 2e69 6f2f 656e 2f6c 6174 6573 742f 6a61  .io/en/latest/ja
+000077e0: 782e 6e75 6d70 792e 6874 6d6c 292c 2069  x.numpy.html), i
+000077f0: 6e63 6c75 6469 6e67 2075 7369 6e67 2060  ncluding using `
+00007800: 7061 6e64 6173 602f 606a 6178 602d 7370  pandas`/`jax`-sp
+00007810: 6563 6966 6963 206d 6574 686f 6473 206f  ecific methods o
+00007820: 7665 7220 606e 756d 7079 6020 6d65 7468  ver `numpy` meth
+00007830: 6f64 7320 7768 656e 2067 6976 656e 2060  ods when given `
+00007840: 7061 6e64 6173 602f 606a 6178 6020 6f62  pandas`/`jax` ob
+00007850: 6a65 6374 732e 0d0a 0d0a 2323 2323 2060  jects.....#### `
+00007860: 786f 6e73 6860 2053 7570 706f 7274 0d0a  xonsh` Support..
+00007870: 0d0a 436f 636f 6e75 7420 696e 7465 6772  ..Coconut integr
+00007880: 6174 6573 2077 6974 6820 5b60 786f 6e73  ates with [`xons
+00007890: 6860 5d28 6874 7470 733a 2f2f 786f 6e2e  h`](https://xon.
+000078a0: 7368 2f29 2074 6f20 616c 6c6f 7720 7468  sh/) to allow th
+000078b0: 6520 7573 6520 6f66 2043 6f63 6f6e 7574  e use of Coconut
+000078c0: 2063 6f64 6520 6469 7265 6374 6c79 2066   code directly f
+000078d0: 726f 6d20 796f 7572 2063 6f6d 6d61 6e64  rom your command
+000078e0: 206c 696e 652e 2054 6f20 7573 6520 436f   line. To use Co
+000078f0: 636f 6e75 7420 696e 2060 786f 6e73 6860  conut in `xonsh`
+00007900: 2c20 7369 6d70 6c79 2060 7069 7020 696e  , simply `pip in
+00007910: 7374 616c 6c20 636f 636f 6e75 7460 2073  stall coconut` s
+00007920: 686f 756c 6420 6265 2061 6c6c 2079 6f75  hould be all you
+00007930: 206e 6565 6420 746f 2065 6e61 626c 6520   need to enable 
+00007940: 7468 6520 7573 6520 6f66 2043 6f63 6f6e  the use of Cocon
+00007950: 7574 2073 796e 7461 7820 696e 2074 6865  ut syntax in the
+00007960: 2060 786f 6e73 6860 2073 6865 6c6c 2e20   `xonsh` shell. 
+00007970: 496e 2073 6f6d 6520 6369 7263 756d 7374  In some circumst
+00007980: 616e 6365 732c 2069 6e20 7061 7274 6963  ances, in partic
+00007990: 756c 6172 2064 6570 656e 6469 6e67 206f  ular depending o
+000079a0: 6e20 7468 6520 696e 7374 616c 6c65 6420  n the installed 
+000079b0: 6078 6f6e 7368 6020 7665 7273 696f 6e2c  `xonsh` version,
+000079c0: 2061 6464 696e 6720 6078 6f6e 7472 6962   adding `xontrib
+000079d0: 206c 6f61 6420 636f 636f 6e75 7460 2074   load coconut` t
+000079e0: 6f20 796f 7572 205b 6078 6f6e 7368 7263  o your [`xonshrc
+000079f0: 605d 2868 7474 7073 3a2f 2f78 6f6e 2e73  `](https://xon.s
+00007a00: 682f 786f 6e73 6872 632e 6874 6d6c 2920  h/xonshrc.html) 
+00007a10: 6669 6c65 206d 6967 6874 2062 6520 6e65  file might be ne
+00007a20: 6365 7373 6172 792e 0d0a 0d0a 466f 7220  cessary.....For 
+00007a30: 616e 2065 7861 6d70 6c65 206f 6620 7573  an example of us
+00007a40: 696e 6720 436f 636f 6e75 7420 6672 6f6d  ing Coconut from
+00007a50: 2060 786f 6e73 6860 3a0d 0a60 6060 0d0a   `xonsh`:..```..
+00007a60: 7573 6572 4063 6f6d 7075 7465 7220 7e20  user@computer ~ 
+00007a70: 2420 786f 6e74 7269 6220 6c6f 6164 2063  $ xontrib load c
+00007a80: 6f63 6f6e 7574 0d0a 7573 6572 4063 6f6d  oconut..user@com
+00007a90: 7075 7465 7220 7e20 2420 6364 202e 2f66  puter ~ $ cd ./f
+00007aa0: 696c 6573 0d0a 7573 6572 4063 6f6d 7075  iles..user@compu
+00007ab0: 7465 7220 7e20 2420 2428 6c73 202d 6c61  ter ~ $ $(ls -la
+00007ac0: 2920 7c3e 202e 7370 6c69 746c 696e 6573  ) |> .splitlines
+00007ad0: 2829 207c 3e20 6c65 6e0d 0a33 300d 0a60  () |> len..30..`
+00007ae0: 6060 0d0a 0d0a 4e6f 7465 2074 6861 7420  ``....Note that 
+00007af0: 7468 6520 7761 7920 7468 6174 2043 6f63  the way that Coc
+00007b00: 6f6e 7574 2069 6e74 6567 7261 7465 7320  onut integrates 
+00007b10: 7769 7468 2060 786f 6e73 6860 2c20 6040  with `xonsh`, `@
+00007b20: 283c 636f 6465 3e29 6020 7379 6e74 6178  (<code>)` syntax
+00007b30: 2061 6e64 2074 6865 2060 6578 6563 7860   and the `execx`
+00007b40: 2063 6f6d 6d61 6e64 2077 696c 6c20 6f6e   command will on
+00007b50: 6c79 2077 6f72 6b20 7769 7468 2050 7974  ly work with Pyt
+00007b60: 686f 6e20 636f 6465 2c20 6e6f 7420 436f  hon code, not Co
+00007b70: 636f 6e75 7420 636f 6465 2e0d 0a0d 0a41  conut code.....A
+00007b80: 6464 6974 696f 6e61 6c6c 792c 2043 6f63  dditionally, Coc
+00007b90: 6f6e 7574 2077 696c 6c20 6f6e 6c79 2063  onut will only c
+00007ba0: 6f6d 7069 6c65 2069 6e64 6976 6964 7561  ompile individua
+00007bb0: 6c20 636f 6d6d 616e 6473 e280 9443 6f63  l commands...Coc
+00007bc0: 6f6e 7574 2077 696c 6c20 6e6f 7420 746f  onut will not to
+00007bd0: 7563 6820 7468 6520 602e 786f 6e73 6872  uch the `.xonshr
+00007be0: 6360 206f 7220 616e 7920 6f74 6865 7220  c` or any other 
+00007bf0: 602e 7873 6860 2066 696c 6573 2e0d 0a0d  `.xsh` files....
+00007c00: 0a23 2320 4f70 6572 6174 6f72 730d 0a0d  .## Operators...
+00007c10: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+00007c20: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+00007c30: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
+00007c40: 0a0d 0a23 2323 2050 7265 6365 6465 6e63  ...### Precedenc
+00007c50: 650d 0a0d 0a49 6e20 6f72 6465 7220 6f66  e....In order of
+00007c60: 2070 7265 6365 6465 6e63 652c 2068 6967   precedence, hig
+00007c70: 6865 7374 2066 6972 7374 2c20 7468 6520  hest first, the 
+00007c80: 6f70 6572 6174 6f72 7320 7375 7070 6f72  operators suppor
+00007c90: 7465 6420 696e 2043 6f63 6f6e 7574 2061  ted in Coconut a
+00007ca0: 7265 3a0d 0a60 6060 0d0a 3d3d 3d3d 3d3d  re:..```..======
+00007cb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007cc0: 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   ===============
+00007cd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0d 0a53 796d  ===========..Sym
+00007ce0: 626f 6c28 7329 2020 2020 2020 2020 2020  bol(s)          
+00007cf0: 2020 2020 4173 736f 6369 6174 6976 6974      Associativit
+00007d00: 790d 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  y..=============
+00007d10: 3d3d 3d3d 3d3d 3d3d 3d20 3d3d 3d3d 3d3d  ========= ======
+00007d20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007d30: 3d3d 3d3d 0d0a 6177 6169 7420 7820 2020  ====..await x   
+00007d40: 2020 2020 2020 2020 2020 2020 206e 2f61               n/a
+00007d50: 0d0a 2a2a 2020 2020 2020 2020 2020 2020  ..**            
+00007d60: 2020 2020 2020 2020 2072 6967 6874 2028           right (
+00007d70: 616c 6c6f 7773 2075 6e61 7279 290d 0a66  allows unary)..f
+00007d80: 2078 2020 2020 2020 2020 2020 2020 2020   x              
+00007d90: 2020 2020 2020 6e2f 610d 0a2b 2c20 2d2c        n/a..+, -,
+00007da0: 207e 2020 2020 2020 2020 2020 2020 2020   ~              
+00007db0: 2020 756e 6172 790d 0a2a 2c20 2f2c 202f    unary..*, /, /
+00007dc0: 2f2c 2025 2c20 4020 2020 2020 2020 2020  /, %, @         
+00007dd0: 6c65 6674 0d0a 2b2c 202d 2020 2020 2020  left..+, -      
+00007de0: 2020 2020 2020 2020 2020 2020 206c 6566               lef
+00007df0: 740d 0a3c 3c2c 203e 3e20 2020 2020 2020  t..<<, >>       
+00007e00: 2020 2020 2020 2020 2020 6c65 6674 0d0a            left..
+00007e10: 2620 2020 2020 2020 2020 2020 2020 2020  &               
+00007e20: 2020 2020 2020 206c 6566 740d 0a26 3a20         left..&: 
+00007e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e40: 2020 2020 6c65 6674 0d0a 5e20 2020 2020      left..^     
+00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e60: 206c 6566 740d 0a7c 2020 2020 2020 2020   left..|        
+00007e70: 2020 2020 2020 2020 2020 2020 2020 6c65                le
+00007e80: 6674 0d0a 3a3a 2020 2020 2020 2020 2020  ft..::          
+00007e90: 2020 2020 2020 2020 2020 206e 2f61 2028             n/a (
+00007ea0: 6c61 7a79 290d 0a2e 2e20 2020 2020 2020  lazy)....       
+00007eb0: 2020 2020 2020 2020 2020 2020 2020 6e2f                n/
+00007ec0: 610d 0a61 2060 6260 2063 2c20 2020 2020  a..a `b` c,     
+00007ed0: 2020 2020 2020 2020 2020 6c65 6674 2028            left (
+00007ee0: 6361 7074 7572 6573 206c 616d 6264 6129  captures lambda)
+00007ef0: 0d0a 2020 616c 6c20 6375 7374 6f6d 206f  ..  all custom o
+00007f00: 7065 7261 746f 7273 0d0a 3f3f 2020 2020  perators..??    
+00007f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f20: 206c 6566 7420 2873 686f 7274 2d63 6972   left (short-cir
+00007f30: 6375 6974 7329 0d0a 2e2e 3e2c 203c 2e2e  cuits)....>, <..
+00007f40: 2c20 2e2e 2a3e 2c20 3c2a 2e2e 2c20 206e  , ..*>, <*..,  n
+00007f50: 2f61 2028 6361 7074 7572 6573 206c 616d  /a (captures lam
+00007f60: 6264 6129 0d0a 2020 2e2e 2a2a 3e2c 203c  bda)..  ..**>, <
+00007f70: 2a2a 2e2e 0d0a 7c3e 2c20 3c7c 2c20 7c2a  **....|>, <|, |*
+00007f80: 3e2c 203c 2a7c 2c20 2020 2020 206c 6566  >, <*|,      lef
+00007f90: 7420 2863 6170 7475 7265 7320 6c61 6d62  t (captures lamb
+00007fa0: 6461 290d 0a20 207c 2a2a 3e2c 203c 2a2a  da)..  |**>, <**
+00007fb0: 7c0d 0a3d 3d2c 2021 3d2c 203c 2c20 3e2c  |..==, !=, <, >,
+00007fc0: 0d0a 2020 3c3d 2c20 3e3d 2c0d 0a20 2069  ..  <=, >=,..  i
+00007fd0: 6e2c 206e 6f74 2069 6e2c 0d0a 2020 6973  n, not in,..  is
+00007fe0: 2c20 6973 206e 6f74 2020 2020 2020 2020  , is not        
+00007ff0: 2020 206e 2f61 0d0a 6e6f 7420 2020 2020     n/a..not     
+00008000: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+00008010: 6e61 7279 0d0a 616e 6420 2020 2020 2020  nary..and       
+00008020: 2020 2020 2020 2020 2020 2020 206c 6566               lef
+00008030: 7420 2873 686f 7274 2d63 6972 6375 6974  t (short-circuit
+00008040: 7329 0d0a 6f72 2020 2020 2020 2020 2020  s)..or          
+00008050: 2020 2020 2020 2020 2020 206c 6566 7420             left 
+00008060: 2873 686f 7274 2d63 6972 6375 6974 7329  (short-circuits)
+00008070: 0d0a 7820 6966 2063 2065 6c73 6520 792c  ..x if c else y,
+00008080: 2020 2020 2020 2020 2074 6572 6e61 7279           ternary
+00008090: 206c 6566 7420 2873 686f 7274 2d63 6972   left (short-cir
+000080a0: 6375 6974 7329 0d0a 2020 6966 2063 2074  cuits)..  if c t
+000080b0: 6865 6e20 7820 656c 7365 2079 0d0a 2d3e  hen x else y..->
+000080c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000080d0: 2020 2020 2072 6967 6874 0d0a 3d3d 3d3d       right..====
+000080e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000080f0: 3d3d 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  == =============
+00008100: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0d 0a60  =============..`
+00008110: 6060 0d0a 0d0a 466f 7220 6578 616d 706c  ``....For exampl
+00008120: 652c 2073 696e 6365 2061 6464 6974 696f  e, since additio
+00008130: 6e20 6861 7320 6120 6869 6768 6572 2070  n has a higher p
+00008140: 7265 6365 6465 6e63 6520 7468 616e 2070  recedence than p
+00008150: 6970 696e 672c 2065 7870 7265 7373 696f  iping, expressio
+00008160: 6e73 206f 6620 7468 6520 666f 726d 2060  ns of the form `
+00008170: 7820 7c3e 2079 202b 207a 6020 6172 6520  x |> y + z` are 
+00008180: 6571 7569 7661 6c65 6e74 2074 6f20 6078  equivalent to `x
+00008190: 207c 3e20 2879 202b 207a 2960 2e0d 0a0d   |> (y + z)`....
+000081a0: 0a23 2323 204c 616d 6264 6173 0d0a 0d0a  .### Lambdas....
+000081b0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+000081c0: 2074 6865 2073 696d 706c 652c 2063 6c65   the simple, cle
+000081d0: 616e 2060 2d3e 6020 6f70 6572 6174 6f72  an `->` operator
+000081e0: 2061 7320 616e 2061 6c74 6572 6e61 7469   as an alternati
+000081f0: 7665 2074 6f20 5079 7468 6f6e 2773 2060  ve to Python's `
+00008200: 6c61 6d62 6461 6020 7374 6174 656d 656e  lambda` statemen
+00008210: 7473 2e20 5468 6520 7379 6e74 6178 2066  ts. The syntax f
+00008220: 6f72 2074 6865 2060 2d3e 6020 6f70 6572  or the `->` oper
+00008230: 6174 6f72 2069 7320 6028 7061 7261 6d65  ator is `(parame
+00008240: 7465 7273 2920 2d3e 2065 7870 7265 7373  ters) -> express
+00008250: 696f 6e60 2028 6f72 2060 7061 7261 6d65  ion` (or `parame
+00008260: 7465 7220 2d3e 2065 7870 7265 7373 696f  ter -> expressio
+00008270: 6e60 2066 6f72 206f 6e65 2d61 7267 756d  n` for one-argum
+00008280: 656e 7420 6c61 6d62 6461 7329 2e20 5468  ent lambdas). Th
+00008290: 6520 6f70 6572 6174 6f72 2068 6173 2074  e operator has t
+000082a0: 6865 2073 616d 6520 7072 6563 6564 656e  he same preceden
+000082b0: 6365 2061 7320 7468 6520 6f6c 6420 7374  ce as the old st
+000082c0: 6174 656d 656e 742c 2077 6869 6368 206d  atement, which m
+000082d0: 6561 6e73 2069 7420 7769 6c6c 206f 6674  eans it will oft
+000082e0: 656e 2062 6520 6e65 6365 7373 6172 7920  en be necessary 
+000082f0: 746f 2073 7572 726f 756e 6420 7468 6520  to surround the 
+00008300: 6c61 6d62 6461 2069 6e20 7061 7265 6e74  lambda in parent
+00008310: 6865 7365 732c 2061 6e64 2069 7320 7269  heses, and is ri
+00008320: 6768 742d 6173 736f 6369 6174 6976 652e  ght-associative.
+00008330: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
+00008340: 2c20 436f 636f 6e75 7420 616c 736f 2073  , Coconut also s
+00008350: 7570 706f 7274 7320 616e 2069 6d70 6c69  upports an impli
+00008360: 6369 7420 7573 6167 6520 6f66 2074 6865  cit usage of the
+00008370: 2060 2d3e 6020 6f70 6572 6174 6f72 206f   `->` operator o
+00008380: 6620 7468 6520 666f 726d 2060 282d 3e20  f the form `(-> 
+00008390: 6578 7072 6573 7369 6f6e 2960 2c20 7768  expression)`, wh
+000083a0: 6963 6820 6973 2065 7175 6976 616c 656e  ich is equivalen
+000083b0: 7420 746f 2060 2828 5f3d 4e6f 6e65 2920  t to `((_=None) 
+000083c0: 2d3e 2065 7870 7265 7373 696f 6e29 602c  -> expression)`,
+000083d0: 2077 6869 6368 2061 6c6c 6f77 7320 616e   which allows an
+000083e0: 2069 6d70 6c69 6369 7420 6c61 6d62 6461   implicit lambda
+000083f0: 2074 6f20 6265 2075 7365 6420 626f 7468   to be used both
+00008400: 2077 6865 6e20 6e6f 2061 7267 756d 656e   when no argumen
+00008410: 7473 2061 7265 2072 6571 7569 7265 642c  ts are required,
+00008420: 2061 6e64 2077 6865 6e20 6f6e 6520 6172   and when one ar
+00008430: 6775 6d65 6e74 2028 6173 7369 676e 6564  gument (assigned
+00008440: 2074 6f20 605f 6029 2069 7320 7265 7175   to `_`) is requ
+00008450: 6972 6564 2e0d 0a0d 0a5f 4e6f 7465 3a20  ired....._Note: 
+00008460: 4966 206e 6f72 6d61 6c20 6c61 6d62 6461  If normal lambda
+00008470: 2073 796e 7461 7820 6973 2069 6e73 7566   syntax is insuf
+00008480: 6669 6369 656e 742c 2043 6f63 6f6e 7574  ficient, Coconut
+00008490: 2061 6c73 6f20 7375 7070 6f72 7473 2061   also supports a
+000084a0: 6e20 6578 7465 6e64 6564 206c 616d 6264  n extended lambd
+000084b0: 6120 7379 6e74 6178 2069 6e20 7468 6520  a syntax in the 
+000084c0: 666f 726d 206f 6620 5b73 7461 7465 6d65  form of [stateme
+000084d0: 6e74 206c 616d 6264 6173 5d28 2373 7461  nt lambdas](#sta
+000084e0: 7465 6d65 6e74 2d6c 616d 6264 6173 292e  tement-lambdas).
+000084f0: 2053 7461 7465 6d65 6e74 206c 616d 6264   Statement lambd
+00008500: 6173 2073 7570 706f 7274 2066 756c 6c20  as support full 
+00008510: 7374 6174 656d 656e 7473 2072 6174 6865  statements rathe
+00008520: 7220 7468 616e 206a 7573 7420 6578 7072  r than just expr
+00008530: 6573 7369 6f6e 7320 616e 6420 616c 6c6f  essions and allo
+00008540: 7720 666f 7220 7468 6520 7573 6520 6f66  w for the use of
+00008550: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
+00008560: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
+00008570: 6e69 7469 6f6e 5d28 2370 6174 7465 726e  nition](#pattern
+00008580: 2d6d 6174 6368 696e 672d 6675 6e63 7469  -matching-functi
+00008590: 6f6e 7329 2e5f 0d0a 0d0a 2323 2323 2320  ons)._....##### 
+000085a0: 5261 7469 6f6e 616c 650d 0a0d 0a49 6e20  Rationale....In 
+000085b0: 5079 7468 6f6e 2c20 6c61 6d62 6461 7320  Python, lambdas 
+000085c0: 6172 6520 7567 6c79 2061 6e64 2062 756c  are ugly and bul
+000085d0: 6b79 2c20 7265 7175 6972 696e 6720 7468  ky, requiring th
+000085e0: 6520 656e 7469 7265 2077 6f72 6420 606c  e entire word `l
+000085f0: 616d 6264 6160 2074 6f20 6265 2077 7269  ambda` to be wri
+00008600: 7474 656e 206f 7574 2065 7665 7279 2074  tten out every t
+00008610: 696d 6520 6f6e 6520 6973 2063 6f6e 7374  ime one is const
+00008620: 7275 6374 6564 2e20 5468 6973 2069 7320  ructed. This is 
+00008630: 6669 6e65 2069 6620 696e 2d6c 696e 6520  fine if in-line 
+00008640: 6675 6e63 7469 6f6e 7320 6172 6520 7665  functions are ve
+00008650: 7279 2072 6172 656c 7920 6e65 6564 6564  ry rarely needed
+00008660: 2c20 6275 7420 696e 2066 756e 6374 696f  , but in functio
+00008670: 6e61 6c20 7072 6f67 7261 6d6d 696e 6720  nal programming 
+00008680: 696e 2d6c 696e 6520 6675 6e63 7469 6f6e  in-line function
+00008690: 7320 6172 6520 616e 2065 7373 656e 7469  s are an essenti
+000086a0: 616c 2074 6f6f 6c2e 0d0a 0d0a 2323 2323  al tool.....####
+000086b0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+000086c0: 0a4c 616d 6264 6120 666f 726d 7320 286c  .Lambda forms (l
+000086d0: 616d 6264 6120 6578 7072 6573 7369 6f6e  ambda expression
+000086e0: 7329 2068 6176 6520 7468 6520 7361 6d65  s) have the same
+000086f0: 2073 796e 7461 6374 6963 2070 6f73 6974   syntactic posit
+00008700: 696f 6e20 6173 2065 7870 7265 7373 696f  ion as expressio
+00008710: 6e73 2e20 5468 6579 2061 7265 2061 2073  ns. They are a s
+00008720: 686f 7274 6861 6e64 2074 6f20 6372 6561  horthand to crea
+00008730: 7465 2061 6e6f 6e79 6d6f 7573 2066 756e  te anonymous fun
+00008740: 6374 696f 6e73 3b20 7468 6520 6578 7072  ctions; the expr
+00008750: 6573 7369 6f6e 2060 2861 7267 756d 656e  ession `(argumen
+00008760: 7473 2920 2d3e 2065 7870 7265 7373 696f  ts) -> expressio
+00008770: 6e60 2079 6965 6c64 7320 6120 6675 6e63  n` yields a func
+00008780: 7469 6f6e 206f 626a 6563 742e 2054 6865  tion object. The
+00008790: 2075 6e6e 616d 6564 206f 626a 6563 7420   unnamed object 
+000087a0: 6265 6861 7665 7320 6c69 6b65 2061 2066  behaves like a f
+000087b0: 756e 6374 696f 6e20 6f62 6a65 6374 2064  unction object d
+000087c0: 6566 696e 6564 2077 6974 683a 0d0a 6060  efined with:..``
+000087d0: 6063 6f63 6f6e 7574 0d0a 6465 6620 3c6c  `coconut..def <l
+000087e0: 616d 6264 613e 2861 7267 756d 656e 7473  ambda>(arguments
+000087f0: 293a 0d0a 2020 2020 7265 7475 726e 2065  ):..    return e
+00008800: 7870 7265 7373 696f 6e0d 0a60 6060 0d0a  xpression..```..
+00008810: 4e6f 7465 2074 6861 7420 6675 6e63 7469  Note that functi
+00008820: 6f6e 7320 6372 6561 7465 6420 7769 7468  ons created with
+00008830: 206c 616d 6264 6120 666f 726d 7320 6361   lambda forms ca
+00008840: 6e6e 6f74 2063 6f6e 7461 696e 2073 7461  nnot contain sta
+00008850: 7465 6d65 6e74 7320 6f72 2061 6e6e 6f74  tements or annot
+00008860: 6174 696f 6e73 2e0d 0a0d 0a23 2323 2323  ations.....#####
+00008870: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00008880: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+00008890: 6f6e 7574 0d0a 6475 6273 756d 7320 3d20  onut..dubsums = 
+000088a0: 6d61 7028 2878 2c20 7929 202d 3e20 322a  map((x, y) -> 2*
+000088b0: 2878 2b79 292c 2072 616e 6765 2830 2c20  (x+y), range(0, 
+000088c0: 3130 292c 2072 616e 6765 2831 302c 2032  10), range(10, 2
+000088d0: 3029 290d 0a64 7562 7375 6d73 207c 3e20  0))..dubsums |> 
+000088e0: 6c69 7374 207c 3e20 7072 696e 740d 0a60  list |> print..`
+000088f0: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
+00008900: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
+00008910: 7468 6f6e 0d0a 6475 6273 756d 7320 3d20  thon..dubsums = 
+00008920: 6d61 7028 6c61 6d62 6461 2078 2c20 793a  map(lambda x, y:
+00008930: 2032 2a28 782b 7929 2c20 7261 6e67 6528   2*(x+y), range(
+00008940: 302c 2031 3029 2c20 7261 6e67 6528 3130  0, 10), range(10
+00008950: 2c20 3230 2929 0d0a 7072 696e 7428 6c69  , 20))..print(li
+00008960: 7374 2864 7562 7375 6d73 2929 0d0a 6060  st(dubsums))..``
+00008970: 600d 0a0d 0a23 2323 2320 496d 706c 6963  `....#### Implic
+00008980: 6974 204c 616d 6264 6173 0d0a 0d0a 436f  it Lambdas....Co
+00008990: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
+000089a0: 7274 7320 696d 706c 6963 6974 206c 616d  rts implicit lam
+000089b0: 6264 6173 2c20 7768 6963 6820 616c 6c6f  bdas, which allo
+000089c0: 7720 6120 6c61 6d62 6461 2074 6f20 7461  w a lambda to ta
+000089d0: 6b65 2065 6974 6865 7220 6e6f 2061 7267  ke either no arg
+000089e0: 756d 656e 7473 206f 7220 6120 7369 6e67  uments or a sing
+000089f0: 6c65 2061 7267 756d 656e 742e 2049 6d70  le argument. Imp
+00008a00: 6c69 6369 7420 6c61 6d62 6461 7320 6172  licit lambdas ar
+00008a10: 6520 666f 726d 6564 2077 6974 6820 7468  e formed with th
+00008a20: 6520 7573 7561 6c20 436f 636f 6e75 7420  e usual Coconut 
+00008a30: 6c61 6d62 6461 206f 7065 7261 746f 7220  lambda operator 
+00008a40: 602d 3e60 2c20 696e 2074 6865 2066 6f72  `->`, in the for
+00008a50: 6d20 6028 2d3e 2065 7870 7265 7373 696f  m `(-> expressio
+00008a60: 6e29 602e 2054 6869 7320 6973 2065 7175  n)`. This is equ
+00008a70: 6976 616c 656e 7420 746f 2060 2828 5f3d  ivalent to `((_=
+00008a80: 4e6f 6e65 2920 2d3e 2065 7870 7265 7373  None) -> express
+00008a90: 696f 6e29 602e 2057 6865 6e20 616e 2061  ion)`. When an a
+00008aa0: 7267 756d 656e 7420 6973 2070 6173 7365  rgument is passe
+00008ab0: 6420 746f 2061 6e20 696d 706c 6963 6974  d to an implicit
+00008ac0: 206c 616d 6264 612c 2069 7420 7769 6c6c   lambda, it will
+00008ad0: 2062 6520 6173 7369 676e 6564 2074 6f20   be assigned to 
+00008ae0: 605f 602c 2072 6570 6c61 6369 6e67 2074  `_`, replacing t
+00008af0: 6865 2064 6566 6175 6c74 2076 616c 7565  he default value
+00008b00: 2060 4e6f 6e65 602e 0d0a 0d0a 4265 6c6f   `None`.....Belo
+00008b10: 7720 6172 6520 7477 6f20 6578 616d 706c  w are two exampl
+00008b20: 6573 206f 6620 696d 706c 6963 6974 206c  es of implicit l
+00008b30: 616d 6264 6173 2e20 5468 6520 6669 7273  ambdas. The firs
+00008b40: 7420 7573 6573 2074 6865 2069 6d70 6c69  t uses the impli
+00008b50: 6369 7420 6172 6775 6d65 6e74 2060 5f60  cit argument `_`
+00008b60: 2c20 7768 696c 6520 7468 6520 7365 636f  , while the seco
+00008b70: 6e64 2064 6f65 7320 6e6f 742e 0d0a 0d0a  nd does not.....
+00008b80: 2a2a 5369 6e67 6c65 2041 7267 756d 656e  **Single Argumen
+00008b90: 7420 4578 616d 706c 653a 2a2a 0d0a 6060  t Example:**..``
+00008ba0: 6063 6f63 6f6e 7574 0d0a 7371 7561 7265  `coconut..square
+00008bb0: 203d 2028 2d3e 205f 2a2a 3229 0d0a 6060   = (-> _**2)..``
+00008bc0: 600d 0a0d 0a2a 2a4e 6f2d 4172 6775 6d65  `....**No-Argume
+00008bd0: 6e74 2045 7861 6d70 6c65 3a2a 2a0d 0a60  nt Example:**..`
+00008be0: 6060 636f 636f 6e75 740d 0a69 6d70 6f72  ``coconut..impor
+00008bf0: 7420 7261 6e64 6f6d 0d0a 0d0a 6765 745f  t random....get_
+00008c00: 7261 6e64 6f6d 5f6e 756d 6265 7220 3d20  random_number = 
+00008c10: 282d 3e20 7261 6e64 6f6d 2e72 616e 646f  (-> random.rando
+00008c20: 6d28 2929 0d0a 6060 600d 0a0d 0a5f 4e6f  m())..```...._No
+00008c30: 7465 3a20 4e65 7374 696e 6720 696d 706c  te: Nesting impl
+00008c40: 6963 6974 206c 616d 6264 6173 2063 616e  icit lambdas can
+00008c50: 206c 6561 6420 746f 2070 726f 626c 656d   lead to problem
+00008c60: 7320 7769 7468 2074 6865 2073 636f 7065  s with the scope
+00008c70: 206f 6620 7468 6520 605f 6020 7061 7261   of the `_` para
+00008c80: 6d65 7465 7220 746f 2065 6163 6820 6c61  meter to each la
+00008c90: 6d62 6461 2e20 4974 2069 7320 7265 636f  mbda. It is reco
+00008ca0: 6d6d 656e 6465 6420 7468 6174 206e 6573  mmended that nes
+00008cb0: 7469 6e67 2069 6d70 6c69 6369 7420 6c61  ting implicit la
+00008cc0: 6d62 6461 7320 6265 2061 766f 6964 6564  mbdas be avoided
+00008cd0: 2e5f 0d0a 0d0a 2323 2320 5061 7274 6961  ._....### Partia
+00008ce0: 6c20 4170 706c 6963 6174 696f 6e0d 0a0d  l Application...
+00008cf0: 0a43 6f63 6f6e 7574 2075 7365 7320 6120  .Coconut uses a 
+00008d00: 6024 6020 7369 676e 2072 6967 6874 2061  `$` sign right a
+00008d10: 6674 6572 2061 2066 756e 6374 696f 6e27  fter a function'
+00008d20: 7320 6e61 6d65 2062 7574 2062 6566 6f72  s name but befor
+00008d30: 6520 7468 6520 6f70 656e 2070 6172 656e  e the open paren
+00008d40: 7468 6573 6973 2075 7365 6420 746f 2063  thesis used to c
+00008d50: 616c 6c20 7468 6520 6675 6e63 7469 6f6e  all the function
+00008d60: 2074 6f20 6465 6e6f 7465 2070 6172 7469   to denote parti
+00008d70: 616c 2061 7070 6c69 6361 7469 6f6e 2e0d  al application..
+00008d80: 0a0d 0a43 6f63 6f6e 7574 2773 2070 6172  ...Coconut's par
+00008d90: 7469 616c 2061 7070 6c69 6361 7469 6f6e  tial application
+00008da0: 2061 6c73 6f20 7375 7070 6f72 7473 2074   also supports t
+00008db0: 6865 2075 7365 206f 6620 6120 603f 6020  he use of a `?` 
+00008dc0: 746f 2073 6b69 7020 7061 7274 6961 6c6c  to skip partiall
+00008dd0: 7920 6170 706c 7969 6e67 2061 6e20 6172  y applying an ar
+00008de0: 6775 6d65 6e74 2c20 6465 6665 7272 696e  gument, deferrin
+00008df0: 6720 6669 6c6c 696e 6720 696e 2074 6861  g filling in tha
+00008e00: 7420 6172 6775 6d65 6e74 2075 6e74 696c  t argument until
+00008e10: 2074 6865 2070 6172 7469 616c 6c79 2d61   the partially-a
+00008e20: 7070 6c69 6564 2066 756e 6374 696f 6e20  pplied function 
+00008e30: 6973 2063 616c 6c65 642e 2054 6869 7320  is called. This 
+00008e40: 6973 2075 7365 6675 6c20 6966 2079 6f75  is useful if you
+00008e50: 2077 616e 7420 746f 2070 6172 7469 616c   want to partial
+00008e60: 6c79 2061 7070 6c79 2061 7267 756d 656e  ly apply argumen
+00008e70: 7473 2074 6861 7420 6172 656e 2774 2066  ts that aren't f
+00008e80: 6972 7374 2069 6e20 7468 6520 6172 6775  irst in the argu
+00008e90: 6d65 6e74 206f 7264 6572 2e0d 0a0d 0a41  ment order.....A
+00008ea0: 6464 6974 696f 6e61 6c6c 792c 2060 3f60  dditionally, `?`
+00008eb0: 2063 616e 2065 7665 6e20 6265 2075 7365   can even be use
+00008ec0: 6420 6173 2074 6865 2076 616c 7565 206f  d as the value o
+00008ed0: 6620 6b65 7977 6f72 6420 6172 6775 6d65  f keyword argume
+00008ee0: 6e74 7320 746f 2063 6f6e 7665 7274 2074  nts to convert t
+00008ef0: 6865 6d20 696e 746f 2070 6f73 6974 696f  hem into positio
+00008f00: 6e61 6c20 6172 6775 6d65 6e74 732e 2046  nal arguments. F
+00008f10: 6f72 2065 7861 6d70 6c65 2c20 6066 2428  or example, `f$(
+00008f20: 783d 3f29 6020 6973 2065 6666 6563 7469  x=?)` is effecti
+00008f30: 7665 6c79 2065 7175 6976 616c 656e 7420  vely equivalent 
+00008f40: 746f 0d0a 6060 6063 6f63 6f6e 7574 5f70  to..```coconut_p
+00008f50: 7974 686f 6e0d 0a64 6566 206e 6577 5f66  ython..def new_f
+00008f60: 2878 2c20 2a61 7267 732c 202a 2a6b 7761  (x, *args, **kwa
+00008f70: 7267 7329 3a0d 0a20 2020 206b 7761 7267  rgs):..    kwarg
+00008f80: 735b 2278 225d 203d 2078 0d0a 2020 2020  s["x"] = x..    
+00008f90: 7265 7475 726e 2066 282a 6172 6773 2c20  return f(*args, 
+00008fa0: 2a2a 6b77 6172 6773 290d 0a60 6060 0d0a  **kwargs)..```..
+00008fb0: 0d0a 2323 2323 2320 5261 7469 6f6e 616c  ..##### Rational
+00008fc0: 650d 0a0d 0a50 6172 7469 616c 2061 7070  e....Partial app
+00008fd0: 6c69 6361 7469 6f6e 2c20 6f72 2063 7572  lication, or cur
+00008fe0: 7279 696e 672c 2069 7320 6120 6d61 696e  rying, is a main
+00008ff0: 7374 6179 206f 6620 6675 6e63 7469 6f6e  stay of function
+00009000: 616c 2070 726f 6772 616d 6d69 6e67 2c20  al programming, 
+00009010: 616e 6420 666f 7220 676f 6f64 2072 6561  and for good rea
+00009020: 736f 6e3a 2069 7420 616c 6c6f 7773 2074  son: it allows t
+00009030: 6865 2064 796e 616d 6963 2063 7573 746f  he dynamic custo
+00009040: 6d69 7a61 7469 6f6e 206f 6620 6675 6e63  mization of func
+00009050: 7469 6f6e 7320 746f 2066 6974 2074 6865  tions to fit the
+00009060: 206e 6565 6473 206f 6620 7768 6572 6520   needs of where 
+00009070: 7468 6579 2061 7265 2062 6569 6e67 2075  they are being u
+00009080: 7365 642e 2050 6172 7469 616c 2061 7070  sed. Partial app
+00009090: 6c69 6361 7469 6f6e 2061 6c6c 6f77 7320  lication allows 
+000090a0: 6120 6e65 7720 6675 6e63 7469 6f6e 2074  a new function t
+000090b0: 6f20 6265 2063 7265 6174 6564 206f 7574  o be created out
+000090c0: 206f 6620 616e 206f 6c64 2066 756e 6374   of an old funct
+000090d0: 696f 6e20 7769 7468 2073 6f6d 6520 6f66  ion with some of
+000090e0: 2069 7473 2061 7267 756d 656e 7473 2070   its arguments p
+000090f0: 7265 2d73 7065 6369 6669 6564 2e0d 0a0d  re-specified....
+00009100: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
+00009110: 6373 0d0a 0d0a 5265 7475 726e 2061 206e  cs....Return a n
+00009120: 6577 2060 7061 7274 6961 6c60 206f 626a  ew `partial` obj
+00009130: 6563 7420 7768 6963 6820 7768 656e 2063  ect which when c
+00009140: 616c 6c65 6420 7769 6c6c 2062 6568 6176  alled will behav
+00009150: 6520 6c69 6b65 205f 6675 6e63 5f20 6361  e like _func_ ca
+00009160: 6c6c 6564 2077 6974 6820 7468 6520 706f  lled with the po
+00009170: 7369 7469 6f6e 616c 2061 7267 756d 656e  sitional argumen
+00009180: 7473 205f 6172 6773 5f20 616e 6420 6b65  ts _args_ and ke
+00009190: 7977 6f72 6420 6172 6775 6d65 6e74 7320  yword arguments 
+000091a0: 5f6b 6579 776f 7264 735f 2e20 4966 206d  _keywords_. If m
+000091b0: 6f72 6520 6172 6775 6d65 6e74 7320 6172  ore arguments ar
+000091c0: 6520 7375 7070 6c69 6564 2074 6f20 7468  e supplied to th
+000091d0: 6520 6361 6c6c 2c20 7468 6579 2061 7265  e call, they are
+000091e0: 2061 7070 656e 6465 6420 746f 205f 6172   appended to _ar
+000091f0: 6773 5f2e 2049 6620 6164 6469 7469 6f6e  gs_. If addition
+00009200: 616c 206b 6579 776f 7264 2061 7267 756d  al keyword argum
+00009210: 656e 7473 2061 7265 2073 7570 706c 6965  ents are supplie
+00009220: 642c 2074 6865 7920 6578 7465 6e64 2061  d, they extend a
+00009230: 6e64 206f 7665 7272 6964 6520 5f6b 6579  nd override _key
+00009240: 776f 7264 735f 2e20 526f 7567 686c 7920  words_. Roughly 
+00009250: 6571 7569 7661 6c65 6e74 2074 6f3a 0d0a  equivalent to:..
+00009260: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00009270: 6e0d 0a64 6566 2070 6172 7469 616c 2866  n..def partial(f
+00009280: 756e 632c 202a 6172 6773 2c20 2a2a 6b65  unc, *args, **ke
+00009290: 7977 6f72 6473 293a 0d0a 2020 2020 6465  ywords):..    de
+000092a0: 6620 6e65 7766 756e 6328 2a66 6172 6773  f newfunc(*fargs
+000092b0: 2c20 2a2a 666b 6579 776f 7264 7329 3a0d  , **fkeywords):.
+000092c0: 0a20 2020 2020 2020 206e 6577 6b65 7977  .        newkeyw
+000092d0: 6f72 6473 203d 206b 6579 776f 7264 732e  ords = keywords.
+000092e0: 636f 7079 2829 0d0a 2020 2020 2020 2020  copy()..        
+000092f0: 6e65 776b 6579 776f 7264 732e 7570 6461  newkeywords.upda
+00009300: 7465 2866 6b65 7977 6f72 6473 290d 0a20  te(fkeywords).. 
+00009310: 2020 2020 2020 2072 6574 7572 6e20 6675         return fu
+00009320: 6e63 282a 2861 7267 7320 2b20 6661 7267  nc(*(args + farg
+00009330: 7329 2c20 2a2a 6e65 776b 6579 776f 7264  s), **newkeyword
+00009340: 7329 0d0a 2020 2020 6e65 7766 756e 632e  s)..    newfunc.
+00009350: 6675 6e63 203d 2066 756e 630d 0a20 2020  func = func..   
+00009360: 206e 6577 6675 6e63 2e61 7267 7320 3d20   newfunc.args = 
+00009370: 6172 6773 0d0a 2020 2020 6e65 7766 756e  args..    newfun
+00009380: 632e 6b65 7977 6f72 6473 203d 206b 6579  c.keywords = key
+00009390: 776f 7264 730d 0a20 2020 2072 6574 7572  words..    retur
+000093a0: 6e20 6e65 7766 756e 630d 0a60 6060 0d0a  n newfunc..```..
+000093b0: 5468 6520 6070 6172 7469 616c 6020 6f62  The `partial` ob
+000093c0: 6a65 6374 2069 7320 7573 6564 2066 6f72  ject is used for
+000093d0: 2070 6172 7469 616c 2066 756e 6374 696f   partial functio
+000093e0: 6e20 6170 706c 6963 6174 696f 6e20 7768  n application wh
+000093f0: 6963 6820 e280 9c66 7265 657a 6573 e280  ich ...freezes..
+00009400: 9d20 736f 6d65 2070 6f72 7469 6f6e 206f  . some portion o
+00009410: 6620 6120 6675 6e63 7469 6f6e 2773 2061  f a function's a
+00009420: 7267 756d 656e 7473 2061 6e64 2f6f 7220  rguments and/or 
+00009430: 6b65 7977 6f72 6473 2072 6573 756c 7469  keywords resulti
+00009440: 6e67 2069 6e20 6120 6e65 7720 6f62 6a65  ng in a new obje
+00009450: 6374 2077 6974 6820 6120 7369 6d70 6c69  ct with a simpli
+00009460: 6669 6564 2073 6967 6e61 7475 7265 2e0d  fied signature..
+00009470: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+00009480: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+00009490: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6578  ..```coconut..ex
+000094a0: 706e 756d 7320 3d20 7261 6e67 6528 3529  pnums = range(5)
+000094b0: 207c 3e20 6d61 7024 2870 6f77 2428 3f2c   |> map$(pow$(?,
+000094c0: 2032 2929 0d0a 6578 706e 756d 7320 7c3e   2))..expnums |>
+000094d0: 206c 6973 7420 7c3e 2070 7269 6e74 0d0a   list |> print..
+000094e0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+000094f0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00009500: 7974 686f 6e0d 0a23 2075 6e6c 696b 6520  ython..# unlike 
+00009510: 7468 6973 2073 696d 706c 6520 6c61 6d62  this simple lamb
+00009520: 6461 2c20 2420 7072 6f64 7563 6573 2061  da, $ produces a
+00009530: 2070 6963 6b6c 6561 626c 6520 6f62 6a65   pickleable obje
+00009540: 6374 0d0a 6578 706e 756d 7320 3d20 6d61  ct..expnums = ma
+00009550: 7028 6c61 6d62 6461 2078 3a20 706f 7728  p(lambda x: pow(
+00009560: 782c 2032 292c 2072 616e 6765 2835 2929  x, 2), range(5))
+00009570: 0d0a 7072 696e 7428 6c69 7374 2865 7870  ..print(list(exp
+00009580: 6e75 6d73 2929 0d0a 6060 600d 0a0d 0a23  nums))..```....#
+00009590: 2323 2050 6970 6573 0d0a 0d0a 436f 636f  ## Pipes....Coco
+000095a0: 6e75 7420 7573 6573 2070 6970 6520 6f70  nut uses pipe op
+000095b0: 6572 6174 6f72 7320 666f 7220 7069 7065  erators for pipe
+000095c0: 6c69 6e65 2d73 7479 6c65 2066 756e 6374  line-style funct
+000095d0: 696f 6e20 6170 706c 6963 6174 696f 6e2e  ion application.
+000095e0: 2041 6c6c 2074 6865 206f 7065 7261 746f   All the operato
+000095f0: 7273 2068 6176 6520 6120 7072 6563 6564  rs have a preced
+00009600: 656e 6365 2069 6e2d 6265 7477 6565 6e20  ence in-between 
+00009610: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+00009620: 7469 6f6e 2070 6970 6573 2061 6e64 2063  tion pipes and c
+00009630: 6f6d 7061 7269 736f 6e73 2c20 616e 6420  omparisons, and 
+00009640: 6172 6520 6c65 6674 2d61 7373 6f63 6961  are left-associa
+00009650: 7469 7665 2e20 416c 6c20 6f70 6572 6174  tive. All operat
+00009660: 6f72 7320 616c 736f 2073 7570 706f 7274  ors also support
+00009670: 2069 6e2d 706c 6163 6520 7665 7273 696f   in-place versio
+00009680: 6e73 2e20 5468 6520 6469 6666 6572 656e  ns. The differen
+00009690: 7420 6f70 6572 6174 6f72 7320 6172 653a  t operators are:
+000096a0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 287c  ..```coconut..(|
+000096b0: 3e29 2020 2020 3d3e 2070 6970 6520 666f  >)    => pipe fo
+000096c0: 7277 6172 640d 0a28 7c2a 3e29 2020 203d  rward..(|*>)   =
+000096d0: 3e20 6d75 6c74 6970 6c65 2d61 7267 756d  > multiple-argum
+000096e0: 656e 7420 7069 7065 2066 6f72 7761 7264  ent pipe forward
+000096f0: 0d0a 287c 2a2a 3e29 2020 3d3e 206b 6579  ..(|**>)  => key
+00009700: 776f 7264 2061 7267 756d 656e 7420 7069  word argument pi
+00009710: 7065 2066 6f72 7761 7264 0d0a 283c 7c29  pe forward..(<|)
+00009720: 2020 2020 3d3e 2070 6970 6520 6261 636b      => pipe back
+00009730: 7761 7264 0d0a 283c 2a7c 2920 2020 3d3e  ward..(<*|)   =>
+00009740: 206d 756c 7469 706c 652d 6172 6775 6d65   multiple-argume
+00009750: 6e74 2070 6970 6520 6261 636b 7761 7264  nt pipe backward
+00009760: 0d0a 283c 2a2a 7c29 2020 3d3e 206b 6579  ..(<**|)  => key
+00009770: 776f 7264 2061 7267 756d 656e 7420 7069  word argument pi
+00009780: 7065 2062 6163 6b77 6172 640d 0a28 7c3f  pe backward..(|?
+00009790: 3e29 2020 203d 3e20 4e6f 6e65 2d61 7761  >)   => None-awa
+000097a0: 7265 2070 6970 6520 666f 7277 6172 640d  re pipe forward.
+000097b0: 0a28 7c3f 2a3e 2920 203d 3e20 4e6f 6e65  .(|?*>)  => None
+000097c0: 2d61 7761 7265 206d 756c 7469 2d61 7267  -aware multi-arg
+000097d0: 2070 6970 6520 666f 7277 6172 640d 0a28   pipe forward..(
+000097e0: 7c3f 2a2a 3e29 203d 3e20 4e6f 6e65 2d61  |?**>) => None-a
+000097f0: 7761 7265 206b 6579 776f 7264 2061 7267  ware keyword arg
+00009800: 2070 6970 6520 666f 7277 6172 640d 0a28   pipe forward..(
+00009810: 3c3f 7c29 2020 203d 3e20 4e6f 6e65 2d61  <?|)   => None-a
+00009820: 7761 7265 2070 6970 6520 6261 636b 7761  ware pipe backwa
+00009830: 7264 0d0a 283c 2a3f 7c29 2020 3d3e 204e  rd..(<*?|)  => N
+00009840: 6f6e 652d 6177 6172 6520 6d75 6c74 692d  one-aware multi-
+00009850: 6172 6720 7069 7065 2062 6163 6b77 6172  arg pipe backwar
+00009860: 640d 0a28 3c2a 2a3f 7c29 203d 3e20 4e6f  d..(<**?|) => No
+00009870: 6e65 2d61 7761 7265 206b 6579 776f 7264  ne-aware keyword
+00009880: 2061 7267 2070 6970 6520 6261 636b 7761   arg pipe backwa
+00009890: 7264 0d0a 6060 600d 0a0d 0a54 6865 204e  rd..```....The N
+000098a0: 6f6e 652d 6177 6172 6520 7069 7065 206f  one-aware pipe o
+000098b0: 7065 7261 746f 7273 2068 6572 6520 6172  perators here ar
+000098c0: 6520 6571 7569 7661 6c65 6e74 2074 6f20  e equivalent to 
+000098d0: 6120 5b6d 6f6e 6164 6963 2062 696e 645d  a [monadic bind]
+000098e0: 2868 7474 7073 3a2f 2f65 6e2e 7769 6b69  (https://en.wiki
+000098f0: 7065 6469 612e 6f72 672f 7769 6b69 2f4d  pedia.org/wiki/M
+00009900: 6f6e 6164 5f28 6675 6e63 7469 6f6e 616c  onad_(functional
+00009910: 5f70 726f 6772 616d 6d69 6e67 2929 2074  _programming)) t
+00009920: 7265 6174 696e 6720 7468 6520 6f62 6a65  reating the obje
+00009930: 6374 2061 7320 6120 604d 6179 6265 6020  ct as a `Maybe` 
+00009940: 6d6f 6e61 6420 636f 6d70 6f73 6564 206f  monad composed o
+00009950: 6620 6569 7468 6572 2060 4e6f 6e65 6020  f either `None` 
+00009960: 6f72 2074 6865 2067 6976 656e 206f 626a  or the given obj
+00009970: 6563 742e 2054 6875 732c 2060 7820 7c3f  ect. Thus, `x |?
+00009980: 3e20 6660 2069 7320 6571 7569 7661 6c65  > f` is equivale
+00009990: 6e74 2074 6f20 604e 6f6e 6520 6966 2078  nt to `None if x
+000099a0: 2069 7320 4e6f 6e65 2065 6c73 6520 6628   is None else f(
+000099b0: 7829 602e 204e 6f74 6520 7468 6174 206f  x)`. Note that o
+000099c0: 6e6c 7920 7468 6520 6f62 6a65 6374 2062  nly the object b
+000099d0: 6569 6e67 2070 6970 6564 2c20 6e6f 7420  eing piped, not 
+000099e0: 7468 6520 6675 6e63 7469 6f6e 2062 6569  the function bei
+000099f0: 6e67 2070 6970 6564 2069 6e74 6f2c 206d  ng piped into, m
+00009a00: 6179 2062 6520 604e 6f6e 6560 2066 6f72  ay be `None` for
+00009a10: 2060 4e6f 6e65 602d 6177 6172 6520 7069   `None`-aware pi
+00009a20: 7065 732e 0d0a 0d0a 466f 7220 776f 726b  pes.....For work
+00009a30: 696e 6720 7769 7468 2060 6173 796e 6360  ing with `async`
+00009a40: 2066 756e 6374 696f 6e73 2069 6e20 7069   functions in pi
+00009a50: 7065 732c 2061 6c6c 206e 6f6e 2d73 7461  pes, all non-sta
+00009a60: 7272 6564 2070 6970 6573 2073 7570 706f  rred pipes suppo
+00009a70: 7274 2070 6970 696e 6720 696e 746f 2060  rt piping into `
+00009a80: 6177 6169 7460 2074 6f20 6177 6169 7420  await` to await 
+00009a90: 7468 6520 6177 6169 7461 626c 6520 7069  the awaitable pi
+00009aa0: 7065 6420 696e 746f 2074 6865 6d2c 2073  ped into them, s
+00009ab0: 7563 6820 7468 6174 2060 7820 7c3e 2061  uch that `x |> a
+00009ac0: 7761 6974 6020 6973 2065 7175 6976 616c  wait` is equival
+00009ad0: 656e 7420 746f 2060 6177 6169 7420 7860  ent to `await x`
+00009ae0: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
+00009af0: 792c 2061 6c6c 2070 6970 6520 6f70 6572  y, all pipe oper
+00009b00: 6174 6f72 7320 7375 7070 6f72 7420 6120  ators support a 
+00009b10: 6c61 6d62 6461 2061 7320 7468 6520 6c61  lambda as the la
+00009b20: 7374 2061 7267 756d 656e 742c 2064 6573  st argument, des
+00009b30: 7069 7465 206c 616d 6264 6173 2068 6176  pite lambdas hav
+00009b40: 696e 6720 6120 6c6f 7765 7220 7072 6563  ing a lower prec
+00009b50: 6564 656e 6365 2e20 5468 7573 2c20 6061  edence. Thus, `a
+00009b60: 207c 3e20 7820 2d3e 2062 207c 3e20 6360   |> x -> b |> c`
+00009b70: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+00009b80: 6f20 6061 207c 3e20 2878 202d 3e20 6220  o `a |> (x -> b 
+00009b90: 7c3e 2063 2960 2c20 6e6f 7420 6061 207c  |> c)`, not `a |
+00009ba0: 3e20 2878 202d 3e20 6229 207c 3e20 6360  > (x -> b) |> c`
+00009bb0: 2e0d 0a0d 0a5f 4e6f 7465 3a20 546f 2076  ....._Note: To v
+00009bc0: 6973 7561 6c6c 7920 7370 7265 6164 206f  isually spread o
+00009bd0: 7065 7261 7469 6f6e 7320 6163 726f 7373  perations across
+00009be0: 2073 6576 6572 616c 206c 696e 6573 2c20   several lines, 
+00009bf0: 6a75 7374 2075 7365 205b 7061 7265 6e74  just use [parent
+00009c00: 6865 7469 6361 6c20 636f 6e74 696e 7561  hetical continua
+00009c10: 7469 6f6e 5d28 2365 6e68 616e 6365 642d  tion](#enhanced-
+00009c20: 7061 7265 6e74 6865 7469 6361 6c2d 636f  parenthetical-co
+00009c30: 6e74 696e 7561 7469 6f6e 292e 5f0d 0a0d  ntinuation)._...
+00009c40: 0a23 2323 2323 204f 7074 696d 697a 6174  .##### Optimizat
+00009c50: 696f 6e73 0d0a 0d0a 4974 2069 7320 636f  ions....It is co
+00009c60: 6d6d 6f6e 2069 6e20 436f 636f 6e75 7420  mmon in Coconut 
+00009c70: 746f 2077 7269 7465 2063 6f64 6520 7468  to write code th
+00009c80: 6174 2075 7365 7320 7069 7065 7320 746f  at uses pipes to
+00009c90: 2070 6173 7320 616e 206f 626a 6563 7420   pass an object 
+00009ca0: 7468 726f 7567 6820 6120 7365 7269 6573  through a series
+00009cb0: 206f 6620 5b70 6172 7469 616c 735d 2823   of [partials](#
+00009cc0: 7061 7274 6961 6c2d 6170 706c 6963 6174  partial-applicat
+00009cd0: 696f 6e29 2061 6e64 2f6f 7220 5b69 6d70  ion) and/or [imp
+00009ce0: 6c69 6369 7420 7061 7274 6961 6c73 5d28  licit partials](
+00009cf0: 2369 6d70 6c69 6369 742d 7061 7274 6961  #implicit-partia
+00009d00: 6c2d 6170 706c 6963 6174 696f 6e29 2c20  l-application), 
+00009d10: 6173 2069 6e0d 0a60 6060 636f 636f 6e75  as in..```coconu
+00009d20: 740d 0a6f 626a 207c 3e20 2e61 7474 7269  t..obj |> .attri
+00009d30: 6275 7465 207c 3e20 2e6d 6574 686f 6428  bute |> .method(
+00009d40: 6172 6773 2920 7c3e 2066 756e 6324 2861  args) |> func$(a
+00009d50: 7267 7329 207c 3e20 2e5b 696e 6465 785d  rgs) |> .[index]
+00009d60: 0d0a 6060 600d 0a77 6869 6368 2069 7320  ..```..which is 
+00009d70: 6f66 7465 6e20 6d75 6368 206d 6f72 6520  often much more 
+00009d80: 7265 6164 6162 6c65 2c20 6173 2069 7420  readable, as it 
+00009d90: 616c 6c6f 7773 2074 6865 206f 7065 7261  allows the opera
+00009da0: 7469 6f6e 7320 746f 2062 6520 7772 6974  tions to be writ
+00009db0: 7465 6e20 696e 2074 6865 206f 7264 6572  ten in the order
+00009dc0: 2069 6e20 7768 6963 6820 7468 6579 2061   in which they a
+00009dd0: 7265 2070 6572 666f 726d 6564 2c20 696e  re performed, in
+00009de0: 7374 6561 6420 6f66 2061 7320 696e 0d0a  stead of as in..
+00009df0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00009e00: 6e0d 0a66 756e 6328 6172 6773 2c20 6f62  n..func(args, ob
+00009e10: 6a2e 6174 7472 6962 7574 652e 6d65 7468  j.attribute.meth
+00009e20: 6f64 2861 7267 7329 295b 696e 6465 785d  od(args))[index]
+00009e30: 0d0a 6060 600d 0a77 6865 7265 2060 6675  ..```..where `fu
+00009e40: 6e63 6020 6861 7320 746f 2067 6f20 6174  nc` has to go at
+00009e50: 2074 6865 2062 6567 696e 6e69 6e67 2e0d   the beginning..
+00009e60: 0a0d 0a49 6620 436f 636f 6e75 7420 636f  ...If Coconut co
+00009e70: 6d70 696c 6564 2065 6163 6820 6f66 2074  mpiled each of t
+00009e80: 6865 2070 6172 7469 616c 7320 696e 2074  he partials in t
+00009e90: 6865 2070 6970 6520 7379 6e74 6178 2061  he pipe syntax a
+00009ea0: 7320 616e 2061 6374 7561 6c20 7061 7274  s an actual part
+00009eb0: 6961 6c20 6170 706c 6963 6174 696f 6e20  ial application 
+00009ec0: 6f62 6a65 6374 2c20 6974 2077 6f75 6c64  object, it would
+00009ed0: 206d 616b 6520 7468 6520 436f 636f 6e75   make the Coconu
+00009ee0: 742d 7374 796c 6520 7379 6e74 6178 2073  t-style syntax s
+00009ef0: 6967 6e69 6669 6361 6e74 6c79 2073 6c6f  ignificantly slo
+00009f00: 7765 7220 7468 616e 2074 6865 2050 7974  wer than the Pyt
+00009f10: 686f 6e2d 7374 796c 6520 7379 6e74 6178  hon-style syntax
+00009f20: 2e20 5468 7573 2c20 436f 636f 6e75 7420  . Thus, Coconut 
+00009f30: 646f 6573 206e 6f74 2064 6f20 7468 6174  does not do that
+00009f40: 2e20 4966 2061 6e79 206f 6620 7468 6520  . If any of the 
+00009f50: 6162 6f76 6520 7374 796c 6573 206f 6620  above styles of 
+00009f60: 7061 7274 6961 6c73 206f 7220 696d 706c  partials or impl
+00009f70: 6963 6974 2070 6172 7469 616c 7320 6172  icit partials ar
+00009f80: 6520 7573 6564 2069 6e20 7069 7065 732c  e used in pipes,
+00009f90: 2074 6865 7920 7769 6c6c 2077 6865 6e65   they will whene
+00009fa0: 7665 7220 706f 7373 6962 6c65 2062 6520  ver possible be 
+00009fb0: 636f 6d70 696c 6564 2074 6f20 7468 6520  compiled to the 
+00009fc0: 5079 7468 6f6e 2d73 7479 6c65 2073 796e  Python-style syn
+00009fd0: 7461 782c 2070 726f 6475 6369 6e67 206e  tax, producing n
+00009fe0: 6f20 696e 7465 726d 6564 6961 7465 2070  o intermediate p
+00009ff0: 6172 7469 616c 2061 7070 6c69 6361 7469  artial applicati
+0000a000: 6f6e 206f 626a 6563 7473 2e0d 0a0d 0a54  on objects.....T
+0000a010: 6869 7320 6170 706c 6965 7320 6576 656e  his applies even
+0000a020: 2074 6f20 696e 2d70 6c61 6365 2070 6970   to in-place pip
+0000a030: 6573 2073 7563 6820 6173 2060 7c3e 3d60  es such as `|>=`
+0000a040: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0000a050: 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e 7574  les....**Coconut
+0000a060: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0000a070: 0a64 6566 2073 7128 7829 203d 2078 2a2a  .def sq(x) = x**
+0000a080: 320d 0a28 312c 2032 2920 7c2a 3e20 282b  2..(1, 2) |*> (+
+0000a090: 2920 7c3e 2073 7120 7c3e 2070 7269 6e74  ) |> sq |> print
+0000a0a0: 0d0a 6060 600d 0a0d 0a60 6060 636f 636f  ..```....```coco
+0000a0b0: 6e75 740d 0a61 7379 6e63 2064 6566 2064  nut..async def d
+0000a0c0: 6f5f 7374 7566 6628 736f 6d65 5f64 6174  o_stuff(some_dat
+0000a0d0: 6129 203d 2028 0d0a 2020 2020 736f 6d65  a) = (..    some
+0000a0e0: 5f64 6174 610d 0a20 2020 207c 3e20 6173  _data..    |> as
+0000a0f0: 796e 635f 6675 6e63 0d0a 2020 2020 7c3e  ync_func..    |>
+0000a100: 2061 7761 6974 0d0a 2020 2020 7c3e 2070   await..    |> p
+0000a110: 6f73 745f 7072 6f63 0d0a 290d 0a60 6060  ost_proc..)..```
+0000a120: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0000a130: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0000a140: 6f6e 0d0a 696d 706f 7274 206f 7065 7261  on..import opera
+0000a150: 746f 720d 0a64 6566 2073 7128 7829 3a20  tor..def sq(x): 
+0000a160: 7265 7475 726e 2078 2a2a 320d 0a70 7269  return x**2..pri
+0000a170: 6e74 2873 7128 6f70 6572 6174 6f72 2e61  nt(sq(operator.a
+0000a180: 6464 2831 2c20 3229 2929 0d0a 6060 600d  dd(1, 2)))..```.
+0000a190: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+0000a1a0: 7468 6f6e 0d0a 6173 796e 6320 6465 6620  thon..async def 
+0000a1b0: 646f 5f73 7475 6666 2873 6f6d 655f 6461  do_stuff(some_da
+0000a1c0: 7461 293a 0d0a 2020 2020 7265 7475 726e  ta):..    return
+0000a1d0: 2070 6f73 745f 7072 6f63 2861 7761 6974   post_proc(await
+0000a1e0: 2061 7379 6e63 5f66 756e 6328 736f 6d65   async_func(some
+0000a1f0: 5f64 6174 6129 290d 0a60 6060 0d0a 0d0a  _data))..```....
+0000a200: 2323 2320 4675 6e63 7469 6f6e 2043 6f6d  ### Function Com
+0000a210: 706f 7369 7469 6f6e 0d0a 0d0a 436f 636f  position....Coco
+0000a220: 6e75 7420 6861 7320 7468 7265 6520 6261  nut has three ba
+0000a230: 7369 6320 6675 6e63 7469 6f6e 2063 6f6d  sic function com
+0000a240: 706f 7369 7469 6f6e 206f 7065 7261 746f  position operato
+0000a250: 7273 3a20 602e 2e60 2c20 602e 2e3e 602c  rs: `..`, `..>`,
+0000a260: 2061 6e64 2060 3c2e 2e60 2e20 426f 7468   and `<..`. Both
+0000a270: 2060 2e2e 6020 616e 6420 603c 2e2e 6020   `..` and `<..` 
+0000a280: 7573 6520 6d61 7468 2d73 7479 6c65 2022  use math-style "
+0000a290: 6261 636b 7761 7264 7322 2066 756e 6374  backwards" funct
+0000a2a0: 696f 6e20 636f 6d70 6f73 6974 696f 6e2c  ion composition,
+0000a2b0: 2077 6865 7265 2074 6865 2066 6972 7374   where the first
+0000a2c0: 2066 756e 6374 696f 6e20 6973 2063 616c   function is cal
+0000a2d0: 6c65 6420 6c61 7374 2c20 7768 696c 6520  led last, while 
+0000a2e0: 602e 2e3e 6020 7573 6573 2022 666f 7277  `..>` uses "forw
+0000a2f0: 6172 6473 2220 6675 6e63 7469 6f6e 2063  ards" function c
+0000a300: 6f6d 706f 7369 7469 6f6e 2c20 7768 6572  omposition, wher
+0000a310: 6520 7468 6520 6669 7273 7420 6675 6e63  e the first func
+0000a320: 7469 6f6e 2069 7320 6361 6c6c 6564 2066  tion is called f
+0000a330: 6972 7374 2e20 466f 7277 6172 6473 2061  irst. Forwards a
+0000a340: 6e64 2062 6163 6b77 6172 6473 2066 756e  nd backwards fun
+0000a350: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000a360: 6e20 7069 7065 7320 6361 6e6e 6f74 2062  n pipes cannot b
+0000a370: 6520 7573 6564 2074 6f67 6574 6865 7220  e used together 
+0000a380: 696e 2074 6865 2073 616d 6520 6578 7072  in the same expr
+0000a390: 6573 7369 6f6e 2028 756e 6c69 6b65 206e  ession (unlike n
+0000a3a0: 6f72 6d61 6c20 7069 7065 7329 2061 6e64  ormal pipes) and
+0000a3b0: 2068 6176 6520 7072 6563 6564 656e 6365   have precedence
+0000a3c0: 2069 6e2d 6265 7477 6565 6e20 604e 6f6e   in-between `Non
+0000a3d0: 6560 2d63 6f61 6c65 7363 696e 6720 616e  e`-coalescing an
+0000a3e0: 6420 6e6f 726d 616c 2070 6970 6573 2e0d  d normal pipes..
+0000a3f0: 0a0d 0a54 6865 2060 2e2e 3e60 2061 6e64  ...The `..>` and
+0000a400: 2060 3c2e 2e60 2066 756e 6374 696f 6e20   `<..` function 
+0000a410: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
+0000a420: 206f 7065 7261 746f 7273 2061 6c73 6f20   operators also 
+0000a430: 6861 7665 206d 756c 7469 2d61 7267 2c20  have multi-arg, 
+0000a440: 6b65 7977 6f72 642c 2061 6e64 204e 6f6e  keyword, and Non
+0000a450: 6520 7661 7269 616e 7473 2061 7320 7769  e variants as wi
+0000a460: 7468 205b 6e6f 726d 616c 2070 6970 6573  th [normal pipes
+0000a470: 5d28 2370 6970 6573 292e 2054 6865 2066  ](#pipes). The f
+0000a480: 756c 6c20 6c69 7374 206f 6620 6675 6e63  ull list of func
+0000a490: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+0000a4a0: 2070 6970 6520 6f70 6572 6174 6f72 7320   pipe operators 
+0000a4b0: 6973 3a0d 0a60 6060 0d0a 2e2e 3e20 2020  is:..```....>   
+0000a4c0: 203d 3e20 666f 7277 6172 6473 2066 756e   => forwards fun
+0000a4d0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000a4e0: 6e20 7069 7065 0d0a 3c2e 2e20 2020 203d  n pipe..<..    =
+0000a4f0: 3e20 6261 636b 7761 7264 7320 6675 6e63  > backwards func
+0000a500: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+0000a510: 2070 6970 650d 0a2e 2e2a 3e20 2020 3d3e   pipe....*>   =>
+0000a520: 2066 6f72 7761 7264 7320 6d75 6c74 692d   forwards multi-
+0000a530: 6172 6720 6675 6e63 7469 6f6e 2063 6f6d  arg function com
+0000a540: 706f 7369 7469 6f6e 2070 6970 650d 0a3c  position pipe..<
+0000a550: 2a2e 2e20 2020 3d3e 2062 6163 6b77 6172  *..   => backwar
+0000a560: 6473 206d 756c 7469 2d61 7267 2066 756e  ds multi-arg fun
+0000a570: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000a580: 6e20 7069 7065 0d0a 2e2e 2a2a 3e20 203d  n pipe....**>  =
+0000a590: 3e20 666f 7277 6172 6473 206b 6579 776f  > forwards keywo
+0000a5a0: 7264 2061 7267 2066 756e 6374 696f 6e20  rd arg function 
+0000a5b0: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
+0000a5c0: 0d0a 3c2a 2a2e 2e20 203d 3e20 6261 636b  ..<**..  => back
+0000a5d0: 7761 7264 7320 6b65 7977 6f72 6420 6172  wards keyword ar
+0000a5e0: 6720 6675 6e63 7469 6f6e 2063 6f6d 706f  g function compo
+0000a5f0: 7369 7469 6f6e 2070 6970 650d 0a2e 2e3f  sition pipe....?
+0000a600: 3e20 2020 3d3e 2066 6f72 7761 7264 7320  >   => forwards 
+0000a610: 4e6f 6e65 2d61 7761 7265 2066 756e 6374  None-aware funct
+0000a620: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
+0000a630: 7069 7065 0d0a 3c3f 2e2e 2020 203d 3e20  pipe..<?..   => 
+0000a640: 6261 636b 7761 7264 7320 4e6f 6e65 2d61  backwards None-a
+0000a650: 7761 7265 2066 756e 6374 696f 6e20 636f  ware function co
+0000a660: 6d70 6f73 6974 696f 6e20 7069 7065 0d0a  mposition pipe..
+0000a670: 2e2e 3f2a 3e20 203d 3e20 666f 7277 6172  ..?*>  => forwar
+0000a680: 6473 204e 6f6e 652d 6177 6172 6520 6d75  ds None-aware mu
+0000a690: 6c74 692d 6172 6720 6675 6e63 7469 6f6e  lti-arg function
+0000a6a0: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
+0000a6b0: 650d 0a3c 2a3f 2e2e 2020 3d3e 2062 6163  e..<*?..  => bac
+0000a6c0: 6b77 6172 6473 204e 6f6e 652d 6177 6172  kwards None-awar
+0000a6d0: 6520 6d75 6c74 692d 6172 6720 6675 6e63  e multi-arg func
+0000a6e0: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+0000a6f0: 2070 6970 650d 0a2e 2e3f 2a2a 3e20 3d3e   pipe....?**> =>
+0000a700: 2066 6f72 7761 7264 7320 4e6f 6e65 2d61   forwards None-a
+0000a710: 7761 7265 206b 6579 776f 7264 2061 7267  ware keyword arg
+0000a720: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
+0000a730: 6974 696f 6e20 7069 7065 0d0a 3c2a 2a3f  ition pipe..<**?
+0000a740: 2e2e 203d 3e20 6261 636b 7761 7264 7320  .. => backwards 
+0000a750: 4e6f 6e65 2d61 7761 7265 206b 6579 776f  None-aware keywo
+0000a760: 7264 2061 7267 2066 756e 6374 696f 6e20  rd arg function 
+0000a770: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
+0000a780: 0d0a 6060 600d 0a0d 0a4e 6f74 6520 7468  ..```....Note th
+0000a790: 6174 2060 4e6f 6e65 602d 6177 6172 6520  at `None`-aware 
+0000a7a0: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000a7b0: 7469 6f6e 2070 6970 6573 2064 6f6e 2774  tion pipes don't
+0000a7c0: 2061 6c6c 6f77 2065 6974 6865 7220 6675   allow either fu
+0000a7d0: 6e63 7469 6f6e 2074 6f20 6265 2060 4e6f  nction to be `No
+0000a7e0: 6e65 60e2 8094 7261 7468 6572 2c20 7468  ne`...rather, th
+0000a7f0: 6579 2061 6c6c 6f77 2074 6865 2072 6574  ey allow the ret
+0000a800: 7572 6e20 6f66 2074 6865 2066 6972 7374  urn of the first
+0000a810: 2065 7661 6c75 6174 6564 2066 756e 6374   evaluated funct
+0000a820: 696f 6e20 746f 2062 6520 604e 6f6e 6560  ion to be `None`
+0000a830: 2c20 696e 2077 6869 6368 2063 6173 6520  , in which case 
+0000a840: 604e 6f6e 6560 2069 7320 7265 7475 726e  `None` is return
+0000a850: 6564 2069 6d6d 6564 6961 7465 6c79 2072  ed immediately r
+0000a860: 6174 6865 7220 7468 616e 2063 616c 6c69  ather than calli
+0000a870: 6e67 2074 6865 206e 6578 7420 6675 6e63  ng the next func
+0000a880: 7469 6f6e 2e0d 0a0d 0a54 6865 2060 2e2e  tion.....The `..
+0000a890: 6020 6f70 6572 6174 6f72 2068 6173 206c  ` operator has l
+0000a8a0: 6f77 6572 2070 7265 6365 6465 6e63 6520  ower precedence 
+0000a8b0: 7468 616e 2060 3a3a 6020 6275 7420 6869  than `::` but hi
+0000a8c0: 6768 6572 2070 7265 6365 6465 6e63 6520  gher precedence 
+0000a8d0: 7468 616e 2069 6e66 6978 2066 756e 6374  than infix funct
+0000a8e0: 696f 6e73 2077 6869 6c65 2074 6865 2060  ions while the `
+0000a8f0: 2e2e 3e60 2070 6970 6520 6f70 6572 6174  ..>` pipe operat
+0000a900: 6f72 7320 6861 7665 2061 2070 7265 6365  ors have a prece
+0000a910: 6465 6e63 6520 6469 7265 6374 6c79 2068  dence directly h
+0000a920: 6967 6865 7220 7468 616e 206e 6f72 6d61  igher than norma
+0000a930: 6c20 7069 7065 732e 0d0a 0d0a 416c 6c20  l pipes.....All 
+0000a940: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000a950: 7469 6f6e 206f 7065 7261 746f 7273 2061  tion operators a
+0000a960: 6c73 6f20 6861 7665 2069 6e2d 706c 6163  lso have in-plac
+0000a970: 6520 7665 7273 696f 6e73 2028 652e 672e  e versions (e.g.
+0000a980: 2060 2e2e 3d60 292e 0d0a 0d0a 2323 2323   `..=`).....####
+0000a990: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0000a9a0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0000a9b0: 636f 6e75 740d 0a66 6f67 203d 2066 2e2e  conut..fog = f..
+0000a9c0: 670d 0a66 5f69 6e74 6f5f 6720 3d20 6620  g..f_into_g = f 
+0000a9d0: 2e2e 3e20 670d 0a60 6060 0d0a 0d0a 2a2a  ..> g..```....**
+0000a9e0: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+0000a9f0: 636f 6e75 745f 7079 7468 6f6e 0d0a 2320  conut_python..# 
+0000aa00: 756e 6c69 6b65 2074 6865 7365 2073 696d  unlike these sim
+0000aa10: 706c 6520 6c61 6d62 6461 732c 2043 6f63  ple lambdas, Coc
+0000aa20: 6f6e 7574 2070 726f 6475 6365 7320 7069  onut produces pi
+0000aa30: 636b 6c65 6162 6c65 206f 626a 6563 7473  ckleable objects
+0000aa40: 0d0a 666f 6720 3d20 6c61 6d62 6461 202a  ..fog = lambda *
+0000aa50: 6172 6773 2c20 2a2a 6b77 6172 6773 3a20  args, **kwargs: 
+0000aa60: 6628 6728 2a61 7267 732c 202a 2a6b 7761  f(g(*args, **kwa
+0000aa70: 7267 7329 290d 0a66 5f69 6e74 6f5f 6720  rgs))..f_into_g 
+0000aa80: 3d20 6c61 6d62 6461 202a 6172 6773 2c20  = lambda *args, 
+0000aa90: 2a2a 6b77 6172 6773 3a20 6728 6628 2a61  **kwargs: g(f(*a
+0000aaa0: 7267 732c 202a 2a6b 7761 7267 7329 290d  rgs, **kwargs)).
+0000aab0: 0a60 6060 0d0a 0d0a 2323 2320 4974 6572  .```....### Iter
+0000aac0: 6174 6f72 2053 6c69 6369 6e67 0d0a 0d0a  ator Slicing....
+0000aad0: 436f 636f 6e75 7420 7573 6573 2061 2060  Coconut uses a `
+0000aae0: 2460 2073 6967 6e20 7269 6768 7420 6166  $` sign right af
+0000aaf0: 7465 7220 616e 2069 7465 7261 746f 7220  ter an iterator 
+0000ab00: 6265 666f 7265 2061 2073 6c69 6365 2074  before a slice t
+0000ab10: 6f20 7065 7266 6f72 6d20 6974 6572 6174  o perform iterat
+0000ab20: 6f72 2073 6c69 6369 6e67 2c20 6173 2069  or slicing, as i
+0000ab30: 6e20 6069 7424 5b3a 355d 602e 2043 6f63  n `it$[:5]`. Coc
+0000ab40: 6f6e 7574 2773 2069 7465 7261 746f 7220  onut's iterator 
+0000ab50: 736c 6963 696e 6720 776f 726b 7320 6d75  slicing works mu
+0000ab60: 6368 2074 6865 2073 616d 6520 6173 2050  ch the same as P
+0000ab70: 7974 686f 6e27 7320 7365 7175 656e 6365  ython's sequence
+0000ab80: 2073 6c69 6369 6e67 2c20 616e 6420 6c6f   slicing, and lo
+0000ab90: 6f6b 7320 6d75 6368 2074 6865 2073 616d  oks much the sam
+0000aba0: 6520 6173 2043 6f63 6f6e 7574 2773 2070  e as Coconut's p
+0000abb0: 6172 7469 616c 2061 7070 6c69 6361 7469  artial applicati
+0000abc0: 6f6e 2c20 6275 7420 7769 7468 2062 7261  on, but with bra
+0000abd0: 636b 6574 7320 696e 7374 6561 6420 6f66  ckets instead of
+0000abe0: 2070 6172 656e 7468 6573 6573 2e0d 0a0d   parentheses....
+0000abf0: 0a49 7465 7261 746f 7220 736c 6963 696e  .Iterator slicin
+0000ac00: 6720 776f 726b 7320 6a75 7374 206c 696b  g works just lik
+0000ac10: 6520 7365 7175 656e 6365 2073 6c69 6369  e sequence slici
+0000ac20: 6e67 2c20 696e 636c 7564 696e 6720 7375  ng, including su
+0000ac30: 7070 6f72 7420 666f 7220 6e65 6761 7469  pport for negati
+0000ac40: 7665 2069 6e64 6963 6573 2061 6e64 2073  ve indices and s
+0000ac50: 6c69 6365 732c 2061 6e64 2073 7570 706f  lices, and suppo
+0000ac60: 7274 2066 6f72 2060 736c 6963 6560 206f  rt for `slice` o
+0000ac70: 626a 6563 7473 2069 6e20 7468 6520 7361  bjects in the sa
+0000ac80: 6d65 2077 6179 2061 7320 6361 6e20 6265  me way as can be
+0000ac90: 2064 6f6e 6520 7769 7468 206e 6f72 6d61   done with norma
+0000aca0: 6c20 736c 6963 696e 672e 2049 7465 7261  l slicing. Itera
+0000acb0: 746f 7220 736c 6963 696e 6720 6d61 6b65  tor slicing make
+0000acc0: 7320 6e6f 2067 7561 7261 6e74 6565 2c20  s no guarantee, 
+0000acd0: 686f 7765 7665 722c 2074 6861 7420 7468  however, that th
+0000ace0: 6520 6f72 6967 696e 616c 2069 7465 7261  e original itera
+0000acf0: 746f 7220 7061 7373 6564 2074 6f20 6974  tor passed to it
+0000ad00: 2062 6520 7072 6573 6572 7665 6420 2874   be preserved (t
+0000ad10: 6f20 7072 6573 6572 7665 2074 6865 2069  o preserve the i
+0000ad20: 7465 7261 746f 722c 2075 7365 2043 6f63  terator, use Coc
+0000ad30: 6f6e 7574 2773 205b 6072 6569 7465 7261  onut's [`reitera
+0000ad40: 626c 6560 5d28 2372 6569 7465 7261 626c  ble`](#reiterabl
+0000ad50: 6529 2062 7569 6c74 2d69 6e29 2e0d 0a0d  e) built-in)....
+0000ad60: 0a43 6f63 6f6e 7574 2773 2069 7465 7261  .Coconut's itera
+0000ad70: 746f 7220 736c 6963 696e 6720 6973 2076  tor slicing is v
+0000ad80: 6572 7920 7369 6d69 6c61 7220 746f 2050  ery similar to P
+0000ad90: 7974 686f 6e27 7320 6069 7465 7274 6f6f  ython's `itertoo
+0000ada0: 6c73 2e69 736c 6963 6560 2c20 6275 7420  ls.islice`, but 
+0000adb0: 756e 6c69 6b65 2060 6974 6572 746f 6f6c  unlike `itertool
+0000adc0: 732e 6973 6c69 6365 602c 2043 6f63 6f6e  s.islice`, Cocon
+0000add0: 7574 2773 2069 7465 7261 746f 7220 736c  ut's iterator sl
+0000ade0: 6963 696e 6720 7375 7070 6f72 7473 206e  icing supports n
+0000adf0: 6567 6174 6976 6520 696e 6469 6365 732c  egative indices,
+0000ae00: 2061 6e64 2077 696c 6c20 7072 6566 6572   and will prefer
+0000ae10: 656e 7469 616c 6c79 2063 616c 6c20 616e  entially call an
+0000ae20: 206f 626a 6563 7427 7320 605f 5f69 7465   object's `__ite
+0000ae30: 725f 6765 7469 7465 6d5f 5f60 2028 616c  r_getitem__` (al
+0000ae40: 7761 7973 2075 7365 6420 6966 2061 7661  ways used if ava
+0000ae50: 696c 6162 6c65 2920 6f72 2060 5f5f 6765  ilable) or `__ge
+0000ae60: 7469 7465 6d5f 5f60 2028 6f6e 6c79 2075  titem__` (only u
+0000ae70: 7365 6420 6966 2074 6865 206f 626a 6563  sed if the objec
+0000ae80: 7420 6973 2061 2063 6f6c 6c65 6374 696f  t is a collectio
+0000ae90: 6e73 2e61 6263 2e53 6571 7565 6e63 6529  ns.abc.Sequence)
+0000aea0: 2e20 436f 636f 6e75 7427 7320 6974 6572  . Coconut's iter
+0000aeb0: 6174 6f72 2073 6c69 6369 6e67 2069 7320  ator slicing is 
+0000aec0: 616c 736f 206f 7074 696d 697a 6564 2074  also optimized t
+0000aed0: 6f20 776f 726b 2077 656c 6c20 7769 7468  o work well with
+0000aee0: 2061 6c6c 206f 6620 436f 636f 6e75 7427   all of Coconut'
+0000aef0: 7320 6275 696c 742d 696e 206f 626a 6563  s built-in objec
+0000af00: 7473 2c20 6f6e 6c79 2063 6f6d 7075 7469  ts, only computi
+0000af10: 6e67 2074 6865 2065 6c65 6d65 6e74 7320  ng the elements 
+0000af20: 6f66 2065 6163 6820 7468 6174 2061 7265  of each that are
+0000af30: 2061 6374 7561 6c6c 7920 6e65 6365 7373   actually necess
+0000af40: 6172 7920 746f 2065 7874 7261 6374 2074  ary to extract t
+0000af50: 6865 2064 6573 6972 6564 2073 6c69 6365  he desired slice
+0000af60: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0000af70: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0000af80: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0000af90: 6d61 7028 7820 2d3e 2078 2a32 2c20 7261  map(x -> x*2, ra
+0000afa0: 6e67 6528 3130 2a2a 3130 3029 2924 5b2d  nge(10**100))$[-
+0000afb0: 315d 207c 3e20 7072 696e 740d 0a60 6060  1] |> print..```
+0000afc0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0000afd0: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
+0000afe0: 7769 7468 6f75 7420 6120 636f 6d70 6c69  without a compli
+0000aff0: 6361 7465 6420 6974 6572 6174 6f72 2073  cated iterator s
+0000b000: 6c69 6369 6e67 2066 756e 6374 696f 6e20  licing function 
+0000b010: 616e 6420 696e 7370 6563 7469 6f6e 206f  and inspection o
+0000b020: 6620 6375 7374 6f6d 206f 626a 6563 7473  f custom objects
+0000b030: 2e20 5468 6520 6e65 6365 7373 6172 7920  . The necessary 
+0000b040: 6465 6669 6e69 7469 6f6e 7320 696e 2050  definitions in P
+0000b050: 7974 686f 6e20 6361 6e20 6265 2066 6f75  ython can be fou
+0000b060: 6e64 2069 6e20 7468 6520 436f 636f 6e75  nd in the Coconu
+0000b070: 7420 6865 6164 6572 2e5f 0d0a 0d0a 2323  t header._....##
+0000b080: 2320 4974 6572 6174 6f72 2043 6861 696e  # Iterator Chain
+0000b090: 696e 670d 0a0d 0a43 6f63 6f6e 7574 2075  ing....Coconut u
+0000b0a0: 7365 7320 7468 6520 603a 3a60 206f 7065  ses the `::` ope
+0000b0b0: 7261 746f 7220 666f 7220 6974 6572 6174  rator for iterat
+0000b0c0: 6f72 2063 6861 696e 696e 672e 2043 6f63  or chaining. Coc
+0000b0d0: 6f6e 7574 2773 2069 7465 7261 746f 7220  onut's iterator 
+0000b0e0: 6368 6169 6e69 6e67 2069 7320 646f 6e65  chaining is done
+0000b0f0: 206c 617a 696c 792c 2069 6e20 7468 6174   lazily, in that
+0000b100: 2074 6865 2061 7267 756d 656e 7473 2061   the arguments a
+0000b110: 7265 206e 6f74 2065 7661 6c75 6174 6564  re not evaluated
+0000b120: 2075 6e74 696c 2074 6865 7920 6172 6520   until they are 
+0000b130: 6e65 6564 6564 2e20 4974 2068 6173 2061  needed. It has a
+0000b140: 2070 7265 6365 6465 6e63 6520 696e 2d62   precedence in-b
+0000b150: 6574 7765 656e 2062 6974 7769 7365 206f  etween bitwise o
+0000b160: 7220 616e 6420 696e 6669 7820 6361 6c6c  r and infix call
+0000b170: 732e 2043 6861 696e 7320 6172 6520 7265  s. Chains are re
+0000b180: 6974 6572 6162 6c65 2028 6361 6e20 6265  iterable (can be
+0000b190: 2069 7465 7261 7465 6420 6f76 6572 206d   iterated over m
+0000b1a0: 756c 7469 706c 6520 7469 6d65 7320 616e  ultiple times an
+0000b1b0: 6420 6765 7420 7468 6520 7361 6d65 2072  d get the same r
+0000b1c0: 6573 756c 7429 206f 6e6c 7920 7768 656e  esult) only when
+0000b1d0: 2074 6865 2069 7465 7261 746f 7273 2070   the iterators p
+0000b1e0: 6173 7365 6420 696e 2061 7265 2072 6569  assed in are rei
+0000b1f0: 7465 7261 626c 652e 2054 6865 2069 6e2d  terable. The in-
+0000b200: 706c 6163 6520 6f70 6572 6174 6f72 2069  place operator i
+0000b210: 7320 603a 3a3d 602e 0d0a 0d0a 5f4e 6f74  s `::=`....._Not
+0000b220: 6520 7468 6174 205b 6c61 7a79 206c 6973  e that [lazy lis
+0000b230: 7473 5d28 236c 617a 792d 6c69 7374 7329  ts](#lazy-lists)
+0000b240: 2061 6e64 205b 666c 6174 7465 6e5d 2823   and [flatten](#
+0000b250: 666c 6174 7465 6e29 2061 7265 2075 7365  flatten) are use
+0000b260: 6420 756e 6465 7220 7468 6520 686f 6f64  d under the hood
+0000b270: 2074 6f20 696d 706c 656d 656e 7420 6368   to implement ch
+0000b280: 6169 6e69 6e67 2073 7563 6820 7468 6174  aining such that
+0000b290: 2060 6120 3a3a 2062 6020 6973 2065 7175   `a :: b` is equ
+0000b2a0: 6976 616c 656e 7420 746f 2060 666c 6174  ivalent to `flat
+0000b2b0: 7465 6e28 287c 612c 2062 7c29 2960 2e5f  ten((|a, b|))`._
+0000b2c0: 0d0a 0d0a 2323 2323 2320 5261 7469 6f6e  ....##### Ration
+0000b2d0: 616c 650d 0a0d 0a41 2075 7365 6675 6c20  ale....A useful 
+0000b2e0: 746f 6f6c 2074 6f20 6d61 6b65 2077 6f72  tool to make wor
+0000b2f0: 6b69 6e67 2077 6974 6820 6974 6572 6174  king with iterat
+0000b300: 6f72 7320 6173 2065 6173 7920 6173 2077  ors as easy as w
+0000b310: 6f72 6b69 6e67 2077 6974 6820 7365 7175  orking with sequ
+0000b320: 656e 6365 7320 6973 2074 6865 2061 6269  ences is the abi
+0000b330: 6c69 7479 2074 6f20 6c61 7a69 6c79 2063  lity to lazily c
+0000b340: 6f6d 6269 6e65 206d 756c 7469 706c 6520  ombine multiple 
+0000b350: 6974 6572 6174 6f72 7320 746f 6765 7468  iterators togeth
+0000b360: 6572 2e20 5468 6973 206f 7065 7261 7469  er. This operati
+0000b370: 6f6e 2069 7320 6361 6c6c 6564 2063 6861  on is called cha
+0000b380: 696e 2c20 616e 6420 6973 2065 7175 6976  in, and is equiv
+0000b390: 616c 656e 7420 746f 2061 6464 6974 696f  alent to additio
+0000b3a0: 6e20 7769 7468 2073 6571 7565 6e63 6573  n with sequences
+0000b3b0: 2c20 6578 6365 7074 2074 6861 7420 6e6f  , except that no
+0000b3c0: 7468 696e 6720 6765 7473 2065 7661 6c75  thing gets evalu
+0000b3d0: 6174 6564 2075 6e74 696c 2069 7420 6973  ated until it is
+0000b3e0: 206e 6565 6465 642e 0d0a 0d0a 2323 2323   needed.....####
+0000b3f0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+0000b400: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
+0000b410: 7220 7468 6174 2072 6574 7572 6e73 2065  r that returns e
+0000b420: 6c65 6d65 6e74 7320 6672 6f6d 2074 6865  lements from the
+0000b430: 2066 6972 7374 2069 7465 7261 626c 6520   first iterable 
+0000b440: 756e 7469 6c20 6974 2069 7320 6578 6861  until it is exha
+0000b450: 7573 7465 642c 2074 6865 6e20 7072 6f63  usted, then proc
+0000b460: 6565 6473 2074 6f20 7468 6520 6e65 7874  eeds to the next
+0000b470: 2069 7465 7261 626c 652c 2075 6e74 696c   iterable, until
+0000b480: 2061 6c6c 206f 6620 7468 6520 6974 6572   all of the iter
+0000b490: 6162 6c65 7320 6172 6520 6578 6861 7573  ables are exhaus
+0000b4a0: 7465 642e 2055 7365 6420 666f 7220 7472  ted. Used for tr
+0000b4b0: 6561 7469 6e67 2063 6f6e 7365 6375 7469  eating consecuti
+0000b4c0: 7665 2073 6571 7565 6e63 6573 2061 7320  ve sequences as 
+0000b4d0: 6120 7369 6e67 6c65 2073 6571 7565 6e63  a single sequenc
+0000b4e0: 652e 2043 6861 696e 6564 2069 6e70 7574  e. Chained input
+0000b4f0: 7320 6172 6520 6576 616c 7561 7465 6420  s are evaluated 
+0000b500: 6c61 7a69 6c79 2e20 526f 7567 686c 7920  lazily. Roughly 
+0000b510: 6571 7569 7661 6c65 6e74 2074 6f3a 0d0a  equivalent to:..
+0000b520: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0000b530: 6e0d 0a64 6566 2063 6861 696e 282a 6974  n..def chain(*it
+0000b540: 6572 6162 6c65 7329 3a0d 0a20 2020 2023  erables):..    #
+0000b550: 2063 6861 696e 2827 4142 4327 2c20 2744   chain('ABC', 'D
+0000b560: 4546 2729 202d 2d3e 2041 2042 2043 2044  EF') --> A B C D
+0000b570: 2045 2046 0d0a 2020 2020 666f 7220 6974   E F..    for it
+0000b580: 2069 6e20 6974 6572 6162 6c65 733a 0d0a   in iterables:..
+0000b590: 2020 2020 2020 2020 666f 7220 656c 656d          for elem
+0000b5a0: 656e 7420 696e 2069 743a 0d0a 2020 2020  ent in it:..    
+0000b5b0: 2020 2020 2020 2020 7969 656c 6420 656c          yield el
+0000b5c0: 656d 656e 740d 0a60 6060 0d0a 0d0a 2323  ement..```....##
+0000b5d0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+0000b5e0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+0000b5f0: 636f 636f 6e75 740d 0a64 6566 204e 286e  coconut..def N(n
+0000b600: 3d30 2920 3d20 286e 2c29 203a 3a20 4e28  =0) = (n,) :: N(
+0000b610: 6e2b 3129 2020 2320 6e6f 2069 6e66 696e  n+1)  # no infin
+0000b620: 6974 6520 6c6f 6f70 2062 6563 6175 7365  ite loop because
+0000b630: 203a 3a20 6973 206c 617a 790d 0a0d 0a28   :: is lazy....(
+0000b640: 7261 6e67 6528 2d31 302c 2030 2920 3a3a  range(-10, 0) ::
+0000b650: 204e 2829 2924 5b35 3a31 355d 207c 3e20   N())$[5:15] |> 
+0000b660: 6c69 7374 207c 3e20 7072 696e 740d 0a60  list |> print..`
+0000b670: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
+0000b680: 2a0d 0a5f 4361 6e27 7420 6265 2064 6f6e  *.._Can't be don
+0000b690: 6520 7769 7468 6f75 7420 6120 636f 6d70  e without a comp
+0000b6a0: 6c69 6361 7465 6420 6974 6572 6174 6f72  licated iterator
+0000b6b0: 2063 6f6d 7072 6568 656e 7369 6f6e 2069   comprehension i
+0000b6c0: 6e20 706c 6163 6520 6f66 2074 6865 206c  n place of the l
+0000b6d0: 617a 7920 6368 6169 6e69 6e67 2e20 5365  azy chaining. Se
+0000b6e0: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
+0000b6f0: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
+0000b700: 6f6e 2073 796e 7461 782e 5f0d 0a0d 0a23  on syntax._....#
+0000b710: 2323 2049 6e66 6978 2046 756e 6374 696f  ## Infix Functio
+0000b720: 6e73 0d0a 0d0a 436f 636f 6e75 7420 616c  ns....Coconut al
+0000b730: 6c6f 7773 2066 6f72 2069 6e66 6978 2066  lows for infix f
+0000b740: 756e 6374 696f 6e20 6361 6c6c 696e 672c  unction calling,
+0000b750: 2077 6865 7265 2061 6e20 6578 7072 6573   where an expres
+0000b760: 7369 6f6e 2074 6861 7420 6576 616c 7561  sion that evalua
+0000b770: 7465 7320 746f 2061 2066 756e 6374 696f  tes to a functio
+0000b780: 6e20 6973 2073 7572 726f 756e 6465 6420  n is surrounded 
+0000b790: 6279 2062 6163 6b74 6963 6b73 2061 6e64  by backticks and
+0000b7a0: 2074 6865 6e20 6361 6e20 6861 7665 2061   then can have a
+0000b7b0: 7267 756d 656e 7473 2070 6c61 6365 6420  rguments placed 
+0000b7c0: 696e 2066 726f 6e74 206f 6620 6f72 2062  in front of or b
+0000b7d0: 6568 696e 6420 6974 2e20 496e 6669 7820  ehind it. Infix 
+0000b7e0: 6361 6c6c 696e 6720 6861 7320 6120 7072  calling has a pr
+0000b7f0: 6563 6564 656e 6365 2069 6e2d 6265 7477  ecedence in-betw
+0000b800: 6565 6e20 6368 6169 6e69 6e67 2061 6e64  een chaining and
+0000b810: 2060 4e6f 6e65 602d 636f 616c 6573 6369   `None`-coalesci
+0000b820: 6e67 2c20 616e 6420 6973 206c 6566 742d  ng, and is left-
+0000b830: 6173 736f 6369 6174 6976 652e 0d0a 0d0a  associative.....
+0000b840: 5468 6520 616c 6c6f 7761 626c 6520 6e6f  The allowable no
+0000b850: 7461 7469 6f6e 7320 666f 7220 696e 6669  tations for infi
+0000b860: 7820 6361 6c6c 7320 6172 653a 0d0a 6060  x calls are:..``
+0000b870: 6063 6f63 6f6e 7574 0d0a 7820 6066 6020  `coconut..x `f` 
+0000b880: 7920 203d 3e20 2066 2878 2c20 7929 0d0a  y  =>  f(x, y)..
+0000b890: 6066 6020 7820 2020 203d 3e20 2066 2878  `f` x    =>  f(x
+0000b8a0: 290d 0a78 2060 6660 2020 2020 3d3e 2020  )..x `f`    =>  
+0000b8b0: 6628 7829 0d0a 6066 6020 2020 2020 203d  f(x)..`f`      =
+0000b8c0: 3e20 2066 2829 0d0a 6060 600d 0a41 6464  >  f()..```..Add
+0000b8d0: 6974 696f 6e61 6c6c 792c 2069 6e66 6978  itionally, infix
+0000b8e0: 206e 6f74 6174 696f 6e20 7375 7070 6f72   notation suppor
+0000b8f0: 7473 2061 206c 616d 6264 6120 6173 2074  ts a lambda as t
+0000b900: 6865 206c 6173 7420 6172 6775 6d65 6e74  he last argument
+0000b910: 2c20 6465 7370 6974 6520 6c61 6d62 6461  , despite lambda
+0000b920: 7320 6861 7669 6e67 2061 206c 6f77 6572  s having a lower
+0000b930: 2070 7265 6365 6465 6e63 652e 2054 6875   precedence. Thu
+0000b940: 732c 2060 6061 2060 6675 6e63 6020 6220  s, ``a `func` b 
+0000b950: 2d3e 2063 6060 2069 7320 6571 7569 7661  -> c`` is equiva
+0000b960: 6c65 6e74 2074 6f20 6066 756e 6328 612c  lent to `func(a,
+0000b970: 2062 202d 3e20 6329 602e 0d0a 0d0a 436f   b -> c)`.....Co
+0000b980: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
+0000b990: 7274 7320 696e 6669 7820 6675 6e63 7469  rts infix functi
+0000b9a0: 6f6e 2064 6566 696e 6974 696f 6e20 746f  on definition to
+0000b9b0: 206d 616b 6520 6465 6669 6e69 6e67 2066   make defining f
+0000b9c0: 756e 6374 696f 6e73 2074 6861 7420 6172  unctions that ar
+0000b9d0: 6520 696e 7465 6e64 6564 2066 6f72 2069  e intended for i
+0000b9e0: 6e66 6978 2075 7361 6765 2073 696d 706c  nfix usage simpl
+0000b9f0: 6572 2e20 5468 6520 7379 6e74 6178 2066  er. The syntax f
+0000ba00: 6f72 2069 6e66 6978 2066 756e 6374 696f  or infix functio
+0000ba10: 6e20 6465 6669 6e69 7469 6f6e 2069 730d  n definition is.
+0000ba20: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
+0000ba30: 203c 6172 673e 2060 3c6e 616d 653e 6020   <arg> `<name>` 
+0000ba40: 3c61 7267 3e3a 0d0a 2020 2020 3c62 6f64  <arg>:..    <bod
+0000ba50: 793e 0d0a 6060 600d 0a77 6865 7265 2060  y>..```..where `
+0000ba60: 3c6e 616d 653e 6020 6973 2074 6865 206e  <name>` is the n
+0000ba70: 616d 6520 6f66 2074 6865 2066 756e 6374  ame of the funct
+0000ba80: 696f 6e2c 2074 6865 2060 3c61 7267 3e60  ion, the `<arg>`
+0000ba90: 7320 6172 6520 7468 6520 6675 6e63 7469  s are the functi
+0000baa0: 6f6e 2061 7267 756d 656e 7473 2c20 616e  on arguments, an
+0000bab0: 6420 603c 626f 6479 3e60 2069 7320 7468  d `<body>` is th
+0000bac0: 6520 626f 6479 206f 6620 7468 6520 6675  e body of the fu
+0000bad0: 6e63 7469 6f6e 2e20 4966 2061 6e20 603c  nction. If an `<
+0000bae0: 6172 673e 6020 696e 636c 7564 6573 2061  arg>` includes a
+0000baf0: 2064 6566 6175 6c74 2c20 7468 6520 603c   default, the `<
+0000bb00: 6172 673e 6020 6d75 7374 2062 6520 7375  arg>` must be su
+0000bb10: 7272 6f75 6e64 6564 2069 6e20 7061 7265  rrounded in pare
+0000bb20: 6e74 6865 7365 732e 0d0a 0d0a 5f4e 6f74  ntheses....._Not
+0000bb30: 653a 2049 6e66 6978 2066 756e 6374 696f  e: Infix functio
+0000bb40: 6e20 6465 6669 6e69 7469 6f6e 2063 616e  n definition can
+0000bb50: 2062 6520 636f 6d62 696e 6564 2077 6974   be combined wit
+0000bb60: 6820 6173 7369 676e 6d65 6e74 2061 6e64  h assignment and
+0000bb70: 2f6f 7220 7061 7474 6572 6e2d 6d61 7463  /or pattern-matc
+0000bb80: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
+0000bb90: 6669 6e69 7469 6f6e 2e5f 0d0a 0d0a 2323  finition._....##
+0000bba0: 2323 2320 5261 7469 6f6e 616c 650d 0a0d  ### Rationale...
+0000bbb0: 0a41 2063 6f6d 6d6f 6e20 6964 696f 6d20  .A common idiom 
+0000bbc0: 696e 2066 756e 6374 696f 6e61 6c20 7072  in functional pr
+0000bbd0: 6f67 7261 6d6d 696e 6720 6973 2074 6f20  ogramming is to 
+0000bbe0: 7772 6974 6520 6675 6e63 7469 6f6e 7320  write functions 
+0000bbf0: 7468 6174 2061 7265 2069 6e74 656e 6465  that are intende
+0000bc00: 6420 746f 2062 6568 6176 6520 736f 6d65  d to behave some
+0000bc10: 7768 6174 206c 696b 6520 6f70 6572 6174  what like operat
+0000bc20: 6f72 732c 2061 6e64 2074 6f20 6361 6c6c  ors, and to call
+0000bc30: 2061 6e64 2064 6566 696e 6520 7468 656d   and define them
+0000bc40: 2062 7920 706c 6163 696e 6720 7468 656d   by placing them
+0000bc50: 2062 6574 7765 656e 2074 6865 6972 2061   between their a
+0000bc60: 7267 756d 656e 7473 2e20 436f 636f 6e75  rguments. Coconu
+0000bc70: 7427 7320 696e 6669 7820 7379 6e74 6178  t's infix syntax
+0000bc80: 206d 616b 6573 2074 6869 7320 706f 7373   makes this poss
+0000bc90: 6962 6c65 2e0d 0a0d 0a23 2323 2323 2045  ible.....##### E
+0000bca0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+0000bcb0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+0000bcc0: 7574 0d0a 6465 6620 6120 606d 6f64 6020  ut..def a `mod` 
+0000bcd0: 6220 3d20 6120 2520 620d 0a28 7820 606d  b = a % b..(x `m
+0000bce0: 6f64 6020 3229 2060 7072 696e 7460 0d0a  od` 2) `print`..
+0000bcf0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+0000bd00: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+0000bd10: 7974 686f 6e0d 0a64 6566 206d 6f64 2861  ython..def mod(a
+0000bd20: 2c20 6229 3a20 7265 7475 726e 2061 2025  , b): return a %
+0000bd30: 2062 0d0a 7072 696e 7428 6d6f 6428 782c   b..print(mod(x,
+0000bd40: 2032 2929 0d0a 6060 600d 0a0d 0a23 2323   2))..```....###
+0000bd50: 2043 7573 746f 6d20 4f70 6572 6174 6f72   Custom Operator
+0000bd60: 730d 0a0d 0a43 6f63 6f6e 7574 2061 6c6c  s....Coconut all
+0000bd70: 6f77 7320 796f 7520 746f 2064 6563 6c61  ows you to decla
+0000bd80: 7265 2079 6f75 7220 6f77 6e20 6375 7374  re your own cust
+0000bd90: 6f6d 206f 7065 7261 746f 7273 2077 6974  om operators wit
+0000bda0: 6820 7468 6520 7379 6e74 6178 0d0a 6060  h the syntax..``
+0000bdb0: 600d 0a6f 7065 7261 746f 7220 3c6f 703e  `..operator <op>
+0000bdc0: 0d0a 6060 600d 0a77 6865 7265 2060 3c6f  ..```..where `<o
+0000bdd0: 703e 6020 6973 2077 6861 7465 7665 7220  p>` is whatever 
+0000bde0: 7365 7175 656e 6365 206f 6620 556e 6963  sequence of Unic
+0000bdf0: 6f64 6520 6368 6172 6163 7465 7273 2079  ode characters y
+0000be00: 6f75 2077 616e 7420 746f 2075 7365 2061  ou want to use a
+0000be10: 7320 6120 6375 7374 6f6d 206f 7065 7261  s a custom opera
+0000be20: 746f 722e 2054 6865 2060 6f70 6572 6174  tor. The `operat
+0000be30: 6f72 6020 7374 6174 656d 656e 7420 6d75  or` statement mu
+0000be40: 7374 2061 7070 6561 7220 6174 2074 6865  st appear at the
+0000be50: 2074 6f70 206c 6576 656c 2061 6e64 206f   top level and o
+0000be60: 6e6c 7920 6166 6665 6374 7320 636f 6465  nly affects code
+0000be70: 2074 6861 7420 636f 6d65 7320 6166 7465   that comes afte
+0000be80: 7220 6974 2e0d 0a0d 0a4f 6e63 6520 6465  r it.....Once de
+0000be90: 636c 6172 6564 2c20 796f 7520 6361 6e20  clared, you can 
+0000bea0: 7573 6520 796f 7572 2063 7573 746f 6d20  use your custom 
+0000beb0: 6f70 6572 6174 6f72 2061 6e79 7768 6572  operator anywher
+0000bec0: 6520 7768 6572 6520 796f 7520 776f 756c  e where you woul
+0000bed0: 6420 6265 2061 626c 6520 746f 2075 7365  d be able to use
+0000bee0: 2061 6e20 5b69 6e66 6978 2066 756e 6374   an [infix funct
+0000bef0: 696f 6e5d 2823 696e 6669 782d 6675 6e63  ion](#infix-func
+0000bf00: 7469 6f6e 7329 2061 7320 7765 6c6c 2061  tions) as well a
+0000bf10: 7320 7265 6665 7220 746f 2074 6865 2061  s refer to the a
+0000bf20: 6374 7561 6c20 6f70 6572 6174 6f72 2069  ctual operator i
+0000bf30: 7473 656c 6620 7769 7468 2074 6865 2073  tself with the s
+0000bf40: 616d 6520 6028 3c6f 703e 2960 2073 796e  ame `(<op>)` syn
+0000bf50: 7461 7820 6173 2069 6e20 6f74 6865 7220  tax as in other 
+0000bf60: 5b6f 7065 7261 746f 7220 6675 6e63 7469  [operator functi
+0000bf70: 6f6e 735d 2823 6f70 6572 6174 6f72 2d66  ons](#operator-f
+0000bf80: 756e 6374 696f 6e73 292e 2053 696e 6365  unctions). Since
+0000bf90: 2063 7573 746f 6d20 6f70 6572 6174 6f72   custom operator
+0000bfa0: 7320 776f 726b 206c 696b 6520 696e 6669  s work like infi
+0000bfb0: 7820 6675 6e63 7469 6f6e 732c 2074 6865  x functions, the
+0000bfc0: 7920 616c 7761 7973 2068 6176 6520 7468  y always have th
+0000bfd0: 6520 7361 6d65 2070 7265 6365 6465 6e63  e same precedenc
+0000bfe0: 6520 6173 2069 6e66 6978 2066 756e 6374  e as infix funct
+0000bff0: 696f 6e73 2061 6e64 2061 7265 2061 6c77  ions and are alw
+0000c000: 6179 7320 6c65 6674 2d61 7373 6f63 6961  ays left-associa
+0000c010: 7469 7665 2e20 4375 7374 6f6d 206f 7065  tive. Custom ope
+0000c020: 7261 746f 7273 2063 616e 2062 6520 7573  rators can be us
+0000c030: 6564 2061 7320 6269 6e61 7279 2c20 756e  ed as binary, un
+0000c040: 6172 792c 206f 7220 6e6f 6e65 2d61 7279  ary, or none-ary
+0000c050: 206f 7065 7261 746f 7273 2c20 616e 6420   operators, and 
+0000c060: 626f 7468 2070 7265 6669 7820 616e 6420  both prefix and 
+0000c070: 706f 7374 6669 7820 6e6f 7461 7469 6f6e  postfix notation
+0000c080: 2066 6f72 2075 6e61 7279 206f 7065 7261   for unary opera
+0000c090: 746f 7273 2069 7320 7375 7070 6f72 7465  tors is supporte
+0000c0a0: 642e 0d0a 0d0a 536f 6d65 2065 7861 6d70  d.....Some examp
+0000c0b0: 6c65 2073 796e 7461 7865 7320 666f 7220  le syntaxes for 
+0000c0c0: 6465 6669 6e69 6e67 2063 7573 746f 6d20  defining custom 
+0000c0d0: 6f70 6572 6174 6f72 7320 6f6e 6365 2064  operators once d
+0000c0e0: 6563 6c61 7265 643a 0d0a 6060 600d 0a64  eclared:..```..d
+0000c0f0: 6566 2078 203c 6f70 3e20 793a 202e 2e2e  ef x <op> y: ...
+0000c100: 0d0a 6465 6620 3c6f 703e 2078 203d 202e  ..def <op> x = .
+0000c110: 2e2e 0d0a 6d61 7463 6820 6465 6620 2878  ....match def (x
+0000c120: 2920 3c6f 703e 2028 7929 3a20 2e2e 2e0d  ) <op> (y): ....
+0000c130: 0a28 3c6f 703e 2920 3d20 2e2e 2e0d 0a66  .(<op>) = .....f
+0000c140: 726f 6d20 6d6f 6475 6c65 2069 6d70 6f72  rom module impor
+0000c150: 7420 6e61 6d65 2061 7320 283c 6f70 3e29  t name as (<op>)
+0000c160: 0d0a 6060 600d 0a0d 0a41 6e64 2073 6f6d  ..```....And som
+0000c170: 6520 6578 616d 706c 6520 7379 6e74 6178  e example syntax
+0000c180: 6573 2066 6f72 2075 7369 6e67 2063 7573  es for using cus
+0000c190: 746f 6d20 6f70 6572 6174 6f72 733a 0d0a  tom operators:..
+0000c1a0: 6060 600d 0a78 203c 6f70 3e20 790d 0a78  ```..x <op> y..x
+0000c1b0: 203c 6f70 3e20 7920 3c6f 703e 207a 0d0a   <op> y <op> z..
+0000c1c0: 3c6f 703e 2078 0d0a 7820 3c6f 703e 0d0a  <op> x..x <op>..
+0000c1d0: 7820 3d20 283c 6f70 3e29 0d0a 6628 3c6f  x = (<op>)..f(<o
+0000c1e0: 703e 290d 0a28 7820 3c6f 703e 202e 290d  p>)..(x <op> .).
+0000c1f0: 0a28 2e20 3c6f 703e 2079 290d 0a6d 6174  .(. <op> y)..mat
+0000c200: 6368 2078 203c 6f70 3e20 696e 202e 2e2e  ch x <op> in ...
+0000c210: 3a20 2e2e 2e0d 0a6d 6174 6368 2078 203c  : .....match x <
+0000c220: 6f70 3e20 7920 696e 202e 2e2e 3a20 2e2e  op> y in ...: ..
+0000c230: 2e0d 0a60 6060 0d0a 0d0a 4164 6469 7469  ...```....Additi
+0000c240: 6f6e 616c 6c79 2c20 746f 2069 6d70 6f72  onally, to impor
+0000c250: 7420 6375 7374 6f6d 206f 7065 7261 746f  t custom operato
+0000c260: 7273 2066 726f 6d20 6f74 6865 7220 6d6f  rs from other mo
+0000c270: 6475 6c65 732c 2043 6f63 6f6e 7574 2073  dules, Coconut s
+0000c280: 7570 706f 7274 7320 7468 6520 7370 6563  upports the spec
+0000c290: 6961 6c20 7379 6e74 6178 3a0d 0a60 6060  ial syntax:..```
+0000c2a0: 0d0a 6672 6f6d 203c 6d6f 6475 6c65 3e20  ..from <module> 
+0000c2b0: 696d 706f 7274 206f 7065 7261 746f 7220  import operator 
+0000c2c0: 3c6f 703e 0d0a 6060 600d 0a0d 0a43 7573  <op>..```....Cus
+0000c2d0: 746f 6d20 6f70 6572 6174 6f72 7320 7769  tom operators wi
+0000c2e0: 6c6c 206f 6674 656e 206e 6565 6420 746f  ll often need to
+0000c2f0: 2062 6520 7375 7272 6f75 6e64 6564 2062   be surrounded b
+0000c300: 7920 7768 6974 6573 7061 6365 2028 6f72  y whitespace (or
+0000c310: 2070 6172 656e 7468 6573 6573 2077 6865   parentheses whe
+0000c320: 6e20 7573 6564 2061 7320 616e 206f 7065  n used as an ope
+0000c330: 7261 746f 7220 6675 6e63 7469 6f6e 2920  rator function) 
+0000c340: 746f 2062 6520 7061 7273 6564 2063 6f72  to be parsed cor
+0000c350: 7265 6374 6c79 2e0d 0a0d 0a49 6620 6120  rectly.....If a 
+0000c360: 6375 7374 6f6d 206f 7065 7261 746f 7220  custom operator 
+0000c370: 7468 6174 2069 7320 616c 736f 2061 2076  that is also a v
+0000c380: 616c 6964 206e 616d 6520 6973 2064 6573  alid name is des
+0000c390: 6972 6564 2c20 796f 7520 6361 6e20 7573  ired, you can us
+0000c3a0: 6520 6120 6261 636b 736c 6173 6820 6265  e a backslash be
+0000c3b0: 666f 7265 2074 6865 206e 616d 6520 746f  fore the name to
+0000c3c0: 2067 6574 2062 6163 6b20 7468 6520 6e61   get back the na
+0000c3d0: 6d65 2069 6e73 7465 6164 2075 7369 6e67  me instead using
+0000c3e0: 2043 6f63 6f6e 7574 2773 205b 6b65 7977   Coconut's [keyw
+0000c3f0: 6f72 642f 7661 7269 6162 6c65 2064 6973  ord/variable dis
+0000c400: 616d 6269 6775 6174 696f 6e20 7379 6e74  ambiguation synt
+0000c410: 6178 5d28 2368 616e 646c 696e 672d 6b65  ax](#handling-ke
+0000c420: 7977 6f72 6476 6172 6961 626c 652d 6e61  ywordvariable-na
+0000c430: 6d65 2d6f 7665 726c 6170 292e 0d0a 0d0a  me-overlap).....
+0000c440: 2323 2323 2320 4578 616d 706c 6573 0d0a  ##### Examples..
+0000c450: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0000c460: 6060 6063 6f63 6f6e 7574 0d0a 6f70 6572  ```coconut..oper
+0000c470: 6174 6f72 2025 250d 0a28 2525 2920 3d20  ator %%..(%%) = 
+0000c480: 6d61 7468 2e72 656d 6169 6e64 6572 0d0a  math.remainder..
+0000c490: 3130 2025 2520 3320 7c3e 2070 7269 6e74  10 %% 3 |> print
+0000c4a0: 0d0a 0d0a 6f70 6572 6174 6f72 2021 210d  ....operator !!.
+0000c4b0: 0a28 2121 2920 3d20 626f 6f6c 0d0a 2121  .(!!) = bool..!!
+0000c4c0: 2030 207c 3e20 7072 696e 740d 0a0d 0a6f   0 |> print....o
+0000c4d0: 7065 7261 746f 7220 6c6f 6731 300d 0a66  perator log10..f
+0000c4e0: 726f 6d20 6d61 7468 2069 6d70 6f72 7420  rom math import 
+0000c4f0: 5c6c 6f67 3130 2061 7320 286c 6f67 3130  \log10 as (log10
+0000c500: 290d 0a31 3030 206c 6f67 3130 207c 3e20  )..100 log10 |> 
+0000c510: 7072 696e 740d 0a60 6060 0d0a 0d0a 2a2a  print..```....**
+0000c520: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+0000c530: 636f 6e75 745f 7079 7468 6f6e 0d0a 7072  conut_python..pr
+0000c540: 696e 7428 6d61 7468 2e72 656d 6169 6e64  int(math.remaind
+0000c550: 6572 2831 302c 2033 2929 0d0a 0d0a 7072  er(10, 3))....pr
+0000c560: 696e 7428 626f 6f6c 2830 2929 0d0a 0d0a  int(bool(0))....
+0000c570: 7072 696e 7428 6d61 7468 2e6c 6f67 3130  print(math.log10
+0000c580: 2831 3030 2929 0d0a 6060 600d 0a0d 0a23  (100))..```....#
+0000c590: 2323 204e 6f6e 6520 436f 616c 6573 6369  ## None Coalesci
+0000c5a0: 6e67 0d0a 0d0a 436f 636f 6e75 7420 7072  ng....Coconut pr
+0000c5b0: 6f76 6964 6573 2060 3f3f 6020 6173 2061  ovides `??` as a
+0000c5c0: 2060 4e6f 6e65 602d 636f 616c 6573 6369   `None`-coalesci
+0000c5d0: 6e67 206f 7065 7261 746f 722c 2073 696d  ng operator, sim
+0000c5e0: 696c 6172 2074 6f20 7468 6520 603f 3f60  ilar to the `??`
+0000c5f0: 206e 756c 6c2d 636f 616c 6573 6369 6e67   null-coalescing
+0000c600: 206f 7065 7261 746f 7220 696e 2043 2320   operator in C# 
+0000c610: 616e 6420 5377 6966 742e 2041 6464 6974  and Swift. Addit
+0000c620: 696f 6e61 6c6c 792c 2043 6f63 6f6e 7574  ionally, Coconut
+0000c630: 2069 6d70 6c65 6d65 6e74 7320 616c 6c20   implements all 
+0000c640: 6f66 2074 6865 2060 4e6f 6e65 602d 6177  of the `None`-aw
+0000c650: 6172 6520 6f70 6572 6174 6f72 7320 7072  are operators pr
+0000c660: 6f70 6f73 6564 2069 6e20 5b50 4550 2035  oposed in [PEP 5
+0000c670: 3035 5d28 6874 7470 733a 2f2f 7777 772e  05](https://www.
+0000c680: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
+0000c690: 6570 732f 7065 702d 3035 3035 2f29 2e0d  eps/pep-0505/)..
+0000c6a0: 0a0d 0a43 6f63 6f6e 7574 2773 2060 3f3f  ...Coconut's `??
+0000c6b0: 6020 6f70 6572 6174 6f72 2065 7661 6c75  ` operator evalu
+0000c6c0: 6174 6573 2074 6f20 6974 7320 6c65 6674  ates to its left
+0000c6d0: 206f 7065 7261 6e64 2069 6620 7468 6174   operand if that
+0000c6e0: 206f 7065 7261 6e64 2069 7320 6e6f 7420   operand is not 
+0000c6f0: 604e 6f6e 6560 2c20 6f74 6865 7277 6973  `None`, otherwis
+0000c700: 6520 6974 7320 7269 6768 7420 6f70 6572  e its right oper
+0000c710: 616e 642e 2054 6865 2065 7870 7265 7373  and. The express
+0000c720: 696f 6e20 6066 6f6f 203f 3f20 6261 7260  ion `foo ?? bar`
+0000c730: 2065 7661 6c75 6174 6573 2074 6f20 6066   evaluates to `f
+0000c740: 6f6f 6020 6173 206c 6f6e 6720 6173 2069  oo` as long as i
+0000c750: 7420 6973 6e27 7420 604e 6f6e 6560 2c20  t isn't `None`, 
+0000c760: 616e 6420 746f 2060 6261 7260 2069 6620  and to `bar` if 
+0000c770: 6974 2069 732e 2054 6865 2060 4e6f 6e65  it is. The `None
+0000c780: 602d 636f 616c 6573 6369 6e67 206f 7065  `-coalescing ope
+0000c790: 7261 746f 7220 6973 2073 686f 7274 2d63  rator is short-c
+0000c7a0: 6972 6375 6974 696e 672c 2073 7563 6820  ircuiting, such 
+0000c7b0: 7468 6174 2069 6620 7468 6520 6c65 6674  that if the left
+0000c7c0: 206f 7065 7261 6e64 2069 7320 6e6f 7420   operand is not 
+0000c7d0: 604e 6f6e 6560 2c20 7468 6520 7269 6768  `None`, the righ
+0000c7e0: 7420 6f70 6572 616e 6420 776f 6e27 7420  t operand won't 
+0000c7f0: 6265 2065 7661 6c75 6174 6564 2e20 5468  be evaluated. Th
+0000c800: 6973 2061 6c6c 6f77 7320 7468 6520 7269  is allows the ri
+0000c810: 6768 7420 6f70 6572 616e 6420 746f 2062  ght operand to b
+0000c820: 6520 6120 706f 7465 6e74 6961 6c6c 7920  e a potentially 
+0000c830: 6578 7065 6e73 6976 6520 6f70 6572 6174  expensive operat
+0000c840: 696f 6e20 7769 7468 6f75 7420 696e 6375  ion without incu
+0000c850: 7272 696e 6720 616e 7920 756e 6e65 6365  rring any unnece
+0000c860: 7373 6172 7920 636f 7374 2e0d 0a0d 0a54  ssary cost.....T
+0000c870: 6865 2060 4e6f 6e65 602d 636f 616c 6573  he `None`-coales
+0000c880: 6369 6e67 206f 7065 7261 746f 7220 6861  cing operator ha
+0000c890: 7320 6120 7072 6563 6564 656e 6365 2069  s a precedence i
+0000c8a0: 6e2d 6265 7477 6565 6e20 696e 6669 7820  n-between infix 
+0000c8b0: 6675 6e63 7469 6f6e 2063 616c 6c73 2061  function calls a
+0000c8c0: 6e64 2063 6f6d 706f 7369 7469 6f6e 2070  nd composition p
+0000c8d0: 6970 6573 2c20 616e 6420 6973 206c 6566  ipes, and is lef
+0000c8e0: 742d 6173 736f 6369 6174 6976 652e 0d0a  t-associative...
+0000c8f0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0000c900: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0000c910: 0a60 6060 636f 636f 6e75 740d 0a63 6f75  .```coconut..cou
+0000c920: 6c64 5f62 655f 6e6f 6e65 2829 203f 3f20  ld_be_none() ?? 
+0000c930: 6361 6c63 756c 6174 655f 6465 6661 756c  calculate_defaul
+0000c940: 745f 7661 6c75 6528 290d 0a60 6060 0d0a  t_value()..```..
+0000c950: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
+0000c960: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0000c970: 0d0a 286c 616d 6264 6120 7265 7375 6c74  ..(lambda result
+0000c980: 3a20 7265 7375 6c74 2069 6620 7265 7375  : result if resu
+0000c990: 6c74 2069 7320 6e6f 7420 4e6f 6e65 2065  lt is not None e
+0000c9a0: 6c73 6520 6361 6c63 756c 6174 655f 6465  lse calculate_de
+0000c9b0: 6661 756c 745f 7661 6c75 6528 2929 2863  fault_value())(c
+0000c9c0: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290d  ould_be_none()).
+0000c9d0: 0a60 6060 0d0a 0d0a 2323 2323 2043 6f61  .```....#### Coa
+0000c9e0: 6c65 7363 696e 6720 4173 7369 676e 6d65  lescing Assignme
+0000c9f0: 6e74 204f 7065 7261 746f 720d 0a0d 0a54  nt Operator....T
+0000ca00: 6865 2069 6e2d 706c 6163 6520 6173 7369  he in-place assi
+0000ca10: 676e 6d65 6e74 206f 7065 7261 746f 7220  gnment operator 
+0000ca20: 6973 2060 3f3f 3d60 2c20 7768 6963 6820  is `??=`, which 
+0000ca30: 616c 6c6f 7773 2063 6f6e 6469 7469 6f6e  allows condition
+0000ca40: 616c 6c79 2073 6574 7469 6e67 2061 2076  ally setting a v
+0000ca50: 6172 6961 626c 6520 6966 2069 7420 6973  ariable if it is
+0000ca60: 2063 7572 7265 6e74 6c79 2060 4e6f 6e65   currently `None
+0000ca70: 602e 0d0a 0d0a 6060 6063 6f63 6f6e 7574  `.....```coconut
+0000ca80: 0d0a 666f 6f20 3d20 310d 0a62 6172 203d  ..foo = 1..bar =
+0000ca90: 204e 6f6e 650d 0a66 6f6f 203f 3f3d 2031   None..foo ??= 1
+0000caa0: 3020 2023 2066 6f6f 2069 7320 7374 696c  0  # foo is stil
+0000cab0: 6c20 310d 0a62 6172 203f 3f3d 2031 3020  l 1..bar ??= 10 
+0000cac0: 2023 2062 6172 2069 7320 6e6f 7720 3130   # bar is now 10
+0000cad0: 0d0a 6060 600d 0a0d 0a41 7320 6465 7363  ..```....As desc
+0000cae0: 7269 6265 6420 7769 7468 2074 6865 2073  ribed with the s
+0000caf0: 7461 6e64 6172 6420 603f 3f60 206f 7065  tandard `??` ope
+0000cb00: 7261 746f 722c 2074 6865 2060 4e6f 6e65  rator, the `None
+0000cb10: 602d 636f 616c 6573 6369 6e67 2061 7373  `-coalescing ass
+0000cb20: 6967 6e6d 656e 7420 6f70 6572 6174 6f72  ignment operator
+0000cb30: 2077 696c 6c20 6e6f 7420 6576 616c 7561   will not evalua
+0000cb40: 7465 2074 6865 2072 6967 6874 2068 616e  te the right han
+0000cb50: 6420 7369 6465 2075 6e6c 6573 7320 7468  d side unless th
+0000cb60: 6520 6c65 6674 2068 616e 6420 7369 6465  e left hand side
+0000cb70: 2069 7320 604e 6f6e 6560 2e0d 0a0d 0a60   is `None`.....`
+0000cb80: 6060 636f 636f 6e75 740d 0a62 617a 203d  ``coconut..baz =
+0000cb90: 2030 0d0a 6261 7a20 3f3f 3d20 6578 7065   0..baz ??= expe
+0000cba0: 6e73 6976 655f 7461 736b 2829 2020 2320  nsive_task()  # 
+0000cbb0: 7269 6768 7420 6861 6e64 2073 6964 6520  right hand side 
+0000cbc0: 6973 6e27 7420 6576 616c 7561 7465 640d  isn't evaluated.
+0000cbd0: 0a60 6060 0d0a 0d0a 2323 2323 204f 7468  .```....#### Oth
+0000cbe0: 6572 204e 6f6e 652d 4177 6172 6520 4f70  er None-Aware Op
+0000cbf0: 6572 6174 6f72 730d 0a0d 0a43 6f63 6f6e  erators....Cocon
+0000cc00: 7574 2061 6c73 6f20 616c 6c6f 7773 2061  ut also allows a
+0000cc10: 2073 696e 676c 6520 603f 6020 6265 666f   single `?` befo
+0000cc20: 7265 2061 7474 7269 6275 7465 2061 6363  re attribute acc
+0000cc30: 6573 732c 2066 756e 6374 696f 6e20 6361  ess, function ca
+0000cc40: 6c6c 696e 672c 2070 6172 7469 616c 2061  lling, partial a
+0000cc50: 7070 6c69 6361 7469 6f6e 2c20 616e 6420  pplication, and 
+0000cc60: 2869 7465 7261 746f 7229 2069 6e64 6578  (iterator) index
+0000cc70: 696e 6720 746f 2073 686f 7274 2d63 6972  ing to short-cir
+0000cc80: 6375 6974 2074 6865 2072 6573 7420 6f66  cuit the rest of
+0000cc90: 2074 6865 2065 7661 6c75 6174 696f 6e20   the evaluation 
+0000cca0: 6966 2065 7665 7279 7468 696e 6720 736f  if everything so
+0000ccb0: 2066 6172 2065 7661 6c75 6174 6573 2074   far evaluates t
+0000ccc0: 6f20 604e 6f6e 6560 2e20 5468 6973 2069  o `None`. This i
+0000ccd0: 7320 736f 6d65 7469 6d65 7320 6b6e 6f77  s sometimes know
+0000cce0: 6e20 6173 2061 2022 7361 6665 206e 6176  n as a "safe nav
+0000ccf0: 6967 6174 696f 6e22 206f 7065 7261 746f  igation" operato
+0000cd00: 722e 0d0a 0d0a 5768 656e 2075 7369 6e67  r.....When using
+0000cd10: 2061 2060 4e6f 6e65 602d 6177 6172 6520   a `None`-aware 
+0000cd20: 6f70 6572 6174 6f72 2066 6f72 206d 656d  operator for mem
+0000cd30: 6265 7220 6163 6365 7373 2c20 6569 7468  ber access, eith
+0000cd40: 6572 2066 6f72 2061 206d 6574 686f 6420  er for a method 
+0000cd50: 6f72 2061 6e20 6174 7472 6962 7574 652c  or an attribute,
+0000cd60: 2074 6865 2073 796e 7461 7820 6973 2060   the syntax is `
+0000cd70: 6f62 6a3f 2e6d 6574 686f 6428 2960 206f  obj?.method()` o
+0000cd80: 7220 606f 626a 3f2e 6174 7472 6020 7265  r `obj?.attr` re
+0000cd90: 7370 6563 7469 7665 6c79 2e20 606f 626a  spectively. `obj
+0000cda0: 3f2e 6174 7472 6020 6973 2065 7175 6976  ?.attr` is equiv
+0000cdb0: 616c 656e 7420 746f 2060 6f62 6a2e 6174  alent to `obj.at
+0000cdc0: 7472 2069 6620 6f62 6a20 6973 206e 6f74  tr if obj is not
+0000cdd0: 204e 6f6e 6520 656c 7365 206f 626a 602e   None else obj`.
+0000cde0: 2054 6869 7320 646f 6573 206e 6f74 2070   This does not p
+0000cdf0: 7265 7665 6e74 2061 6e20 6041 7474 7269  revent an `Attri
+0000ce00: 6275 7465 4572 726f 7260 2069 6620 6061  buteError` if `a
+0000ce10: 7474 7260 2069 7320 6e6f 7420 616e 2061  ttr` is not an a
+0000ce20: 7474 7269 6275 7465 206f 7220 6d65 7468  ttribute or meth
+0000ce30: 6f64 206f 6620 606f 626a 602e 0d0a 0d0a  od of `obj`.....
+0000ce40: 5468 6520 604e 6f6e 6560 2d61 7761 7265  The `None`-aware
+0000ce50: 2069 6e64 6578 696e 6720 6f70 6572 6174   indexing operat
+0000ce60: 6f72 2069 7320 7573 6564 2069 6465 6e74  or is used ident
+0000ce70: 6963 616c 6c79 2074 6f20 6e6f 726d 616c  ically to normal
+0000ce80: 2069 6e64 6578 696e 672c 2075 7369 6e67   indexing, using
+0000ce90: 2060 3f5b 5d60 2069 6e73 7465 6164 206f   `?[]` instead o
+0000cea0: 6620 605b 5d60 2e20 6073 6571 3f5b 696e  f `[]`. `seq?[in
+0000ceb0: 6465 785d 6020 6973 2065 7175 6976 616c  dex]` is equival
+0000cec0: 656e 7420 746f 2074 6865 2065 7870 7265  ent to the expre
+0000ced0: 7373 696f 6e20 6073 6571 5b69 6e64 6578  ssion `seq[index
+0000cee0: 5d20 6973 2073 6571 2069 7320 6e6f 7420  ] is seq is not 
+0000cef0: 4e6f 6e65 2065 6c73 6520 7365 7160 2e20  None else seq`. 
+0000cf00: 5573 696e 6720 7468 6973 206f 7065 7261  Using this opera
+0000cf10: 746f 7220 7769 6c6c 206e 6f74 2070 7265  tor will not pre
+0000cf20: 7665 6e74 2061 6e20 6049 6e64 6578 4572  vent an `IndexEr
+0000cf30: 726f 7260 2069 6620 6069 6e64 6578 6020  ror` if `index` 
+0000cf40: 6973 206f 7574 7369 6465 2074 6865 2062  is outside the b
+0000cf50: 6f75 6e64 7320 6f66 2060 7365 7160 2e0d  ounds of `seq`..
+0000cf60: 0a0d 0a43 6f63 6f6e 7574 2061 6c73 6f20  ...Coconut also 
+0000cf70: 7375 7070 6f72 7473 204e 6f6e 652d 6177  supports None-aw
+0000cf80: 6172 6520 5b70 6970 6520 6f70 6572 6174  are [pipe operat
+0000cf90: 6f72 735d 2823 7069 7065 7329 2061 6e64  ors](#pipes) and
+0000cfa0: 205b 6675 6e63 7469 6f6e 2063 6f6d 706f   [function compo
+0000cfb0: 7369 7469 6f6e 2070 6970 6573 5d28 2366  sition pipes](#f
+0000cfc0: 756e 6374 696f 6e2d 636f 6d70 6f73 6974  unction-composit
+0000cfd0: 696f 6e29 2e0d 0a0d 0a23 2323 2323 2045  ion).....##### E
+0000cfe0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+0000cff0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+0000d000: 7574 0d0a 636f 756c 645f 6265 5f6e 6f6e  ut..could_be_non
+0000d010: 653f 2e61 7474 7220 2020 2020 2320 6174  e?.attr     # at
+0000d020: 7472 6962 7574 6520 6163 6365 7373 0d0a  tribute access..
+0000d030: 636f 756c 645f 6265 5f6e 6f6e 653f 2861  could_be_none?(a
+0000d040: 7267 2920 2020 2020 2320 6675 6e63 7469  rg)     # functi
+0000d050: 6f6e 2063 616c 6c69 6e67 0d0a 636f 756c  on calling..coul
+0000d060: 645f 6265 5f6e 6f6e 653f 2e6d 6574 686f  d_be_none?.metho
+0000d070: 6428 2920 2320 6d65 7468 6f64 2063 616c  d() # method cal
+0000d080: 6c69 6e67 0d0a 636f 756c 645f 6265 5f6e  ling..could_be_n
+0000d090: 6f6e 653f 2428 6172 6729 2020 2020 2320  one?$(arg)    # 
+0000d0a0: 7061 7274 6961 6c20 6170 706c 6963 6174  partial applicat
+0000d0b0: 696f 6e0d 0a63 6f75 6c64 5f62 655f 6e6f  ion..could_be_no
+0000d0c0: 6e65 2829 3f5b 305d 2020 2020 2023 2069  ne()?[0]     # i
+0000d0d0: 6e64 6578 696e 670d 0a63 6f75 6c64 5f62  ndexing..could_b
+0000d0e0: 655f 6e6f 6e65 2829 3f2e 6174 7472 5b69  e_none()?.attr[i
+0000d0f0: 6e64 6578 5d2e 6d65 7468 6f64 2829 0d0a  ndex].method()..
+0000d100: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+0000d110: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+0000d120: 7974 686f 6e0d 0a69 6d70 6f72 7420 6675  ython..import fu
+0000d130: 6e63 746f 6f6c 730d 0a28 6c61 6d62 6461  nctools..(lambda
+0000d140: 2072 6573 756c 743a 204e 6f6e 6520 6966   result: None if
+0000d150: 2072 6573 756c 7420 6973 204e 6f6e 6520   result is None 
+0000d160: 656c 7365 2072 6573 756c 742e 6174 7472  else result.attr
+0000d170: 2928 636f 756c 645f 6265 5f6e 6f6e 6528  )(could_be_none(
+0000d180: 2929 0d0a 286c 616d 6264 6120 7265 7375  ))..(lambda resu
+0000d190: 6c74 3a20 4e6f 6e65 2069 6620 7265 7375  lt: None if resu
+0000d1a0: 6c74 2069 7320 4e6f 6e65 2065 6c73 6520  lt is None else 
+0000d1b0: 7265 7375 6c74 2861 7267 2929 2863 6f75  result(arg))(cou
+0000d1c0: 6c64 5f62 655f 6e6f 6e65 2829 290d 0a28  ld_be_none())..(
+0000d1d0: 6c61 6d62 6461 2072 6573 756c 743a 204e  lambda result: N
+0000d1e0: 6f6e 6520 6966 2072 6573 756c 7420 6973  one if result is
+0000d1f0: 204e 6f6e 6520 656c 7365 2072 6573 756c   None else resul
+0000d200: 742e 6d65 7468 6f64 2829 2928 636f 756c  t.method())(coul
+0000d210: 645f 6265 5f6e 6f6e 6528 2929 0d0a 286c  d_be_none())..(l
+0000d220: 616d 6264 6120 7265 7375 6c74 3a20 4e6f  ambda result: No
+0000d230: 6e65 2069 6620 7265 7375 6c74 2069 7320  ne if result is 
+0000d240: 4e6f 6e65 2065 6c73 6520 6675 6e63 746f  None else functo
+0000d250: 6f6c 732e 7061 7274 6961 6c28 7265 7375  ols.partial(resu
+0000d260: 6c74 2c20 6172 6729 2928 636f 756c 645f  lt, arg))(could_
+0000d270: 6265 5f6e 6f6e 6528 2929 0d0a 286c 616d  be_none())..(lam
+0000d280: 6264 6120 7265 7375 6c74 3a20 4e6f 6e65  bda result: None
+0000d290: 2069 6620 7265 7375 6c74 2069 7320 4e6f   if result is No
+0000d2a0: 6e65 2065 6c73 6520 7265 7375 6c74 5b30  ne else result[0
+0000d2b0: 5d29 2863 6f75 6c64 5f62 655f 6e6f 6e65  ])(could_be_none
+0000d2c0: 2829 290d 0a28 6c61 6d62 6461 2072 6573  ())..(lambda res
+0000d2d0: 756c 743a 204e 6f6e 6520 6966 2072 6573  ult: None if res
+0000d2e0: 756c 7420 6973 204e 6f6e 6520 656c 7365  ult is None else
+0000d2f0: 2072 6573 756c 742e 6174 7472 5b69 6e64   result.attr[ind
+0000d300: 6578 5d2e 6d65 7468 6f64 2829 2928 636f  ex].method())(co
+0000d310: 756c 645f 6265 5f6e 6f6e 6528 2929 0d0a  uld_be_none())..
+0000d320: 6060 600d 0a0d 0a23 2323 2050 726f 746f  ```....### Proto
+0000d330: 636f 6c20 496e 7465 7273 6563 7469 6f6e  col Intersection
+0000d340: 0d0a 0d0a 436f 636f 6e75 7420 7573 6573  ....Coconut uses
+0000d350: 2074 6865 2060 263a 6020 6f70 6572 6174   the `&:` operat
+0000d360: 6f72 2074 6f20 696e 6469 6361 7465 2070  or to indicate p
+0000d370: 726f 746f 636f 6c20 696e 7465 7273 6563  rotocol intersec
+0000d380: 7469 6f6e 2e20 5468 6174 2069 732c 2066  tion. That is, f
+0000d390: 6f72 2074 776f 205b 6074 7970 696e 672e  or two [`typing.
+0000d3a0: 5072 6f74 6f63 6f6c 6073 5d28 6874 7470  Protocol`s](http
+0000d3b0: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
+0000d3c0: 6f72 672f 332f 6c69 6272 6172 792f 7479  org/3/library/ty
+0000d3d0: 7069 6e67 2e68 746d 6c23 7479 7069 6e67  ping.html#typing
+0000d3e0: 2e50 726f 746f 636f 6c29 2060 5072 6f74  .Protocol) `Prot
+0000d3f0: 6f63 6f6c 3160 2061 6e64 2060 5072 6f74  ocol1` and `Prot
+0000d400: 6f63 6f6c 3160 2c20 6050 726f 746f 636f  ocol1`, `Protoco
+0000d410: 6c31 2026 3a20 5072 6f74 6f63 6f6c 3260  l1 &: Protocol2`
+0000d420: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+0000d430: 6f20 6120 6050 726f 746f 636f 6c60 2074  o a `Protocol` t
+0000d440: 6861 7420 636f 6d62 696e 6573 2074 6865  hat combines the
+0000d450: 2072 6571 7569 7265 6d65 6e74 7320 6f66   requirements of
+0000d460: 2062 6f74 6820 6050 726f 746f 636f 6c31   both `Protocol1
+0000d470: 6020 616e 6420 6050 726f 746f 636f 6c32  ` and `Protocol2
+0000d480: 602e 0d0a 0d0a 5468 6520 7265 636f 6d6d  `.....The recomm
+0000d490: 656e 6465 6420 7761 7920 746f 2075 7365  ended way to use
+0000d4a0: 2043 6f63 6f6e 7574 2773 2070 726f 746f   Coconut's proto
+0000d4b0: 636f 6c20 696e 7465 7273 6563 7469 6f6e  col intersection
+0000d4c0: 206f 7065 7261 746f 7220 6973 2069 6e20   operator is in 
+0000d4d0: 636f 6d62 696e 6174 696f 6e20 7769 7468  combination with
+0000d4e0: 2043 6f63 6f6e 7574 2773 205b 6f70 6572   Coconut's [oper
+0000d4f0: 6174 6f72 2060 5072 6f74 6f63 6f6c 6073  ator `Protocol`s
+0000d500: 5d28 2373 7570 706f 7274 6564 2d70 726f  ](#supported-pro
+0000d510: 746f 636f 6c73 292e 204e 6f74 652c 2068  tocols). Note, h
+0000d520: 6f77 6576 6572 2c20 7468 6174 2077 6869  owever, that whi
+0000d530: 6c65 2060 263a 6020 7769 6c6c 2077 6f72  le `&:` will wor
+0000d540: 6b20 616e 7977 6865 7265 2c20 6f70 6572  k anywhere, oper
+0000d550: 6174 6f72 2060 5072 6f74 6f63 6f6c 6073  ator `Protocol`s
+0000d560: 2077 696c 6c20 6f6e 6c79 2077 6f72 6b20   will only work 
+0000d570: 696e 7369 6465 2074 7970 6520 616e 6e6f  inside type anno
+0000d580: 7461 7469 6f6e 7320 2877 6869 6368 206d  tations (which m
+0000d590: 6561 6e73 2c20 666f 7220 6578 616d 706c  eans, for exampl
+0000d5a0: 652c 2079 6f75 276c 6c20 6e65 6564 2074  e, you'll need t
+0000d5b0: 6f20 646f 2060 7479 7065 2048 6173 4164  o do `type HasAd
+0000d5c0: 6420 3d20 282b 2960 2069 6e73 7465 6164  d = (+)` instead
+0000d5d0: 206f 6620 6a75 7374 2060 4861 7341 6464   of just `HasAdd
+0000d5e0: 203d 2028 2b29 6029 2e0d 0a0d 0a53 6565   = (+)`).....See
+0000d5f0: 2043 6f63 6f6e 7574 2773 205b 656e 6861   Coconut's [enha
+0000d600: 6e63 6564 2074 7970 6520 616e 6e6f 7461  nced type annota
+0000d610: 7469 6f6e 5d28 2365 6e68 616e 6365 642d  tion](#enhanced-
+0000d620: 7479 7065 2d61 6e6e 6f74 6174 696f 6e29  type-annotation)
+0000d630: 2066 6f72 206d 6f72 6520 696e 666f 726d   for more inform
+0000d640: 6174 696f 6e20 6f6e 2068 6f77 2043 6f63  ation on how Coc
+0000d650: 6f6e 7574 2068 616e 646c 6573 2074 7970  onut handles typ
+0000d660: 6520 616e 6e6f 7461 7469 6f6e 7320 6d6f  e annotations mo
+0000d670: 7265 2067 656e 6572 616c 6c79 2e0d 0a0d  re generally....
+0000d680: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0000d690: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0000d6a0: 6060 6063 6f63 6f6e 7574 0d0a 6672 6f6d  ```coconut..from
+0000d6b0: 2074 7970 696e 6720 696d 706f 7274 2050   typing import P
+0000d6c0: 726f 746f 636f 6c0d 0a0d 0a63 6c61 7373  rotocol....class
+0000d6d0: 2058 2850 726f 746f 636f 6c29 3a0d 0a20   X(Protocol):.. 
+0000d6e0: 2020 2078 3a20 7374 720d 0a0d 0a63 6c61     x: str....cla
+0000d6f0: 7373 2059 2850 726f 746f 636f 6c29 3a0d  ss Y(Protocol):.
+0000d700: 0a20 2020 2079 3a20 7374 720d 0a0d 0a64  .    y: str....d
+0000d710: 6566 2066 6f6f 2878 793a 2058 2026 3a20  ef foo(xy: X &: 
+0000d720: 5929 202d 3e20 4e6f 6e65 3a0d 0a20 2020  Y) -> None:..   
+0000d730: 2070 7269 6e74 2878 792e 782c 2078 792e   print(xy.x, xy.
+0000d740: 7929 0d0a 0d0a 7479 7065 2043 616e 4164  y)....type CanAd
+0000d750: 6441 6e64 5375 6220 3d20 282b 2920 263a  dAndSub = (+) &:
+0000d760: 2028 2d29 0d0a 6060 600d 0a0d 0a2a 2a50   (-)..```....**P
+0000d770: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+0000d780: 6f6e 7574 5f70 7974 686f 6e0d 0a66 726f  onut_python..fro
+0000d790: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
+0000d7a0: 5072 6f74 6f63 6f6c 2c20 5479 7065 5661  Protocol, TypeVa
+0000d7b0: 722c 2047 656e 6572 6963 0d0a 0d0a 636c  r, Generic....cl
+0000d7c0: 6173 7320 5828 5072 6f74 6f63 6f6c 293a  ass X(Protocol):
+0000d7d0: 0d0a 2020 2020 783a 2073 7472 0d0a 0d0a  ..    x: str....
+0000d7e0: 636c 6173 7320 5928 5072 6f74 6f63 6f6c  class Y(Protocol
+0000d7f0: 293a 0d0a 2020 2020 793a 2073 7472 0d0a  ):..    y: str..
+0000d800: 0d0a 636c 6173 7320 5859 2858 2c20 592c  ..class XY(X, Y,
+0000d810: 2050 726f 746f 636f 6c29 3a0d 0a20 2020   Protocol):..   
+0000d820: 2070 6173 730d 0a0d 0a64 6566 2066 6f6f   pass....def foo
+0000d830: 2878 793a 2058 5929 202d 3e20 4e6f 6e65  (xy: XY) -> None
+0000d840: 3a0d 0a20 2020 2070 7269 6e74 2878 792e  :..    print(xy.
+0000d850: 782c 2078 792e 7929 0d0a 0d0a 5420 3d20  x, xy.y)....T = 
+0000d860: 5479 7065 5661 7228 2254 222c 2069 6e66  TypeVar("T", inf
+0000d870: 6572 5f76 6172 6961 6e63 653d 5472 7565  er_variance=True
+0000d880: 290d 0a55 203d 2054 7970 6556 6172 2822  )..U = TypeVar("
+0000d890: 5522 2c20 696e 6665 725f 7661 7269 616e  U", infer_varian
+0000d8a0: 6365 3d54 7275 6529 0d0a 5620 3d20 5479  ce=True)..V = Ty
+0000d8b0: 7065 5661 7228 2256 222c 2069 6e66 6572  peVar("V", infer
+0000d8c0: 5f76 6172 6961 6e63 653d 5472 7565 290d  _variance=True).
+0000d8d0: 0a0d 0a63 6c61 7373 2043 616e 4164 6441  ...class CanAddA
+0000d8e0: 6e64 5375 6228 5072 6f74 6f63 6f6c 2c20  ndSub(Protocol, 
+0000d8f0: 4765 6e65 7269 635b 542c 2055 2c20 565d  Generic[T, U, V]
+0000d900: 293a 0d0a 2020 2020 6465 6620 5f5f 6164  ):..    def __ad
+0000d910: 645f 5f28 7365 6c66 3a20 542c 206f 7468  d__(self: T, oth
+0000d920: 6572 3a20 5529 202d 3e20 563a 0d0a 2020  er: U) -> V:..  
+0000d930: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
+0000d940: 6d70 6c65 6d65 6e74 6564 4572 726f 720d  mplementedError.
+0000d950: 0a20 2020 2064 6566 205f 5f73 7562 5f5f  .    def __sub__
+0000d960: 2873 656c 663a 2054 2c20 6f74 6865 723a  (self: T, other:
+0000d970: 2055 2920 2d3e 2056 3a0d 0a20 2020 2020   U) -> V:..     
+0000d980: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
+0000d990: 656d 656e 7465 6445 7272 6f72 0d0a 2020  ementedError..  
+0000d9a0: 2020 6465 6620 5f5f 6e65 675f 5f28 7365    def __neg__(se
+0000d9b0: 6c66 3a20 5429 202d 3e20 563a 0d0a 2020  lf: T) -> V:..  
+0000d9c0: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
+0000d9d0: 6d70 6c65 6d65 6e74 6564 4572 726f 720d  mplementedError.
+0000d9e0: 0a60 6060 0d0a 0d0a 2323 2320 556e 6963  .```....### Unic
+0000d9f0: 6f64 6520 416c 7465 726e 6174 6976 6573  ode Alternatives
+0000da00: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
+0000da10: 6f72 7473 2055 6e69 636f 6465 2061 6c74  orts Unicode alt
+0000da20: 6572 6e61 7469 7665 7320 746f 206d 616e  ernatives to man
+0000da30: 7920 6469 6666 6572 656e 7420 6f70 6572  y different oper
+0000da40: 6174 6f72 2073 796d 626f 6c73 2e20 5468  ator symbols. Th
+0000da50: 6520 556e 6963 6f64 6520 616c 7465 726e  e Unicode altern
+0000da60: 6174 6976 6573 2061 7265 2072 656c 6174  atives are relat
+0000da70: 6976 656c 7920 7374 7261 6967 6874 666f  ively straightfo
+0000da80: 7277 6172 642c 2061 6e64 2063 686f 7365  rward, and chose
+0000da90: 6e20 746f 2072 6566 6c65 6374 2074 6865  n to reflect the
+0000daa0: 206c 6f6f 6b20 616e 642f 6f72 206d 6561   look and/or mea
+0000dab0: 6e69 6e67 206f 6620 7468 6520 6f72 6967  ning of the orig
+0000dac0: 696e 616c 2073 796d 626f 6c2e 0d0a 0d0a  inal symbol.....
+0000dad0: 2323 2323 2320 4675 6c6c 204c 6973 740d  ##### Full List.
+0000dae0: 0a0d 0a60 6060 0d0a e286 9220 285c 7532  ...```..... (\u2
+0000daf0: 3139 3229 2020 2020 2020 2020 2020 2020  192)            
+0000db00: 2020 2020 2020 3d3e 2022 2d3e 220d 0ac3        => "->"...
+0000db10: 9720 285c 7864 3729 2020 2020 2020 2020  . (\xd7)        
+0000db20: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000db30: 2a22 2028 6f6e 6c79 206d 756c 7469 706c  *" (only multipl
+0000db40: 6963 6174 696f 6e29 0d0a e286 9120 285c  ication)..... (\
+0000db50: 7532 3139 3129 2020 2020 2020 2020 2020  u2191)          
+0000db60: 2020 2020 2020 2020 3d3e 2022 2a2a 2220          => "**" 
+0000db70: 286f 6e6c 7920 6578 706f 6e65 6e74 6961  (only exponentia
+0000db80: 7469 6f6e 290d 0ac3 b720 285c 7866 3729  tion).... (\xf7)
+0000db90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dba0: 2020 2020 3d3e 2022 2f22 2028 6f6e 6c79      => "/" (only
+0000dbb0: 2064 6976 6973 696f 6e29 0d0a c3b7 2f20   division)..../ 
+0000dbc0: 285c 7866 372f 2920 2020 2020 2020 2020  (\xf7/)         
+0000dbd0: 2020 2020 2020 2020 203d 3e20 222f 2f22           => "//"
+0000dbe0: 0d0a e281 bb20 285c 7532 3037 6229 2020  ..... (\u207b)  
+0000dbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dc00: 3d3e 2022 2d22 2028 6f6e 6c79 206e 6567  => "-" (only neg
+0000dc10: 6174 696f 6e29 0d0a e289 a020 285c 7532  ation)..... (\u2
+0000dc20: 3236 3029 206f 7220 c2ac 3d20 285c 7861  260) or ..= (\xa
+0000dc30: 633d 2920 2020 203d 3e20 2221 3d22 0d0a  c=)    => "!="..
+0000dc40: e289 a420 285c 7532 3236 3429 206f 7220  ... (\u2264) or 
+0000dc50: e28a 8620 285c 7532 3238 3629 2020 2020  ... (\u2286)    
+0000dc60: 3d3e 2022 3c3d 220d 0ae2 89a5 2028 5c75  => "<="..... (\u
+0000dc70: 3232 3635 2920 6f72 20e2 8a87 2028 5c75  2265) or ... (\u
+0000dc80: 3232 3837 2920 2020 203d 3e20 223e 3d22  2287)    => ">="
+0000dc90: 0d0a e28a 8a20 285c 7532 3238 6129 2020  ..... (\u228a)  
+0000dca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dcb0: 3d3e 2022 3c22 0d0a e28a 8b20 285c 7532  => "<"..... (\u2
+0000dcc0: 3238 6229 2020 2020 2020 2020 2020 2020  28b)            
+0000dcd0: 2020 2020 2020 3d3e 2022 3e22 0d0a e288        => ">"....
+0000dce0: a720 285c 7532 3232 3729 206f 7220 e288  . (\u2227) or ..
+0000dcf0: a920 285c 7532 3232 3929 2020 2020 3d3e  . (\u2229)    =>
+0000dd00: 2022 2622 0d0a e288 a820 285c 7532 3232   "&"..... (\u222
+0000dd10: 3829 206f 7220 e288 aa20 285c 7532 3232  8) or ... (\u222
+0000dd20: 6129 2020 2020 3d3e 2022 7c22 0d0a e28a  a)    => "|"....
+0000dd30: bb20 285c 7532 3262 6229 2020 2020 2020  . (\u22bb)      
+0000dd40: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000dd50: 5e22 0d0a c2ab 2028 5c78 6162 2920 2020  ^".... (\xab)   
+0000dd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dd70: 203d 3e20 223c 3c22 0d0a c2bb 2028 5c78   => "<<".... (\x
+0000dd80: 6262 2920 2020 2020 2020 2020 2020 2020  bb)             
+0000dd90: 2020 2020 2020 203d 3e20 223e 3e22 0d0a         => ">>"..
+0000dda0: e280 a620 285c 7532 3032 3629 2020 2020  ... (\u2026)    
+0000ddb0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000ddc0: 2022 2e2e 2e22 0d0a cebb 2028 5c75 3033   "...".... (\u03
+0000ddd0: 6262 2920 2020 2020 2020 2020 2020 2020  bb)             
+0000dde0: 2020 2020 203d 3e20 226c 616d 6264 6122       => "lambda"
+0000ddf0: 0d0a e286 a620 285c 7532 3161 3629 2020  ..... (\u21a6)  
+0000de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000de10: 3d3e 2022 7c3e 220d 0ae2 86a4 2028 5c75  => "|>"..... (\u
+0000de20: 3231 6134 2920 2020 2020 2020 2020 2020  21a4)           
+0000de30: 2020 2020 2020 203d 3e20 223c 7c22 0d0a         => "<|"..
+0000de40: 2ae2 86a6 2028 2a5c 7532 3161 3629 2020  *... (*\u21a6)  
+0000de50: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000de60: 2022 7c2a 3e22 0d0a e286 a42a 2028 5c75   "|*>".....* (\u
+0000de70: 3231 6134 2a29 2020 2020 2020 2020 2020  21a4*)          
+0000de80: 2020 2020 2020 3d3e 2022 3c2a 7c22 0d0a        => "<*|"..
+0000de90: 2a2a e286 a620 282a 2a5c 7532 3161 3629  **... (**\u21a6)
+0000dea0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000deb0: 2022 7c2a 2a3e 220d 0ae2 86a4 2a2a 2028   "|**>".....** (
+0000dec0: 5c75 3231 6134 2a2a 2920 2020 2020 2020  \u21a4**)       
+0000ded0: 2020 2020 2020 203d 3e20 223c 2a2a 7c22         => "<**|"
+0000dee0: 0d0a 3fe2 86a6 2028 3f5c 7532 3161 3629  ..?... (?\u21a6)
+0000def0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df00: 3d3e 2022 7c3f 3e22 0d0a e286 a43f 2028  => "|?>".....? (
+0000df10: 3f5c 7532 3161 3429 2020 2020 2020 2020  ?\u21a4)        
+0000df20: 2020 2020 2020 2020 3d3e 2022 3c3f 7c22          => "<?|"
+0000df30: 0d0a 3f2a e286 a620 283f 2a5c 7532 3161  ..?*... (?*\u21a
+0000df40: 3629 2020 2020 2020 2020 2020 2020 2020  6)              
+0000df50: 3d3e 2022 7c3f 2a3e 220d 0ae2 86a4 2a3f  => "|?*>".....*?
+0000df60: 2028 5c75 3231 6134 2a3f 2920 2020 2020   (\u21a4*?)     
+0000df70: 2020 2020 2020 2020 203d 3e20 223c 2a3f           => "<*?
+0000df80: 7c22 0d0a 3f2a 2ae2 86a6 2028 3f2a 2a5c  |"..?**... (?**\
+0000df90: 7532 3161 3629 2020 2020 2020 2020 2020  u21a6)          
+0000dfa0: 2020 3d3e 2022 7c3f 2a2a 3e22 0d0a e286    => "|?**>"....
+0000dfb0: a42a 2a3f 2028 5c75 3231 6134 2a2a 3f29  .**? (\u21a4**?)
+0000dfc0: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000dfd0: 3c2a 2a3f 7c22 0d0a e288 9820 285c 7532  <**?|"..... (\u2
+0000dfe0: 3231 3829 2020 2020 2020 2020 2020 2020  218)            
+0000dff0: 2020 2020 2020 3d3e 2022 2e2e 220d 0ae2        => ".."...
+0000e000: 8898 3e20 285c 7532 3231 383e 2920 2020  ..> (\u2218>)   
+0000e010: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000e020: 222e 2e3e 220d 0a3c e288 9820 283c 5c75  "..>"..<... (<\u
+0000e030: 3232 3138 2920 2020 2020 2020 2020 2020  2218)           
+0000e040: 2020 2020 203d 3e20 223c 2e2e 220d 0ae2       => "<.."...
+0000e050: 8898 2a3e 2028 5c75 3232 3138 2a3e 2920  ..*> (\u2218*>) 
+0000e060: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000e070: 222e 2e2a 3e22 0d0a 3c2a e288 9820 283c  "..*>"..<*... (<
+0000e080: 2a5c 7532 3231 3829 2020 2020 2020 2020  *\u2218)        
+0000e090: 2020 2020 2020 3d3e 2022 3c2a 2e2e 220d        => "<*..".
+0000e0a0: 0ae2 8898 2a2a 3e20 285c 7532 3231 382a  ....**> (\u2218*
+0000e0b0: 2a3e 2920 2020 2020 2020 2020 2020 203d  *>)            =
+0000e0c0: 3e20 222e 2e2a 2a3e 220d 0a3c 2a2a e288  > "..**>"..<**..
+0000e0d0: 9820 283c 2a2a 5c75 3232 3138 2920 2020  . (<**\u2218)   
+0000e0e0: 2020 2020 2020 2020 203d 3e20 223c 2a2a           => "<**
+0000e0f0: 2e2e 220d 0ae2 8898 3f3e 2028 5c75 3232  ..".....?> (\u22
+0000e100: 3138 3f3e 2920 2020 2020 2020 2020 2020  18?>)           
+0000e110: 2020 203d 3e20 222e 2e3f 3e22 0d0a 3c3f     => "..?>"..<?
+0000e120: e288 9820 283c 3f5c 7532 3231 3829 2020  ... (<?\u2218)  
+0000e130: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000e140: 3c3f 2e2e 220d 0ae2 8898 3f2a 3e20 285c  <?..".....?*> (\
+0000e150: 7532 3231 383f 2a3e 2920 2020 2020 2020  u2218?*>)       
+0000e160: 2020 2020 203d 3e20 222e 2e3f 2a3e 220d       => "..?*>".
+0000e170: 0a3c 2a3f e288 9820 283c 2a3f 5c75 3232  .<*?... (<*?\u22
+0000e180: 3138 2920 2020 2020 2020 2020 2020 203d  18)            =
+0000e190: 3e20 223c 2a3f 2e2e 220d 0ae2 8898 3f2a  > "<*?..".....?*
+0000e1a0: 2a3e 2028 5c75 3232 3138 3f2a 2a3e 2920  *> (\u2218?**>) 
+0000e1b0: 2020 2020 2020 2020 203d 3e20 222e 2e3f           => "..?
+0000e1c0: 2a2a 3e22 0d0a 3c2a 2a3f e288 9820 283c  **>"..<**?... (<
+0000e1d0: 2a2a 3f5c 7532 3231 3829 2020 2020 2020  **?\u2218)      
+0000e1e0: 2020 2020 3d3e 2022 3c2a 2a3f 2e2e 220d      => "<**?..".
+0000e1f0: 0a60 6060 0d0a 0d0a 2323 204b 6579 776f  .```....## Keywo
+0000e200: 7264 730d 0a0d 0a60 6060 7b63 6f6e 7465  rds....```{conte
+0000e210: 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63 616c  nts}..---..local
+0000e220: 3a0d 0a64 6570 7468 3a20 310d 0a2d 2d2d  :..depth: 1..---
+0000e230: 0d0a 6060 600d 0a0d 0a23 2323 2060 6d61  ..```....### `ma
+0000e240: 7463 6860 0d0a 0d0a 436f 636f 6e75 7420  tch`....Coconut 
+0000e250: 7072 6f76 6964 6573 2066 756c 6c79 2d66  provides fully-f
+0000e260: 6561 7475 7265 642c 2066 756e 6374 696f  eatured, functio
+0000e270: 6e61 6c20 7061 7474 6572 6e2d 6d61 7463  nal pattern-matc
+0000e280: 6869 6e67 2074 6872 6f75 6768 2069 7473  hing through its
+0000e290: 2060 6d61 7463 6860 2073 7461 7465 6d65   `match` stateme
+0000e2a0: 6e74 732e 0d0a 0d0a 2323 2323 2320 4f76  nts.....##### Ov
+0000e2b0: 6572 7669 6577 0d0a 0d0a 4d61 7463 6820  erview....Match 
+0000e2c0: 7374 6174 656d 656e 7473 2066 6f6c 6c6f  statements follo
+0000e2d0: 7720 7468 6520 6261 7369 6320 7379 6e74  w the basic synt
+0000e2e0: 6178 2060 6d61 7463 6820 3c70 6174 7465  ax `match <patte
+0000e2f0: 726e 3e20 696e 203c 7661 6c75 653e 602e  rn> in <value>`.
+0000e300: 2054 6865 206d 6174 6368 2073 7461 7465   The match state
+0000e310: 6d65 6e74 2077 696c 6c20 6174 7465 6d70  ment will attemp
+0000e320: 7420 746f 206d 6174 6368 2074 6865 2076  t to match the v
+0000e330: 616c 7565 2061 6761 696e 7374 2074 6865  alue against the
+0000e340: 2070 6174 7465 726e 2c20 616e 6420 6966   pattern, and if
+0000e350: 2073 7563 6365 7373 6675 6c2c 2062 696e   successful, bin
+0000e360: 6420 616e 7920 7661 7269 6162 6c65 7320  d any variables 
+0000e370: 696e 2074 6865 2070 6174 7465 726e 2074  in the pattern t
+0000e380: 6f20 7768 6174 6576 6572 2069 7320 696e  o whatever is in
+0000e390: 2074 6865 2073 616d 6520 706f 7369 7469   the same positi
+0000e3a0: 6f6e 2069 6e20 7468 6520 7661 6c75 652c  on in the value,
+0000e3b0: 2061 6e64 2065 7865 6375 7465 2074 6865   and execute the
+0000e3c0: 2063 6f64 6520 6265 6c6f 7720 7468 6520   code below the 
+0000e3d0: 6d61 7463 6820 7374 6174 656d 656e 742e  match statement.
+0000e3e0: 204d 6174 6368 2073 7461 7465 6d65 6e74   Match statement
+0000e3f0: 7320 616c 736f 2073 7570 706f 7274 2c20  s also support, 
+0000e400: 696e 2074 6865 6972 2062 6173 6963 2073  in their basic s
+0000e410: 796e 7461 782c 2061 6e20 6069 6620 3c63  yntax, an `if <c
+0000e420: 6f6e 643e 6020 7468 6174 2077 696c 6c20  ond>` that will 
+0000e430: 6368 6563 6b20 7468 6520 636f 6e64 6974  check the condit
+0000e440: 696f 6e20 6166 7465 7220 6578 6563 7574  ion after execut
+0000e450: 696e 6720 7468 6520 6d61 7463 6820 6265  ing the match be
+0000e460: 666f 7265 2065 7865 6375 7469 6e67 2074  fore executing t
+0000e470: 6865 2063 6f64 6520 6265 6c6f 772c 2061  he code below, a
+0000e480: 6e64 2061 6e20 6065 6c73 6560 2073 7461  nd an `else` sta
+0000e490: 7465 6d65 6e74 2061 6674 6572 7761 7264  tement afterward
+0000e4a0: 7320 7468 6174 2077 696c 6c20 6f6e 6c79  s that will only
+0000e4b0: 2062 6520 6578 6563 7574 6564 2069 6620   be executed if 
+0000e4c0: 7468 6520 606d 6174 6368 6020 7374 6174  the `match` stat
+0000e4d0: 656d 656e 7420 6973 206e 6f74 2e20 5768  ement is not. Wh
+0000e4e0: 6174 2069 7320 616c 6c6f 7765 6420 696e  at is allowed in
+0000e4f0: 2074 6865 206d 6174 6368 2073 7461 7465   the match state
+0000e500: 6d65 6e74 2773 2070 6174 7465 726e 2068  ment's pattern h
+0000e510: 6173 206e 6f20 6571 7569 7661 6c65 6e74  as no equivalent
+0000e520: 2069 6e20 5079 7468 6f6e 2c20 616e 6420   in Python, and 
+0000e530: 7468 7573 2074 6865 2073 7065 6369 6669  thus the specifi
+0000e540: 6361 7469 6f6e 7320 6265 6c6f 7720 6172  cations below ar
+0000e550: 6520 7072 6f76 6964 6564 2074 6f20 6578  e provided to ex
+0000e560: 706c 6169 6e20 6974 2e0d 0a0d 0a23 2323  plain it.....###
+0000e570: 2323 2053 796e 7461 7820 5370 6563 6966  ## Syntax Specif
+0000e580: 6963 6174 696f 6e0d 0a0d 0a43 6f63 6f6e  ication....Cocon
+0000e590: 7574 206d 6174 6368 2073 7461 7465 6d65  ut match stateme
+0000e5a0: 6e74 2073 796e 7461 7820 6973 0d0a 6060  nt syntax is..``
+0000e5b0: 6063 6f63 6f6e 7574 0d0a 6d61 7463 6820  `coconut..match 
+0000e5c0: 3c70 6174 7465 726e 3e20 5b6e 6f74 5d20  <pattern> [not] 
+0000e5d0: 696e 203c 7661 6c75 653e 205b 6966 203c  in <value> [if <
+0000e5e0: 636f 6e64 3e5d 3a0d 0a20 2020 203c 626f  cond>]:..    <bo
+0000e5f0: 6479 3e0d 0a5b 656c 7365 3a0d 0a20 2020  dy>..[else:..   
+0000e600: 203c 626f 6479 3e5d 0d0a 6060 600d 0a77   <body>]..```..w
+0000e610: 6865 7265 2060 3c76 616c 7565 3e60 2069  here `<value>` i
+0000e620: 7320 7468 6520 6974 656d 2074 6f20 6d61  s the item to ma
+0000e630: 7463 6820 6167 6169 6e73 742c 2060 3c63  tch against, `<c
+0000e640: 6f6e 643e 6020 6973 2061 6e20 6f70 7469  ond>` is an opti
+0000e650: 6f6e 616c 2061 6464 6974 696f 6e61 6c20  onal additional 
+0000e660: 6368 6563 6b2c 2061 6e64 2060 3c62 6f64  check, and `<bod
+0000e670: 793e 6020 6973 2073 696d 706c 7920 636f  y>` is simply co
+0000e680: 6465 2074 6861 7420 6973 2065 7865 6375  de that is execu
+0000e690: 7465 6420 6966 2074 6865 2068 6561 6465  ted if the heade
+0000e6a0: 7220 6162 6f76 6520 6974 2073 7563 6365  r above it succe
+0000e6b0: 6564 732e 2060 3c70 6174 7465 726e 3e60  eds. `<pattern>`
+0000e6c0: 2066 6f6c 6c6f 7773 2069 7473 206f 776e   follows its own
+0000e6d0: 2c20 7370 6563 6961 6c20 7379 6e74 6178  , special syntax
+0000e6e0: 2c20 6465 6669 6e65 6420 726f 7567 686c  , defined roughl
+0000e6f0: 7920 6173 2062 656c 6f77 2e20 496e 2074  y as below. In t
+0000e700: 6865 2073 796e 7461 7820 7370 6563 6966  he syntax specif
+0000e710: 6963 6174 696f 6e20 6265 6c6f 772c 2062  ication below, b
+0000e720: 7261 636b 6574 7320 6465 6e6f 7465 206f  rackets denote o
+0000e730: 7074 696f 6e61 6c20 7379 6e74 6178 2061  ptional syntax a
+0000e740: 6e64 2070 6172 656e 7468 6573 6573 2066  nd parentheses f
+0000e750: 6f6c 6c6f 7765 6420 6279 2061 2060 2a60  ollowed by a `*`
+0000e760: 2064 656e 6f74 6520 7468 6174 2074 6865   denote that the
+0000e770: 2073 796e 7461 7820 6d61 7920 6170 7065   syntax may appe
+0000e780: 6172 207a 6572 6f20 6f72 206d 6f72 6520  ar zero or more 
+0000e790: 7469 6d65 732e 0d0a 0d0a 6060 6063 6f63  times.....```coc
+0000e7a0: 6f6e 7574 0d0a 7061 7474 6572 6e20 3a3a  onut..pattern ::
+0000e7b0: 3d20 616e 645f 7061 7474 6572 6e20 2822  = and_pattern ("
+0000e7c0: 6f72 2220 616e 645f 7061 7474 6572 6e29  or" and_pattern)
+0000e7d0: 2a20 2023 206d 6174 6368 2061 6e79 0d0a  *  # match any..
+0000e7e0: 0d0a 616e 645f 7061 7474 6572 6e20 3a3a  ..and_pattern ::
+0000e7f0: 3d20 6173 5f70 6174 7465 726e 2028 2261  = as_pattern ("a
+0000e800: 6e64 2220 6173 5f70 6174 7465 726e 292a  nd" as_pattern)*
+0000e810: 2020 2320 6d61 7463 6820 616c 6c0d 0a0d    # match all...
+0000e820: 0a61 735f 7061 7474 6572 6e20 3a3a 3d20  .as_pattern ::= 
+0000e830: 696e 6669 785f 7061 7474 6572 6e20 2822  infix_pattern ("
+0000e840: 6173 2220 6e61 6d65 292a 2020 2320 6578  as" name)*  # ex
+0000e850: 706c 6963 6974 2062 696e 6469 6e67 0d0a  plicit binding..
+0000e860: 0d0a 696e 6669 785f 7061 7474 6572 6e20  ..infix_pattern 
+0000e870: 3a3a 3d20 6261 725f 6f72 5f70 6174 7465  ::= bar_or_patte
+0000e880: 726e 2028 2260 2220 4558 5052 2022 6022  rn ("`" EXPR "`"
+0000e890: 205b 4558 5052 5d29 2a20 2023 2069 6e66   [EXPR])*  # inf
+0000e8a0: 6978 2063 6865 636b 0d0a 0d0a 6261 725f  ix check....bar_
+0000e8b0: 6f72 5f70 6174 7465 726e 203a 3a3d 2070  or_pattern ::= p
+0000e8c0: 6174 7465 726e 2028 227c 2220 7061 7474  attern ("|" patt
+0000e8d0: 6572 6e29 2a20 2023 206d 6174 6368 2061  ern)*  # match a
+0000e8e0: 6e79 0d0a 0d0a 6261 7365 5f70 6174 7465  ny....base_patte
+0000e8f0: 726e 203a 3a3d 2028 0d0a 2020 2020 2228  rn ::= (..    "(
+0000e900: 2220 7061 7474 6572 6e20 2229 2220 2020  " pattern ")"   
+0000e910: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000e920: 2070 6172 656e 7468 6573 6573 0d0a 2020   parentheses..  
+0000e930: 2020 7c20 224e 6f6e 6522 207c 2022 5472    | "None" | "Tr
+0000e940: 7565 2220 7c20 2246 616c 7365 2220 2020  ue" | "False"   
+0000e950: 2020 2023 2063 6f6e 7374 616e 7473 0d0a     # constants..
+0000e960: 2020 2020 7c20 4e55 4d42 4552 2020 2020      | NUMBER    
+0000e970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e980: 2020 2020 2023 206e 756d 6265 7273 0d0a       # numbers..
+0000e990: 2020 2020 7c20 5354 5249 4e47 2020 2020      | STRING    
+0000e9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9b0: 2020 2020 2023 2073 7472 696e 6773 0d0a       # strings..
+0000e9c0: 2020 2020 7c20 5b22 6173 225d 204e 414d      | ["as"] NAM
+0000e9d0: 4520 2020 2020 2020 2020 2020 2020 2020  E               
+0000e9e0: 2020 2020 2023 2076 6172 6961 626c 6520       # variable 
+0000e9f0: 6269 6e64 696e 670d 0a20 2020 207c 2022  binding..    | "
+0000ea00: 3d3d 2220 4558 5052 2020 2020 2020 2020  ==" EXPR        
+0000ea10: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000ea20: 6571 7561 6c69 7479 2063 6865 636b 0d0a  equality check..
+0000ea30: 2020 2020 7c20 2269 7322 2045 5850 5220      | "is" EXPR 
+0000ea40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea50: 2020 2020 2023 2069 6465 6e74 6974 7920       # identity 
+0000ea60: 6368 6563 6b0d 0a20 2020 207c 2044 4f54  check..    | DOT
+0000ea70: 5445 445f 4e41 4d45 2020 2020 2020 2020  TED_NAME        
+0000ea80: 2020 2020 2020 2020 2020 2020 2320 696d              # im
+0000ea90: 706c 6963 6974 2065 7175 616c 6974 7920  plicit equality 
+0000eaa0: 6368 6563 6b20 2864 6973 6162 6c65 6420  check (disabled 
+0000eab0: 696e 2064 6573 7472 7563 7475 7269 6e67  in destructuring
+0000eac0: 2061 7373 6967 6e6d 656e 7429 0d0a 2020   assignment)..  
+0000ead0: 2020 7c20 4e41 4d45 2022 2822 2070 6174    | NAME "(" pat
+0000eae0: 7465 726e 7320 2229 2220 2020 2020 2020  terns ")"       
+0000eaf0: 2020 2023 2063 6c61 7373 6573 206f 7220     # classes or 
+0000eb00: 6461 7461 2074 7970 6573 0d0a 2020 2020  data types..    
+0000eb10: 7c20 2264 6174 6122 204e 414d 4520 2228  | "data" NAME "(
+0000eb20: 2220 7061 7474 6572 6e73 2022 2922 2020  " patterns ")"  
+0000eb30: 2023 2064 6174 6120 7479 7065 730d 0a20   # data types.. 
+0000eb40: 2020 207c 2022 636c 6173 7322 204e 414d     | "class" NAM
+0000eb50: 4520 2228 2220 7061 7474 6572 6e73 2022  E "(" patterns "
+0000eb60: 2922 2020 2320 636c 6173 7365 730d 0a20  )"  # classes.. 
+0000eb70: 2020 207c 2022 7b22 2070 6174 7465 726e     | "{" pattern
+0000eb80: 5f70 6169 7273 2020 2020 2020 2020 2020  _pairs          
+0000eb90: 2020 2020 2320 6469 6374 696f 6e61 7269      # dictionari
+0000eba0: 6573 0d0a 2020 2020 2020 2020 5b22 2c22  es..        [","
+0000ebb0: 2022 2a2a 2220 284e 414d 4520 7c20 227b   "**" (NAME | "{
+0000ebc0: 7d22 295d 2022 7d22 2023 2020 286b 6579  }")] "}" #  (key
+0000ebd0: 7320 6d75 7374 2062 6520 636f 6e73 7461  s must be consta
+0000ebe0: 6e74 7320 6f72 2065 7175 616c 6974 7920  nts or equality 
+0000ebf0: 6368 6563 6b73 290d 0a20 2020 207c 205b  checks)..    | [
+0000ec00: 2273 2220 7c20 2266 2220 7c20 226d 225d  "s" | "f" | "m"]
+0000ec10: 2022 7b22 0d0a 2020 2020 2020 2020 7061   "{"..        pa
+0000ec20: 7474 6572 6e5f 636f 6e73 7473 0d0a 2020  ttern_consts..  
+0000ec30: 2020 2020 2020 5b22 2c22 2028 222a 5f22        ["," ("*_"
+0000ec40: 207c 2022 2a28 2922 295d 0d0a 2020 2020   | "*()")]..    
+0000ec50: 2020 227d 2220 2020 2020 2020 2020 2020    "}"           
+0000ec60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ec70: 2023 2073 6574 730d 0a20 2020 207c 2028   # sets..    | (
+0000ec80: 4558 5052 2920 2d3e 2070 6174 7465 726e  EXPR) -> pattern
+0000ec90: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000eca0: 7669 6577 2070 6174 7465 726e 730d 0a20  view patterns.. 
+0000ecb0: 2020 207c 2022 2822 2070 6174 7465 726e     | "(" pattern
+0000ecc0: 7320 2229 2220 2020 2020 2020 2020 2020  s ")"           
+0000ecd0: 2020 2020 2320 7365 7175 656e 6365 7320      # sequences 
+0000ece0: 6361 6e20 6265 2069 6e20 7475 706c 6520  can be in tuple 
+0000ecf0: 666f 726d 0d0a 2020 2020 7c20 225b 2220  form..    | "[" 
+0000ed00: 7061 7474 6572 6e73 2022 5d22 2020 2020  patterns "]"    
+0000ed10: 2020 2020 2020 2020 2020 2023 2020 6f72             #  or
+0000ed20: 2069 6e20 6c69 7374 2066 6f72 6d0d 0a20   in list form.. 
+0000ed30: 2020 207c 2022 287c 2220 7061 7474 6572     | "(|" patter
+0000ed40: 6e73 2022 7c29 2220 2020 2020 2020 2020  ns "|)"         
+0000ed50: 2020 2020 2320 6c61 7a79 206c 6973 7473      # lazy lists
+0000ed60: 0d0a 2020 2020 7c20 2822 2822 207c 2022  ..    | ("(" | "
+0000ed70: 5b22 2920 2020 2020 2020 2020 2020 2020  [")             
+0000ed80: 2020 2020 2020 2023 2073 7461 7220 7370         # star sp
+0000ed90: 6c69 7473 0d0a 2020 2020 2020 2020 5b70  lits..        [p
+0000eda0: 6174 7465 726e 7320 222c 225d 0d0a 2020  atterns ","]..  
+0000edb0: 2020 2020 2020 222a 2220 7061 7474 6572        "*" patter
+0000edc0: 6e0d 0a20 2020 2020 2020 205b 222c 2220  n..        ["," 
+0000edd0: 7061 7474 6572 6e73 5d0d 0a20 2020 2020  patterns]..     
+0000ede0: 2020 205b 222a 2220 7061 7474 6572 6e0d     ["*" pattern.
+0000edf0: 0a20 2020 2020 2020 205b 222c 2220 7061  .        ["," pa
+0000ee00: 7474 6572 6e73 5d5d 0d0a 2020 2020 2020  tterns]]..      
+0000ee10: 2822 2922 207c 2022 5d22 290d 0a20 2020  (")" | "]")..   
+0000ee20: 207c 205b 2820 2020 2020 2020 2020 2020   | [(           
+0000ee30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ee40: 2020 2320 7365 7175 656e 6365 2073 706c    # sequence spl
+0000ee50: 6974 730d 0a20 2020 2020 2020 2022 2822  its..        "("
+0000ee60: 2070 6174 7465 726e 7320 2229 220d 0a20   patterns ")".. 
+0000ee70: 2020 2020 2020 207c 2022 5b22 2070 6174         | "[" pat
+0000ee80: 7465 726e 7320 225d 220d 0a20 2020 2020  terns "]"..     
+0000ee90: 2029 2022 2b22 5d20 4e41 4d45 205b 222b   ) "+"] NAME ["+
+0000eea0: 2220 280d 0a20 2020 2020 2020 2022 2822  " (..        "("
+0000eeb0: 2070 6174 7465 726e 7320 2229 2220 2020   patterns ")"   
+0000eec0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000eed0: 7468 6973 206d 6174 6368 206d 7573 7420  this match must 
+0000eee0: 6265 2074 6865 2073 616d 650d 0a20 2020  be the same..   
+0000eef0: 2020 2020 207c 2022 5b22 2070 6174 7465       | "[" patte
+0000ef00: 726e 7320 225d 2220 2020 2020 2020 2020  rns "]"         
+0000ef10: 2020 2020 2020 2320 2063 6f6e 7374 7275        #  constru
+0000ef20: 6374 2061 7320 7468 6520 6669 7273 7420  ct as the first 
+0000ef30: 6d61 7463 680d 0a20 2020 2020 2029 5d20  match..      )] 
+0000ef40: 5b22 2b22 204e 414d 4520 5b22 2b22 2028  ["+" NAME ["+" (
+0000ef50: 0d0a 2020 2020 2020 2020 2228 2220 7061  ..        "(" pa
+0000ef60: 7474 6572 6e73 2022 2922 2020 2020 2020  tterns ")"      
+0000ef70: 2020 2020 2020 2020 2020 2023 2061 6e64             # and
+0000ef80: 2073 616d 6520 6865 7265 0d0a 2020 2020   same here..    
+0000ef90: 2020 2020 7c20 225b 2220 7061 7474 6572      | "[" patter
+0000efa0: 6e73 2022 5d22 0d0a 2020 2020 2020 295d  ns "]"..      )]
+0000efb0: 5d0d 0a20 2020 207c 205b 2820 2020 2020  ]..    | [(     
+0000efc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000efd0: 2020 2020 2020 2020 2320 6974 6572 6162          # iterab
+0000efe0: 6c65 2073 706c 6974 730d 0a20 2020 2020  le splits..     
+0000eff0: 2020 2022 2822 2070 6174 7465 726e 7320     "(" patterns 
+0000f000: 2229 220d 0a20 2020 2020 2020 207c 2022  ")"..        | "
+0000f010: 5b22 2070 6174 7465 726e 7320 225d 220d  [" patterns "]".
+0000f020: 0a20 2020 2020 2020 207c 2022 287c 2220  .        | "(|" 
+0000f030: 7061 7474 6572 6e73 2022 7c29 220d 0a20  patterns "|)".. 
+0000f040: 2020 2020 2029 2022 3a3a 225d 204e 414d       ) "::"] NAM
+0000f050: 4520 5b22 3a3a 2220 280d 0a20 2020 2020  E ["::" (..     
+0000f060: 2020 2022 2822 2070 6174 7465 726e 7320     "(" patterns 
+0000f070: 2229 220d 0a20 2020 2020 2020 207c 2022  ")"..        | "
+0000f080: 5b22 2070 6174 7465 726e 7320 225d 220d  [" patterns "]".
+0000f090: 0a20 2020 2020 2020 207c 2022 287c 2220  .        | "(|" 
+0000f0a0: 7061 7474 6572 6e73 2022 7c29 220d 0a20  patterns "|)".. 
+0000f0b0: 2020 2020 2029 5d20 5b20 223a 3a22 204e       )] [ "::" N
+0000f0c0: 414d 4520 5b0d 0a20 2020 2020 2020 2022  AME [..        "
+0000f0d0: 2822 2070 6174 7465 726e 7320 2229 220d  (" patterns ")".
+0000f0e0: 0a20 2020 2020 2020 207c 2022 5b22 2070  .        | "[" p
+0000f0f0: 6174 7465 726e 7320 225d 220d 0a20 2020  atterns "]"..   
+0000f100: 2020 2020 207c 2022 287c 2220 7061 7474       | "(|" patt
+0000f110: 6572 6e73 2022 7c29 220d 0a20 2020 2020  erns "|)"..     
+0000f120: 205d 5d0d 0a20 2020 207c 205b 5354 5249   ]]..    | [STRI
+0000f130: 4e47 2022 2b22 5d20 4e41 4d45 2020 2020  NG "+"] NAME    
+0000f140: 2020 2020 2020 2020 2020 2320 636f 6d70            # comp
+0000f150: 6c65 7820 7374 7269 6e67 206d 6174 6368  lex string match
+0000f160: 696e 670d 0a20 2020 2020 2020 205b 222b  ing..        ["+
+0000f170: 2220 5354 5249 4e47 5d0d 0a20 2020 2020  " STRING]..     
+0000f180: 2020 205b 222b 2220 4e41 4d45 205b 222b     ["+" NAME ["+
+0000f190: 2220 5354 5249 4e47 5d5d 0d0a 290d 0a60  " STRING]]..)..`
+0000f1a0: 6060 0d0a 0d0a 2323 2323 2320 5365 6d61  ``....##### Sema
+0000f1b0: 6e74 6963 7320 5370 6563 6966 6963 6174  ntics Specificat
+0000f1c0: 696f 6e0d 0a0d 0a60 6d61 7463 6860 2073  ion....`match` s
+0000f1d0: 7461 7465 6d65 6e74 7320 7769 6c6c 2074  tatements will t
+0000f1e0: 616b 6520 7468 6569 7220 7061 7474 6572  ake their patter
+0000f1f0: 6e20 616e 6420 6174 7465 6d70 7420 746f  n and attempt to
+0000f200: 2022 6d61 7463 6822 2061 6761 696e 7374   "match" against
+0000f210: 2069 742c 2070 6572 666f 726d 696e 6720   it, performing 
+0000f220: 7468 6520 6368 6563 6b73 2061 6e64 2064  the checks and d
+0000f230: 6563 6f6e 7374 7275 6374 696f 6e73 206f  econstructions o
+0000f240: 6e20 7468 6520 6172 6775 6d65 6e74 7320  n the arguments 
+0000f250: 6173 2073 7065 6369 6669 6564 2062 7920  as specified by 
+0000f260: 7468 6520 7061 7474 6572 6e2e 2054 6865  the pattern. The
+0000f270: 2064 6966 6665 7265 6e74 2063 6f6e 7374   different const
+0000f280: 7275 6374 7320 7468 6174 2063 616e 2062  ructs that can b
+0000f290: 6520 7370 6563 6966 6965 6420 696e 2061  e specified in a
+0000f2a0: 2070 6174 7465 726e 2c20 616e 6420 7468   pattern, and th
+0000f2b0: 6569 7220 6675 6e63 7469 6f6e 2c20 6172  eir function, ar
+0000f2c0: 653a 0d0a 2d20 5661 7269 6162 6c65 2042  e:..- Variable B
+0000f2d0: 696e 6469 6e67 733a 0d0a 2020 2d20 496d  indings:..  - Im
+0000f2e0: 706c 6963 6974 2042 696e 6469 6e67 7320  plicit Bindings 
+0000f2f0: 2860 3c76 6172 3e60 293a 2077 696c 6c20  (`<var>`): will 
+0000f300: 6d61 7463 6820 746f 2061 6e79 7468 696e  match to anythin
+0000f310: 672c 2061 6e64 2077 696c 6c20 6265 2062  g, and will be b
+0000f320: 6f75 6e64 2074 6f20 7768 6174 6576 6572  ound to whatever
+0000f330: 2074 6865 7920 6d61 7463 6820 746f 2c20   they match to, 
+0000f340: 7769 7468 2073 6f6d 6520 6578 6365 7074  with some except
+0000f350: 696f 6e73 3a0d 0a20 2020 202a 2049 6620  ions:..    * If 
+0000f360: 7468 6520 7361 6d65 2076 6172 6961 626c  the same variabl
+0000f370: 6520 6973 2075 7365 6420 6d75 6c74 6970  e is used multip
+0000f380: 6c65 2074 696d 6573 2c20 6120 6368 6563  le times, a chec
+0000f390: 6b20 7769 6c6c 2062 6520 7065 7266 6f72  k will be perfor
+0000f3a0: 6d65 6420 7468 6174 2065 6163 6820 7573  med that each us
+0000f3b0: 6520 6d61 7463 6865 7320 746f 2074 6865  e matches to the
+0000f3c0: 2073 616d 6520 7661 6c75 652e 0d0a 2020   same value...  
+0000f3d0: 2020 2a20 4966 2074 6865 2076 6172 6961    * If the varia
+0000f3e0: 626c 6520 6e61 6d65 2060 5f60 2069 7320  ble name `_` is 
+0000f3f0: 7573 6564 2c20 6e6f 7468 696e 6720 7769  used, nothing wi
+0000f400: 6c6c 2062 6520 626f 756e 6420 616e 6420  ll be bound and 
+0000f410: 6576 6572 7974 6869 6e67 2077 696c 6c20  everything will 
+0000f420: 616c 7761 7973 206d 6174 6368 2074 6f20  always match to 
+0000f430: 6974 2028 605f 6020 6973 2043 6f63 6f6e  it (`_` is Cocon
+0000f440: 7574 2773 2022 7769 6c64 6361 7264 2229  ut's "wildcard")
+0000f450: 2e0d 0a20 202d 2045 7870 6c69 6369 7420  ...  - Explicit 
+0000f460: 4269 6e64 696e 6773 2028 603c 7061 7474  Bindings (`<patt
+0000f470: 6572 6e3e 2061 7320 3c76 6172 3e60 293a  ern> as <var>`):
+0000f480: 2077 696c 6c20 6269 6e64 2060 3c76 6172   will bind `<var
+0000f490: 3e60 2074 6f20 603c 7061 7474 6572 6e3e  >` to `<pattern>
+0000f4a0: 602e 0d0a 2d20 4261 7369 6320 4368 6563  `...- Basic Chec
+0000f4b0: 6b73 3a0d 0a20 202d 2043 6f6e 7374 616e  ks:..  - Constan
+0000f4c0: 7473 2c20 4e75 6d62 6572 732c 2061 6e64  ts, Numbers, and
+0000f4d0: 2053 7472 696e 6773 3a20 7769 6c6c 206f   Strings: will o
+0000f4e0: 6e6c 7920 6d61 7463 6820 746f 2074 6865  nly match to the
+0000f4f0: 2073 616d 6520 636f 6e73 7461 6e74 2c20   same constant, 
+0000f500: 6e75 6d62 6572 2c20 6f72 2073 7472 696e  number, or strin
+0000f510: 6720 696e 2074 6865 2073 616d 6520 706f  g in the same po
+0000f520: 7369 7469 6f6e 2069 6e20 7468 6520 6172  sition in the ar
+0000f530: 6775 6d65 6e74 732e 0d0a 2020 2d20 4571  guments...  - Eq
+0000f540: 7561 6c69 7479 2043 6865 636b 7320 2860  uality Checks (`
+0000f550: 3d3d 3c65 7870 723e 6029 3a20 7769 6c6c  ==<expr>`): will
+0000f560: 2063 6865 636b 2074 6861 7420 7768 6174   check that what
+0000f570: 6576 6572 2069 7320 696e 2074 6861 7420  ever is in that 
+0000f580: 706f 7369 7469 6f6e 2069 7320 603d 3d60  position is `==`
+0000f590: 2074 6f20 7468 6520 6578 7072 6573 7369   to the expressi
+0000f5a0: 6f6e 2060 3c65 7870 723e 602e 0d0a 2020  on `<expr>`...  
+0000f5b0: 2d20 4964 656e 7469 7479 2043 6865 636b  - Identity Check
+0000f5c0: 7320 2860 6973 203c 6578 7072 3e60 293a  s (`is <expr>`):
+0000f5d0: 2077 696c 6c20 6368 6563 6b20 7468 6174   will check that
+0000f5e0: 2077 6861 7465 7665 7220 6973 2069 6e20   whatever is in 
+0000f5f0: 7468 6174 2070 6f73 6974 696f 6e20 6069  that position `i
+0000f600: 7360 2074 6865 2065 7870 7265 7373 696f  s` the expressio
+0000f610: 6e20 603c 6578 7072 3e60 2e0d 0a2d 2041  n `<expr>`...- A
+0000f620: 7262 6974 7261 7279 2046 756e 6374 696f  rbitrary Functio
+0000f630: 6e20 5061 7474 6572 6e73 3a0d 0a20 202d  n Patterns:..  -
+0000f640: 2049 6e66 6978 2043 6865 636b 7320 2860   Infix Checks (`
+0000f650: 6020 3c70 6174 7465 726e 3e20 603c 6f70  ` <pattern> `<op
+0000f660: 3e60 203c 6578 7072 3e20 6060 293a 2077  >` <expr> ``): w
+0000f670: 696c 6c20 6368 6563 6b20 7468 6174 2074  ill check that t
+0000f680: 6865 206f 7065 7261 746f 7220 603c 6f70  he operator `<op
+0000f690: 3e24 283f 2c20 3c65 7870 723e 2960 2072  >$(?, <expr>)` r
+0000f6a0: 6574 7572 6e73 2061 2074 7275 7468 7920  eturns a truthy 
+0000f6b0: 7661 6c75 6520 7768 656e 2063 616c 6c65  value when calle
+0000f6c0: 6420 6f6e 2077 6861 7465 7665 7220 6973  d on whatever is
+0000f6d0: 2069 6e20 7468 6174 2070 6f73 6974 696f   in that positio
+0000f6e0: 6e2c 2074 6865 6e20 6d61 7463 6865 7320  n, then matches 
+0000f6f0: 603c 7061 7474 6572 6e3e 602e 2046 6f72  `<pattern>`. For
+0000f700: 2065 7861 6d70 6c65 2c20 6060 2078 2060   example, `` x `
+0000f710: 6973 696e 7374 616e 6365 6020 696e 7420  isinstance` int 
+0000f720: 6060 2077 696c 6c20 6368 6563 6b20 7468  `` will check th
+0000f730: 6174 2077 6861 7465 7665 7220 6973 2069  at whatever is i
+0000f740: 6e20 7468 6174 2070 6f73 6974 696f 6e20  n that position 
+0000f750: 6069 7369 6e73 7461 6e63 6524 283f 2c20  `isinstance$(?, 
+0000f760: 696e 7429 6020 616e 6420 6269 6e64 2069  int)` and bind i
+0000f770: 7420 746f 2060 7860 2e20 4966 2060 3c65  t to `x`. If `<e
+0000f780: 7870 723e 6020 6973 206e 6f74 2067 6976  xpr>` is not giv
+0000f790: 656e 2c20 7769 6c6c 2073 696d 706c 7920  en, will simply 
+0000f7a0: 6368 6563 6b20 603c 6f70 3e60 2064 6972  check `<op>` dir
+0000f7b0: 6563 746c 7920 7261 7468 6572 2074 6861  ectly rather tha
+0000f7c0: 6e20 603c 6f70 3e24 283c 6578 7072 3e29  n `<op>$(<expr>)
+0000f7d0: 602e 2041 6464 6974 696f 6e61 6c6c 792c  `. Additionally,
+0000f7e0: 2060 6020 603c 6f70 3e60 2060 6020 6361   `` `<op>` `` ca
+0000f7f0: 6e20 696e 7374 6561 6420 6265 2061 205b  n instead be a [
+0000f800: 6375 7374 6f6d 206f 7065 7261 746f 725d  custom operator]
+0000f810: 2823 6375 7374 6f6d 2d6f 7065 7261 746f  (#custom-operato
+0000f820: 7273 2920 2869 6e20 7468 6174 2063 6173  rs) (in that cas
+0000f830: 652c 206e 6f20 6261 636b 7469 636b 7320  e, no backticks 
+0000f840: 7368 6f75 6c64 2062 6520 7573 6564 292e  should be used).
+0000f850: 0d0a 2020 2d20 5669 6577 2050 6174 7465  ..  - View Patte
+0000f860: 726e 7320 2860 283c 6578 7072 6573 7369  rns (`(<expressi
+0000f870: 6f6e 3e29 202d 3e20 3c70 6174 7465 726e  on>) -> <pattern
+0000f880: 3e60 293a 2063 616c 6c73 2060 3c65 7870  >`): calls `<exp
+0000f890: 7265 7373 696f 6e3e 6020 6f6e 2074 6865  ression>` on the
+0000f8a0: 2069 7465 6d20 6265 696e 6720 6d61 7463   item being matc
+0000f8b0: 6865 6420 616e 6420 6d61 7463 6865 7320  hed and matches 
+0000f8c0: 7468 6520 7265 7375 6c74 2074 6f20 603c  the result to `<
+0000f8d0: 7061 7474 6572 6e3e 602e 2054 6865 206d  pattern>`. The m
+0000f8e0: 6174 6368 2066 6169 6c73 2069 6620 6120  atch fails if a 
+0000f8f0: 5b60 4d61 7463 6845 7272 6f72 605d 2823  [`MatchError`](#
+0000f900: 6d61 7463 6865 7272 6f72 2920 6973 2072  matcherror) is r
+0000f910: 6169 7365 642e 2060 3c65 7870 7265 7373  aised. `<express
+0000f920: 696f 6e3e 6020 6d61 7920 6265 2075 6e70  ion>` may be unp
+0000f930: 6172 656e 7468 6573 697a 6564 206f 6e6c  arenthesized onl
+0000f940: 7920 7768 656e 2069 7420 6973 2061 2073  y when it is a s
+0000f950: 696e 676c 6520 6174 6f6d 2e0d 0a2d 2043  ingle atom...- C
+0000f960: 6c61 7373 2061 6e64 2044 6174 6120 5479  lass and Data Ty
+0000f970: 7065 204d 6174 6368 696e 673a 0d0a 2020  pe Matching:..  
+0000f980: 2d20 436c 6173 7365 7320 6f72 2044 6174  - Classes or Dat
+0000f990: 6120 5479 7065 7320 2860 3c6e 616d 653e  a Types (`<name>
+0000f9a0: 283c 6172 6773 3e29 6029 3a20 7769 6c6c  (<args>)`): will
+0000f9b0: 206d 6174 6368 2061 7320 6120 6461 7461   match as a data
+0000f9c0: 2074 7970 6520 6966 2067 6976 656e 205b   type if given [
+0000f9d0: 6120 436f 636f 6e75 7420 6064 6174 6160  a Coconut `data`
+0000f9e0: 2074 7970 655d 2823 6461 7461 2920 286f   type](#data) (o
+0000f9f0: 7220 6120 7475 706c 6520 6f66 2043 6f63  r a tuple of Coc
+0000fa00: 6f6e 7574 2064 6174 6120 7479 7065 7329  onut data types)
+0000fa10: 2061 6e64 2061 2063 6c61 7373 206f 7468   and a class oth
+0000fa20: 6572 7769 7365 2e0d 0a20 202d 2044 6174  erwise...  - Dat
+0000fa30: 6120 5479 7065 7320 2860 6461 7461 203c  a Types (`data <
+0000fa40: 6e61 6d65 3e28 3c61 7267 733e 2960 293a  name>(<args>)`):
+0000fa50: 2077 696c 6c20 6368 6563 6b20 7468 6174   will check that
+0000fa60: 2077 6861 7465 7665 7220 6973 2069 6e20   whatever is in 
+0000fa70: 7468 6174 2070 6f73 6974 696f 6e20 6973  that position is
+0000fa80: 206f 6620 6461 7461 2074 7970 6520 603c   of data type `<
+0000fa90: 6e61 6d65 3e60 2061 6e64 2077 696c 6c20  name>` and will 
+0000faa0: 6d61 7463 6820 7468 6520 6174 7472 6962  match the attrib
+0000fab0: 7574 6573 2074 6f20 603c 6172 6773 3e60  utes to `<args>`
+0000fac0: 2e20 4765 6e65 7261 6c6c 792c 2060 6461  . Generally, `da
+0000fad0: 7461 203c 6e61 6d65 3e28 3c61 7267 733e  ta <name>(<args>
+0000fae0: 2960 2077 696c 6c20 6d61 7463 6820 616e  )` will match an
+0000faf0: 7920 6461 7461 2074 7970 6520 7468 6174  y data type that
+0000fb00: 2063 6f75 6c64 2068 6176 6520 6265 656e   could have been
+0000fb10: 2063 6f6e 7374 7275 6374 6564 2077 6974   constructed wit
+0000fb20: 6820 606d 616b 6564 6174 6128 3c6e 616d  h `makedata(<nam
+0000fb30: 653e 2c20 3c61 7267 733e 2960 2e20 496e  e>, <args>)`. In
+0000fb40: 636c 7564 6573 2073 7570 706f 7274 2066  cludes support f
+0000fb50: 6f72 2070 6f73 6974 696f 6e61 6c20 6172  or positional ar
+0000fb60: 6775 6d65 6e74 732c 206e 616d 6564 2061  guments, named a
+0000fb70: 7267 756d 656e 7473 2c20 6465 6661 756c  rguments, defaul
+0000fb80: 7420 6172 6775 6d65 6e74 732c 2061 6e64  t arguments, and
+0000fb90: 2073 7461 7272 6564 2061 7267 756d 656e   starred argumen
+0000fba0: 7473 2e20 416c 736f 2073 7570 706f 7274  ts. Also support
+0000fbb0: 7320 7374 7269 6374 2061 7474 7269 6275  s strict attribu
+0000fbc0: 7465 7320 6279 2070 7265 7065 6e64 696e  tes by prependin
+0000fbd0: 6720 6120 646f 7420 746f 2074 6865 2061  g a dot to the a
+0000fbe0: 7474 7269 6275 7465 206e 616d 6520 7468  ttribute name th
+0000fbf0: 6174 2072 6169 7365 7320 6041 7474 7269  at raises `Attri
+0000fc00: 6275 7445 7272 6f72 6020 6966 2074 6865  butError` if the
+0000fc10: 2061 7474 7269 6275 7465 2069 7320 6e6f   attribute is no
+0000fc20: 7420 7072 6573 656e 7420 7261 7468 6572  t present rather
+0000fc30: 2074 6861 6e20 6661 696c 696e 6720 7468   than failing th
+0000fc40: 6520 6d61 7463 6820 2865 2e67 2e20 6064  e match (e.g. `d
+0000fc50: 6174 6120 4d79 4461 7461 282e 6d79 5f61  ata MyData(.my_a
+0000fc60: 7474 723d 3c73 6f6d 655f 7061 7474 6572  ttr=<some_patter
+0000fc70: 6e3e 2960 292e 0d0a 2020 2d20 436c 6173  n>)`)...  - Clas
+0000fc80: 7365 7320 2860 636c 6173 7320 3c6e 616d  ses (`class <nam
+0000fc90: 653e 283c 6172 6773 3e29 6029 3a20 646f  e>(<args>)`): do
+0000fca0: 6573 205b 5045 502d 3633 342d 7374 796c  es [PEP-634-styl
+0000fcb0: 6520 636c 6173 7320 6d61 7463 6869 6e67  e class matching
+0000fcc0: 5d28 6874 7470 733a 2f2f 7777 772e 7079  ](https://www.py
+0000fcd0: 7468 6f6e 2e6f 7267 2f64 6576 2f70 6570  thon.org/dev/pep
+0000fce0: 732f 7065 702d 3036 3334 2f23 636c 6173  s/pep-0634/#clas
+0000fcf0: 732d 7061 7474 6572 6e73 292e 2041 6c73  s-patterns). Als
+0000fd00: 6f20 7375 7070 6f72 7473 2073 7472 6963  o supports stric
+0000fd10: 7420 6174 7472 6962 7574 6520 6d61 7463  t attribute matc
+0000fd20: 6869 6e67 2061 7320 6162 6f76 652e 0d0a  hing as above...
+0000fd30: 2d20 4d61 7070 696e 6720 4465 7374 7275  - Mapping Destru
+0000fd40: 6374 7572 696e 673a 0d0a 2020 2d20 4469  cturing:..  - Di
+0000fd50: 6374 7320 2860 7b3c 6b65 793e 3a20 3c76  cts (`{<key>: <v
+0000fd60: 616c 7565 3e2c 202e 2e2e 7d60 293a 2077  alue>, ...}`): w
+0000fd70: 696c 6c20 6d61 7463 6820 616e 7920 6d61  ill match any ma
+0000fd80: 7070 696e 6720 2860 636f 6c6c 6563 7469  pping (`collecti
+0000fd90: 6f6e 732e 6162 632e 4d61 7070 696e 6760  ons.abc.Mapping`
+0000fda0: 2920 7769 7468 2074 6865 2067 6976 656e  ) with the given
+0000fdb0: 206b 6579 7320 616e 6420 7661 6c75 6573   keys and values
+0000fdc0: 2074 6861 7420 6d61 7463 6820 7468 6520   that match the 
+0000fdd0: 7661 6c75 6520 7061 7474 6572 6e73 2e20  value patterns. 
+0000fde0: 4b65 7973 206d 7573 7420 6265 2063 6f6e  Keys must be con
+0000fdf0: 7374 616e 7473 206f 7220 6571 7561 6c69  stants or equali
+0000fe00: 7479 2063 6865 636b 732e 0d0a 2020 2d20  ty checks...  - 
+0000fe10: 4469 6374 7320 5769 7468 2052 6573 7420  Dicts With Rest 
+0000fe20: 2860 7b3c 7061 6972 733e 2c20 2a2a 3c72  (`{<pairs>, **<r
+0000fe30: 6573 743e 7d60 293a 2077 696c 6c20 6d61  est>}`): will ma
+0000fe40: 7463 6820 6120 6d61 7070 696e 6720 2860  tch a mapping (`
+0000fe50: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+0000fe60: 4d61 7070 696e 6760 2920 636f 6e74 6169  Mapping`) contai
+0000fe70: 6e69 6e67 2061 6c6c 2074 6865 2060 3c70  ning all the `<p
+0000fe80: 6169 7273 3e60 2c20 616e 6420 7769 6c6c  airs>`, and will
+0000fe90: 2070 7574 2061 2060 6469 6374 6020 6f66   put a `dict` of
+0000fea0: 2065 7665 7279 7468 696e 6720 656c 7365   everything else
+0000feb0: 2069 6e74 6f20 603c 7265 7374 3e60 2e20   into `<rest>`. 
+0000fec0: 4966 2060 3c72 6573 743e 6020 6973 2060  If `<rest>` is `
+0000fed0: 7b7d 602c 2077 696c 6c20 656e 666f 7263  {}`, will enforc
+0000fee0: 6520 7468 6174 2074 6865 206d 6170 7069  e that the mappi
+0000fef0: 6e67 2069 7320 6578 6163 746c 7920 7468  ng is exactly th
+0000ff00: 6520 7361 6d65 206c 656e 6774 6820 6173  e same length as
+0000ff10: 2060 3c70 6169 7273 3e60 2e0d 0a2d 2053   `<pairs>`...- S
+0000ff20: 6574 2044 6573 7472 7563 7475 7269 6e67  et Destructuring
+0000ff30: 3a0d 0a20 202d 2053 6574 7320 2860 737b  :..  - Sets (`s{
+0000ff40: 3c63 6f6e 7374 616e 7473 3e2c 202a 5f7d  <constants>, *_}
+0000ff50: 6029 3a20 7769 6c6c 206d 6174 6368 2061  `): will match a
+0000ff60: 2073 6574 2028 6063 6f6c 6c65 6374 696f   set (`collectio
+0000ff70: 6e73 2e61 6263 2e53 6574 6029 2074 6861  ns.abc.Set`) tha
+0000ff80: 7420 636f 6e74 6169 6e73 2074 6865 2067  t contains the g
+0000ff90: 6976 656e 2060 3c63 6f6e 7374 616e 7473  iven `<constants
+0000ffa0: 3e60 2c20 7468 6f75 6768 2069 7420 6d61  >`, though it ma
+0000ffb0: 7920 616c 736f 2063 6f6e 7461 696e 206f  y also contain o
+0000ffc0: 7468 6572 2069 7465 6d73 2e20 5468 6520  ther items. The 
+0000ffd0: 6073 6020 7072 6566 6978 2061 6e64 2074  `s` prefix and t
+0000ffe0: 6865 2060 2a5f 6020 6172 6520 6f70 7469  he `*_` are opti
+0000fff0: 6f6e 616c 2e0d 0a20 202d 2046 6978 6564  onal...  - Fixed
+00010000: 2d6c 656e 6774 6820 5365 7473 2028 6073  -length Sets (`s
+00010010: 7b3c 636f 6e73 7461 6e74 733e 2c20 2a28  {<constants>, *(
+00010020: 297d 6029 3a20 7769 6c6c 206d 6174 6368  )}`): will match
+00010030: 2061 2060 7365 7460 2028 6063 6f6c 6c65   a `set` (`colle
+00010040: 6374 696f 6e73 2e61 6263 2e53 6574 6029  ctions.abc.Set`)
+00010050: 2074 6861 7420 636f 6e74 6169 6e73 2074   that contains t
+00010060: 6865 2067 6976 656e 2060 3c63 6f6e 7374  he given `<const
+00010070: 616e 7473 3e60 2c20 616e 6420 6e6f 7468  ants>`, and noth
+00010080: 696e 6720 656c 7365 2e0d 0a20 202d 2046  ing else...  - F
+00010090: 726f 7a65 6e73 6574 7320 2860 667b 3c63  rozensets (`f{<c
+000100a0: 6f6e 7374 616e 7473 3e7d 6029 3a20 7769  onstants>}`): wi
+000100b0: 6c6c 206d 6174 6368 2061 2060 6672 6f7a  ll match a `froz
+000100c0: 656e 7365 7460 2028 6066 726f 7a65 6e73  enset` (`frozens
+000100d0: 6574 6029 2074 6861 7420 636f 6e74 6169  et`) that contai
+000100e0: 6e73 2074 6865 2067 6976 656e 2060 3c63  ns the given `<c
+000100f0: 6f6e 7374 616e 7473 3e60 2e20 4d61 7920  onstants>`. May 
+00010100: 7573 6520 6569 7468 6572 206e 6f72 6d61  use either norma
+00010110: 6c20 6f72 2066 6978 6564 2d6c 656e 6774  l or fixed-lengt
+00010120: 6820 7379 6e74 6178 2e0d 0a20 202d 204d  h syntax...  - M
+00010130: 756c 7469 7365 7473 2028 606d 7b3c 636f  ultisets (`m{<co
+00010140: 6e73 7461 6e74 733e 7d60 293a 2077 696c  nstants>}`): wil
+00010150: 6c20 6d61 7463 6820 6120 5b60 6d75 6c74  l match a [`mult
+00010160: 6973 6574 605d 2823 6d75 6c74 6973 6574  iset`](#multiset
+00010170: 2920 2860 636f 6c6c 6563 7469 6f6e 732e  ) (`collections.
+00010180: 436f 756e 7465 7260 2920 7468 6174 2063  Counter`) that c
+00010190: 6f6e 7461 696e 7320 6174 206c 6561 7374  ontains at least
+000101a0: 2074 6865 2067 6976 656e 2060 3c63 6f6e   the given `<con
+000101b0: 7374 616e 7473 3e60 2e20 4d61 7920 7573  stants>`. May us
+000101c0: 6520 6569 7468 6572 206e 6f72 6d61 6c20  e either normal 
+000101d0: 6f72 2066 6978 6564 2d6c 656e 6774 6820  or fixed-length 
+000101e0: 7379 6e74 6178 2e0d 0a2d 2053 6571 7565  syntax...- Seque
+000101f0: 6e63 6520 4465 7374 7275 6374 7572 696e  nce Destructurin
+00010200: 673a 0d0a 2020 2d20 4c69 7374 7320 2860  g:..  - Lists (`
+00010210: 5b3c 7061 7474 6572 6e73 3e5d 6029 2c20  [<patterns>]`), 
+00010220: 5475 706c 6573 2028 6028 3c70 6174 7465  Tuples (`(<patte
+00010230: 726e 733e 2960 293a 2077 696c 6c20 6f6e  rns>)`): will on
+00010240: 6c79 206d 6174 6368 2061 2073 6571 7565  ly match a seque
+00010250: 6e63 6520 2860 636f 6c6c 6563 7469 6f6e  nce (`collection
+00010260: 732e 6162 632e 5365 7175 656e 6365 6029  s.abc.Sequence`)
+00010270: 206f 6620 7468 6520 7361 6d65 206c 656e   of the same len
+00010280: 6774 682c 2061 6e64 2077 696c 6c20 6368  gth, and will ch
+00010290: 6563 6b20 7468 6520 636f 6e74 656e 7473  eck the contents
+000102a0: 2061 6761 696e 7374 2060 3c70 6174 7465   against `<patte
+000102b0: 726e 733e 6020 2843 6f63 6f6e 7574 2061  rns>` (Coconut a
+000102c0: 7574 6f6d 6174 6963 616c 6c79 2072 6567  utomatically reg
+000102d0: 6973 7465 7273 2060 6e75 6d70 7960 2061  isters `numpy` a
+000102e0: 7272 6179 7320 616e 6420 6063 6f6c 6c65  rrays and `colle
+000102f0: 6374 696f 6e73 2e64 6571 7565 6020 6f62  ctions.deque` ob
+00010300: 6a65 6374 7320 6173 2073 6571 7565 6e63  jects as sequenc
+00010310: 6573 292e 0d0a 2020 2d20 4c61 7a79 206c  es)...  - Lazy l
+00010320: 6973 7473 2028 6028 7c3c 7061 7474 6572  ists (`(|<patter
+00010330: 6e73 3e7c 2960 293a 2073 616d 6520 6173  ns>|)`): same as
+00010340: 206c 6973 7420 6f72 2074 7570 6c65 206d   list or tuple m
+00010350: 6174 6368 696e 672c 2062 7574 2063 6865  atching, but che
+00010360: 636b 7320 666f 7220 616e 2049 7465 7261  cks for an Itera
+00010370: 626c 6520 2860 636f 6c6c 6563 7469 6f6e  ble (`collection
+00010380: 732e 6162 632e 4974 6572 6162 6c65 6029  s.abc.Iterable`)
+00010390: 2069 6e73 7465 6164 206f 6620 6120 5365   instead of a Se
+000103a0: 7175 656e 6365 2e0d 0a20 202d 2048 6561  quence...  - Hea
+000103b0: 642d 5461 696c 2053 706c 6974 7320 2860  d-Tail Splits (`
+000103c0: 3c6c 6973 742f 7475 706c 653e 202b 203c  <list/tuple> + <
+000103d0: 7661 723e 6020 6f72 2060 283c 7061 7474  var>` or `(<patt
+000103e0: 6572 6e73 3e2c 202a 3c76 6172 3e29 6029  erns>, *<var>)`)
+000103f0: 3a20 7769 6c6c 206d 6174 6368 2074 6865  : will match the
+00010400: 2062 6567 696e 6e69 6e67 206f 6620 7468   beginning of th
+00010410: 6520 7365 7175 656e 6365 2061 6761 696e  e sequence again
+00010420: 7374 2074 6865 2060 3c6c 6973 742f 7475  st the `<list/tu
+00010430: 706c 653e 602f 603c 7061 7474 6572 6e73  ple>`/`<patterns
+00010440: 3e60 2c20 7468 656e 2062 696e 6420 7468  >`, then bind th
+00010450: 6520 7265 7374 2074 6f20 603c 7661 723e  e rest to `<var>
+00010460: 602c 2061 6e64 206d 616b 6520 6974 2074  `, and make it t
+00010470: 6865 2074 7970 6520 6f66 2074 6865 2063  he type of the c
+00010480: 6f6e 7374 7275 6374 2075 7365 642e 0d0a  onstruct used...
+00010490: 2020 2d20 496e 6974 2d4c 6173 7420 5370    - Init-Last Sp
+000104a0: 6c69 7473 2028 603c 7661 723e 202b 203c  lits (`<var> + <
+000104b0: 6c69 7374 2f74 7570 6c65 3e60 206f 7220  list/tuple>` or 
+000104c0: 6028 2a3c 7661 723e 2c20 3c70 6174 7465  `(*<var>, <patte
+000104d0: 726e 733e 2960 293a 2065 7861 6374 6c79  rns>)`): exactly
+000104e0: 2074 6865 2073 616d 6520 6173 2068 6561   the same as hea
+000104f0: 642d 7461 696c 2073 706c 6974 732c 2062  d-tail splits, b
+00010500: 7574 206f 6e20 7468 6520 656e 6420 696e  ut on the end in
+00010510: 7374 6561 6420 6f66 2074 6865 2062 6567  stead of the beg
+00010520: 696e 6e69 6e67 206f 6620 7468 6520 7365  inning of the se
+00010530: 7175 656e 6365 2e0d 0a20 202d 2048 6561  quence...  - Hea
+00010540: 642d 4c61 7374 2053 706c 6974 7320 2860  d-Last Splits (`
+00010550: 3c6c 6973 742f 7475 706c 653e 202b 203c  <list/tuple> + <
+00010560: 7661 723e 202b 203c 6c69 7374 2f74 7570  var> + <list/tup
+00010570: 6c65 3e60 206f 7220 6028 3c70 6174 7465  le>` or `(<patte
+00010580: 726e 733e 2c20 2a3c 7661 723e 2c20 3c70  rns>, *<var>, <p
+00010590: 6174 7465 726e 733e 2960 293a 2074 6865  atterns>)`): the
+000105a0: 2063 6f6d 6269 6e61 7469 6f6e 206f 6620   combination of 
+000105b0: 6120 6865 6164 2d74 6169 6c20 616e 6420  a head-tail and 
+000105c0: 616e 2069 6e69 742d 6c61 7374 2073 706c  an init-last spl
+000105d0: 6974 2e0d 0a20 202d 2053 6561 7263 6820  it...  - Search 
+000105e0: 5370 6c69 7473 2028 603c 7661 7231 3e20  Splits (`<var1> 
+000105f0: 2b20 3c6c 6973 742f 7475 706c 653e 202b  + <list/tuple> +
+00010600: 203c 7661 7232 3e60 206f 7220 6028 2a3c   <var2>` or `(*<
+00010610: 7661 7231 3e2c 203c 7061 7474 6572 6e73  var1>, <patterns
+00010620: 3e2c 202a 3c76 6172 323e 2960 293a 2073  >, *<var2>)`): s
+00010630: 6561 7263 6865 7320 666f 7220 7468 6520  earches for the 
+00010640: 6669 7273 7420 6f63 6375 7272 656e 6365  first occurrence
+00010650: 206f 6620 7468 6520 603c 6c69 7374 2f74   of the `<list/t
+00010660: 7570 6c65 3e60 2f60 3c70 6174 7465 726e  uple>`/`<pattern
+00010670: 733e 6020 696e 2074 6865 2073 6571 7565  s>` in the seque
+00010680: 6e63 652c 2074 6865 6e20 7075 7473 2065  nce, then puts e
+00010690: 7665 7279 7468 696e 6720 6265 666f 7265  verything before
+000106a0: 2069 6e74 6f20 603c 7661 7231 3e60 2061   into `<var1>` a
+000106b0: 6e64 2065 7665 7279 7468 696e 6720 6166  nd everything af
+000106c0: 7465 7220 696e 746f 2060 3c76 6172 323e  ter into `<var2>
+000106d0: 602e 0d0a 2020 2d20 4865 6164 2d4c 6173  `...  - Head-Las
+000106e0: 7420 5365 6172 6368 2053 706c 6974 7320  t Search Splits 
+000106f0: 2860 3c6c 6973 742f 7475 706c 653e 202b  (`<list/tuple> +
+00010700: 203c 7661 723e 202b 203c 6c69 7374 2f74   <var> + <list/t
+00010710: 7570 6c65 3e20 2b20 3c76 6172 3e20 2b20  uple> + <var> + 
+00010720: 3c6c 6973 742f 7475 706c 653e 6020 6f72  <list/tuple>` or
+00010730: 2060 283c 7061 7474 6572 6e73 3e2c 202a   `(<patterns>, *
+00010740: 3c76 6172 3e2c 203c 7061 7474 6572 6e73  <var>, <patterns
+00010750: 3e2c 202a 3c76 6172 3e2c 203c 7061 7474  >, *<var>, <patt
+00010760: 6572 6e73 3e29 6029 3a20 7468 6520 636f  erns>)`): the co
+00010770: 6d62 696e 6174 696f 6e20 6f66 2061 2068  mbination of a h
+00010780: 6561 642d 7461 696c 2073 706c 6974 2061  ead-tail split a
+00010790: 6e64 2061 2073 6561 7263 6820 7370 6c69  nd a search spli
+000107a0: 742e 0d0a 2020 2d20 4974 6572 6162 6c65  t...  - Iterable
+000107b0: 2053 706c 6974 7320 2860 3c6c 6973 742f   Splits (`<list/
+000107c0: 7475 706c 652f 6c61 7a79 206c 6973 743e  tuple/lazy list>
+000107d0: 203a 3a20 3c76 6172 3e20 3a3a 203c 6c69   :: <var> :: <li
+000107e0: 7374 2f74 7570 6c65 2f6c 617a 7920 6c69  st/tuple/lazy li
+000107f0: 7374 3e20 3a3a 203c 7661 723e 203a 3a20  st> :: <var> :: 
+00010800: 3c6c 6973 742f 7475 706c 652f 6c61 7a79  <list/tuple/lazy
+00010810: 206c 6973 743e 6029 3a20 7361 6d65 2061   list>`): same a
+00010820: 7320 6f74 6865 7220 7365 7175 656e 6365  s other sequence
+00010830: 2064 6573 7472 7563 7475 7269 6e67 2c20   destructuring, 
+00010840: 6275 7420 776f 726b 7320 6f6e 2061 6e79  but works on any
+00010850: 2069 7465 7261 626c 6520 2860 636f 6c6c   iterable (`coll
+00010860: 6563 7469 6f6e 732e 6162 632e 4974 6572  ections.abc.Iter
+00010870: 6162 6c65 6029 2c20 696e 636c 7564 696e  able`), includin
+00010880: 6720 696e 6669 6e69 7465 2069 7465 7261  g infinite itera
+00010890: 746f 7273 2028 6e6f 7465 2074 6861 7420  tors (note that 
+000108a0: 6966 2061 6e20 6974 6572 6174 6f72 2069  if an iterator i
+000108b0: 7320 6d61 7463 6865 6420 6167 6169 6e73  s matched agains
+000108c0: 7420 6974 2077 696c 6c20 6265 206d 6f64  t it will be mod
+000108d0: 6966 6965 6420 756e 6c65 7373 2069 7420  ified unless it 
+000108e0: 6973 205b 6072 6569 7465 7261 626c 6560  is [`reiterable`
+000108f0: 5d28 2372 6569 7465 7261 626c 6529 292e  ](#reiterable)).
+00010900: 0d0a 2020 2d20 436f 6d70 6c65 7820 5374  ..  - Complex St
+00010910: 7269 6e67 204d 6174 6368 696e 6720 2860  ring Matching (`
+00010920: 3c73 7472 696e 673e 202b 203c 7661 723e  <string> + <var>
+00010930: 202b 203c 7374 7269 6e67 3e20 2b20 3c76   + <string> + <v
+00010940: 6172 3e20 2b20 3c73 7472 696e 673e 6029  ar> + <string>`)
+00010950: 3a20 7374 7269 6e67 206d 6174 6368 696e  : string matchin
+00010960: 6720 7375 7070 6f72 7473 2074 6865 2073  g supports the s
+00010970: 616d 6520 6465 7374 7275 6374 7572 696e  ame destructurin
+00010980: 6720 6f70 7469 6f6e 7320 6173 2061 626f  g options as abo
+00010990: 7665 2e0d 0a0d 0a5f 4e6f 7465 3a20 4c69  ve....._Note: Li
+000109a0: 6b65 205b 6974 6572 6174 6f72 2073 6c69  ke [iterator sli
+000109b0: 6369 6e67 5d28 2369 7465 7261 746f 722d  cing](#iterator-
+000109c0: 736c 6963 696e 6729 2c20 6974 6572 6174  slicing), iterat
+000109d0: 6f72 2061 6e64 206c 617a 7920 6c69 7374  or and lazy list
+000109e0: 206d 6174 6368 696e 6720 6d61 6b65 206e   matching make n
+000109f0: 6f20 6775 6172 616e 7465 6520 7468 6174  o guarantee that
+00010a00: 2074 6865 206f 7269 6769 6e61 6c20 6974   the original it
+00010a10: 6572 6174 6f72 206d 6174 6368 6564 2061  erator matched a
+00010a20: 6761 696e 7374 2062 6520 7072 6573 6572  gainst be preser
+00010a30: 7665 6420 2874 6f20 7072 6573 6572 7665  ved (to preserve
+00010a40: 2074 6865 2069 7465 7261 746f 722c 2075   the iterator, u
+00010a50: 7365 2043 6f63 6f6e 7574 2773 205b 6072  se Coconut's [`r
+00010a60: 6569 7465 7261 626c 6560 5d28 2372 6569  eiterable`](#rei
+00010a70: 7465 7261 626c 6529 2062 7569 6c74 2d69  terable) built-i
+00010a80: 6e29 2e5f 0d0a 0d0a 5768 656e 2063 6865  n)._....When che
+00010a90: 636b 696e 6720 7768 6574 6865 7220 6f72  cking whether or
+00010aa0: 206e 6f74 2061 6e20 6f62 6a65 6374 2063   not an object c
+00010ab0: 616e 2062 6520 6d61 7463 6865 6420 6167  an be matched ag
+00010ac0: 6169 6e73 7420 696e 2061 2070 6172 7469  ainst in a parti
+00010ad0: 6375 6c61 7220 6661 7368 696f 6e2c 2043  cular fashion, C
+00010ae0: 6f63 6f6e 7574 206d 616b 6573 2075 7365  oconut makes use
+00010af0: 206f 6620 5079 7468 6f6e 2773 2061 6273   of Python's abs
+00010b00: 7472 6163 7420 6261 7365 2063 6c61 7373  tract base class
+00010b10: 6573 2e20 5468 6572 6566 6f72 652c 2074  es. Therefore, t
+00010b20: 6f20 656e 7375 7265 2070 726f 7065 7220  o ensure proper 
+00010b30: 6d61 7463 6869 6e67 2066 6f72 2061 2063  matching for a c
+00010b40: 7573 746f 6d20 6f62 6a65 6374 2c20 6974  ustom object, it
+00010b50: 2773 2072 6563 6f6d 6d65 6e64 6564 2074  's recommended t
+00010b60: 6f20 7265 6769 7374 6572 2069 7420 7769  o register it wi
+00010b70: 7468 2074 6865 2070 726f 7065 7220 6162  th the proper ab
+00010b80: 7374 7261 6374 2062 6173 6520 636c 6173  stract base clas
+00010b90: 7365 732e 0d0a 0d0a 2323 2323 2320 4578  ses.....##### Ex
+00010ba0: 616d 706c 6573 0d0a 0d0a 2a2a 436f 636f  amples....**Coco
+00010bb0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00010bc0: 7574 0d0a 6465 6620 6661 6374 6f72 6961  ut..def factoria
+00010bd0: 6c28 7661 6c75 6529 3a0d 0a20 2020 206d  l(value):..    m
+00010be0: 6174 6368 2030 2069 6e20 7661 6c75 653a  atch 0 in value:
+00010bf0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00010c00: 2031 0d0a 2020 2020 656c 7365 3a20 6d61   1..    else: ma
+00010c10: 7463 6820 6e20 6069 7369 6e73 7461 6e63  tch n `isinstanc
+00010c20: 6560 2069 6e74 2069 6e20 7661 6c75 6520  e` int in value 
+00010c30: 6966 206e 203e 2030 3a20 2023 2043 6f63  if n > 0:  # Coc
+00010c40: 6f6e 7574 2061 6c6c 6f77 7320 6e65 7374  onut allows nest
+00010c50: 696e 6720 6f66 2073 7461 7465 6d65 6e74  ing of statement
+00010c60: 7320 6f6e 2074 6865 2073 616d 6520 6c69  s on the same li
+00010c70: 6e65 0d0a 2020 2020 2020 2020 7265 7475  ne..        retu
+00010c80: 726e 206e 202a 2066 6163 746f 7269 616c  rn n * factorial
+00010c90: 286e 2d31 290d 0a20 2020 2065 6c73 653a  (n-1)..    else:
+00010ca0: 0d0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
+00010cb0: 5479 7065 4572 726f 7228 2269 6e76 616c  TypeError("inval
+00010cc0: 6964 2061 7267 756d 656e 7420 746f 2066  id argument to f
+00010cd0: 6163 746f 7269 616c 206f 663a 2022 2b72  actorial of: "+r
+00010ce0: 6570 7228 7661 6c75 6529 290d 0a0d 0a33  epr(value))....3
+00010cf0: 207c 3e20 6661 6374 6f72 6961 6c20 7c3e   |> factorial |>
+00010d00: 2070 7269 6e74 0d0a 6060 600d 0a5f 5368   print..```.._Sh
+00010d10: 6f77 6361 7365 7320 6065 6c73 6560 2073  owcases `else` s
+00010d20: 7461 7465 6d65 6e74 732c 2077 6869 6368  tatements, which
+00010d30: 2077 6f72 6b20 6d75 6368 206c 696b 6520   work much like 
+00010d40: 6065 6c73 6560 2073 7461 7465 6d65 6e74  `else` statement
+00010d50: 7320 696e 2050 7974 686f 6e3a 2074 6865  s in Python: the
+00010d60: 2063 6f64 6520 756e 6465 7220 616e 2060   code under an `
+00010d70: 656c 7365 6020 7374 6174 656d 656e 7420  else` statement 
+00010d80: 6973 206f 6e6c 7920 6578 6563 7574 6564  is only executed
+00010d90: 2069 6620 7468 6520 636f 7272 6573 706f   if the correspo
+00010da0: 6e64 696e 6720 6d61 7463 6820 6661 696c  nding match fail
+00010db0: 732e 5f0d 0a0d 0a60 6060 636f 636f 6e75  s._....```coconu
+00010dc0: 740d 0a64 6174 6120 706f 696e 7428 782c  t..data point(x,
+00010dd0: 2079 293a 0d0a 2020 2020 6465 6620 7472   y):..    def tr
+00010de0: 616e 7366 6f72 6d28 7365 6c66 2c20 6f74  ansform(self, ot
+00010df0: 6865 7229 3a0d 0a20 2020 2020 2020 206d  her):..        m
+00010e00: 6174 6368 2070 6f69 6e74 2878 2c20 7929  atch point(x, y)
+00010e10: 2069 6e20 6f74 6865 723a 0d0a 2020 2020   in other:..    
+00010e20: 2020 2020 2020 2020 7265 7475 726e 2070          return p
+00010e30: 6f69 6e74 2873 656c 662e 7820 2b20 782c  oint(self.x + x,
+00010e40: 2073 656c 662e 7920 2b20 7929 0d0a 2020   self.y + y)..  
+00010e50: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+00010e60: 2020 2020 2020 2020 2072 6169 7365 2054           raise T
+00010e70: 7970 6545 7272 6f72 2822 6172 6720 746f  ypeError("arg to
+00010e80: 2074 7261 6e73 666f 726d 206d 7573 7420   transform must 
+00010e90: 6265 2061 2070 6f69 6e74 2229 0d0a 0d0a  be a point")....
+00010ea0: 706f 696e 7428 312c 3229 207c 3e20 706f  point(1,2) |> po
+00010eb0: 696e 7428 332c 3429 2e74 7261 6e73 666f  int(3,4).transfo
+00010ec0: 726d 207c 3e20 7072 696e 740d 0a70 6f69  rm |> print..poi
+00010ed0: 6e74 2831 2c32 2920 7c3e 2028 3d3d 2924  nt(1,2) |> (==)$
+00010ee0: 2870 6f69 6e74 2831 2c32 2929 207c 3e20  (point(1,2)) |> 
+00010ef0: 7072 696e 740d 0a60 6060 0d0a 5f53 686f  print..```.._Sho
+00010f00: 7763 6173 6573 206d 6174 6368 696e 6720  wcases matching 
+00010f10: 746f 2064 6174 6120 7479 7065 7320 616e  to data types an
+00010f20: 6420 7468 6520 6465 6661 756c 7420 6571  d the default eq
+00010f30: 7561 6c69 7479 206f 7065 7261 746f 722e  uality operator.
+00010f40: 2056 616c 7565 7320 6465 6669 6e65 6420   Values defined 
+00010f50: 6279 2074 6865 2075 7365 7220 7769 7468  by the user with
+00010f60: 2074 6865 2060 6461 7461 6020 7374 6174   the `data` stat
+00010f70: 656d 656e 7420 6361 6e20 6265 206d 6174  ement can be mat
+00010f80: 6368 6564 2061 6761 696e 7374 2061 6e64  ched against and
+00010f90: 2074 6865 6972 2063 6f6e 7465 6e74 7320   their contents 
+00010fa0: 6163 6365 7373 6564 2062 7920 7370 6563  accessed by spec
+00010fb0: 6966 6963 616c 6c79 2072 6566 6572 656e  ifically referen
+00010fc0: 6369 6e67 2061 7267 756d 656e 7473 2074  cing arguments t
+00010fd0: 6f20 7468 6520 6461 7461 2074 7970 6527  o the data type'
+00010fe0: 7320 636f 6e73 7472 7563 746f 722e 5f0d  s constructor._.
+00010ff0: 0a0d 0a60 6060 636f 636f 6e75 740d 0a63  ...```coconut..c
+00011000: 6c61 7373 2054 7265 650d 0a64 6174 6120  lass Tree..data 
+00011010: 456d 7074 7928 2920 6672 6f6d 2054 7265  Empty() from Tre
+00011020: 650d 0a64 6174 6120 4c65 6166 286e 2920  e..data Leaf(n) 
+00011030: 6672 6f6d 2054 7265 650d 0a64 6174 6120  from Tree..data 
+00011040: 4e6f 6465 286c 2c20 7229 2066 726f 6d20  Node(l, r) from 
+00011050: 5472 6565 0d0a 0d0a 6465 6620 6465 7074  Tree....def dept
+00011060: 6828 5472 6565 2829 2920 3d20 300d 0a0d  h(Tree()) = 0...
+00011070: 0a61 6464 7061 7474 6572 6e20 6465 6620  .addpattern def 
+00011080: 6465 7074 6828 5472 6565 286e 2929 203d  depth(Tree(n)) =
+00011090: 2031 0d0a 0d0a 6164 6470 6174 7465 726e   1....addpattern
+000110a0: 2064 6566 2064 6570 7468 2854 7265 6528   def depth(Tree(
+000110b0: 6c2c 2072 2929 203d 2031 202b 206d 6178  l, r)) = 1 + max
+000110c0: 285b 6465 7074 6828 6c29 2c20 6465 7074  ([depth(l), dept
+000110d0: 6828 7229 5d29 0d0a 0d0a 456d 7074 7928  h(r)])....Empty(
+000110e0: 2920 7c3e 2064 6570 7468 207c 3e20 7072  ) |> depth |> pr
+000110f0: 696e 740d 0a4c 6561 6628 3529 207c 3e20  int..Leaf(5) |> 
+00011100: 6465 7074 6820 7c3e 2070 7269 6e74 0d0a  depth |> print..
+00011110: 4e6f 6465 284c 6561 6628 3229 2c20 4e6f  Node(Leaf(2), No
+00011120: 6465 2845 6d70 7479 2829 2c20 4c65 6166  de(Empty(), Leaf
+00011130: 2833 2929 2920 7c3e 2064 6570 7468 207c  (3))) |> depth |
+00011140: 3e20 7072 696e 740d 0a60 6060 0d0a 5f53  > print..```.._S
+00011150: 686f 7763 6173 6573 2068 6f77 2074 6865  howcases how the
+00011160: 2063 6f6d 6269 6e61 7469 6f6e 206f 6620   combination of 
+00011170: 6461 7461 2074 7970 6573 2061 6e64 206d  data types and m
+00011180: 6174 6368 2073 7461 7465 6d65 6e74 7320  atch statements 
+00011190: 6361 6e20 6265 2075 7365 6420 746f 2070  can be used to p
+000111a0: 6f77 6572 6675 6c20 6566 6665 6374 2074  owerful effect t
+000111b0: 6f20 7265 706c 6963 6174 6520 7468 6520  o replicate the 
+000111c0: 7573 6167 6520 6f66 2061 6c67 6562 7261  usage of algebra
+000111d0: 6963 2064 6174 6120 7479 7065 7320 696e  ic data types in
+000111e0: 206f 7468 6572 2066 756e 6374 696f 6e61   other functiona
+000111f0: 6c20 7072 6f67 7261 6d6d 696e 6720 6c61  l programming la
+00011200: 6e67 7561 6765 732e 5f0d 0a0d 0a60 6060  nguages._....```
+00011210: 636f 636f 6e75 740d 0a64 6566 2064 7570  coconut..def dup
+00011220: 6c69 6361 7465 5f66 6972 7374 285b 785d  licate_first([x]
+00011230: 202b 2078 7320 6173 206c 2920 3d0d 0a20   + xs as l) =.. 
+00011240: 2020 205b 785d 202b 206c 0d0a 0d0a 5b31     [x] + l....[1
+00011250: 2c32 2c33 5d20 7c3e 2064 7570 6c69 6361  ,2,3] |> duplica
+00011260: 7465 5f66 6972 7374 207c 3e20 7072 696e  te_first |> prin
+00011270: 740d 0a60 6060 0d0a 5f53 686f 7763 6173  t..```.._Showcas
+00011280: 6573 2068 6561 642d 7461 696c 2073 706c  es head-tail spl
+00011290: 6974 7469 6e67 2c20 6f6e 6520 6f66 2074  itting, one of t
+000112a0: 6865 206d 6f73 7420 636f 6d6d 6f6e 2075  he most common u
+000112b0: 7365 7320 6f66 2070 6174 7465 726e 2d6d  ses of pattern-m
+000112c0: 6174 6368 696e 672c 2077 6865 7265 2061  atching, where a
+000112d0: 2060 2b20 3c76 6172 3e60 2028 6f72 2060   `+ <var>` (or `
+000112e0: 3a3a 203c 7661 723e 6020 666f 7220 616e  :: <var>` for an
+000112f0: 7920 6974 6572 6162 6c65 2920 6174 2074  y iterable) at t
+00011300: 6865 2065 6e64 206f 6620 6120 6c69 7374  he end of a list
+00011310: 206f 7220 7475 706c 6520 6c69 7465 7261   or tuple litera
+00011320: 6c20 6361 6e20 6265 2075 7365 6420 746f  l can be used to
+00011330: 206d 6174 6368 2074 6865 2072 6573 7420   match the rest 
+00011340: 6f66 2074 6865 2073 6571 7565 6e63 652e  of the sequence.
+00011350: 5f0d 0a0d 0a60 6060 0d0a 6465 6620 7369  _....```..def si
+00011360: 6576 6528 5b68 6561 645d 203a 3a20 7461  eve([head] :: ta
+00011370: 696c 2920 3d0d 0a20 2020 205b 6865 6164  il) =..    [head
+00011380: 5d20 3a3a 2073 6965 7665 286e 2066 6f72  ] :: sieve(n for
+00011390: 206e 2069 6e20 7461 696c 2069 6620 6e20   n in tail if n 
+000113a0: 2520 6865 6164 290d 0a0d 0a61 6464 7061  % head)....addpa
+000113b0: 7474 6572 6e20 6465 6620 7369 6576 6528  ttern def sieve(
+000113c0: 287c 7c29 2920 3d20 5b5d 0d0a 6060 600d  (||)) = []..```.
+000113d0: 0a5f 5368 6f77 6361 7365 7320 686f 7720  ._Showcases how 
+000113e0: 746f 206d 6174 6368 2061 6761 696e 7374  to match against
+000113f0: 2069 7465 7261 746f 7273 2c20 6e61 6d65   iterators, name
+00011400: 6c79 2074 6861 7420 7468 6520 656d 7074  ly that the empt
+00011410: 7920 6974 6572 6174 6f72 2063 6173 6520  y iterator case 
+00011420: 2860 287c 7c29 6029 206d 7573 7420 636f  (`(||)`) must co
+00011430: 6d65 206c 6173 742c 206f 7468 6572 7769  me last, otherwi
+00011440: 7365 2074 6861 7420 6361 7365 2077 696c  se that case wil
+00011450: 6c20 6578 6861 7573 7420 7468 6520 7768  l exhaust the wh
+00011460: 6f6c 6520 6974 6572 6174 6f72 2062 6566  ole iterator bef
+00011470: 6f72 6520 616e 7920 6f74 6865 7220 7061  ore any other pa
+00011480: 7474 6572 6e20 6861 7320 6120 6368 616e  ttern has a chan
+00011490: 6365 2074 6f20 6d61 7463 6820 6167 6169  ce to match agai
+000114a0: 6e73 7420 6974 2e5f 0d0a 0d0a 6060 600d  nst it._....```.
+000114b0: 0a64 6566 206f 6464 5f70 7269 6d65 7328  .def odd_primes(
+000114c0: 703d 3329 203d 0d0a 2020 2020 2870 2c29  p=3) =..    (p,)
+000114d0: 203a 3a20 6669 6c74 6572 282d 3e20 5f20   :: filter(-> _ 
+000114e0: 2520 7020 213d 2030 2c20 6f64 645f 7072  % p != 0, odd_pr
+000114f0: 696d 6573 2870 202b 2032 2929 0d0a 0d0a  imes(p + 2))....
+00011500: 6465 6620 7072 696d 6573 2829 203d 0d0a  def primes() =..
+00011510: 2020 2020 2832 2c29 203a 3a20 6f64 645f      (2,) :: odd_
+00011520: 7072 696d 6573 2829 0d0a 0d0a 6465 6620  primes()....def 
+00011530: 7477 696e 5f70 7269 6d65 7328 5f20 3a3a  twin_primes(_ ::
+00011540: 205b 702c 2028 2e2d 3229 202d 3e20 705d   [p, (.-2) -> p]
+00011550: 203a 3a20 7073 2920 3d0d 0a20 2020 205b   :: ps) =..    [
+00011560: 2870 2c20 702b 3229 5d20 3a3a 2074 7769  (p, p+2)] :: twi
+00011570: 6e5f 7072 696d 6573 285b 7020 2b20 325d  n_primes([p + 2]
+00011580: 203a 3a20 7073 290d 0a0d 0a61 6464 7061   :: ps)....addpa
+00011590: 7474 6572 6e20 6465 6620 7477 696e 5f70  ttern def twin_p
+000115a0: 7269 6d65 7328 2920 3d20 2023 2074 7970  rimes() =  # typ
+000115b0: 653a 2069 676e 6f72 650d 0a20 2020 2074  e: ignore..    t
+000115c0: 7769 6e5f 7072 696d 6573 2870 7269 6d65  win_primes(prime
+000115d0: 7328 2929 0d0a 0d0a 7477 696e 5f70 7269  s())....twin_pri
+000115e0: 6d65 7328 2924 5b3a 355d 207c 3e20 6c69  mes()$[:5] |> li
+000115f0: 7374 207c 3e20 7072 696e 740d 0a60 6060  st |> print..```
+00011600: 0d0a 5f53 686f 7763 6173 6573 2074 6865  .._Showcases the
+00011610: 2075 7365 206f 6620 616e 2069 7465 7261   use of an itera
+00011620: 626c 6520 7365 6172 6368 2070 6174 7465  ble search patte
+00011630: 726e 2061 6e64 2061 2076 6965 7720 7061  rn and a view pa
+00011640: 7474 6572 6e20 746f 2063 6f6e 7374 7275  ttern to constru
+00011650: 6374 2061 6e20 6974 6572 6174 6f72 206f  ct an iterator o
+00011660: 6620 616c 6c20 7477 696e 2070 7269 6d65  f all twin prime
+00011670: 732e 5f0d 0a0d 0a2a 2a50 7974 686f 6e3a  s._....**Python:
+00011680: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
+00011690: 6e65 2077 6974 686f 7574 2061 206c 6f6e  ne without a lon
+000116a0: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
+000116b0: 6b73 2066 6f72 2065 6163 6820 606d 6174  ks for each `mat
+000116c0: 6368 6020 7374 6174 656d 656e 742e 2053  ch` statement. S
+000116d0: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+000116e0: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+000116f0: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+00011700: 2323 2320 6063 6173 6560 0d0a 0d0a 436f  ### `case`....Co
+00011710: 636f 6e75 7427 7320 6063 6173 6560 2062  conut's `case` b
+00011720: 6c6f 636b 7320 7365 7276 6520 6173 2061  locks serve as a
+00011730: 6e20 6578 7465 6e73 696f 6e20 6f66 2043  n extension of C
+00011740: 6f63 6f6e 7574 2773 2060 6d61 7463 6860  oconut's `match`
+00011750: 2073 7461 7465 6d65 6e74 2066 6f72 2070   statement for p
+00011760: 6572 666f 726d 696e 6720 6d75 6c74 6970  erforming multip
+00011770: 6c65 2060 6d61 7463 6860 2073 7461 7465  le `match` state
+00011780: 6d65 6e74 7320 6167 6169 6e73 7420 7468  ments against th
+00011790: 6520 7361 6d65 2076 616c 7565 2c20 7768  e same value, wh
+000117a0: 6572 6520 6f6e 6c79 206f 6e65 206f 6620  ere only one of 
+000117b0: 7468 656d 2073 686f 756c 6420 7375 6363  them should succ
+000117c0: 6565 642e 2055 6e6c 696b 6520 6c6f 6e65  eed. Unlike lone
+000117d0: 2060 6d61 7463 6860 2073 7461 7465 6d65   `match` stateme
+000117e0: 6e74 732c 206f 6e6c 7920 6f6e 6520 6d61  nts, only one ma
+000117f0: 7463 6820 7374 6174 656d 656e 7420 696e  tch statement in
+00011800: 7369 6465 206f 6620 6120 6063 6173 6560  side of a `case`
+00011810: 2062 6c6f 636b 2077 696c 6c20 6576 6572   block will ever
+00011820: 2073 7563 6365 6564 2c20 616e 6420 7468   succeed, and th
+00011830: 7573 206d 6f72 6520 6765 6e65 7261 6c20  us more general 
+00011840: 6d61 7463 6865 7320 7368 6f75 6c64 2062  matches should b
+00011850: 6520 7075 7420 6265 6c6f 7720 6d6f 7265  e put below more
+00011860: 2073 7065 6369 6669 6320 6f6e 6573 2e0d   specific ones..
+00011870: 0a0d 0a43 6f63 6f6e 7574 2773 2060 6361  ...Coconut's `ca
+00011880: 7365 6020 626c 6f63 6b73 2061 7265 2061  se` blocks are a
+00011890: 6e20 6578 7465 6e73 696f 6e20 6f66 2050  n extension of P
+000118a0: 7974 686f 6e20 332e 3130 2773 205b 6063  ython 3.10's [`c
+000118b0: 6173 6560 2062 6c6f 636b 735d 2868 7474  ase` blocks](htt
+000118c0: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+000118d0: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+000118e0: 2d30 3633 3429 2074 6f20 7375 7070 6f72  -0634) to suppor
+000118f0: 7420 6164 6469 7469 6f6e 616c 2070 6174  t additional pat
+00011900: 7465 726e 2d6d 6174 6368 696e 6720 636f  tern-matching co
+00011910: 6e73 7472 7563 7473 2061 6464 6564 2062  nstructs added b
+00011920: 7920 436f 636f 6e75 7420 2861 6e64 2043  y Coconut (and C
+00011930: 6f63 6f6e 7574 2077 696c 6c20 656e 7375  oconut will ensu
+00011940: 7265 2074 6861 7420 7468 6579 2077 6f72  re that they wor
+00011950: 6b20 6f6e 2061 6c6c 2050 7974 686f 6e20  k on all Python 
+00011960: 7665 7273 696f 6e73 2c20 6e6f 7420 6a75  versions, not ju
+00011970: 7374 2033 2e31 302b 292e 0d0a 0d0a 4561  st 3.10+).....Ea
+00011980: 6368 2070 6174 7465 726e 2069 6e20 6120  ch pattern in a 
+00011990: 6361 7365 2062 6c6f 636b 2069 7320 6368  case block is ch
+000119a0: 6563 6b65 6420 756e 7469 6c20 6120 6d61  ecked until a ma
+000119b0: 7463 6820 6973 2066 6f75 6e64 2c20 616e  tch is found, an
+000119c0: 6420 7468 656e 2074 6865 2063 6f72 7265  d then the corre
+000119d0: 7370 6f6e 6469 6e67 2062 6f64 7920 6973  sponding body is
+000119e0: 2065 7865 6375 7465 642c 2061 6e64 2074   executed, and t
+000119f0: 6865 2063 6173 6520 626c 6f63 6b20 7465  he case block te
+00011a00: 726d 696e 6174 6564 2e20 5468 6520 7379  rminated. The sy
+00011a10: 6e74 6178 2066 6f72 2063 6173 6520 626c  ntax for case bl
+00011a20: 6f63 6b73 2069 730d 0a60 6060 636f 636f  ocks is..```coco
+00011a30: 6e75 740d 0a6d 6174 6368 203c 7661 6c75  nut..match <valu
+00011a40: 653e 3a0d 0a20 2020 2063 6173 6520 3c70  e>:..    case <p
+00011a50: 6174 7465 726e 3e20 5b69 6620 3c63 6f6e  attern> [if <con
+00011a60: 643e 5d3a 0d0a 2020 2020 2020 2020 3c62  d>]:..        <b
+00011a70: 6f64 793e 0d0a 2020 2020 6361 7365 203c  ody>..    case <
+00011a80: 7061 7474 6572 6e3e 205b 6966 203c 636f  pattern> [if <co
+00011a90: 6e64 3e5d 3a0d 0a20 2020 2020 2020 203c  nd>]:..        <
+00011aa0: 626f 6479 3e0d 0a20 2020 202e 2e2e 0d0a  body>..    .....
+00011ab0: 5b65 6c73 653a 0d0a 2020 2020 3c62 6f64  [else:..    <bod
+00011ac0: 793e 5d0d 0a60 6060 0d0a 7768 6572 6520  y>]..```..where 
+00011ad0: 603c 7061 7474 6572 6e3e 6020 6973 2061  `<pattern>` is a
+00011ae0: 6e79 2060 6d61 7463 6860 2070 6174 7465  ny `match` patte
+00011af0: 726e 2c20 603c 7661 6c75 653e 6020 6973  rn, `<value>` is
+00011b00: 2074 6865 2069 7465 6d20 746f 206d 6174   the item to mat
+00011b10: 6368 2061 6761 696e 7374 2c20 603c 636f  ch against, `<co
+00011b20: 6e64 3e60 2069 7320 616e 206f 7074 696f  nd>` is an optio
+00011b30: 6e61 6c20 6164 6469 7469 6f6e 616c 2063  nal additional c
+00011b40: 6865 636b 2c20 616e 6420 603c 626f 6479  heck, and `<body
+00011b50: 3e60 2069 7320 7369 6d70 6c79 2063 6f64  >` is simply cod
+00011b60: 6520 7468 6174 2069 7320 6578 6563 7574  e that is execut
+00011b70: 6564 2069 6620 7468 6520 6865 6164 6572  ed if the header
+00011b80: 2061 626f 7665 2069 7420 7375 6363 6565   above it succee
+00011b90: 6473 2e20 4e6f 7465 2074 6865 2061 6273  ds. Note the abs
+00011ba0: 656e 6365 206f 6620 616e 2060 696e 6020  ence of an `in` 
+00011bb0: 696e 2074 6865 2060 6d61 7463 6860 2073  in the `match` s
+00011bc0: 7461 7465 6d65 6e74 733a 2074 6861 7427  tatements: that'
+00011bd0: 7320 6265 6361 7573 6520 7468 6520 603c  s because the `<
+00011be0: 7661 6c75 653e 6020 696e 2060 6361 7365  value>` in `case
+00011bf0: 203c 7661 6c75 653e 6020 6973 2074 616b   <value>` is tak
+00011c00: 696e 6720 6974 7320 706c 6163 652e 2049  ing its place. I
+00011c10: 6620 6e6f 2060 656c 7365 6020 6973 2070  f no `else` is p
+00011c20: 7265 7365 6e74 2061 6e64 206e 6f20 6d61  resent and no ma
+00011c30: 7463 6820 7375 6363 6565 6473 2c20 7468  tch succeeds, th
+00011c40: 656e 2074 6865 2060 6361 7365 6020 7374  en the `case` st
+00011c50: 6174 656d 656e 7420 6973 2073 696d 706c  atement is simpl
+00011c60: 7920 736b 6970 7065 6420 6f76 6572 2061  y skipped over a
+00011c70: 7320 7769 7468 205b 606d 6174 6368 6020  s with [`match` 
+00011c80: 7374 6174 656d 656e 7473 5d28 236d 6174  statements](#mat
+00011c90: 6368 2920 2874 686f 7567 6820 756e 6c69  ch) (though unli
+00011ca0: 6b65 205b 6465 7374 7275 6374 7572 696e  ke [destructurin
+00011cb0: 6720 6173 7369 676e 6d65 6e74 735d 2823  g assignments](#
+00011cc0: 6465 7374 7275 6374 7572 696e 672d 6173  destructuring-as
+00011cd0: 7369 676e 6d65 6e74 2929 2e0d 0a0d 0a41  signment)).....A
+00011ce0: 6464 6974 696f 6e61 6c6c 792c 2060 6361  dditionally, `ca
+00011cf0: 7365 7360 2063 616e 2062 6520 7573 6564  ses` can be used
+00011d00: 2061 7320 7468 6520 746f 702d 6c65 7665   as the top-leve
+00011d10: 6c20 6b65 7977 6f72 6420 696e 7374 6561  l keyword instea
+00011d20: 6420 6f66 2060 6d61 7463 6860 2c20 616e  d of `match`, an
+00011d30: 6420 696e 2073 7563 6820 6120 6063 6173  d in such a `cas
+00011d40: 6560 2062 6c6f 636b 2060 6d61 7463 6860  e` block `match`
+00011d50: 2069 7320 616c 6c6f 7765 6420 666f 7220   is allowed for 
+00011d60: 6561 6368 2063 6173 6520 7261 7468 6572  each case rather
+00011d70: 2074 6861 6e20 6063 6173 6560 2e20 5f44   than `case`. _D
+00011d80: 4550 5245 4341 5445 443a 2043 6f63 6f6e  EPRECATED: Cocon
+00011d90: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
+00011da0: 2060 6361 7365 6020 696e 7374 6561 6420   `case` instead 
+00011db0: 6f66 2060 6361 7365 7360 2061 7320 7468  of `cases` as th
+00011dc0: 6520 746f 702d 6c65 7665 6c20 6b65 7977  e top-level keyw
+00011dd0: 6f72 6420 666f 7220 6261 636b 7761 7264  ord for backward
+00011de0: 732d 636f 6d70 6174 6962 696c 6974 7920  s-compatibility 
+00011df0: 7075 7270 6f73 6573 2e5f 0d0a 0d0a 2323  purposes._....##
+00011e00: 2323 2320 4578 616d 706c 6573 0d0a 0d0a  ### Examples....
+00011e10: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+00011e20: 6063 6f63 6f6e 7574 0d0a 6465 6620 636c  `coconut..def cl
+00011e30: 6173 7369 6679 5f73 6571 7565 6e63 6528  assify_sequence(
+00011e40: 7661 6c75 6529 3a0d 0a20 2020 206f 7574  value):..    out
+00011e50: 203d 2022 2220 2020 2020 2020 2023 2075   = ""        # u
+00011e60: 6e6c 696b 6520 7769 7468 206e 6f72 6d61  nlike with norma
+00011e70: 6c20 6d61 7463 6865 732c 206f 6e6c 7920  l matches, only 
+00011e80: 6f6e 6520 6f66 2074 6865 2070 6174 7465  one of the patte
+00011e90: 726e 730d 0a20 2020 206d 6174 6368 2076  rns..    match v
+00011ea0: 616c 7565 3a20 2020 2020 2320 2077 696c  alue:     #  wil
+00011eb0: 6c20 6d61 7463 682c 2061 6e64 206f 7574  l match, and out
+00011ec0: 2077 696c 6c20 6f6e 6c79 2067 6574 2061   will only get a
+00011ed0: 7070 656e 6465 6420 746f 206f 6e63 650d  ppended to once.
+00011ee0: 0a20 2020 2020 2020 2063 6173 6520 2829  .        case ()
+00011ef0: 3a0d 0a20 2020 2020 2020 2020 2020 206f  :..            o
+00011f00: 7574 202b 3d20 2265 6d70 7479 220d 0a20  ut += "empty".. 
+00011f10: 2020 2020 2020 2063 6173 6520 285f 2c29         case (_,)
+00011f20: 3a0d 0a20 2020 2020 2020 2020 2020 206f  :..            o
+00011f30: 7574 202b 3d20 2273 696e 676c 6574 6f6e  ut += "singleton
+00011f40: 220d 0a20 2020 2020 2020 2063 6173 6520  "..        case 
+00011f50: 2878 2c78 293a 0d0a 2020 2020 2020 2020  (x,x):..        
+00011f60: 2020 2020 6f75 7420 2b3d 2022 6475 706c      out += "dupl
+00011f70: 6963 6174 6520 7061 6972 206f 6620 222b  icate pair of "+
+00011f80: 7374 7228 7829 0d0a 2020 2020 2020 2020  str(x)..        
+00011f90: 6361 7365 2028 5f2c 5f29 3a0d 0a20 2020  case (_,_):..   
+00011fa0: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
+00011fb0: 2270 6169 7222 0d0a 2020 2020 2020 2020  "pair"..        
+00011fc0: 6361 7365 205f 2069 7320 2874 7570 6c65  case _ is (tuple
+00011fd0: 2c20 6c69 7374 293a 0d0a 2020 2020 2020  , list):..      
+00011fe0: 2020 2020 2020 6f75 7420 2b3d 2022 7365        out += "se
+00011ff0: 7175 656e 6365 220d 0a20 2020 2065 6c73  quence"..    els
+00012000: 653a 0d0a 2020 2020 2020 2020 7261 6973  e:..        rais
+00012010: 6520 5479 7065 4572 726f 7228 290d 0a20  e TypeError().. 
+00012020: 2020 2072 6574 7572 6e20 6f75 740d 0a0d     return out...
+00012030: 0a5b 5d20 7c3e 2063 6c61 7373 6966 795f  .[] |> classify_
+00012040: 7365 7175 656e 6365 207c 3e20 7072 696e  sequence |> prin
+00012050: 740d 0a28 2920 7c3e 2063 6c61 7373 6966  t..() |> classif
+00012060: 795f 7365 7175 656e 6365 207c 3e20 7072  y_sequence |> pr
+00012070: 696e 740d 0a5b 315d 207c 3e20 636c 6173  int..[1] |> clas
+00012080: 7369 6679 5f73 6571 7565 6e63 6520 7c3e  sify_sequence |>
+00012090: 2070 7269 6e74 0d0a 2831 2c31 2920 7c3e   print..(1,1) |>
+000120a0: 2063 6c61 7373 6966 795f 7365 7175 656e   classify_sequen
+000120b0: 6365 207c 3e20 7072 696e 740d 0a28 312c  ce |> print..(1,
+000120c0: 3229 207c 3e20 636c 6173 7369 6679 5f73  2) |> classify_s
+000120d0: 6571 7565 6e63 6520 7c3e 2070 7269 6e74  equence |> print
+000120e0: 0d0a 2831 2c31 2c31 2920 7c3e 2063 6c61  ..(1,1,1) |> cla
+000120f0: 7373 6966 795f 7365 7175 656e 6365 207c  ssify_sequence |
+00012100: 3e20 7072 696e 740d 0a60 6060 0d0a 5f45  > print..```.._E
+00012110: 7861 6d70 6c65 206f 6620 7573 696e 6720  xample of using 
+00012120: 436f 636f 6e75 7427 7320 6063 6173 6560  Coconut's `case`
+00012130: 2073 796e 7461 782e 5f0d 0a60 6060 636f   syntax._..```co
+00012140: 636f 6e75 740d 0a63 6173 6573 207b 2261  conut..cases {"a
+00012150: 223a 2031 2c20 2262 223a 2032 7d3a 0d0a  ": 1, "b": 2}:..
+00012160: 2020 2020 6d61 7463 6820 7b22 6122 3a20      match {"a": 
+00012170: 617d 3a0d 0a20 2020 2020 2020 2070 6173  a}:..        pas
+00012180: 730d 0a20 2020 206d 6174 6368 205f 3a0d  s..    match _:.
+00012190: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
+000121a0: 4661 6c73 650d 0a61 7373 6572 7420 6120  False..assert a 
+000121b0: 3d3d 2031 0d0a 6060 600d 0a5f 4578 616d  == 1..```.._Exam
+000121c0: 706c 6520 6f66 2074 6865 2060 6361 7365  ple of the `case
+000121d0: 7360 206b 6579 776f 7264 2069 6e73 7465  s` keyword inste
+000121e0: 6164 2e5f 0d0a 0d0a 2a2a 5079 7468 6f6e  ad._....**Python
+000121f0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+00012200: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
+00012210: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
+00012220: 636b 7320 666f 7220 6561 6368 2060 6d61  cks for each `ma
+00012230: 7463 6860 2073 7461 7465 6d65 6e74 2e20  tch` statement. 
+00012240: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
+00012250: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
+00012260: 7468 6f6e 2073 796e 7461 782e 5f0d 0a0d  thon syntax._...
+00012270: 0a23 2323 2060 6d61 7463 6820 666f 7260  .### `match for`
+00012280: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
+00012290: 6f72 7473 2070 6174 7465 726e 2d6d 6174  orts pattern-mat
+000122a0: 6368 696e 6720 696e 2066 6f72 206c 6f6f  ching in for loo
+000122b0: 7073 2c20 7768 6572 6520 7468 6520 7061  ps, where the pa
+000122c0: 7474 6572 6e20 6973 206d 6174 6368 6564  ttern is matched
+000122d0: 2061 6761 696e 7374 2065 6163 6820 6974   against each it
+000122e0: 656d 2069 6e20 7468 6520 6974 6572 6162  em in the iterab
+000122f0: 6c65 2e20 5468 6520 7379 6e74 6178 2069  le. The syntax i
+00012300: 730d 0a60 6060 636f 636f 6e75 740d 0a5b  s..```coconut..[
+00012310: 6d61 7463 685d 2066 6f72 203c 7061 7474  match] for <patt
+00012320: 6572 6e3e 2069 6e20 3c69 7465 7261 626c  ern> in <iterabl
+00012330: 653e 3a0d 0a20 2020 203c 626f 6479 3e0d  e>:..    <body>.
+00012340: 0a60 6060 0d0a 7768 6963 6820 6973 2065  .```..which is e
+00012350: 7175 6976 616c 656e 7420 746f 2074 6865  quivalent to the
+00012360: 205b 6465 7374 7275 6374 7572 696e 6720   [destructuring 
+00012370: 6173 7369 676e 6d65 6e74 5d28 2364 6573  assignment](#des
+00012380: 7472 7563 7475 7269 6e67 2d61 7373 6967  tructuring-assig
+00012390: 6e6d 656e 7429 0d0a 6060 6063 6f63 6f6e  nment)..```cocon
+000123a0: 7574 0d0a 666f 7220 656c 656d 2069 6e20  ut..for elem in 
+000123b0: 3c69 7465 7261 626c 653e 3a0d 0a20 2020  <iterable>:..   
+000123c0: 206d 6174 6368 203c 7061 7474 6572 6e3e   match <pattern>
+000123d0: 203d 2065 6c65 6d0d 0a20 2020 203c 626f   = elem..    <bo
+000123e0: 6479 3e0d 0a60 6060 0d0a 0d0a 5061 7474  dy>..```....Patt
+000123f0: 6572 6e2d 6d61 7463 6869 6e67 2063 616e  ern-matching can
+00012400: 2061 6c73 6f20 6265 2075 7365 6420 696e   also be used in
+00012410: 2060 6173 796e 6320 666f 7260 206c 6f6f   `async for` loo
+00012420: 7073 2c20 7769 7468 2062 6f74 6820 6061  ps, with both `a
+00012430: 7379 6e63 206d 6174 6368 2066 6f72 6020  sync match for` 
+00012440: 616e 6420 606d 6174 6368 2061 7379 6e63  and `match async
+00012450: 2066 6f72 6020 616c 6c6f 7765 6420 6173   for` allowed as
+00012460: 2065 7870 6c69 6369 7420 7379 6e74 6178   explicit syntax
+00012470: 6573 2e0d 0a0d 0a23 2323 2323 2045 7861  es.....##### Exa
+00012480: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
+00012490: 743a 2a2a 0d0a 6060 600d 0a66 6f72 207b  t:**..```..for {
+000124a0: 2275 7365 7222 3a20 7569 642c 202a 2a5f  "user": uid, **_
+000124b0: 7d20 696e 2067 6574 5f64 6174 6128 293a  } in get_data():
+000124c0: 0d0a 2020 2020 7072 696e 7428 7569 6429  ..    print(uid)
+000124d0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+000124e0: 6e3a 2a2a 0d0a 6060 600d 0a66 6f72 2075  n:**..```..for u
+000124f0: 7365 725f 6461 7461 2069 6e20 6765 745f  ser_data in get_
+00012500: 6461 7461 2829 3a0d 0a20 2020 2075 6964  data():..    uid
+00012510: 203d 2075 7365 725f 6461 7461 5b22 7573   = user_data["us
+00012520: 6572 225d 0d0a 2020 2020 7072 696e 7428  er"]..    print(
+00012530: 7569 6429 0d0a 6060 600d 0a0d 0a23 2323  uid)..```....###
+00012540: 2060 6461 7461 600d 0a0d 0a43 6f63 6f6e   `data`....Cocon
+00012550: 7574 2773 2060 6461 7461 6020 6b65 7977  ut's `data` keyw
+00012560: 6f72 6420 6973 2075 7365 6420 746f 2063  ord is used to c
+00012570: 7265 6174 6520 696d 6d75 7461 626c 652c  reate immutable,
+00012580: 2061 6c67 6562 7261 6963 2064 6174 6120   algebraic data 
+00012590: 7479 7065 732c 2069 6e63 6c75 6469 6e67  types, including
+000125a0: 2062 7569 6c74 2d69 6e20 7375 7070 6f72   built-in suppor
+000125b0: 7420 666f 7220 6465 7374 7275 6374 7572  t for destructur
+000125c0: 696e 6720 5b70 6174 7465 726e 2d6d 6174  ing [pattern-mat
+000125d0: 6368 696e 675d 2823 6d61 7463 6829 2061  ching](#match) a
+000125e0: 6e64 205b 6066 6d61 7060 5d28 2366 6d61  nd [`fmap`](#fma
+000125f0: 7029 2e0d 0a0d 0a54 6865 2073 796e 7461  p).....The synta
+00012600: 7820 666f 7220 6064 6174 6160 2062 6c6f  x for `data` blo
+00012610: 636b 7320 6973 2061 2063 726f 7373 2062  cks is a cross b
+00012620: 6574 7765 656e 2074 6865 2073 796e 7461  etween the synta
+00012630: 7820 666f 7220 6675 6e63 7469 6f6e 7320  x for functions 
+00012640: 616e 6420 7468 6520 7379 6e74 6178 2066  and the syntax f
+00012650: 6f72 2063 6c61 7373 6573 2e20 5468 6520  or classes. The 
+00012660: 6669 7273 7420 6c69 6e65 206c 6f6f 6b73  first line looks
+00012670: 206c 696b 6520 6120 6675 6e63 7469 6f6e   like a function
+00012680: 2064 6566 696e 6974 696f 6e2c 2062 7574   definition, but
+00012690: 2074 6865 2072 6573 7420 6f66 2074 6865   the rest of the
+000126a0: 2062 6f64 7920 6c6f 6f6b 7320 6c69 6b65   body looks like
+000126b0: 2061 2063 6c61 7373 2c20 7573 7561 6c6c   a class, usuall
+000126c0: 7920 636f 6e74 6169 6e69 6e67 206d 6574  y containing met
+000126d0: 686f 6420 6465 6669 6e69 7469 6f6e 732e  hod definitions.
+000126e0: 2054 6869 7320 6973 2062 6563 6175 7365   This is because
+000126f0: 2077 6869 6c65 2060 6461 7461 6020 626c   while `data` bl
+00012700: 6f63 6b73 2061 6374 7561 6c6c 7920 656e  ocks actually en
+00012710: 6420 7570 2061 7320 636c 6173 7365 7320  d up as classes 
+00012720: 696e 2050 7974 686f 6e2c 2043 6f63 6f6e  in Python, Cocon
+00012730: 7574 2061 7574 6f6d 6174 6963 616c 6c79  ut automatically
+00012740: 2063 7265 6174 6573 2061 2073 7065 6369   creates a speci
+00012750: 616c 2c20 696d 6d75 7461 626c 6520 636f  al, immutable co
+00012760: 6e73 7472 7563 746f 7220 6261 7365 6420  nstructor based 
+00012770: 6f6e 2074 6865 2067 6976 656e 2061 7267  on the given arg
+00012780: 756d 656e 7473 2e0d 0a0d 0a43 6f63 6f6e  uments.....Cocon
+00012790: 7574 2064 6174 6120 7374 6174 656d 656e  ut data statemen
+000127a0: 7420 7379 6e74 6178 206c 6f6f 6b73 206c  t syntax looks l
+000127b0: 696b 653a 0d0a 6060 6063 6f63 6f6e 7574  ike:..```coconut
+000127c0: 0d0a 6461 7461 203c 6e61 6d65 3e28 3c61  ..data <name>(<a
+000127d0: 7267 733e 2920 5b66 726f 6d20 3c69 6e68  rgs>) [from <inh
+000127e0: 6572 6974 733e 5d3a 0d0a 2020 2020 3c62  erits>]:..    <b
+000127f0: 6f64 793e 0d0a 6060 600d 0a60 3c6e 616d  ody>..```..`<nam
+00012800: 653e 6020 6973 2074 6865 206e 616d 6520  e>` is the name 
+00012810: 6f66 2074 6865 206e 6577 2064 6174 6120  of the new data 
+00012820: 7479 7065 2c20 603c 6172 6773 3e60 2061  type, `<args>` a
+00012830: 7265 2074 6865 2061 7267 756d 656e 7473  re the arguments
+00012840: 2074 6f20 6974 7320 636f 6e73 7472 7563   to its construc
+00012850: 746f 7220 6173 2077 656c 6c20 6173 2074  tor as well as t
+00012860: 6865 206e 616d 6573 206f 6620 6974 7320  he names of its 
+00012870: 6174 7472 6962 7574 6573 2c20 603c 626f  attributes, `<bo
+00012880: 6479 3e60 2063 6f6e 7461 696e 7320 7468  dy>` contains th
+00012890: 6520 6461 7461 2074 7970 6527 7320 6d65  e data type's me
+000128a0: 7468 6f64 732c 2061 6e64 2060 3c69 6e68  thods, and `<inh
+000128b0: 6572 6974 733e 6020 6f70 7469 6f6e 616c  erits>` optional
+000128c0: 6c79 2063 6f6e 7461 696e 7320 616e 7920  ly contains any 
+000128d0: 6465 7369 7265 6420 6261 7365 2063 6c61  desired base cla
+000128e0: 7373 6573 2e0d 0a0d 0a43 6f63 6f6e 7574  sses.....Coconut
+000128f0: 2061 6c6c 6f77 7320 6461 7461 2066 6965   allows data fie
+00012900: 6c64 7320 696e 2060 3c61 7267 733e 6020  lds in `<args>` 
+00012910: 746f 2068 6176 6520 6465 6661 756c 7473  to have defaults
+00012920: 2061 6e64 2f6f 7220 5b74 7970 6520 616e   and/or [type an
+00012930: 6e6f 7461 7469 6f6e 735d 2823 656e 6861  notations](#enha
+00012940: 6e63 6564 2d74 7970 652d 616e 6e6f 7461  nced-type-annota
+00012950: 7469 6f6e 2920 6174 7461 6368 6564 2074  tion) attached t
+00012960: 6f20 7468 656d 2c20 616e 6420 7375 7070  o them, and supp
+00012970: 6f72 7473 2061 2073 7461 7272 6564 2070  orts a starred p
+00012980: 6172 616d 6574 6572 2061 7420 7468 6520  arameter at the 
+00012990: 656e 6420 746f 2063 6f6c 6c65 6374 2065  end to collect e
+000129a0: 7874 7261 2061 7267 756d 656e 7473 2e20  xtra arguments. 
+000129b0: 4164 6469 7469 6f6e 616c 6c79 2c20 436f  Additionally, Co
+000129c0: 636f 6e75 7420 616c 6c6f 7773 2074 7970  conut allows typ
+000129d0: 6520 7061 7261 6d65 7465 7273 2074 6f20  e parameters to 
+000129e0: 6265 2073 7065 6369 6669 6564 2069 6e20  be specified in 
+000129f0: 6272 6163 6b65 7473 2061 6674 6572 2060  brackets after `
+00012a00: 3c6e 616d 653e 6020 7573 696e 6720 436f  <name>` using Co
+00012a10: 636f 6e75 7427 7320 5b74 7970 6520 7061  conut's [type pa
+00012a20: 7261 6d65 7465 7220 7379 6e74 6178 5d28  rameter syntax](
+00012a30: 2374 7970 652d 7061 7261 6d65 7465 722d  #type-parameter-
+00012a40: 7379 6e74 6178 292e 0d0a 0d0a 5772 6974  syntax).....Writ
+00012a50: 696e 6720 636f 6e73 7472 7563 746f 7273  ing constructors
+00012a60: 2066 6f72 2060 6461 7461 6020 7479 7065   for `data` type
+00012a70: 7320 6d75 7374 2062 6520 646f 6e65 2075  s must be done u
+00012a80: 7369 6e67 2074 6865 2060 5f5f 6e65 775f  sing the `__new_
+00012a90: 5f60 206d 6574 686f 6420 696e 7374 6561  _` method instea
+00012aa0: 6420 6f66 2074 6865 2060 5f5f 696e 6974  d of the `__init
+00012ab0: 5f5f 6020 6d65 7468 6f64 2e20 466f 7220  __` method. For 
+00012ac0: 6865 6c70 696e 6720 746f 2065 6173 696c  helping to easil
+00012ad0: 7920 7772 6974 6520 605f 5f6e 6577 5f5f  y write `__new__
+00012ae0: 6020 6d65 7468 6f64 732c 2043 6f63 6f6e  ` methods, Cocon
+00012af0: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
+00012b00: 5b6d 616b 6564 6174 615d 2823 6d61 6b65  [makedata](#make
+00012b10: 6461 7461 2920 6275 696c 742d 696e 2e0d  data) built-in..
+00012b20: 0a0d 0a53 7562 636c 6173 7369 6e67 2060  ...Subclassing `
+00012b30: 6461 7461 6020 7479 7065 7320 6361 6e20  data` types can 
+00012b40: 6265 2064 6f6e 6520 6561 7369 6c79 2062  be done easily b
+00012b50: 7920 696e 6865 7269 7469 6e67 2066 726f  y inheriting fro
+00012b60: 6d20 7468 656d 2065 6974 6865 7220 696e  m them either in
+00012b70: 2061 6e6f 7468 6572 2060 6461 7461 6020   another `data` 
+00012b80: 7374 6174 656d 656e 7420 6f72 2061 206e  statement or a n
+00012b90: 6f72 6d61 6c20 5079 7468 6f6e 2060 636c  ormal Python `cl
+00012ba0: 6173 7360 2e20 4966 2061 206e 6f72 6d61  ass`. If a norma
+00012bb0: 6c20 6063 6c61 7373 6020 7374 6174 656d  l `class` statem
+00012bc0: 656e 7420 6973 2075 7365 642c 206d 616b  ent is used, mak
+00012bd0: 696e 6720 7468 6520 6e65 7720 7375 6263  ing the new subc
+00012be0: 6c61 7373 2069 6d6d 7574 6162 6c65 2077  lass immutable w
+00012bf0: 696c 6c20 7265 7175 6972 6520 6164 6469  ill require addi
+00012c00: 6e67 2074 6865 206c 696e 650d 0a60 6060  ng the line..```
+00012c10: 636f 636f 6e75 740d 0a5f 5f73 6c6f 7473  coconut..__slots
+00012c20: 5f5f 203d 2028 290d 0a60 6060 0d0a 7768  __ = ()..```..wh
+00012c30: 6963 6820 7769 6c6c 206e 6565 6420 746f  ich will need to
+00012c40: 2062 6520 7075 7420 696e 2074 6865 2073   be put in the s
+00012c50: 7562 636c 6173 7320 626f 6479 2062 6566  ubclass body bef
+00012c60: 6f72 6520 616e 7920 6d65 7468 6f64 206f  ore any method o
+00012c70: 7220 6174 7472 6962 7574 6520 6465 6669  r attribute defi
+00012c80: 6e69 7469 6f6e 732e 2049 6620 796f 7520  nitions. If you 
+00012c90: 6e65 6564 2074 6f20 696e 6865 7269 7420  need to inherit 
+00012ca0: 6d61 6769 6320 6d65 7468 6f64 7320 6672  magic methods fr
+00012cb0: 6f6d 2061 2062 6173 6520 636c 6173 7320  om a base class 
+00012cc0: 696e 2079 6f75 7220 6064 6174 6160 2074  in your `data` t
+00012cd0: 7970 652c 2073 7563 6820 7375 6263 6c61  ype, such subcla
+00012ce0: 7373 696e 6720 6973 2074 6865 2072 6563  ssing is the rec
+00012cf0: 6f6d 6d65 6e64 6564 206d 6574 686f 642c  ommended method,
+00012d00: 2061 7320 7468 6520 6064 6174 6120 2e2e   as the `data ..
+00012d10: 2e20 6672 6f6d 202e 2e2e 6020 7379 6e74  . from ...` synt
+00012d20: 6178 2077 696c 6c20 6f76 6572 7772 6974  ax will overwrit
+00012d30: 6520 616e 7920 6d61 6769 6320 6d65 7468  e any magic meth
+00012d40: 6f64 7320 696e 2074 6865 2062 6173 6520  ods in the base 
+00012d50: 636c 6173 7320 7769 7468 206d 6167 6963  class with magic
+00012d60: 206d 6574 686f 6473 2062 7569 6c74 2066   methods built f
+00012d70: 6f72 2074 6865 206e 6577 2060 6461 7461  or the new `data
+00012d80: 6020 7479 7065 2e0d 0a0d 0a43 6f6d 7061  ` type.....Compa
+00012d90: 7265 6420 746f 205b 606e 616d 6564 7475  red to [`namedtu
+00012da0: 706c 6560 735d 2823 616e 6f6e 796d 6f75  ple`s](#anonymou
+00012db0: 732d 6e61 6d65 6474 7570 6c65 7329 2c20  s-namedtuples), 
+00012dc0: 6672 6f6d 2077 6869 6368 2060 6461 7461  from which `data
+00012dd0: 6020 7479 7065 7320 6172 6520 6465 7269  ` types are deri
+00012de0: 7665 642c 2060 6461 7461 6020 7479 7065  ved, `data` type
+00012df0: 733a 0d0a 0d0a 2d20 7573 6520 7479 7065  s:....- use type
+00012e00: 6420 6571 7561 6c69 7479 2c0d 0a2d 2064  d equality,..- d
+00012e10: 6f6e 2774 2073 7570 706f 7274 2074 7570  on't support tup
+00012e20: 6c65 2061 6464 6974 696f 6e20 6f72 206d  le addition or m
+00012e30: 756c 7469 706c 6963 6174 696f 6e20 2875  ultiplication (u
+00012e40: 6e6c 6573 7320 6578 706c 6963 6974 6c79  nless explicitly
+00012e50: 2064 6566 696e 6564 2076 6961 2073 7065   defined via spe
+00012e60: 6369 616c 206d 6574 686f 6473 2069 6e20  cial methods in 
+00012e70: 7468 6520 6064 6174 6160 2062 6f64 7929  the `data` body)
+00012e80: 2c0d 0a2d 2073 7570 706f 7274 2073 7461  ,..- support sta
+00012e90: 7272 6564 2c20 7479 7065 642c 2061 6e64  rred, typed, and
+00012ea0: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
+00012eb0: 6e67 5d28 236d 6174 6368 2d64 6174 6129  ng](#match-data)
+00012ec0: 2061 7267 756d 656e 7473 2c20 616e 640d   arguments, and.
+00012ed0: 0a2d 2068 6176 6520 7370 6563 6961 6c20  .- have special 
+00012ee0: 5b70 6174 7465 726e 2d6d 6174 6368 696e  [pattern-matchin
+00012ef0: 675d 2823 6d61 7463 6829 2062 6568 6176  g](#match) behav
+00012f00: 696f 722e 0d0a 0d0a 4c69 6b65 205b 606e  ior.....Like [`n
+00012f10: 616d 6564 7475 706c 6560 735d 2868 7474  amedtuple`s](htt
+00012f20: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00012f30: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
+00012f40: 6f6c 6c65 6374 696f 6e73 2e68 746d 6c23  ollections.html#
+00012f50: 6e61 6d65 6474 7570 6c65 2d66 6163 746f  namedtuple-facto
+00012f60: 7279 2d66 756e 6374 696f 6e2d 666f 722d  ry-function-for-
+00012f70: 7475 706c 6573 2d77 6974 682d 6e61 6d65  tuples-with-name
+00012f80: 642d 6669 656c 6473 292c 2060 6461 7461  d-fields), `data
+00012f90: 6020 7479 7065 7320 616c 736f 2073 7570  ` types also sup
+00012fa0: 706f 7274 2061 2076 6172 6965 7479 206f  port a variety o
+00012fb0: 6620 6578 7472 6120 6d65 7468 6f64 732c  f extra methods,
+00012fc0: 2073 7563 6820 6173 205b 602e 5f61 7364   such as [`._asd
+00012fd0: 6963 7428 2960 5d28 6874 7470 733a 2f2f  ict()`](https://
+00012fe0: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
+00012ff0: 332f 6c69 6272 6172 792f 636f 6c6c 6563  3/library/collec
+00013000: 7469 6f6e 732e 6874 6d6c 2363 6f6c 6c65  tions.html#colle
+00013010: 6374 696f 6e73 2e73 6f6d 656e 616d 6564  ctions.somenamed
+00013020: 7475 706c 652e 5f61 7364 6963 7429 2061  tuple._asdict) a
+00013030: 6e64 205b 602e 5f72 6570 6c61 6365 282a  nd [`._replace(*
+00013040: 2a6b 7761 7267 7329 605d 2868 7474 7073  *kwargs)`](https
+00013050: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+00013060: 7267 2f33 2f6c 6962 7261 7279 2f63 6f6c  rg/3/library/col
+00013070: 6c65 6374 696f 6e73 2e68 746d 6c23 636f  lections.html#co
+00013080: 6c6c 6563 7469 6f6e 732e 736f 6d65 6e61  llections.somena
+00013090: 6d65 6474 7570 6c65 2e5f 7265 706c 6163  medtuple._replac
+000130a0: 6529 2e0d 0a0d 0a23 2323 2323 2052 6174  e).....##### Rat
+000130b0: 696f 6e61 6c65 0d0a 0d0a 4120 6d61 696e  ionale....A main
+000130c0: 7374 6179 206f 6620 6675 6e63 7469 6f6e  stay of function
+000130d0: 616c 2070 726f 6772 616d 6d69 6e67 2074  al programming t
+000130e0: 6861 7420 436f 636f 6e75 7420 696d 7072  hat Coconut impr
+000130f0: 6f76 6573 2069 6e20 5079 7468 6f6e 2069  oves in Python i
+00013100: 7320 7468 6520 7573 6520 6f66 2076 616c  s the use of val
+00013110: 7565 732c 206f 7220 696d 6d75 7461 626c  ues, or immutabl
+00013120: 6520 6461 7461 2074 7970 6573 2e20 496d  e data types. Im
+00013130: 6d75 7461 626c 6520 6461 7461 2063 616e  mutable data can
+00013140: 2062 6520 7665 7279 2075 7365 6675 6c20   be very useful 
+00013150: 6265 6361 7573 6520 6974 2067 7561 7261  because it guara
+00013160: 6e74 6565 7320 7468 6174 206f 6e63 6520  ntees that once 
+00013170: 796f 7520 6861 7665 2073 6f6d 6520 6461  you have some da
+00013180: 7461 2069 7420 776f 6e27 7420 6368 616e  ta it won't chan
+00013190: 6765 2c20 6275 7420 696e 2050 7974 686f  ge, but in Pytho
+000131a0: 6e20 6372 6561 7469 6e67 2063 7573 746f  n creating custo
+000131b0: 6d20 696d 6d75 7461 626c 6520 6461 7461  m immutable data
+000131c0: 2074 7970 6573 2069 7320 6469 6666 6963   types is diffic
+000131d0: 756c 742e 2043 6f63 6f6e 7574 206d 616b  ult. Coconut mak
+000131e0: 6573 2069 7420 7665 7279 2065 6173 7920  es it very easy 
+000131f0: 6279 2070 726f 7669 6469 6e67 2060 6461  by providing `da
+00013200: 7461 6020 626c 6f63 6b73 2e0d 0a0d 0a23  ta` blocks.....#
+00013210: 2323 2323 2045 7861 6d70 6c65 730d 0a0d  #### Examples...
+00013220: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+00013230: 6060 636f 636f 6e75 740d 0a64 6174 6120  ``coconut..data 
+00013240: 7665 6374 6f72 3228 783a 696e 743d 302c  vector2(x:int=0,
+00013250: 2079 3a69 6e74 3d30 293a 0d0a 2020 2020   y:int=0):..    
+00013260: 6465 6620 5f5f 6162 735f 5f28 7365 6c66  def __abs__(self
+00013270: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
+00013280: 726e 2028 7365 6c66 2e78 2a2a 3220 2b20  rn (self.x**2 + 
+00013290: 7365 6c66 2e79 2a2a 3229 2a2a 2e35 0d0a  self.y**2)**.5..
+000132a0: 0d0a 7620 3d20 7665 6374 6f72 3228 332c  ..v = vector2(3,
+000132b0: 2034 290d 0a76 207c 3e20 7072 696e 7420   4)..v |> print 
+000132c0: 2023 2061 6c6c 2064 6174 6120 7479 7065   # all data type
+000132d0: 7320 636f 6d65 2077 6974 6820 6120 6275  s come with a bu
+000132e0: 696c 742d 696e 205f 5f72 6570 725f 5f0d  ilt-in __repr__.
+000132f0: 0a76 207c 3e20 6162 7320 7c3e 2070 7269  .v |> abs |> pri
+00013300: 6e74 0d0a 762e 7820 3d20 3220 2023 2074  nt..v.x = 2  # t
+00013310: 6869 7320 7769 6c6c 2066 6169 6c20 6265  his will fail be
+00013320: 6361 7573 6520 6461 7461 206f 626a 6563  cause data objec
+00013330: 7473 2061 7265 2069 6d6d 7574 6162 6c65  ts are immutable
+00013340: 0d0a 7665 6374 6f72 3228 2920 7c3e 2070  ..vector2() |> p
+00013350: 7269 6e74 0d0a 6060 600d 0a5f 5368 6f77  rint..```.._Show
+00013360: 6361 7365 7320 7468 6520 7379 6e74 6178  cases the syntax
+00013370: 2c20 6665 6174 7572 6573 2c20 616e 6420  , features, and 
+00013380: 696d 6d75 7461 626c 6520 6e61 7475 7265  immutable nature
+00013390: 206f 6620 6064 6174 6160 2074 7970 6573   of `data` types
+000133a0: 2c20 6173 2077 656c 6c20 6173 2074 6865  , as well as the
+000133b0: 2075 7365 206f 6620 6465 6661 756c 7420   use of default 
+000133c0: 6172 6775 6d65 6e74 7320 616e 6420 7479  arguments and ty
+000133d0: 7065 2061 6e6e 6f74 6174 696f 6e73 2e5f  pe annotations._
+000133e0: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ....```coconut..
+000133f0: 6461 7461 2045 6d70 7479 2829 0d0a 6461  data Empty()..da
+00013400: 7461 204c 6561 6628 6e29 0d0a 6461 7461  ta Leaf(n)..data
+00013410: 204e 6f64 6528 6c2c 2072 290d 0a0d 0a64   Node(l, r)....d
+00013420: 6566 2073 697a 6528 456d 7074 7928 2929  ef size(Empty())
+00013430: 203d 2030 0d0a 0d0a 6164 6470 6174 7465   = 0....addpatte
+00013440: 726e 2064 6566 2073 697a 6528 4c65 6166  rn def size(Leaf
+00013450: 286e 2929 203d 2031 0d0a 0d0a 6164 6470  (n)) = 1....addp
+00013460: 6174 7465 726e 2064 6566 2073 697a 6528  attern def size(
+00013470: 4e6f 6465 286c 2c20 7229 2920 3d20 7369  Node(l, r)) = si
+00013480: 7a65 286c 2920 2b20 7369 7a65 2872 290d  ze(l) + size(r).
+00013490: 0a0d 0a73 697a 6528 4e6f 6465 2845 6d70  ...size(Node(Emp
+000134a0: 7479 2829 2c20 4c65 6166 2831 3029 2929  ty(), Leaf(10)))
+000134b0: 203d 3d20 310d 0a60 6060 0d0a 5f53 686f   == 1..```.._Sho
+000134c0: 7763 6173 6573 2074 6865 2061 6c67 6562  wcases the algeb
+000134d0: 7261 6963 206e 6174 7572 6520 6f66 2060  raic nature of `
+000134e0: 6461 7461 6020 7479 7065 7320 7768 656e  data` types when
+000134f0: 2063 6f6d 6269 6e65 6420 7769 7468 2070   combined with p
+00013500: 6174 7465 726e 2d6d 6174 6368 696e 672e  attern-matching.
+00013510: 5f0d 0a0d 0a60 6060 636f 636f 6e75 740d  _....```coconut.
+00013520: 0a64 6174 6120 7665 6374 6f72 282a 7074  .data vector(*pt
+00013530: 7329 3a0d 0a20 2020 2022 2222 496d 6d75  s):..    """Immu
+00013540: 7461 626c 6520 6172 6269 7472 6172 792d  table arbitrary-
+00013550: 6c65 6e67 7468 2076 6563 746f 722e 2222  length vector.""
+00013560: 220d 0a0d 0a20 2020 2064 6566 205f 5f61  "....    def __a
+00013570: 6273 5f5f 2873 656c 6629 203d 0d0a 2020  bs__(self) =..  
+00013580: 2020 2020 2020 7365 6c66 2e70 7473 207c        self.pts |
+00013590: 3e20 6d61 7024 2870 6f77 2428 3f2c 2032  > map$(pow$(?, 2
+000135a0: 2929 207c 3e20 7375 6d20 7c3e 2070 6f77  )) |> sum |> pow
+000135b0: 2428 3f2c 2030 2e35 290d 0a0d 0a20 2020  $(?, 0.5)....   
+000135c0: 2064 6566 205f 5f61 6464 5f5f 2873 656c   def __add__(sel
+000135d0: 662c 206f 7468 6572 2920 3d0d 0a20 2020  f, other) =..   
+000135e0: 2020 2020 2076 6563 746f 7228 2a6f 7468       vector(*oth
+000135f0: 6572 5f70 7473 2920 3d20 6f74 6865 720d  er_pts) = other.
+00013600: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
+00013610: 6c65 6e28 6f74 6865 725f 7074 7329 203d  len(other_pts) =
+00013620: 3d20 6c65 6e28 7365 6c66 2e70 7473 290d  = len(self.pts).
+00013630: 0a20 2020 2020 2020 206d 6170 2828 2b29  .        map((+)
+00013640: 2c20 7365 6c66 2e70 7473 2c20 6f74 6865  , self.pts, othe
+00013650: 725f 7074 7329 207c 2a3e 2076 6563 746f  r_pts) |*> vecto
+00013660: 720d 0a0d 0a20 2020 2064 6566 205f 5f6e  r....    def __n
+00013670: 6567 5f5f 2873 656c 6629 203d 0d0a 2020  eg__(self) =..  
+00013680: 2020 2020 2020 7365 6c66 2e70 7473 207c        self.pts |
+00013690: 3e20 6d61 7024 2828 2d29 2920 7c2a 3e20  > map$((-)) |*> 
+000136a0: 7665 6374 6f72 0d0a 0d0a 2020 2020 6465  vector....    de
+000136b0: 6620 5f5f 7375 625f 5f28 7365 6c66 2c20  f __sub__(self, 
+000136c0: 6f74 6865 7229 203d 0d0a 2020 2020 2020  other) =..      
+000136d0: 2020 7365 6c66 202b 202d 6f74 6865 720d    self + -other.
+000136e0: 0a60 6060 0d0a 5f53 686f 7763 6173 6573  .```.._Showcases
+000136f0: 2073 7461 7272 6564 2060 6461 7461 6020   starred `data` 
+00013700: 6465 636c 6172 6174 696f 6e2e 5f0d 0a0d  declaration._...
+00013710: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
+00013720: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
+00013730: 686f 7574 2061 2073 6572 6965 7320 6f66  hout a series of
+00013740: 206d 6574 686f 6420 6465 6669 6e69 7469   method definiti
+00013750: 6f6e 7320 666f 7220 6561 6368 2064 6174  ons for each dat
+00013760: 6120 7479 7065 2e20 5365 6520 7468 6520  a type. See the 
+00013770: 636f 6d70 696c 6564 2063 6f64 6520 666f  compiled code fo
+00013780: 7220 7468 6520 5079 7468 6f6e 2073 796e  r the Python syn
+00013790: 7461 782e 5f0d 0a0d 0a23 2323 2320 606d  tax._....#### `m
+000137a0: 6174 6368 2064 6174 6160 0d0a 0d0a 496e  atch data`....In
+000137b0: 2061 6464 6974 696f 6e20 746f 206e 6f72   addition to nor
+000137c0: 6d61 6c20 6064 6174 6160 2073 7461 7465  mal `data` state
+000137d0: 6d65 6e74 732c 2043 6f63 6f6e 7574 2061  ments, Coconut a
+000137e0: 6c73 6f20 7375 7070 6f72 7473 2070 6174  lso supports pat
+000137f0: 7465 726e 2d6d 6174 6368 696e 6720 6461  tern-matching da
+00013800: 7461 2073 7461 7465 6d65 6e74 7320 7468  ta statements th
+00013810: 6174 2065 6e61 626c 6520 7468 6520 7573  at enable the us
+00013820: 6520 6f66 2043 6f63 6f6e 7574 2773 2070  e of Coconut's p
+00013830: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+00013840: 7379 6e74 6178 2074 6f20 6465 6669 6e65  syntax to define
+00013850: 2074 6865 2064 6174 6120 7479 7065 2773   the data type's
+00013860: 2063 6f6e 7374 7275 6374 6f72 2e20 5061   constructor. Pa
+00013870: 7474 6572 6e2d 6d61 7463 6869 6e67 2064  ttern-matching d
+00013880: 6174 6120 7479 7065 7320 6c6f 6f6b 206c  ata types look l
+00013890: 696b 650d 0a60 6060 0d0a 5b6d 6174 6368  ike..```..[match
+000138a0: 5d20 6461 7461 203c 6e61 6d65 3e28 3c70  ] data <name>(<p
+000138b0: 6174 7465 726e 733e 2920 5b66 726f 6d20  atterns>) [from 
+000138c0: 3c62 6173 6520 636c 6173 733e 5d3a 0d0a  <base class>]:..
+000138d0: 2020 2020 3c62 6f64 793e 0d0a 6060 600d      <body>..```.
+000138e0: 0a77 6865 7265 2060 3c70 6174 7465 726e  .where `<pattern
+000138f0: 733e 6020 6172 6520 6578 6163 746c 7920  s>` are exactly 
+00013900: 6173 2069 6e20 5b70 6174 7465 726e 2d6d  as in [pattern-m
+00013910: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+00013920: 735d 2823 7061 7474 6572 6e2d 6d61 7463  s](#pattern-matc
+00013930: 6869 6e67 2d66 756e 6374 696f 6e73 292e  hing-functions).
+00013940: 0d0a 0d0a 4974 2069 7320 696d 706f 7274  ....It is import
+00013950: 616e 7420 746f 206b 6565 7020 696e 206d  ant to keep in m
+00013960: 696e 6420 7468 6174 2070 6174 7465 726e  ind that pattern
+00013970: 2d6d 6174 6368 696e 6720 6461 7461 2074  -matching data t
+00013980: 7970 6573 2076 6172 7920 6672 6f6d 206e  ypes vary from n
+00013990: 6f72 6d61 6c20 6461 7461 2074 7970 6573  ormal data types
+000139a0: 2069 6e20 6120 7661 7269 6574 7920 6f66   in a variety of
+000139b0: 2077 6179 732e 2046 6972 7374 2c20 6c69   ways. First, li
+000139c0: 6b65 2070 6174 7465 726e 2d6d 6174 6368  ke pattern-match
+000139d0: 696e 6720 6675 6e63 7469 6f6e 732c 2074  ing functions, t
+000139e0: 6865 7920 7261 6973 6520 5b60 4d61 7463  hey raise [`Matc
+000139f0: 6845 7272 6f72 605d 2823 6d61 7463 6865  hError`](#matche
+00013a00: 7272 6f72 2920 696e 7374 6561 6420 6f66  rror) instead of
+00013a10: 2060 5479 7065 4572 726f 7260 2077 6865   `TypeError` whe
+00013a20: 6e20 7061 7373 6564 2074 6865 2077 726f  n passed the wro
+00013a30: 6e67 2061 7267 756d 656e 7473 2e20 5365  ng arguments. Se
+00013a40: 636f 6e64 2c20 7061 7474 6572 6e2d 6d61  cond, pattern-ma
+00013a50: 7463 6869 6e67 2064 6174 6120 7479 7065  tching data type
+00013a60: 7320 7769 6c6c 206e 6f74 2064 6f20 616e  s will not do an
+00013a70: 7920 7370 6563 6961 6c20 6861 6e64 6c69  y special handli
+00013a80: 6e67 206f 6620 7374 6172 7265 6420 6172  ng of starred ar
+00013a90: 6775 6d65 6e74 732e 2054 6875 732c 0d0a  guments. Thus,..
+00013aa0: 6060 600d 0a64 6174 6120 7665 6328 2a78  ```..data vec(*x
+00013ab0: 7329 0d0a 6060 600d 0a77 6865 6e20 6974  s)..```..when it
+00013ac0: 6572 6174 6564 206f 7665 7220 7769 6c6c  erated over will
+00013ad0: 2069 7465 7261 7465 206f 7665 7220 616c   iterate over al
+00013ae0: 6c20 7468 6520 656c 656d 656e 7473 206f  l the elements o
+00013af0: 6620 6078 7360 2c20 6275 740d 0a60 6060  f `xs`, but..```
+00013b00: 0d0a 6d61 7463 6820 6461 7461 2076 6563  ..match data vec
+00013b10: 282a 7873 290d 0a60 6060 0d0a 7768 656e  (*xs)..```..when
+00013b20: 2069 7465 7261 7465 6420 6f76 6572 2077   iterated over w
+00013b30: 696c 6c20 6f6e 6c79 2067 6976 6520 7468  ill only give th
+00013b40: 6520 7369 6e67 6c65 2065 6c65 6d65 6e74  e single element
+00013b50: 2060 7873 602e 0d0a 0d0a 2323 2323 2320   `xs`.....##### 
+00013b60: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+00013b70: 6f6e 7574 3a2a 2a0d 0a60 6060 0d0a 6461  onut:**..```..da
+00013b80: 7461 206e 616d 6564 7074 286e 616d 6520  ta namedpt(name 
+00013b90: 6069 7369 6e73 7461 6e63 6560 2073 7472  `isinstance` str
+00013ba0: 2c20 7820 6069 7369 6e73 7461 6e63 6560  , x `isinstance`
+00013bb0: 2069 6e74 2c20 7920 6069 7369 6e73 7461   int, y `isinsta
+00013bc0: 6e63 6560 2069 6e74 293a 0d0a 2020 2020  nce` int):..    
+00013bd0: 6465 6620 6d61 6728 7365 6c66 2920 3d20  def mag(self) = 
+00013be0: 2873 656c 662e 782a 2a32 202b 2073 656c  (self.x**2 + sel
+00013bf0: 662e 792a 2a32 292a 2a30 2e35 0d0a 6060  f.y**2)**0.5..``
+00013c00: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+00013c10: 0d0a 5f43 616e 2774 2062 6520 646f 6e65  .._Can't be done
+00013c20: 2077 6974 686f 7574 2061 2073 6572 6965   without a serie
+00013c30: 7320 6f66 206d 6574 686f 6420 6465 6669  s of method defi
+00013c40: 6e69 7469 6f6e 7320 666f 7220 6561 6368  nitions for each
+00013c50: 2064 6174 6120 7479 7065 2e20 5365 6520   data type. See 
+00013c60: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
+00013c70: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
+00013c80: 2073 796e 7461 782e 5f0d 0a0d 0a23 2323   syntax._....###
+00013c90: 2060 7768 6572 6560 0d0a 0d0a 436f 636f   `where`....Coco
+00013ca0: 6e75 7427 7320 6077 6865 7265 6020 7374  nut's `where` st
+00013cb0: 6174 656d 656e 7420 6973 2065 7874 7265  atement is extre
+00013cc0: 6d65 6c79 2073 7472 6169 6768 7466 6f72  mely straightfor
+00013cd0: 7761 7264 2e20 5468 6520 7379 6e74 6178  ward. The syntax
+00013ce0: 2066 6f72 2061 2060 7768 6572 6560 2073   for a `where` s
+00013cf0: 7461 7465 6d65 6e74 2069 7320 6a75 7374  tatement is just
+00013d00: 0d0a 6060 600d 0a3c 7374 6d74 3e20 7768  ..```..<stmt> wh
+00013d10: 6572 653a 0d0a 2020 2020 3c62 6f64 793e  ere:..    <body>
+00013d20: 0d0a 6060 600d 0a77 6869 6368 206a 7573  ..```..which jus
+00013d30: 7420 6578 6563 7574 6573 2060 3c62 6f64  t executes `<bod
+00013d40: 793e 6020 666f 6c6c 6f77 6564 2062 7920  y>` followed by 
+00013d50: 603c 7374 6d74 3e60 2e0d 0a0d 0a23 2323  `<stmt>`.....###
+00013d60: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
+00013d70: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
+00013d80: 6f63 6f6e 7574 0d0a 6320 3d20 6120 2b20  oconut..c = a + 
+00013d90: 6220 7768 6572 653a 0d0a 2020 2020 6120  b where:..    a 
+00013da0: 3d20 310d 0a20 2020 2062 203d 2032 0d0a  = 1..    b = 2..
+00013db0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+00013dc0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00013dd0: 7974 686f 6e0d 0a61 203d 2031 0d0a 6220  ython..a = 1..b 
+00013de0: 3d20 320d 0a63 203d 2061 202b 2062 0d0a  = 2..c = a + b..
+00013df0: 6060 600d 0a0d 0a23 2323 2048 616e 646c  ```....### Handl
+00013e00: 696e 6720 4b65 7977 6f72 642f 5661 7269  ing Keyword/Vari
+00013e10: 6162 6c65 204e 616d 6520 4f76 6572 6c61  able Name Overla
+00013e20: 700d 0a0d 0a49 6e20 436f 636f 6e75 742c  p....In Coconut,
+00013e30: 2074 6865 2066 6f6c 6c6f 7769 6e67 206b   the following k
+00013e40: 6579 776f 7264 7320 6172 6520 616c 736f  eywords are also
+00013e50: 2076 616c 6964 2076 6172 6961 626c 6520   valid variable 
+00013e60: 6e61 6d65 733a 0d0a 2d20 6064 6174 6160  names:..- `data`
+00013e70: 0d0a 2d20 606d 6174 6368 600d 0a2d 2060  ..- `match`..- `
+00013e80: 6361 7365 600d 0a2d 2060 6361 7365 7360  case`..- `cases`
+00013e90: 0d0a 2d20 6061 6464 7061 7474 6572 6e60  ..- `addpattern`
+00013ea0: 0d0a 2d20 6077 6865 7265 600d 0a2d 2060  ..- `where`..- `
+00013eb0: 6f70 6572 6174 6f72 600d 0a2d 2060 7468  operator`..- `th
+00013ec0: 656e 600d 0a2d 2060 cebb 6020 2861 205b  en`..- `..` (a [
+00013ed0: 556e 6963 6f64 6520 616c 7465 726e 6174  Unicode alternat
+00013ee0: 6976 655d 2823 756e 6963 6f64 652d 616c  ive](#unicode-al
+00013ef0: 7465 726e 6174 6976 6573 2920 666f 7220  ternatives) for 
+00013f00: 606c 616d 6264 6160 290d 0a0d 0a57 6869  `lambda`)....Whi
+00013f10: 6c65 2043 6f63 6f6e 7574 2063 616e 2075  le Coconut can u
+00013f20: 7375 616c 6c79 2064 6973 616d 6269 6775  sually disambigu
+00013f30: 6174 6520 7468 6573 6520 7477 6f20 7573  ate these two us
+00013f40: 6520 6361 7365 732c 2073 7065 6369 616c  e cases, special
+00013f50: 2073 796e 7461 7820 6973 2061 7661 696c   syntax is avail
+00013f60: 6162 6c65 2066 6f72 2064 6973 616d 6269  able for disambi
+00013f70: 6775 6174 696e 6720 7468 656d 2069 6620  guating them if 
+00013f80: 6e65 6365 7373 6172 792e 204e 6f74 6520  necessary. Note 
+00013f90: 7468 6174 2c20 6966 2077 6861 7420 796f  that, if what yo
+00013fa0: 7527 7265 2077 7269 7469 6e67 2063 616e  u're writing can
+00013fb0: 2062 6520 696e 7465 7270 7265 7465 6420   be interpreted 
+00013fc0: 6173 2076 616c 6964 2050 7974 686f 6e20  as valid Python 
+00013fd0: 332c 2043 6f63 6f6e 7574 2077 696c 6c20  3, Coconut will 
+00013fe0: 616c 7761 7973 2070 7265 6665 7220 7468  always prefer th
+00013ff0: 6174 2069 6e74 6572 7072 6574 6174 696f  at interpretatio
+00014000: 6e20 6279 2064 6566 6175 6c74 2e0d 0a0d  n by default....
+00014010: 0a54 6f20 7370 6563 6966 7920 7468 6174  .To specify that
+00014020: 2079 6f75 2077 616e 7420 6120 5f76 6172   you want a _var
+00014030: 6961 626c 655f 2c20 7072 6566 6978 2074  iable_, prefix t
+00014040: 6865 206e 616d 6520 7769 7468 2061 2062  he name with a b
+00014050: 6163 6b73 6c61 7368 2061 7320 696e 2060  ackslash as in `
+00014060: 5c64 6174 6160 2c20 616e 6420 746f 2073  \data`, and to s
+00014070: 7065 6369 6679 2074 6861 7420 796f 7520  pecify that you 
+00014080: 7761 6e74 2061 205f 6b65 7977 6f72 645f  want a _keyword_
+00014090: 2c20 7072 6566 6978 2074 6865 206e 616d  , prefix the nam
+000140a0: 6520 7769 7468 2061 2063 6f6c 6f6e 2061  e with a colon a
+000140b0: 7320 696e 2060 3a6d 6174 6368 602e 0d0a  s in `:match`...
+000140c0: 0d0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
+000140d0: 6261 636b 736c 6173 6820 7379 6e74 6178  backslash syntax
+000140e0: 2066 6f72 2065 7363 6170 696e 6720 7661   for escaping va
+000140f0: 7269 6162 6c65 206e 616d 6573 2063 616e  riable names can
+00014100: 2061 6c73 6f20 6265 2075 7365 6420 746f   also be used to
+00014110: 2064 6973 7469 6e67 7569 7368 2062 6574   distinguish bet
+00014120: 7765 656e 2076 6172 6961 626c 6520 6e61  ween variable na
+00014130: 6d65 7320 616e 6420 5b63 7573 746f 6d20  mes and [custom 
+00014140: 6f70 6572 6174 6f72 735d 2823 6375 7374  operators](#cust
+00014150: 6f6d 2d6f 7065 7261 746f 7273 2920 6173  om-operators) as
+00014160: 2077 656c 6c20 6173 2065 7870 6c69 6369   well as explici
+00014170: 746c 7920 7369 676e 6966 7920 7468 6174  tly signify that
+00014180: 2061 6e20 6173 7369 676e 6d65 6e74 2074   an assignment t
+00014190: 6f20 6120 6275 696c 742d 696e 2069 7320  o a built-in is 
+000141a0: 6465 7369 7261 626c 6520 746f 2064 6973  desirable to dis
+000141b0: 6d69 7373 205b 602d 2d73 7472 6963 7460  miss [`--strict`
+000141c0: 2077 6172 6e69 6e67 735d 2823 7374 7269   warnings](#stri
+000141d0: 6374 2d6d 6f64 6529 2e0d 0a0d 0a46 696e  ct-mode).....Fin
+000141e0: 616c 6c79 2c20 7375 6368 2064 6973 616d  ally, such disam
+000141f0: 6269 6775 6174 696f 6e20 7379 6e74 6178  biguation syntax
+00014200: 2063 616e 2061 6c73 6f20 6265 2068 656c   can also be hel
+00014210: 7066 756c 2066 6f72 206c 6574 7469 6e67  pful for letting
+00014220: 2073 796e 7461 7820 6869 6768 6c69 6768   syntax highligh
+00014230: 7465 7273 206b 6e6f 7720 7768 6174 2079  ters know what y
+00014240: 6f75 2772 6520 646f 696e 672e 0d0a 0d0a  ou're doing.....
+00014250: 2323 2323 2320 4578 616d 706c 6573 0d0a  ##### Examples..
+00014260: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+00014270: 6060 6063 6f63 6f6e 7574 0d0a 5c64 6174  ```coconut..\dat
+00014280: 6120 3d20 350d 0a70 7269 6e74 285c 6461  a = 5..print(\da
+00014290: 7461 290d 0a60 6060 0d0a 0d0a 6060 6063  ta)..```....```c
+000142a0: 6f63 6f6e 7574 0d0a 2320 7769 7468 6f75  oconut..# withou
+000142b0: 7420 7468 6520 636f 6c6f 6e2c 2043 6f63  t the colon, Coc
+000142c0: 6f6e 7574 2077 696c 6c20 696e 7465 7270  onut will interp
+000142d0: 7265 7420 7468 6973 2061 7320 7468 6520  ret this as the 
+000142e0: 7661 6c69 6420 5079 7468 6f6e 206d 6174  valid Python mat
+000142f0: 6368 5b78 2c20 795d 203d 2069 6e70 7574  ch[x, y] = input
+00014300: 5f6c 6973 740d 0a3a 6d61 7463 6820 5b78  _list..:match [x
+00014310: 2c20 795d 203d 2069 6e70 7574 5f6c 6973  , y] = input_lis
+00014320: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
+00014330: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+00014340: 745f 7079 7468 6f6e 0d0a 6461 7461 203d  t_python..data =
+00014350: 2035 0d0a 7072 696e 7428 6461 7461 290d   5..print(data).
+00014360: 0a60 6060 0d0a 0d0a 6060 6063 6f63 6f6e  .```....```cocon
+00014370: 7574 5f70 7974 686f 6e0d 0a78 2c20 7920  ut_python..x, y 
+00014380: 3d20 696e 7075 745f 6c69 7374 0d0a 6060  = input_list..``
+00014390: 600d 0a0d 0a23 2320 4578 7072 6573 7369  `....## Expressi
+000143a0: 6f6e 730d 0a0d 0a60 6060 7b63 6f6e 7465  ons....```{conte
+000143b0: 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63 616c  nts}..---..local
+000143c0: 3a0d 0a64 6570 7468 3a20 310d 0a2d 2d2d  :..depth: 1..---
+000143d0: 0d0a 6060 600d 0a0d 0a23 2323 2053 7461  ..```....### Sta
+000143e0: 7465 6d65 6e74 204c 616d 6264 6173 0d0a  tement Lambdas..
+000143f0: 0d0a 5468 6520 7374 6174 656d 656e 7420  ..The statement 
+00014400: 6c61 6d62 6461 2073 796e 7461 7820 6973  lambda syntax is
+00014410: 2061 6e20 6578 7465 6e73 696f 6e20 6f66   an extension of
+00014420: 2074 6865 205b 6e6f 726d 616c 206c 616d   the [normal lam
+00014430: 6264 6120 7379 6e74 6178 5d28 236c 616d  bda syntax](#lam
+00014440: 6264 6173 2920 746f 2073 7570 706f 7274  bdas) to support
+00014450: 2073 7461 7465 6d65 6e74 732c 206e 6f74   statements, not
+00014460: 206a 7573 7420 6578 7072 6573 7369 6f6e   just expression
+00014470: 732e 0d0a 0d0a 5468 6520 7379 6e74 6178  s.....The syntax
+00014480: 2066 6f72 2061 2073 7461 7465 6d65 6e74   for a statement
+00014490: 206c 616d 6264 6120 6973 0d0a 6060 600d   lambda is..```.
+000144a0: 0a5b 6173 796e 637c 6d61 7463 687c 636f  .[async|match|co
+000144b0: 7079 636c 6f73 7572 655d 2064 6566 2028  pyclosure] def (
+000144c0: 6172 6775 6d65 6e74 7329 202d 3e20 7374  arguments) -> st
+000144d0: 6174 656d 656e 743b 2073 7461 7465 6d65  atement; stateme
+000144e0: 6e74 3b20 2e2e 2e0d 0a60 6060 0d0a 7768  nt; .....```..wh
+000144f0: 6572 6520 6061 7267 756d 656e 7473 6020  ere `arguments` 
+00014500: 6361 6e20 6265 2073 7461 6e64 6172 6420  can be standard 
+00014510: 6675 6e63 7469 6f6e 2061 7267 756d 656e  function argumen
+00014520: 7473 206f 7220 5b70 6174 7465 726e 2d6d  ts or [pattern-m
+00014530: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+00014540: 2064 6566 696e 6974 696f 6e5d 2823 7061   definition](#pa
+00014550: 7474 6572 6e2d 6d61 7463 6869 6e67 2d66  ttern-matching-f
+00014560: 756e 6374 696f 6e73 2920 6172 6775 6d65  unctions) argume
+00014570: 6e74 7320 616e 6420 6073 7461 7465 6d65  nts and `stateme
+00014580: 6e74 6020 6361 6e20 6265 2061 6e20 6173  nt` can be an as
+00014590: 7369 676e 6d65 6e74 2073 7461 7465 6d65  signment stateme
+000145a0: 6e74 206f 7220 6120 6b65 7977 6f72 6420  nt or a keyword 
+000145b0: 7374 6174 656d 656e 742e 204e 6f74 6520  statement. Note 
+000145c0: 7468 6174 2074 6865 2060 6173 796e 6360  that the `async`
+000145d0: 2c20 606d 6174 6368 602c 2061 6e64 205b  , `match`, and [
+000145e0: 6063 6f70 7963 6c6f 7375 7265 605d 2823  `copyclosure`](#
+000145f0: 636f 7079 636c 6f73 7572 652d 6675 6e63  copyclosure-func
+00014600: 7469 6f6e 7329 206b 6579 776f 7264 7320  tions) keywords 
+00014610: 6361 6e20 6265 2063 6f6d 6269 6e65 6420  can be combined 
+00014620: 616e 6420 6361 6e20 6265 2069 6e20 616e  and can be in an
+00014630: 7920 6f72 6465 722e 0d0a 0d0a 4966 2074  y order.....If t
+00014640: 6865 206c 6173 7420 6073 7461 7465 6d65  he last `stateme
+00014650: 6e74 6020 286e 6f74 2066 6f6c 6c6f 7765  nt` (not followe
+00014660: 6420 6279 2061 2073 656d 6963 6f6c 6f6e  d by a semicolon
+00014670: 2920 696e 2061 2073 7461 7465 6d65 6e74  ) in a statement
+00014680: 206c 616d 6264 6120 6973 2061 6e20 6065   lambda is an `e
+00014690: 7870 7265 7373 696f 6e60 2c20 6974 2077  xpression`, it w
+000146a0: 696c 6c20 6175 746f 6d61 7469 6361 6c6c  ill automaticall
+000146b0: 7920 6265 2072 6574 7572 6e65 642e 0d0a  y be returned...
+000146c0: 0d0a 5374 6174 656d 656e 7420 6c61 6d62  ..Statement lamb
+000146d0: 6461 7320 616c 736f 2073 7570 706f 7274  das also support
+000146e0: 2069 6d70 6c69 6369 7420 6c61 6d62 6461   implicit lambda
+000146f0: 2073 796e 7461 7820 7375 6368 2074 6861   syntax such tha
+00014700: 7420 6064 6566 202d 3e20 5f60 2069 7320  t `def -> _` is 
+00014710: 6571 7569 7661 6c65 6e74 2074 6f20 6064  equivalent to `d
+00014720: 6566 2028 5f3d 4e6f 6e65 2920 2d3e 205f  ef (_=None) -> _
+00014730: 6020 6173 2077 656c 6c20 6173 2065 7870  ` as well as exp
+00014740: 6c69 6369 746c 7920 6d61 726b 696e 6720  licitly marking 
+00014750: 7468 656d 2061 7320 7061 7474 6572 6e2d  them as pattern-
+00014760: 6d61 7463 6869 6e67 2073 7563 6820 7468  matching such th
+00014770: 6174 2060 6d61 7463 6820 6465 6620 2878  at `match def (x
+00014780: 2920 2d3e 2078 6020 7769 6c6c 2062 6520  ) -> x` will be 
+00014790: 6120 7061 7474 6572 6e2d 6d61 7463 6869  a pattern-matchi
+000147a0: 6e67 2066 756e 6374 696f 6e2e 0d0a 0d0a  ng function.....
+000147b0: 4e6f 7465 2074 6861 7420 7374 6174 656d  Note that statem
+000147c0: 656e 7420 6c61 6d62 6461 7320 6861 7665  ent lambdas have
+000147d0: 2061 206c 6f77 6572 2070 7265 6365 6465   a lower precede
+000147e0: 6e63 6520 7468 616e 206e 6f72 6d61 6c20  nce than normal 
+000147f0: 6c61 6d62 6461 7320 616e 6420 7468 7573  lambdas and thus
+00014800: 2063 6170 7475 7265 2074 6869 6e67 7320   capture things 
+00014810: 6c69 6b65 2074 7261 696c 696e 6720 636f  like trailing co
+00014820: 6d6d 6173 2e0d 0a0d 0a23 2323 2323 2045  mmas.....##### E
+00014830: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+00014840: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00014850: 7574 0d0a 4c20 7c3e 206d 6170 2428 6465  ut..L |> map$(de
+00014860: 6620 2878 2920 2d3e 0d0a 2020 2020 7920  f (x) ->..    y 
+00014870: 3d20 312f 783b 0d0a 2020 2020 792a 2831  = 1/x;..    y*(1
+00014880: 202d 2079 2929 0d0a 6060 600d 0a0d 0a2a   - y))..```....*
+00014890: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
+000148a0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+000148b0: 6566 205f 6c61 6d62 6461 2878 293a 0d0a  ef _lambda(x):..
+000148c0: 2020 2020 7920 3d20 312f 780d 0a20 2020      y = 1/x..   
+000148d0: 2072 6574 7572 6e20 792a 2831 202d 2079   return y*(1 - y
+000148e0: 290d 0a6d 6170 285f 6c61 6d62 6461 2c20  )..map(_lambda, 
+000148f0: 4c29 0d0a 6060 600d 0a0d 0a23 2323 2320  L)..```....#### 
+00014900: 5479 7065 2061 6e6e 6f74 6174 696f 6e73  Type annotations
+00014910: 0d0a 0d0a 416e 6f74 6865 7220 6361 7365  ....Another case
+00014920: 2077 6865 7265 2073 7461 7465 6d65 6e74   where statement
+00014930: 206c 616d 6264 6173 2077 6f75 6c64 2062   lambdas would b
+00014940: 6520 7573 6564 206f 7665 7220 7374 616e  e used over stan
+00014950: 6461 7264 206c 616d 6264 6173 2069 7320  dard lambdas is 
+00014960: 7768 656e 2074 6865 2070 6172 616d 6574  when the paramet
+00014970: 6572 7320 746f 2074 6865 206c 616d 6264  ers to the lambd
+00014980: 6120 6172 6520 7479 7065 6420 7769 7468  a are typed with
+00014990: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+000149a0: 732e 2053 7461 7465 6d65 6e74 206c 616d  s. Statement lam
+000149b0: 6264 6173 2075 7365 2074 6865 2073 7461  bdas use the sta
+000149c0: 6e64 6172 6420 5079 7468 6f6e 2073 796e  ndard Python syn
+000149d0: 7461 7820 666f 7220 6164 6469 6e67 2074  tax for adding t
+000149e0: 7970 6520 616e 6e6f 7461 7469 6f6e 7320  ype annotations 
+000149f0: 746f 2074 6865 6972 2070 6172 616d 6574  to their paramet
+00014a00: 6572 733a 0d0a 0d0a 6060 6063 6f63 6f6e  ers:....```cocon
+00014a10: 7574 0d0a 6620 3d20 6465 6620 2863 3a20  ut..f = def (c: 
+00014a20: 7374 7229 202d 3e20 7072 696e 7428 6329  str) -> print(c)
+00014a30: 0d0a 0d0a 6720 3d20 6465 6620 2861 3a20  ....g = def (a: 
+00014a40: 696e 742c 2062 3a20 696e 7429 202d 3e20  int, b: int) -> 
+00014a50: 6120 2a2a 2062 0d0a 6060 600d 0a0d 0a48  a ** b..```....H
+00014a60: 6f77 6576 6572 2c20 7374 6174 656d 656e  owever, statemen
+00014a70: 7420 6c61 6d62 6461 7320 646f 206e 6f74  t lambdas do not
+00014a80: 2073 7570 706f 7274 2072 6574 7572 6e20   support return 
+00014a90: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
+00014aa0: 2e0d 0a0d 0a23 2323 204f 7065 7261 746f  .....### Operato
+00014ab0: 7220 4675 6e63 7469 6f6e 730d 0a0d 0a43  r Functions....C
+00014ac0: 6f63 6f6e 7574 2075 7365 7320 6120 7369  oconut uses a si
+00014ad0: 6d70 6c65 206f 7065 7261 746f 7220 6675  mple operator fu
+00014ae0: 6e63 7469 6f6e 2073 686f 7274 2d68 616e  nction short-han
+00014af0: 643a 2073 7572 726f 756e 6420 616e 206f  d: surround an o
+00014b00: 7065 7261 746f 7220 7769 7468 2070 6172  perator with par
+00014b10: 656e 7468 6573 6573 2074 6f20 7265 7472  entheses to retr
+00014b20: 6965 7665 2069 7473 2066 756e 6374 696f  ieve its functio
+00014b30: 6e2e 2053 696d 696c 6172 6c79 2074 6f20  n. Similarly to 
+00014b40: 6974 6572 6174 6f72 2063 6f6d 7072 6568  iterator compreh
+00014b50: 656e 7369 6f6e 732c 2069 6620 7468 6520  ensions, if the 
+00014b60: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00014b70: 6e20 6973 2074 6865 206f 6e6c 7920 6172  n is the only ar
+00014b80: 6775 6d65 6e74 2074 6f20 6120 6675 6e63  gument to a func
+00014b90: 7469 6f6e 2c20 7468 6520 7061 7265 6e74  tion, the parent
+00014ba0: 6865 7365 7320 6f66 2074 6865 2066 756e  heses of the fun
+00014bb0: 6374 696f 6e20 6361 6c6c 2063 616e 2061  ction call can a
+00014bc0: 6c73 6f20 7365 7276 6520 6173 2074 6865  lso serve as the
+00014bd0: 2070 6172 656e 7468 6573 6573 2066 6f72   parentheses for
+00014be0: 2074 6865 206f 7065 7261 746f 7220 6675   the operator fu
+00014bf0: 6e63 7469 6f6e 2e0d 0a0d 0a23 2323 2323  nction.....#####
+00014c00: 2052 6174 696f 6e61 6c65 0d0a 0d0a 4120   Rationale....A 
+00014c10: 7665 7279 2063 6f6d 6d6f 6e20 7468 696e  very common thin
+00014c20: 6720 746f 2064 6f20 696e 2066 756e 6374  g to do in funct
+00014c30: 696f 6e61 6c20 7072 6f67 7261 6d6d 696e  ional programmin
+00014c40: 6720 6973 2074 6f20 6d61 6b65 2075 7365  g is to make use
+00014c50: 206f 6620 6675 6e63 7469 6f6e 2076 6572   of function ver
+00014c60: 7369 6f6e 7320 6f66 2062 7569 6c74 2d69  sions of built-i
+00014c70: 6e20 6f70 6572 6174 6f72 733a 2063 7572  n operators: cur
+00014c80: 7279 696e 6720 7468 656d 2c20 636f 6d70  rying them, comp
+00014c90: 6f73 696e 6720 7468 656d 2c20 616e 6420  osing them, and 
+00014ca0: 7069 7069 6e67 2074 6865 6d2e 2054 6f20  piping them. To 
+00014cb0: 6d61 6b65 2074 6869 7320 6561 7379 2c20  make this easy, 
+00014cc0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00014cd0: 2061 2073 686f 7274 2d68 616e 6420 7379   a short-hand sy
+00014ce0: 6e74 6178 2074 6f20 6163 6365 7373 206f  ntax to access o
+00014cf0: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
+00014d00: 732e 0d0a 0d0a 2323 2323 2320 4675 6c6c  s.....##### Full
+00014d10: 204c 6973 740d 0a0d 0a60 6060 636f 636f   List....```coco
+00014d20: 6e75 740d 0a28 3a3a 2920 2020 2020 2020  nut..(::)       
+00014d30: 203d 3e20 2869 7465 7274 6f6f 6c73 2e63   => (itertools.c
+00014d40: 6861 696e 2920 2023 2077 696c 6c20 6e6f  hain)  # will no
+00014d50: 7420 6576 616c 7561 7465 2069 7473 2061  t evaluate its a
+00014d60: 7267 756d 656e 7473 206c 617a 696c 790d  rguments lazily.
+00014d70: 0a28 2429 2020 2020 2020 2020 203d 3e20  .($)         => 
+00014d80: 2866 756e 6374 6f6f 6c73 2e70 6172 7469  (functools.parti
+00014d90: 616c 290d 0a28 2e29 2020 2020 2020 2020  al)..(.)        
+00014da0: 203d 3e20 2867 6574 6174 7472 290d 0a28   => (getattr)..(
+00014db0: 2c29 2020 2020 2020 2020 203d 3e20 282a  ,)         => (*
+00014dc0: 6172 6773 2920 2d3e 2061 7267 7320 2023  args) -> args  #
+00014dd0: 2028 6275 7420 7069 636b 6c65 6162 6c65   (but pickleable
+00014de0: 290d 0a28 2b29 2020 2020 2020 2020 203d  )..(+)         =
+00014df0: 3e20 286f 7065 7261 746f 722e 6164 6429  > (operator.add)
+00014e00: 0d0a 282d 2920 2020 2020 2020 2020 3d3e  ..(-)         =>
+00014e10: 2023 2031 2061 7267 3a20 6f70 6572 6174   # 1 arg: operat
+00014e20: 6f72 2e6e 6567 2c20 3220 6172 6773 3a20  or.neg, 2 args: 
+00014e30: 6f70 6572 6174 6f72 2e73 7562 0d0a 282a  operator.sub..(*
+00014e40: 2920 2020 2020 2020 2020 3d3e 2028 6f70  )         => (op
+00014e50: 6572 6174 6f72 2e6d 756c 290d 0a28 2a2a  erator.mul)..(**
+00014e60: 2920 2020 2020 2020 203d 3e20 286f 7065  )        => (ope
+00014e70: 7261 746f 722e 706f 7729 0d0a 282f 2920  rator.pow)..(/) 
+00014e80: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
+00014e90: 6174 6f72 2e74 7275 6564 6976 290d 0a28  ator.truediv)..(
+00014ea0: 2f2f 2920 2020 2020 2020 203d 3e20 286f  //)        => (o
+00014eb0: 7065 7261 746f 722e 666c 6f6f 7264 6976  perator.floordiv
+00014ec0: 290d 0a28 2529 2020 2020 2020 2020 203d  )..(%)         =
+00014ed0: 3e20 286f 7065 7261 746f 722e 6d6f 6429  > (operator.mod)
+00014ee0: 0d0a 2826 2920 2020 2020 2020 2020 3d3e  ..(&)         =>
+00014ef0: 2028 6f70 6572 6174 6f72 2e61 6e64 5f29   (operator.and_)
+00014f00: 0d0a 285e 2920 2020 2020 2020 2020 3d3e  ..(^)         =>
+00014f10: 2028 6f70 6572 6174 6f72 2e78 6f72 290d   (operator.xor).
+00014f20: 0a28 7c29 2020 2020 2020 2020 203d 3e20  .(|)         => 
+00014f30: 286f 7065 7261 746f 722e 6f72 5f29 0d0a  (operator.or_)..
+00014f40: 283c 3c29 2020 2020 2020 2020 3d3e 2028  (<<)        => (
+00014f50: 6f70 6572 6174 6f72 2e6c 7368 6966 7429  operator.lshift)
+00014f60: 0d0a 283e 3e29 2020 2020 2020 2020 3d3e  ..(>>)        =>
+00014f70: 2028 6f70 6572 6174 6f72 2e72 7368 6966   (operator.rshif
+00014f80: 7429 0d0a 283c 2920 2020 2020 2020 2020  t)..(<)         
+00014f90: 3d3e 2028 6f70 6572 6174 6f72 2e6c 7429  => (operator.lt)
+00014fa0: 0d0a 283e 2920 2020 2020 2020 2020 3d3e  ..(>)         =>
+00014fb0: 2028 6f70 6572 6174 6f72 2e67 7429 0d0a   (operator.gt)..
+00014fc0: 283d 3d29 2020 2020 2020 2020 3d3e 2028  (==)        => (
+00014fd0: 6f70 6572 6174 6f72 2e65 7129 0d0a 283c  operator.eq)..(<
+00014fe0: 3d29 2020 2020 2020 2020 3d3e 2028 6f70  =)        => (op
+00014ff0: 6572 6174 6f72 2e6c 6529 0d0a 283e 3d29  erator.le)..(>=)
+00015000: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
+00015010: 6174 6f72 2e67 6529 0d0a 2821 3d29 2020  ator.ge)..(!=)  
+00015020: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
+00015030: 6f72 2e6e 6529 0d0a 287e 2920 2020 2020  or.ne)..(~)     
+00015040: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
+00015050: 2e69 6e76 290d 0a28 4029 2020 2020 2020  .inv)..(@)      
+00015060: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00015070: 6d61 746d 756c 290d 0a28 7c3e 2920 2020  matmul)..(|>)   
+00015080: 2020 2020 203d 3e20 2320 7069 7065 2066       => # pipe f
+00015090: 6f72 7761 7264 0d0a 287c 2a3e 2920 2020  orward..(|*>)   
+000150a0: 2020 2020 3d3e 2023 206d 756c 7469 2d61      => # multi-a
+000150b0: 7267 2070 6970 6520 666f 7277 6172 640d  rg pipe forward.
+000150c0: 0a28 7c2a 2a3e 2920 2020 2020 203d 3e20  .(|**>)      => 
+000150d0: 2320 6b65 7977 6f72 6420 6172 6720 7069  # keyword arg pi
+000150e0: 7065 2066 6f72 7761 7264 0d0a 283c 7c29  pe forward..(<|)
+000150f0: 2020 2020 2020 2020 3d3e 2023 2070 6970          => # pip
+00015100: 6520 6261 636b 7761 7264 0d0a 283c 2a7c  e backward..(<*|
+00015110: 2920 2020 2020 2020 3d3e 2023 206d 756c  )       => # mul
+00015120: 7469 2d61 7267 2070 6970 6520 6261 636b  ti-arg pipe back
+00015130: 7761 7264 0d0a 283c 2a2a 7c29 2020 2020  ward..(<**|)    
+00015140: 2020 3d3e 2023 206b 6579 776f 7264 2061    => # keyword a
+00015150: 7267 2070 6970 6520 6261 636b 7761 7264  rg pipe backward
+00015160: 0d0a 287c 3f3e 2920 2020 2020 2020 3d3e  ..(|?>)       =>
+00015170: 2023 204e 6f6e 652d 6177 6172 6520 7069   # None-aware pi
+00015180: 7065 2066 6f72 7761 7264 0d0a 287c 3f2a  pe forward..(|?*
+00015190: 3e29 2020 2020 2020 3d3e 2023 204e 6f6e  >)      => # Non
+000151a0: 652d 6177 6172 6520 6d75 6c74 692d 6172  e-aware multi-ar
+000151b0: 6720 7069 7065 2066 6f72 7761 7264 0d0a  g pipe forward..
+000151c0: 287c 3f2a 2a3e 2920 2020 2020 3d3e 2023  (|?**>)     => #
+000151d0: 204e 6f6e 652d 6177 6172 6520 6b65 7977   None-aware keyw
+000151e0: 6f72 6420 6172 6720 7069 7065 2066 6f72  ord arg pipe for
+000151f0: 7761 7264 0d0a 283c 3f7c 2920 2020 2020  ward..(<?|)     
+00015200: 2020 3d3e 2023 204e 6f6e 652d 6177 6172    => # None-awar
+00015210: 6520 7069 7065 2062 6163 6b77 6172 640d  e pipe backward.
+00015220: 0a28 3c2a 3f7c 2920 2020 2020 203d 3e20  .(<*?|)      => 
+00015230: 2320 4e6f 6e65 2d61 7761 7265 206d 756c  # None-aware mul
+00015240: 7469 2d61 7267 2070 6970 6520 6261 636b  ti-arg pipe back
+00015250: 7761 7264 0d0a 283c 2a2a 3f7c 2920 2020  ward..(<**?|)   
+00015260: 2020 3d3e 2023 204e 6f6e 652d 6177 6172    => # None-awar
+00015270: 6520 6b65 7977 6f72 6420 6172 6720 7069  e keyword arg pi
+00015280: 7065 2062 6163 6b77 6172 640d 0a28 2e2e  pe backward..(..
+00015290: 292c 2028 3c2e 2e29 203d 3e20 2320 6261  ), (<..) => # ba
+000152a0: 636b 7761 7264 2066 756e 6374 696f 6e20  ckward function 
+000152b0: 636f 6d70 6f73 6974 696f 6e0d 0a28 2e2e  composition..(..
+000152c0: 3e29 2020 2020 2020 203d 3e20 2320 666f  >)       => # fo
+000152d0: 7277 6172 6420 6675 6e63 7469 6f6e 2063  rward function c
+000152e0: 6f6d 706f 7369 7469 6f6e 0d0a 283c 2a2e  omposition..(<*.
+000152f0: 2e29 2020 2020 2020 3d3e 2023 206d 756c  .)      => # mul
+00015300: 7469 2d61 7267 2062 6163 6b77 6172 6420  ti-arg backward 
+00015310: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+00015320: 7469 6f6e 0d0a 282e 2e2a 3e29 2020 2020  tion..(..*>)    
+00015330: 2020 3d3e 2023 206d 756c 7469 2d61 7267    => # multi-arg
+00015340: 2066 6f72 7761 7264 2066 756e 6374 696f   forward functio
+00015350: 6e20 636f 6d70 6f73 6974 696f 6e0d 0a28  n composition..(
+00015360: 3c2a 2a2e 2e29 2020 2020 203d 3e20 2320  <**..)     => # 
+00015370: 6b65 7977 6f72 6420 6172 6720 6261 636b  keyword arg back
+00015380: 7761 7264 2066 756e 6374 696f 6e20 636f  ward function co
+00015390: 6d70 6f73 6974 696f 6e0d 0a28 2e2e 2a2a  mposition..(..**
+000153a0: 3e29 2020 2020 203d 3e20 2320 6b65 7977  >)     => # keyw
+000153b0: 6f72 6420 6172 6720 666f 7277 6172 6420  ord arg forward 
+000153c0: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+000153d0: 7469 6f6e 0d0a 286e 6f74 2920 2020 2020  tion..(not)     
+000153e0: 2020 3d3e 2028 6f70 6572 6174 6f72 2e6e    => (operator.n
+000153f0: 6f74 5f29 0d0a 2861 6e64 2920 2020 2020  ot_)..(and)     
+00015400: 2020 3d3e 2023 2062 6f6f 6c65 616e 2061    => # boolean a
+00015410: 6e64 0d0a 286f 7229 2020 2020 2020 2020  nd..(or)        
+00015420: 3d3e 2023 2062 6f6f 6c65 616e 206f 720d  => # boolean or.
+00015430: 0a28 6973 2920 2020 2020 2020 203d 3e20  .(is)        => 
+00015440: 286f 7065 7261 746f 722e 6973 5f29 0d0a  (operator.is_)..
+00015450: 2869 7320 6e6f 7429 2020 2020 3d3e 2028  (is not)    => (
+00015460: 6f70 6572 6174 6f72 2e69 735f 6e6f 7429  operator.is_not)
+00015470: 0d0a 2869 6e29 2020 2020 2020 2020 3d3e  ..(in)        =>
+00015480: 2028 6f70 6572 6174 6f72 2e63 6f6e 7461   (operator.conta
+00015490: 696e 7329 0d0a 286e 6f74 2069 6e29 2020  ins)..(not in)  
+000154a0: 2020 3d3e 2023 206e 6567 6174 6976 6520    => # negative 
+000154b0: 636f 6e74 6169 6e6d 656e 740d 0a28 6173  containment..(as
+000154c0: 7365 7274 2920 2020 203d 3e20 6465 6620  sert)    => def 
+000154d0: 2863 6f6e 642c 206d 7367 3d4e 6f6e 6529  (cond, msg=None)
+000154e0: 202d 3e20 6173 7365 7274 2063 6f6e 642c   -> assert cond,
+000154f0: 206d 7367 2020 2320 2862 7574 2061 2062   msg  # (but a b
+00015500: 6574 7465 7220 6d73 6720 6966 206d 7367  etter msg if msg
+00015510: 2069 7320 4e6f 6e65 290d 0a28 7261 6973   is None)..(rais
+00015520: 6529 2020 2020 203d 3e20 6465 6620 2865  e)     => def (e
+00015530: 7863 3d4e 6f6e 652c 2066 726f 6d5f 6578  xc=None, from_ex
+00015540: 633d 4e6f 6e65 2920 2d3e 2072 6169 7365  c=None) -> raise
+00015550: 2065 7863 2066 726f 6d20 6672 6f6d 5f65   exc from from_e
+00015560: 7863 2020 2320 6f72 206a 7573 7420 7261  xc  # or just ra
+00015570: 6973 6520 6966 2065 7863 2069 7320 4e6f  ise if exc is No
+00015580: 6e65 0d0a 2320 7468 6572 6520 6172 6520  ne..# there are 
+00015590: 7477 6f20 6f70 6572 6174 6f72 2066 756e  two operator fun
+000155a0: 6374 696f 6e73 2074 6861 7420 646f 6e27  ctions that don'
+000155b0: 7420 7265 7175 6972 6520 7061 7265 6e74  t require parent
+000155c0: 6865 7365 733a 0d0a 2e5b 5d20 2020 2020  heses:...[]     
+000155d0: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
+000155e0: 2e67 6574 6974 656d 290d 0a2e 245b 5d20  .getitem)...$[] 
+000155f0: 2020 2020 2020 203d 3e20 2320 6974 6572         => # iter
+00015600: 6174 6f72 2073 6c69 6369 6e67 206f 7065  ator slicing ope
+00015610: 7261 746f 720d 0a60 6060 0d0a 0d0a 466f  rator..```....Fo
+00015620: 7220 616e 206f 7065 7261 746f 7220 6675  r an operator fu
+00015630: 6e63 7469 6f6e 2066 6f72 2066 756e 6374  nction for funct
+00015640: 696f 6e20 6170 706c 6963 6174 696f 6e2c  ion application,
+00015650: 2073 6565 205b 6063 616c 6c60 5d28 2363   see [`call`](#c
+00015660: 616c 6c29 2e0d 0a0d 0a54 686f 7567 6820  all).....Though 
+00015670: 6e6f 206f 7065 7261 746f 7220 6675 6e63  no operator func
+00015680: 7469 6f6e 2069 7320 6176 6169 6c61 626c  tion is availabl
+00015690: 6520 666f 7220 6061 7761 6974 602c 2061  e for `await`, a
+000156a0: 6e20 6571 7569 7661 6c65 6e74 2073 796e  n equivalent syn
+000156b0: 7461 7820 6973 2061 7661 696c 6162 6c65  tax is available
+000156c0: 2066 6f72 205b 7069 7065 735d 2823 7069   for [pipes](#pi
+000156d0: 7065 7329 2069 6e20 7468 6520 666f 726d  pes) in the form
+000156e0: 206f 6620 6061 7761 6974 6162 6c65 207c   of `awaitable |
+000156f0: 3e20 6177 6169 7460 2e0d 0a0d 0a23 2323  > await`.....###
+00015700: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
+00015710: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
+00015720: 6f63 6f6e 7574 0d0a 2872 616e 6765 2830  oconut..(range(0
+00015730: 2c20 3529 2c20 7261 6e67 6528 352c 2031  , 5), range(5, 1
+00015740: 3029 2920 7c2a 3e20 6d61 7024 282b 2920  0)) |*> map$(+) 
+00015750: 7c3e 206c 6973 7420 7c3e 2070 7269 6e74  |> list |> print
+00015760: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+00015770: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+00015780: 5f70 7974 686f 6e0d 0a69 6d70 6f72 7420  _python..import 
+00015790: 6f70 6572 6174 6f72 0d0a 7072 696e 7428  operator..print(
+000157a0: 6c69 7374 286d 6170 286f 7065 7261 746f  list(map(operato
+000157b0: 722e 6164 642c 2072 616e 6765 2830 2c20  r.add, range(0, 
+000157c0: 3529 2c20 7261 6e67 6528 352c 2031 3029  5), range(5, 10)
+000157d0: 2929 290d 0a60 6060 0d0a 0d0a 2323 2320  )))..```....### 
+000157e0: 496d 706c 6963 6974 2050 6172 7469 616c  Implicit Partial
+000157f0: 2041 7070 6c69 6361 7469 6f6e 0d0a 0d0a   Application....
+00015800: 436f 636f 6e75 7420 7375 7070 6f72 7473  Coconut supports
+00015810: 2061 206e 756d 6265 7220 6f66 2064 6966   a number of dif
+00015820: 6665 7265 6e74 2073 796e 7461 6374 6963  ferent syntactic
+00015830: 616c 2061 6c69 6173 6573 2066 6f72 2063  al aliases for c
+00015840: 6f6d 6d6f 6e20 7061 7274 6961 6c20 6170  ommon partial ap
+00015850: 706c 6963 6174 696f 6e20 7573 6520 6361  plication use ca
+00015860: 7365 732e 2054 6865 7365 2061 7265 3a0d  ses. These are:.
+00015870: 0a60 6060 636f 636f 6e75 740d 0a2e 6174  .```coconut...at
+00015880: 7472 2020 2020 2020 2020 2020 203d 3e20  tr           => 
+00015890: 2020 2020 206f 7065 7261 746f 722e 6174       operator.at
+000158a0: 7472 6765 7474 6572 2822 6174 7472 2229  trgetter("attr")
+000158b0: 0d0a 2e6d 6574 686f 6428 6172 6773 2920  ...method(args) 
+000158c0: 2020 3d3e 2020 2020 2020 6f70 6572 6174    =>      operat
+000158d0: 6f72 2e6d 6574 686f 6463 616c 6c65 7228  or.methodcaller(
+000158e0: 226d 6574 686f 6422 2c20 6172 6773 290d  "method", args).
+000158f0: 0a66 756e 6324 2020 2020 2020 2020 2020  .func$          
+00015900: 203d 3e20 2020 2020 2028 2429 2428 6675   =>      ($)$(fu
+00015910: 6e63 290d 0a73 6571 5b5d 2020 2020 2020  nc)..seq[]      
+00015920: 2020 2020 203d 3e20 2020 2020 206f 7065       =>      ope
+00015930: 7261 746f 722e 6765 7469 7465 6d24 2873  rator.getitem$(s
+00015940: 6571 290d 0a69 7465 7224 5b5d 2020 2020  eq)..iter$[]    
+00015950: 2020 2020 203d 3e20 2020 2020 2023 2074       =>      # t
+00015960: 6865 2065 7175 6976 616c 656e 7420 6f66  he equivalent of
+00015970: 2073 6571 5b5d 2066 6f72 2069 7465 7261   seq[] for itera
+00015980: 746f 7273 0d0a 2e5b 613a 623a 635d 2020  tors...[a:b:c]  
+00015990: 2020 2020 2020 3d3e 2020 2020 2020 6f70        =>      op
+000159a0: 6572 6174 6f72 2e69 7465 6d67 6574 7465  erator.itemgette
+000159b0: 7228 736c 6963 6528 612c 2062 2c20 6329  r(slice(a, b, c)
+000159c0: 290d 0a2e 245b 613a 623a 635d 2020 2020  )...$[a:b:c]    
+000159d0: 2020 203d 3e20 2020 2020 2023 2074 6865     =>      # the
+000159e0: 2065 7175 6976 616c 656e 7420 6f66 202e   equivalent of .
+000159f0: 5b61 3a62 3a63 5d20 666f 7220 6974 6572  [a:b:c] for iter
+00015a00: 6174 6f72 730d 0a60 6060 0d0a 0d0a 4164  ators..```....Ad
+00015a10: 6469 7469 6f6e 616c 6c79 2c20 602e 6174  ditionally, `.at
+00015a20: 7472 2e6d 6574 686f 6428 6172 6773 2960  tr.method(args)`
+00015a30: 2c20 602e 5b78 5d5b 795d 602c 2061 6e64  , `.[x][y]`, and
+00015a40: 2060 2e24 5b78 5d24 5b79 5d60 2061 7265   `.$[x]$[y]` are
+00015a50: 2061 6c73 6f20 7375 7070 6f72 7465 642e   also supported.
+00015a60: 0d0a 0d0a 496e 2061 6464 6974 696f 6e2c  ....In addition,
+00015a70: 2066 6f72 2065 7665 7279 2043 6f63 6f6e   for every Cocon
+00015a80: 7574 205b 6f70 6572 6174 6f72 2066 756e  ut [operator fun
+00015a90: 6374 696f 6e5d 2823 6f70 6572 6174 6f72  ction](#operator
+00015aa0: 2d66 756e 6374 696f 6e73 292c 2043 6f63  -functions), Coc
+00015ab0: 6f6e 7574 2073 7570 706f 7274 7320 7379  onut supports sy
+00015ac0: 6e74 6178 2066 6f72 2069 6d70 6c69 6369  ntax for implici
+00015ad0: 746c 7920 7061 7274 6961 6c6c 7920 6170  tly partially ap
+00015ae0: 706c 7969 6e67 2074 6861 7420 6f70 6572  plying that oper
+00015af0: 6174 6f72 2066 756e 6374 696f 6e20 6173  ator function as
+00015b00: 0d0a 6060 600d 0a28 2e20 3c6f 703e 203c  ..```..(. <op> <
+00015b10: 6172 673e 290d 0a28 3c61 7267 3e20 3c6f  arg>)..(<arg> <o
+00015b20: 703e 202e 290d 0a60 6060 0d0a 7768 6572  p> .)..```..wher
+00015b30: 6520 603c 6f70 3e60 2069 7320 7468 6520  e `<op>` is the 
+00015b40: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00015b50: 6e20 616e 6420 603c 6172 673e 6020 6973  n and `<arg>` is
+00015b60: 2061 6e79 2065 7870 7265 7373 696f 6e2e   any expression.
+00015b70: 204e 6f74 6520 7468 6174 2c20 6173 2077   Note that, as w
+00015b80: 6974 6820 6f70 6572 6174 6f72 2066 756e  ith operator fun
+00015b90: 6374 696f 6e73 2074 6865 6d73 656c 7665  ctions themselve
+00015ba0: 732c 2074 6865 2070 6172 656e 7468 6573  s, the parenthes
+00015bb0: 6573 2061 7265 206e 6563 6573 7361 7279  es are necessary
+00015bc0: 2066 6f72 2074 6869 7320 7479 7065 206f   for this type o
+00015bd0: 6620 696d 706c 6963 6974 2070 6172 7469  f implicit parti
+00015be0: 616c 2061 7070 6c69 6361 7469 6f6e 2e0d  al application..
+00015bf0: 0a0d 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
+00015c00: 2043 6f63 6f6e 7574 2061 6c73 6f20 7375   Coconut also su
+00015c10: 7070 6f72 7473 2069 6d70 6c69 6369 7420  pports implicit 
+00015c20: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00015c30: 6e20 7061 7274 6961 6c73 2066 6f72 2061  n partials for a
+00015c40: 7262 6974 7261 7279 2066 756e 6374 696f  rbitrary functio
+00015c50: 6e73 2061 730d 0a60 6060 0d0a 282e 2060  ns as..```..(. `
+00015c60: 3c6e 616d 653e 6020 3c61 7267 3e29 0d0a  <name>` <arg>)..
+00015c70: 283c 6172 673e 2060 3c6e 616d 653e 6020  (<arg> `<name>` 
+00015c80: 2e29 0d0a 6060 600d 0a62 6173 6564 206f  .)..```..based o
+00015c90: 6e20 436f 636f 6e75 7427 7320 5b69 6e66  n Coconut's [inf
+00015ca0: 6978 206e 6f74 6174 696f 6e5d 2823 696e  ix notation](#in
+00015cb0: 6669 782d 6675 6e63 7469 6f6e 7329 2077  fix-functions) w
+00015cc0: 6865 7265 2060 3c6e 616d 653e 6020 6973  here `<name>` is
+00015cd0: 2074 6865 206e 616d 6520 6f66 2074 6865   the name of the
+00015ce0: 2066 756e 6374 696f 6e2e 2041 6464 6974   function. Addit
+00015cf0: 696f 6e61 6c6c 792c 2060 6020 603c 6e61  ionally, `` `<na
+00015d00: 6d65 3e60 2060 6020 6361 6e20 696e 7374  me>` `` can inst
+00015d10: 6561 6420 6265 2061 205b 6375 7374 6f6d  ead be a [custom
+00015d20: 206f 7065 7261 746f 725d 2823 6375 7374   operator](#cust
+00015d30: 6f6d 2d6f 7065 7261 746f 7273 2920 2869  om-operators) (i
+00015d40: 6e20 7468 6174 2063 6173 652c 206e 6f20  n that case, no 
+00015d50: 6261 636b 7469 636b 7320 7368 6f75 6c64  backticks should
+00015d60: 2062 6520 7573 6564 292e 0d0a 0d0a 5f44   be used)....._D
+00015d70: 4550 5245 4341 5445 443a 2043 6f63 6f6e  EPRECATED: Cocon
+00015d80: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
+00015d90: 2060 6f62 6a2e 6020 6173 2061 6e20 696d   `obj.` as an im
+00015da0: 706c 6963 6974 2070 6172 7469 616c 2066  plicit partial f
+00015db0: 6f72 2060 6765 7461 7474 7224 286f 626a  or `getattr$(obj
+00015dc0: 2960 2c20 6275 7420 6974 7320 7573 6167  )`, but its usag
+00015dd0: 6520 6973 2064 6570 7265 6361 7465 6420  e is deprecated 
+00015de0: 616e 6420 7769 6c6c 2073 686f 7720 6120  and will show a 
+00015df0: 7761 726e 696e 6720 746f 2073 7769 7463  warning to switc
+00015e00: 6820 746f 2060 6765 7461 7474 7224 286f  h to `getattr$(o
+00015e10: 626a 2960 2069 6e73 7465 6164 2e5f 0d0a  bj)` instead._..
+00015e20: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+00015e30: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+00015e40: 0a60 6060 636f 636f 6e75 740d 0a31 207c  .```coconut..1 |
+00015e50: 3e20 2231 3233 225b 5d0d 0a6d 6f64 2420  > "123"[]..mod$ 
+00015e60: 3c7c 2035 203c 7c20 330d 0a33 207c 3e20  <| 5 <| 3..3 |> 
+00015e70: 282e 2a32 2920 7c3e 2028 2e2b 3129 0d0a  (.*2) |> (.+1)..
+00015e80: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+00015e90: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00015ea0: 7974 686f 6e0d 0a22 3132 3322 5b31 5d0d  ython.."123"[1].
+00015eb0: 0a6d 6f64 2835 2c20 3329 0d0a 2833 202a  .mod(5, 3)..(3 *
+00015ec0: 2032 2920 2b20 310d 0a60 6060 0d0a 0d0a   2) + 1..```....
+00015ed0: 2323 2320 456e 6861 6e63 6564 2054 7970  ### Enhanced Typ
+00015ee0: 6520 416e 6e6f 7461 7469 6f6e 0d0a 0d0a  e Annotation....
+00015ef0: 5369 6e63 6520 436f 636f 6e75 7420 7379  Since Coconut sy
+00015f00: 6e74 6178 2069 7320 6120 7375 7065 7273  ntax is a supers
+00015f10: 6574 206f 6620 5079 7468 6f6e 2033 2073  et of Python 3 s
+00015f20: 796e 7461 782c 2069 7420 7375 7070 6f72  yntax, it suppor
+00015f30: 7473 205b 5079 7468 6f6e 2033 2066 756e  ts [Python 3 fun
+00015f40: 6374 696f 6e20 7479 7065 2061 6e6e 6f74  ction type annot
+00015f50: 6174 696f 6e20 7379 6e74 6178 5d28 6874  ation syntax](ht
+00015f60: 7470 733a 2f2f 7777 772e 7079 7468 6f6e  tps://www.python
+00015f70: 2e6f 7267 2f64 6576 2f70 6570 732f 7065  .org/dev/peps/pe
+00015f80: 702d 3034 3834 2f29 2061 6e64 205b 5079  p-0484/) and [Py
+00015f90: 7468 6f6e 2033 2e36 2076 6172 6961 626c  thon 3.6 variabl
+00015fa0: 6520 7479 7065 2061 6e6e 6f74 6174 696f  e type annotatio
+00015fb0: 6e20 7379 6e74 6178 5d28 6874 7470 733a  n syntax](https:
+00015fc0: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
+00015fd0: 2f64 6576 2f70 6570 732f 7065 702d 3035  /dev/peps/pep-05
+00015fe0: 3236 2f29 2e20 4279 2064 6566 6175 6c74  26/). By default
+00015ff0: 2c20 436f 636f 6e75 7420 636f 6d70 696c  , Coconut compil
+00016000: 6573 2061 6c6c 2074 7970 6520 616e 6e6f  es all type anno
+00016010: 7461 7469 6f6e 7320 696e 746f 2050 7974  tations into Pyt
+00016020: 686f 6e2d 322d 636f 6d70 6174 6962 6c65  hon-2-compatible
+00016030: 2074 7970 6520 636f 6d6d 656e 7473 2e20   type comments. 
+00016040: 4966 2079 6f75 2077 616e 7420 746f 206b  If you want to k
+00016050: 6565 7020 7468 6520 7479 7065 2061 6e6e  eep the type ann
+00016060: 6f74 6174 696f 6e73 2069 6e73 7465 6164  otations instead
+00016070: 2c20 7369 6d70 6c79 2070 6173 7320 6120  , simply pass a 
+00016080: 602d 2d74 6172 6765 7460 2074 6861 7420  `--target` that 
+00016090: 7375 7070 6f72 7473 2074 6865 6d2e 0d0a  supports them...
+000160a0: 0d0a 5369 6e63 6520 6e6f 7420 616c 6c20  ..Since not all 
+000160b0: 7375 7070 6f72 7465 6420 5079 7468 6f6e  supported Python
+000160c0: 2076 6572 7369 6f6e 7320 7375 7070 6f72   versions suppor
+000160d0: 7420 7468 6520 5b60 7479 7069 6e67 605d  t the [`typing`]
+000160e0: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
+000160f0: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
+00016100: 7279 2f74 7970 696e 672e 6874 6d6c 2920  ry/typing.html) 
+00016110: 6d6f 6475 6c65 2c20 436f 636f 6e75 7420  module, Coconut 
+00016120: 7072 6f76 6964 6573 2074 6865 205b 6054  provides the [`T
+00016130: 5950 455f 4348 4543 4b49 4e47 605d 2823  YPE_CHECKING`](#
+00016140: 7479 7065 5f63 6865 636b 696e 6729 2062  type_checking) b
+00016150: 7569 6c74 2d69 6e20 666f 7220 6869 6469  uilt-in for hidi
+00016160: 6e67 2079 6f75 7220 6074 7970 696e 6760  ng your `typing`
+00016170: 2069 6d70 6f72 7473 2061 6e64 2060 5479   imports and `Ty
+00016180: 7065 5661 7260 2064 6566 696e 6974 696f  peVar` definitio
+00016190: 6e73 2066 726f 6d20 6265 696e 6720 6578  ns from being ex
+000161a0: 6563 7574 6564 2061 7420 7275 6e74 696d  ecuted at runtim
+000161b0: 652e 2043 6f63 6f6e 7574 2077 696c 6c20  e. Coconut will 
+000161c0: 616c 736f 2061 7574 6f6d 6174 6963 616c  also automatical
+000161d0: 6c79 2075 7365 205b 6074 7970 696e 675f  ly use [`typing_
+000161e0: 6578 7465 6e73 696f 6e73 605d 2868 7474  extensions`](htt
+000161f0: 7073 3a2f 2f70 7970 692e 6f72 672f 7072  ps://pypi.org/pr
+00016200: 6f6a 6563 742f 7479 7069 6e67 2d65 7874  oject/typing-ext
+00016210: 656e 7369 6f6e 732f 2920 6f76 6572 2060  ensions/) over `
+00016220: 7479 7069 6e67 6020 7768 656e 2069 6d70  typing` when imp
+00016230: 6f72 7469 6e67 206f 626a 6563 7473 206e  orting objects n
+00016240: 6f74 2061 7661 696c 6162 6c65 2069 6e20  ot available in 
+00016250: 6074 7970 696e 6760 206f 6e20 7468 6520  `typing` on the 
+00016260: 6375 7272 656e 7420 5079 7468 6f6e 2076  current Python v
+00016270: 6572 7369 6f6e 2e0d 0a0d 0a46 7572 7468  ersion.....Furth
+00016280: 6572 6d6f 7265 2c20 7768 656e 2063 6f6d  ermore, when com
+00016290: 7069 6c69 6e67 2074 7970 6520 616e 6e6f  piling type anno
+000162a0: 7461 7469 6f6e 7320 746f 2050 7974 686f  tations to Pytho
+000162b0: 6e20 3320 7665 7273 696f 6e73 2077 6974  n 3 versions wit
+000162c0: 686f 7574 205b 5045 5020 3536 335d 2868  hout [PEP 563](h
+000162d0: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
+000162e0: 6e2e 6f72 672f 6465 762f 7065 7073 2f70  n.org/dev/peps/p
+000162f0: 6570 2d30 3536 332f 2920 7375 7070 6f72  ep-0563/) suppor
+00016300: 742c 2043 6f63 6f6e 7574 2077 7261 7073  t, Coconut wraps
+00016310: 2061 6e6e 6f74 6174 696f 6e20 696e 2073   annotation in s
+00016320: 7472 696e 6773 2074 6f20 7072 6576 656e  trings to preven
+00016330: 7420 7468 656d 2066 726f 6d20 6265 696e  t them from bein
+00016340: 6720 6576 616c 7561 7465 6420 6174 2072  g evaluated at r
+00016350: 756e 7469 6d65 2028 6e6f 7465 2074 6861  untime (note tha
+00016360: 7420 602d 2d6e 6f2d 7772 6170 2d74 7970  t `--no-wrap-typ
+00016370: 6573 6020 6469 7361 626c 6573 2061 6c6c  es` disables all
+00016380: 2077 7261 7070 696e 672c 2069 6e63 6c75   wrapping, inclu
+00016390: 6469 6e67 2076 6961 2050 4550 2035 3633  ding via PEP 563
+000163a0: 2073 7570 706f 7274 292e 0d0a 0d0a 4164   support).....Ad
+000163b0: 6469 7469 6f6e 616c 6c79 2c20 436f 636f  ditionally, Coco
+000163c0: 6e75 7420 6164 6473 2073 7065 6369 616c  nut adds special
+000163d0: 2073 796e 7461 7820 666f 7220 6d61 6b69   syntax for maki
+000163e0: 6e67 2074 7970 6520 616e 6e6f 7461 7469  ng type annotati
+000163f0: 6f6e 7320 6561 7369 6572 2061 6e64 2073  ons easier and s
+00016400: 696d 706c 6572 2074 6f20 7772 6974 652e  impler to write.
+00016410: 2057 6865 6e20 696e 7369 6465 206f 6620   When inside of 
+00016420: 6120 7479 7065 2061 6e6e 6f74 6174 696f  a type annotatio
+00016430: 6e2c 2043 6f63 6f6e 7574 2074 7265 6174  n, Coconut treat
+00016440: 7320 6365 7274 6169 6e20 7379 6e74 6178  s certain syntax
+00016450: 2063 6f6e 7374 7275 6374 7320 6469 6666   constructs diff
+00016460: 6572 656e 746c 792c 2063 6f6d 7069 6c69  erently, compili
+00016470: 6e67 2074 6865 6d20 746f 2074 7970 6520  ng them to type 
+00016480: 616e 6e6f 7461 7469 6f6e 7320 696e 7374  annotations inst
+00016490: 6561 6420 6f66 2077 6861 7420 7468 6579  ead of what they
+000164a0: 2077 6f75 6c64 206e 6f72 6d61 6c6c 7920   would normally 
+000164b0: 7265 7072 6573 656e 742e 2053 7065 6369  represent. Speci
+000164c0: 6669 6361 6c6c 792c 2043 6f63 6f6e 7574  fically, Coconut
+000164d0: 2061 7070 6c69 6573 2074 6865 2066 6f6c   applies the fol
+000164e0: 6c6f 7769 6e67 2074 7261 6e73 666f 726d  lowing transform
+000164f0: 6174 696f 6e73 3a0d 0a60 6060 636f 636f  ations:..```coco
+00016500: 6e75 740d 0a41 207c 2042 0d0a 2020 2020  nut..A | B..    
+00016510: 3d3e 2074 7970 696e 672e 556e 696f 6e5b  => typing.Union[
+00016520: 412c 2042 5d0d 0a28 413b 2042 290d 0a20  A, B]..(A; B).. 
+00016530: 2020 203d 3e20 7479 7069 6e67 2e54 7570     => typing.Tup
+00016540: 6c65 5b41 2c20 425d 0d0a 413f 0d0a 2020  le[A, B]..A?..  
+00016550: 2020 3d3e 2074 7970 696e 672e 4f70 7469    => typing.Opti
+00016560: 6f6e 616c 5b41 5d0d 0a41 5b5d 0d0a 2020  onal[A]..A[]..  
+00016570: 2020 3d3e 2074 7970 696e 672e 5365 7175    => typing.Sequ
+00016580: 656e 6365 5b41 5d0d 0a41 245b 5d0d 0a20  ence[A]..A$[].. 
+00016590: 2020 203d 3e20 7479 7069 6e67 2e49 7465     => typing.Ite
+000165a0: 7261 626c 655b 415d 0d0a 2829 202d 3e20  rable[A]..() -> 
+000165b0: 3c72 6574 3e0d 0a20 2020 203d 3e20 7479  <ret>..    => ty
+000165c0: 7069 6e67 2e43 616c 6c61 626c 655b 5b5d  ping.Callable[[]
+000165d0: 2c20 3c72 6574 3e5d 0d0a 3c61 7267 3e20  , <ret>]..<arg> 
+000165e0: 2d3e 203c 7265 743e 0d0a 2020 2020 3d3e  -> <ret>..    =>
+000165f0: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
+00016600: 5b5b 3c61 7267 3e5d 2c20 3c72 6574 3e5d  [[<arg>], <ret>]
+00016610: 0d0a 283c 6172 6773 3e29 202d 3e20 3c72  ..(<args>) -> <r
+00016620: 6574 3e0d 0a20 2020 203d 3e20 7479 7069  et>..    => typi
+00016630: 6e67 2e43 616c 6c61 626c 655b 5b3c 6172  ng.Callable[[<ar
+00016640: 6773 3e5d 2c20 3c72 6574 3e5d 0d0a 2d3e  gs>], <ret>]..->
+00016650: 203c 7265 743e 0d0a 2020 2020 3d3e 2074   <ret>..    => t
+00016660: 7970 696e 672e 4361 6c6c 6162 6c65 5b2e  yping.Callable[.
+00016670: 2e2e 2c20 3c72 6574 3e5d 0d0a 283c 6172  .., <ret>]..(<ar
+00016680: 6773 3e2c 202a 2a3c 5061 7261 6d53 7065  gs>, **<ParamSpe
+00016690: 633e 2920 2d3e 203c 7265 743e 0d0a 2020  c>) -> <ret>..  
+000166a0: 2020 3d3e 2074 7970 696e 672e 4361 6c6c    => typing.Call
+000166b0: 6162 6c65 5b74 7970 696e 672e 436f 6e63  able[typing.Conc
+000166c0: 6174 656e 6174 655b 3c61 7267 733e 2c20  atenate[<args>, 
+000166d0: 3c50 6172 616d 5370 6563 3e5d 2c20 3c72  <ParamSpec>], <r
+000166e0: 6574 3e5d 0d0a 6173 796e 6320 283c 6172  et>]..async (<ar
+000166f0: 6773 3e29 202d 3e20 3c72 6574 3e0d 0a20  gs>) -> <ret>.. 
+00016700: 2020 203d 3e20 7479 7069 6e67 2e43 616c     => typing.Cal
+00016710: 6c61 626c 655b 5b3c 6172 6773 3e5d 2c20  lable[[<args>], 
+00016720: 7479 7069 6e67 2e41 7761 6974 6162 6c65  typing.Awaitable
+00016730: 5b3c 7265 743e 5d5d 0d0a 6060 600d 0a77  [<ret>]]..```..w
+00016740: 6865 7265 2060 7479 7069 6e67 6020 6973  here `typing` is
+00016750: 2074 6865 2050 7974 686f 6e20 332e 3520   the Python 3.5 
+00016760: 6275 696c 742d 696e 205b 6074 7970 696e  built-in [`typin
+00016770: 6760 206d 6f64 756c 655d 2868 7474 7073  g` module](https
+00016780: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+00016790: 7267 2f33 2f6c 6962 7261 7279 2f74 7970  rg/3/library/typ
+000167a0: 696e 672e 6874 6d6c 292e 2046 6f72 206d  ing.html). For m
+000167b0: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
+000167c0: 6f6e 2074 6865 2043 616c 6c61 626c 6520  on the Callable 
+000167d0: 7379 6e74 6178 2c20 7365 6520 5b50 4550  syntax, see [PEP
+000167e0: 2036 3737 5d28 6874 7470 733a 2f2f 7065   677](https://pe
+000167f0: 7073 2e70 7974 686f 6e2e 6f72 672f 7065  ps.python.org/pe
+00016800: 702d 3036 3737 292c 2077 6869 6368 2043  p-0677), which C
+00016810: 6f63 6f6e 7574 2066 756c 6c79 2073 7570  oconut fully sup
+00016820: 706f 7274 732e 0d0a 0d0a 4164 6469 7469  ports.....Additi
+00016830: 6f6e 616c 6c79 2c20 6d61 6e79 206f 6620  onally, many of 
+00016840: 436f 636f 6e75 7427 7320 5b6f 7065 7261  Coconut's [opera
+00016850: 746f 7220 6675 6e63 7469 6f6e 735d 2823  tor functions](#
+00016860: 6f70 6572 6174 6f72 2d66 756e 6374 696f  operator-functio
+00016870: 6e73 2920 7769 6c6c 2063 6f6d 7069 6c65  ns) will compile
+00016880: 2069 6e74 6f20 6571 7569 7661 6c65 6e74   into equivalent
+00016890: 205b 6050 726f 746f 636f 6c60 735d 2868   [`Protocol`s](h
+000168a0: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
+000168b0: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
+000168c0: 2f74 7970 696e 672e 6874 6d6c 2374 7970  /typing.html#typ
+000168d0: 696e 672e 5072 6f74 6f63 6f6c 2920 696e  ing.Protocol) in
+000168e0: 7374 6561 6420 7768 656e 2069 6e73 6964  stead when insid
+000168f0: 6520 6120 7479 7065 2061 6e6e 6f74 6174  e a type annotat
+00016900: 696f 6e2e 2053 6565 2062 656c 6f77 2066  ion. See below f
+00016910: 6f72 2074 6865 2066 756c 6c20 6c69 7374  or the full list
+00016920: 2061 6e64 2073 7065 6369 6669 6361 7469   and specificati
+00016930: 6f6e 2e0d 0a0d 0a5f 4e6f 7465 3a20 5468  on....._Note: Th
+00016940: 6520 7472 616e 7366 6f72 6d61 7469 6f6e  e transformation
+00016950: 2074 6f20 6055 6e69 6f6e 6020 6973 206e   to `Union` is n
+00016960: 6f74 2064 6f6e 6520 6f6e 2050 7974 686f  ot done on Pytho
+00016970: 6e20 332e 3130 2061 7320 5079 7468 6f6e  n 3.10 as Python
+00016980: 2033 2e31 3020 6861 7320 6e61 7469 7665   3.10 has native
+00016990: 205b 5045 5020 3630 345d 2868 7474 7073   [PEP 604](https
+000169a0: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
+000169b0: 672f 6465 762f 7065 7073 2f70 6570 2d30  g/dev/peps/pep-0
+000169c0: 3630 3429 2073 7570 706f 7274 2e5f 0d0a  604) support._..
+000169d0: 0d0a 546f 2075 7365 2074 6865 7365 2074  ..To use these t
+000169e0: 7261 6e73 666f 726d 6174 696f 6e73 2069  ransformations i
+000169f0: 6e20 6120 5b74 7970 6520 616c 6961 735d  n a [type alias]
+00016a00: 2868 7474 7073 3a2f 2f70 6570 732e 7079  (https://peps.py
+00016a10: 7468 6f6e 2e6f 7267 2f70 6570 2d30 3438  thon.org/pep-048
+00016a20: 342f 2374 7970 652d 616c 6961 7365 7329  4/#type-aliases)
+00016a30: 2c20 7573 6520 7468 6520 7379 6e74 6178  , use the syntax
+00016a40: 0d0a 6060 600d 0a74 7970 6520 3c6e 616d  ..```..type <nam
+00016a50: 653e 203d 203c 7479 7065 3e0d 0a60 6060  e> = <type>..```
+00016a60: 0d0a 7768 6963 6820 7769 6c6c 2061 6c6c  ..which will all
+00016a70: 6f77 2060 3c74 7970 653e 6020 746f 2069  ow `<type>` to i
+00016a80: 6e63 6c75 6465 2043 6f63 6f6e 7574 2773  nclude Coconut's
+00016a90: 2073 7065 6369 616c 2074 7970 6520 616e   special type an
+00016aa0: 6e6f 7461 7469 6f6e 2073 796e 7461 7820  notation syntax 
+00016ab0: 616e 6420 7479 7065 2060 3c6e 616d 653e  and type `<name>
+00016ac0: 6020 6173 2061 205b 6074 7970 696e 672e  ` as a [`typing.
+00016ad0: 5479 7065 416c 6961 7360 5d28 6874 7470  TypeAlias`](http
+00016ae0: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
+00016af0: 6f72 672f 332f 6c69 6272 6172 792f 7479  org/3/library/ty
+00016b00: 7069 6e67 2e68 746d 6c23 7479 7069 6e67  ping.html#typing
+00016b10: 2e54 7970 6541 6c69 6173 292e 2049 6620  .TypeAlias). If 
+00016b20: 796f 7520 7472 7920 746f 2069 6e73 7465  you try to inste
+00016b30: 6164 206a 7573 7420 646f 2061 206e 616b  ad just do a nak
+00016b40: 6564 2060 3c6e 616d 653e 203d 203c 7479  ed `<name> = <ty
+00016b50: 7065 3e60 2074 7970 6520 616c 6961 732c  pe>` type alias,
+00016b60: 2043 6f63 6f6e 7574 2077 6f6e 2774 2062   Coconut won't b
+00016b70: 6520 6162 6c65 2074 6f20 7465 6c6c 2079  e able to tell y
+00016b80: 6f75 2772 6520 6174 7465 6d70 7469 6e67  ou're attempting
+00016b90: 2061 2074 7970 6520 616c 6961 7320 616e   a type alias an
+00016ba0: 6420 7468 7573 2077 6f6e 2774 2061 7070  d thus won't app
+00016bb0: 6c79 2061 6e79 206f 6620 7468 6520 6162  ly any of the ab
+00016bc0: 6f76 6520 7472 616e 7366 6f72 6d61 7469  ove transformati
+00016bd0: 6f6e 732e 0d0a 0d0a 5375 6368 2074 7970  ons.....Such typ
+00016be0: 6520 616c 6961 7320 7374 6174 656d 656e  e alias statemen
+00016bf0: 7473 e280 9461 7320 7765 6c6c 2061 7320  ts...as well as 
+00016c00: 616c 6c20 6063 6c61 7373 602c 2060 6461  all `class`, `da
+00016c10: 7461 602c 2061 6e64 2066 756e 6374 696f  ta`, and functio
+00016c20: 6e20 6465 6669 6e69 7469 6f6e 7320 696e  n definitions in
+00016c30: 2043 6f63 6f6e 7574 e280 9461 6c73 6f20   Coconut...also 
+00016c40: 7375 7070 6f72 7420 436f 636f 6e75 7427  support Coconut'
+00016c50: 7320 5b74 7970 6520 7061 7261 6d65 7465  s [type paramete
+00016c60: 7220 7379 6e74 6178 5d28 2374 7970 652d  r syntax](#type-
+00016c70: 7061 7261 6d65 7465 722d 7379 6e74 6178  parameter-syntax
+00016c80: 292c 2061 6c6c 6f77 696e 6720 796f 7520  ), allowing you 
+00016c90: 746f 2064 6f20 7468 696e 6773 206c 696b  to do things lik
+00016ca0: 6520 6074 7970 6520 4f72 5374 725b 545d  e `type OrStr[T]
+00016cb0: 203d 2054 207c 2073 7472 602e 0d0a 0d0a   = T | str`.....
+00016cc0: 2323 2323 2320 5375 7070 6f72 7465 6420  ##### Supported 
+00016cd0: 5072 6f74 6f63 6f6c 730d 0a0d 0a55 7369  Protocols....Usi
+00016ce0: 6e67 2043 6f63 6f6e 7574 2773 205b 6f70  ng Coconut's [op
+00016cf0: 6572 6174 6f72 2066 756e 6374 696f 6e5d  erator function]
+00016d00: 2823 6f70 6572 6174 6f72 2d66 756e 6374  (#operator-funct
+00016d10: 696f 6e73 2920 7379 6e74 6178 2069 6e73  ions) syntax ins
+00016d20: 6964 6520 6f66 2061 2074 7970 6520 616e  ide of a type an
+00016d30: 6e6f 7461 7469 6f6e 2077 696c 6c20 696e  notation will in
+00016d40: 7374 6561 6420 7072 6f64 7563 6520 6120  stead produce a 
+00016d50: 5b60 5072 6f74 6f63 6f6c 605d 2868 7474  [`Protocol`](htt
+00016d60: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00016d70: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f74  .org/3/library/t
+00016d80: 7970 696e 672e 6874 6d6c 2374 7970 696e  yping.html#typin
+00016d90: 672e 5072 6f74 6f63 6f6c 2920 636f 7272  g.Protocol) corr
+00016da0: 6573 706f 6e64 696e 6720 746f 2074 6861  esponding to tha
+00016db0: 7420 6f70 6572 6174 6f72 2028 6f72 2072  t operator (or r
+00016dc0: 6169 7365 2061 2073 796e 7461 7820 6572  aise a syntax er
+00016dd0: 726f 7220 6966 206e 6f20 7375 6368 2060  ror if no such `
+00016de0: 5072 6f74 6f63 6f6c 6020 6973 2061 7661  Protocol` is ava
+00016df0: 696c 6162 6c65 292e 2041 6c6c 2061 7661  ilable). All ava
+00016e00: 696c 6162 6c65 2060 5072 6f74 6f63 6f6c  ilable `Protocol
+00016e10: 6073 2061 7265 206c 6973 7465 6420 6265  `s are listed be
+00016e20: 6c6f 772e 0d0a 0d0a 466f 7220 7468 6520  low.....For the 
+00016e30: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00016e40: 6e73 0d0a 6060 600d 0a28 2b29 0d0a 282a  ns..```..(+)..(*
+00016e50: 290d 0a28 2a2a 290d 0a28 2f29 0d0a 282f  )..(**)..(/)..(/
+00016e60: 2f29 0d0a 2825 290d 0a28 2629 0d0a 285e  /)..(%)..(&)..(^
+00016e70: 290d 0a28 7c29 0d0a 283c 3c29 0d0a 283e  )..(|)..(<<)..(>
+00016e80: 3e29 0d0a 2840 290d 0a60 6060 0d0a 7468  >)..(@)..```..th
+00016e90: 6520 7265 7375 6c74 696e 6720 6050 726f  e resulting `Pro
+00016ea0: 746f 636f 6c60 2069 730d 0a60 6060 636f  tocol` is..```co
+00016eb0: 636f 6e75 740d 0a63 6c61 7373 2053 7570  conut..class Sup
+00016ec0: 706f 7274 734f 705b 542c 2055 2c20 565d  portsOp[T, U, V]
+00016ed0: 2850 726f 746f 636f 6c29 3a0d 0a20 2020  (Protocol):..   
+00016ee0: 2064 6566 205f 5f6f 705f 5f28 7365 6c66   def __op__(self
+00016ef0: 3a20 542c 206f 7468 6572 3a20 5529 202d  : T, other: U) -
+00016f00: 3e20 563a 0d0a 2020 2020 2020 2020 7261  > V:..        ra
+00016f10: 6973 6520 4e6f 7449 6d70 6c65 6d65 6e74  ise NotImplement
+00016f20: 6564 4572 726f 7228 2e2e 2e29 0d0a 6060  edError(...)..``
+00016f30: 600d 0a77 6865 7265 2060 5f5f 6f70 5f5f  `..where `__op__
+00016f40: 6020 6973 2074 6865 206d 6167 6963 206d  ` is the magic m
+00016f50: 6574 686f 6420 636f 7272 6573 706f 6e64  ethod correspond
+00016f60: 696e 6720 746f 2074 6861 7420 6f70 6572  ing to that oper
+00016f70: 6174 6f72 2e0d 0a0d 0a46 6f72 2074 6865  ator.....For the
+00016f80: 206f 7065 7261 746f 7220 6675 6e63 7469   operator functi
+00016f90: 6f6e 2060 282d 2960 2c20 7468 6520 7265  on `(-)`, the re
+00016fa0: 7375 6c74 696e 6720 6050 726f 746f 636f  sulting `Protoco
+00016fb0: 6c60 2069 733a 0d0a 6060 6063 6f63 6f6e  l` is:..```cocon
+00016fc0: 7574 0d0a 636c 6173 7320 5375 7070 6f72  ut..class Suppor
+00016fd0: 7473 4d69 6e75 735b 542c 2055 2c20 565d  tsMinus[T, U, V]
+00016fe0: 2850 726f 746f 636f 6c29 3a0d 0a20 2020  (Protocol):..   
+00016ff0: 2064 6566 205f 5f73 7562 5f5f 2873 656c   def __sub__(sel
+00017000: 663a 2054 2c20 6f74 6865 723a 2055 2920  f: T, other: U) 
+00017010: 2d3e 2056 3a0d 0a20 2020 2020 2020 2072  -> V:..        r
+00017020: 6169 7365 204e 6f74 496d 706c 656d 656e  aise NotImplemen
+00017030: 7465 6445 7272 6f72 0d0a 2020 2020 6465  tedError..    de
+00017040: 6620 5f5f 6e65 675f 5f28 7365 6c66 3a20  f __neg__(self: 
+00017050: 5429 202d 3e20 563a 0d0a 2020 2020 2020  T) -> V:..      
+00017060: 2020 7261 6973 6520 4e6f 7449 6d70 6c65    raise NotImple
+00017070: 6d65 6e74 6564 4572 726f 720d 0a60 6060  mentedError..```
+00017080: 0d0a 0d0a 466f 7220 7468 6520 6f70 6572  ....For the oper
+00017090: 6174 6f72 2066 756e 6374 696f 6e20 6028  ator function `(
+000170a0: 7e29 602c 2074 6865 2072 6573 756c 7469  ~)`, the resulti
+000170b0: 6e67 2060 5072 6f74 6f63 6f6c 6020 6973  ng `Protocol` is
+000170c0: 3a0d 0a60 6060 636f 636f 6e75 740d 0a63  :..```coconut..c
+000170d0: 6c61 7373 2053 7570 706f 7274 7349 6e76  lass SupportsInv
+000170e0: 5b54 2c20 565d 2850 726f 746f 636f 6c29  [T, V](Protocol)
+000170f0: 3a0d 0a20 2020 2064 6566 205f 5f69 6e76  :..    def __inv
+00017100: 6572 745f 5f28 7365 6c66 3a20 5429 202d  ert__(self: T) -
+00017110: 3e20 563a 0d0a 2020 2020 2020 2020 7261  > V:..        ra
+00017120: 6973 6520 4e6f 7449 6d70 6c65 6d65 6e74  ise NotImplement
+00017130: 6564 4572 726f 7228 2e2e 2e29 0d0a 6060  edError(...)..``
+00017140: 600d 0a0d 0a23 2323 2323 2060 4c69 7374  `....##### `List
+00017150: 6020 7673 2e20 6053 6571 7565 6e63 6560  ` vs. `Sequence`
+00017160: 0d0a 0d0a 496d 706f 7274 616e 746c 792c  ....Importantly,
+00017170: 206e 6f74 6520 7468 6174 2060 545b 5d60   note that `T[]`
+00017180: 2064 6f65 7320 6e6f 7420 6d61 7020 6f6e   does not map on
+00017190: 746f 2060 7479 7069 6e67 2e4c 6973 745b  to `typing.List[
+000171a0: 545d 6020 6275 7420 6f6e 746f 2060 7479  T]` but onto `ty
+000171b0: 7069 6e67 2e53 6571 7565 6e63 655b 545d  ping.Sequence[T]
+000171c0: 602e 2054 6869 7320 616c 6c6f 7773 2074  `. This allows t
+000171d0: 6865 2072 6573 756c 7469 6e67 2074 7970  he resulting typ
+000171e0: 6520 746f 2062 6520 636f 7661 7269 616e  e to be covarian
+000171f0: 742c 2073 7563 6820 7468 6174 2069 6620  t, such that if 
+00017200: 6055 6020 6973 2061 2073 7562 7479 7065  `U` is a subtype
+00017210: 206f 6620 6054 602c 2074 6865 6e20 6055   of `T`, then `U
+00017220: 5b5d 6020 6973 2061 2073 7562 7479 7065  []` is a subtype
+00017230: 206f 6620 6054 5b5d 602e 2041 6464 6974   of `T[]`. Addit
+00017240: 696f 6e61 6c6c 792c 2060 5365 7175 656e  ionally, `Sequen
+00017250: 6365 5b54 5d60 2061 6c6c 6f77 7320 666f  ce[T]` allows fo
+00017260: 7220 7475 706c 6573 2c20 616e 6420 7768  r tuples, and wh
+00017270: 656e 2077 7269 7469 6e67 2069 6e20 616e  en writing in an
+00017280: 2069 6469 6f6d 6174 6963 2066 756e 6374   idiomatic funct
+00017290: 696f 6e61 6c20 7374 796c 652c 2061 7373  ional style, ass
+000172a0: 6967 6e6d 656e 7420 7368 6f75 6c64 2062  ignment should b
+000172b0: 6520 7261 7265 2061 6e64 2074 7570 6c65  e rare and tuple
+000172c0: 7320 7368 6f75 6c64 2062 6520 636f 6d6d  s should be comm
+000172d0: 6f6e 2e20 5573 696e 6720 6053 6571 7565  on. Using `Seque
+000172e0: 6e63 6560 2063 6f76 6572 7320 626f 7468  nce` covers both
+000172f0: 2063 6173 6573 2c20 6163 636f 6d6d 6f64   cases, accommod
+00017300: 6174 696e 6720 7475 706c 6573 2061 6e64  ating tuples and
+00017310: 206c 6973 7473 2061 6e64 2070 7265 7665   lists and preve
+00017320: 6e74 696e 6720 696e 6465 7865 6420 6173  nting indexed as
+00017330: 7369 676e 6d65 6e74 2e20 5768 656e 2061  signment. When a
+00017340: 6e20 696e 6465 7865 6420 6173 7369 676e  n indexed assign
+00017350: 6d65 6e74 2069 7320 6174 7465 6d70 7465  ment is attempte
+00017360: 6420 696e 746f 2061 2076 6172 6961 626c  d into a variabl
+00017370: 6520 7479 7065 6420 7769 7468 2060 5365  e typed with `Se
+00017380: 7175 656e 6365 602c 204d 7950 7920 7769  quence`, MyPy wi
+00017390: 6c6c 2067 656e 6572 6174 6520 616e 2065  ll generate an e
+000173a0: 7272 6f72 3a0d 0a0d 0a60 6060 636f 636f  rror:....```coco
+000173b0: 6e75 740d 0a66 6f6f 3a20 696e 745b 5d20  nut..foo: int[] 
+000173c0: 3d20 5b30 2c20 312c 2032 2c20 332c 2034  = [0, 1, 2, 3, 4
+000173d0: 2c20 355d 0d0a 666f 6f5b 305d 203d 2031  , 5]..foo[0] = 1
+000173e0: 2020 2023 204d 7950 7920 6572 726f 723a     # MyPy error:
+000173f0: 2022 556e 7375 7070 6f72 7465 6420 7461   "Unsupported ta
+00017400: 7267 6574 2066 6f72 2069 6e64 6578 6564  rget for indexed
+00017410: 2061 7373 6967 6e6d 656e 7422 0d0a 6060   assignment"..``
+00017420: 600d 0a0d 0a49 6620 796f 7520 7761 6e74  `....If you want
+00017430: 2074 6f20 7573 6520 604c 6973 7460 2069   to use `List` i
+00017440: 6e73 7465 6164 2028 652e 672e 2069 6620  nstead (e.g. if 
+00017450: 796f 7520 7761 6e74 2074 6f20 7375 7070  you want to supp
+00017460: 6f72 7420 696e 6465 7865 6420 6173 7369  ort indexed assi
+00017470: 676e 6d65 6e74 292c 2075 7365 2074 6865  gnment), use the
+00017480: 2073 7461 6e64 6172 6420 5079 7468 6f6e   standard Python
+00017490: 2033 2e35 2076 6172 6961 626c 6520 7479   3.5 variable ty
+000174a0: 7065 2061 6e6e 6f74 6174 696f 6e20 7379  pe annotation sy
+000174b0: 6e74 6178 3a20 6066 6f6f 3a20 4c69 7374  ntax: `foo: List
+000174c0: 5b3c 7479 7065 3e5d 602e 0d0a 0d0a 5f4e  [<type>]`....._N
+000174d0: 6f74 653a 2054 6f20 6561 7369 6c79 2076  ote: To easily v
+000174e0: 6965 7720 796f 7572 2064 6566 696e 6564  iew your defined
+000174f0: 2074 7970 6573 2c20 7365 6520 5b60 7265   types, see [`re
+00017500: 7665 616c 5f74 7970 6560 2061 6e64 2060  veal_type` and `
+00017510: 7265 7665 616c 5f6c 6f63 616c 7360 5d28  reveal_locals`](
+00017520: 2372 6576 6561 6c2d 7479 7065 2d61 6e64  #reveal-type-and
+00017530: 2d72 6576 6561 6c2d 6c6f 6361 6c73 292e  -reveal-locals).
+00017540: 5f0d 0a0d 0a23 2323 2323 2045 7861 6d70  _....##### Examp
+00017550: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+00017560: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+00017570: 6465 6620 696e 745f 6d61 7028 0d0a 2020  def int_map(..  
+00017580: 2020 663a 2069 6e74 202d 3e20 696e 742c    f: int -> int,
+00017590: 0d0a 2020 2020 7873 3a20 696e 745b 5d2c  ..    xs: int[],
+000175a0: 0d0a 2920 2d3e 2069 6e74 5b5d 203d 0d0a  ..) -> int[] =..
+000175b0: 2020 2020 7873 207c 3e20 6d61 7024 2866      xs |> map$(f
+000175c0: 2920 7c3e 206c 6973 740d 0a0d 0a74 7970  ) |> list....typ
+000175d0: 6520 4361 6e41 6464 416e 6453 7562 203d  e CanAddAndSub =
+000175e0: 2028 2b29 2026 3a20 282d 290d 0a60 6060   (+) &: (-)..```
+000175f0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00017600: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+00017610: 6f6e 0d0a 696d 706f 7274 2074 7970 696e  on..import typin
+00017620: 6720 2023 2075 6e6c 696b 6520 7468 6973  g  # unlike this
+00017630: 2074 7970 696e 6720 696d 706f 7274 2c20   typing import, 
+00017640: 436f 636f 6e75 7420 7072 6f64 7563 6573  Coconut produces
+00017650: 2075 6e69 7665 7273 616c 2063 6f64 650d   universal code.
+00017660: 0a0d 0a64 6566 2069 6e74 5f6d 6170 280d  ...def int_map(.
+00017670: 0a20 2020 2066 2c20 2023 2074 7970 653a  .    f,  # type:
+00017680: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
+00017690: 5b5b 696e 745d 2c20 696e 745d 0d0a 2020  [[int], int]..  
+000176a0: 2020 7873 2c20 2023 2074 7970 653a 2074    xs,  # type: t
+000176b0: 7970 696e 672e 5365 7175 656e 6365 5b69  yping.Sequence[i
+000176c0: 6e74 5d0d 0a29 3a0d 0a20 2020 2023 2074  nt]..):..    # t
+000176d0: 7970 653a 2028 2e2e 2e29 202d 3e20 7479  ype: (...) -> ty
+000176e0: 7069 6e67 2e53 6571 7565 6e63 655b 696e  ping.Sequence[in
+000176f0: 745d 0d0a 2020 2020 7265 7475 726e 206c  t]..    return l
+00017700: 6973 7428 6d61 7028 662c 2078 7329 290d  ist(map(f, xs)).
+00017710: 0a0d 0a54 203d 2074 7970 696e 672e 5479  ...T = typing.Ty
+00017720: 7065 5661 7228 2254 222c 2069 6e66 6572  peVar("T", infer
+00017730: 5f76 6172 6961 6e63 653d 5472 7565 290d  _variance=True).
+00017740: 0a55 203d 2074 7970 696e 672e 5479 7065  .U = typing.Type
+00017750: 5661 7228 2255 222c 2069 6e66 6572 5f76  Var("U", infer_v
+00017760: 6172 6961 6e63 653d 5472 7565 290d 0a56  ariance=True)..V
+00017770: 203d 2074 7970 696e 672e 5479 7065 5661   = typing.TypeVa
+00017780: 7228 2256 222c 2069 6e66 6572 5f76 6172  r("V", infer_var
+00017790: 6961 6e63 653d 5472 7565 290d 0a63 6c61  iance=True)..cla
+000177a0: 7373 2043 616e 4164 6441 6e64 5375 6228  ss CanAddAndSub(
+000177b0: 7479 7069 6e67 2e50 726f 746f 636f 6c2c  typing.Protocol,
+000177c0: 2074 7970 696e 672e 4765 6e65 7269 635b   typing.Generic[
+000177d0: 542c 2055 2c20 565d 293a 0d0a 2020 2020  T, U, V]):..    
+000177e0: 6465 6620 5f5f 6164 645f 5f28 7365 6c66  def __add__(self
+000177f0: 3a20 542c 206f 7468 6572 3a20 5529 202d  : T, other: U) -
+00017800: 3e20 563a 0d0a 2020 2020 2020 2020 7261  > V:..        ra
+00017810: 6973 6520 4e6f 7449 6d70 6c65 6d65 6e74  ise NotImplement
+00017820: 6564 4572 726f 720d 0a20 2020 2064 6566  edError..    def
+00017830: 205f 5f73 7562 5f5f 2873 656c 663a 2054   __sub__(self: T
+00017840: 2c20 6f74 6865 723a 2055 2920 2d3e 2056  , other: U) -> V
+00017850: 3a0d 0a20 2020 2020 2020 2072 6169 7365  :..        raise
+00017860: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
+00017870: 7272 6f72 0d0a 2020 2020 6465 6620 5f5f  rror..    def __
+00017880: 6e65 675f 5f28 7365 6c66 3a20 5429 202d  neg__(self: T) -
+00017890: 3e20 563a 0d0a 2020 2020 2020 2020 7261  > V:..        ra
+000178a0: 6973 6520 4e6f 7449 6d70 6c65 6d65 6e74  ise NotImplement
+000178b0: 6564 4572 726f 720d 0a60 6060 0d0a 0d0a  edError..```....
+000178c0: 2323 2320 4d75 6c74 6964 696d 656e 7369  ### Multidimensi
+000178d0: 6f6e 616c 2041 7272 6179 204c 6974 6572  onal Array Liter
+000178e0: 616c 2f43 6f6e 6361 7465 6e61 7469 6f6e  al/Concatenation
+000178f0: 2053 796e 7461 780d 0a0d 0a43 6f63 6f6e   Syntax....Cocon
+00017900: 7574 2073 7570 706f 7274 7320 6d75 6c74  ut supports mult
+00017910: 6964 696d 656e 7369 6f6e 616c 2061 7272  idimensional arr
+00017920: 6179 206c 6974 6572 616c 2061 6e64 2061  ay literal and a
+00017930: 7272 6179 205b 636f 6e63 6174 656e 6174  rray [concatenat
+00017940: 696f 6e5d 2868 7474 7073 3a2f 2f6e 756d  ion](https://num
+00017950: 7079 2e6f 7267 2f64 6f63 2f73 7461 626c  py.org/doc/stabl
+00017960: 652f 7265 6665 7265 6e63 652f 6765 6e65  e/reference/gene
+00017970: 7261 7465 642f 6e75 6d70 792e 636f 6e63  rated/numpy.conc
+00017980: 6174 656e 6174 652e 6874 6d6c 292f 5b73  atenate.html)/[s
+00017990: 7461 636b 5d28 6874 7470 733a 2f2f 6e75  tack](https://nu
+000179a0: 6d70 792e 6f72 672f 646f 632f 7374 6162  mpy.org/doc/stab
+000179b0: 6c65 2f72 6566 6572 656e 6365 2f67 656e  le/reference/gen
+000179c0: 6572 6174 6564 2f6e 756d 7079 2e73 7461  erated/numpy.sta
+000179d0: 636b 2e68 746d 6c29 2073 796e 7461 782e  ck.html) syntax.
+000179e0: 0d0a 0d0a 4279 2064 6566 6175 6c74 2c20  ....By default, 
+000179f0: 616c 6c20 6d75 6c74 6964 696d 656e 7369  all multidimensi
+00017a00: 6f6e 616c 2061 7272 6179 2073 796e 7461  onal array synta
+00017a10: 7820 7769 6c6c 2073 696d 706c 7920 6f70  x will simply op
+00017a20: 6572 6174 6520 6f6e 2050 7974 686f 6e20  erate on Python 
+00017a30: 6c69 7374 7320 6f66 206c 6973 7473 2028  lists of lists (
+00017a40: 6f72 2061 6e79 206e 6f6e 2d60 7374 7260  or any non-`str`
+00017a50: 2060 5365 7175 656e 6365 6029 2e20 486f   `Sequence`). Ho
+00017a60: 7765 7665 722c 2069 6620 5b60 6e75 6d70  wever, if [`nump
+00017a70: 7960 5d28 236e 756d 7079 2d69 6e74 6567  y`](#numpy-integ
+00017a80: 7261 7469 6f6e 2920 6f62 6a65 6374 7320  ration) objects 
+00017a90: 6172 6520 7573 6564 2c20 7468 6520 6170  are used, the ap
+00017aa0: 7072 6f70 7269 6174 6520 606e 756d 7079  propriate `numpy
+00017ab0: 6020 6361 6c6c 7320 7769 6c6c 2062 6520  ` calls will be 
+00017ac0: 6d61 6465 2069 6e73 7465 6164 2e20 546f  made instead. To
+00017ad0: 2067 6976 6520 6375 7374 6f6d 206f 626a   give custom obj
+00017ae0: 6563 7473 206d 756c 7469 6469 6d65 6e73  ects multidimens
+00017af0: 696f 6e61 6c20 6172 7261 7920 636f 6e63  ional array conc
+00017b00: 6174 656e 6174 696f 6e20 7375 7070 6f72  atenation suppor
+00017b10: 742c 2064 6566 696e 6520 6074 7970 6528  t, define `type(
+00017b20: 6f62 6a29 2e5f 5f6d 6174 636f 6e63 6174  obj).__matconcat
+00017b30: 5f5f 6020 2873 686f 756c 6420 6265 6861  __` (should beha
+00017b40: 7665 2061 7320 606e 702e 636f 6e63 6174  ve as `np.concat
+00017b50: 6029 2c20 606f 626a 2e6e 6469 6d60 2028  `), `obj.ndim` (
+00017b60: 7368 6f75 6c64 2062 6568 6176 6520 6173  should behave as
+00017b70: 2060 6e70 2e6e 6461 7272 6179 2e6e 6469   `np.ndarray.ndi
+00017b80: 6d60 292c 2061 6e64 2060 6f62 6a2e 7265  m`), and `obj.re
+00017b90: 7368 6170 6560 2028 7368 6f75 6c64 2062  shape` (should b
+00017ba0: 6568 6176 6520 6173 2060 6e70 2e6e 6461  ehave as `np.nda
+00017bb0: 7272 6179 2e72 6573 6861 7065 6029 2e0d  rray.reshape`)..
+00017bc0: 0a0d 0a41 7320 6120 7369 6d70 6c65 2065  ...As a simple e
+00017bd0: 7861 6d70 6c65 2c20 3244 206d 6174 7269  xample, 2D matri
+00017be0: 6365 7320 6361 6e20 6265 2063 6f6e 7374  ces can be const
+00017bf0: 7275 6374 6564 2062 7920 7365 7061 7261  ructed by separa
+00017c00: 7469 6e67 2074 6865 2072 6f77 7320 7769  ting the rows wi
+00017c10: 7468 2060 3b3b 6020 696e 7369 6465 206f  th `;;` inside o
+00017c20: 6620 6120 6c69 7374 206c 6974 6572 616c  f a list literal
+00017c30: 3a0d 0a60 6060 636f 636f 6e75 745f 7079  :..```coconut_py
+00017c40: 636f 6e0d 0a3e 3e3e 205b 312c 2032 203b  con..>>> [1, 2 ;
+00017c50: 3b0d 0a20 2020 2020 332c 2034 5d0d 0a0d  ;..     3, 4]...
+00017c60: 0a5b 5b31 2c20 325d 2c20 5b33 2c20 345d  .[[1, 2], [3, 4]
+00017c70: 5d0d 0a3e 3e3e 2069 6d70 6f72 7420 6e75  ]..>>> import nu
+00017c80: 6d70 7920 6173 206e 700d 0a3e 3e3e 206e  mpy as np..>>> n
+00017c90: 702e 6172 7261 7928 5b31 2c20 3220 3b3b  p.array([1, 2 ;;
+00017ca0: 2033 2c20 345d 290d 0a61 7272 6179 285b   3, 4])..array([
+00017cb0: 5b31 2c20 325d 2c0d 0a20 2020 2020 2020  [1, 2],..       
+00017cc0: 5b33 2c20 345d 5d29 0d0a 6060 600d 0a41  [3, 4]])..```..A
+00017cd0: 7320 6361 6e20 6265 2073 6565 6e2c 2060  s can be seen, `
+00017ce0: 6e70 2e61 7272 6179 6020 286f 7220 6571  np.array` (or eq
+00017cf0: 7569 7661 6c65 6e74 2920 6361 6e20 6265  uivalent) can be
+00017d00: 2075 7365 6420 746f 2074 7572 6e20 7468   used to turn th
+00017d10: 6520 7265 7375 6c74 696e 6720 6c69 7374  e resulting list
+00017d20: 206f 6620 6c69 7374 7320 696e 746f 2061   of lists into a
+00017d30: 6e20 6163 7475 616c 2061 7272 6179 2e20  n actual array. 
+00017d40: 5468 6973 2073 796e 7461 7820 776f 726b  This syntax work
+00017d50: 7320 6265 6361 7573 6520 603b 3b60 2069  s because `;;` i
+00017d60: 6e73 6964 6520 6f66 2061 206c 6973 7420  nside of a list 
+00017d70: 6c69 7465 7261 6c20 6675 6e63 7469 6f6e  literal function
+00017d80: 7320 6173 2061 2063 6f6e 6361 7465 6e61  s as a concatena
+00017d90: 7469 6f6e 2f73 7461 636b 2061 6c6f 6e67  tion/stack along
+00017da0: 2074 6865 2060 2d32 6020 6178 6973 2028   the `-2` axis (
+00017db0: 7769 7468 2074 6865 2069 6e6e 6572 2061  with the inner a
+00017dc0: 7272 6179 7320 6265 696e 6720 6272 6f61  rrays being broa
+00017dd0: 6463 6173 7420 746f 2060 2831 2c20 3229  dcast to `(1, 2)
+00017de0: 6020 6172 7261 7973 2062 6566 6f72 6520  ` arrays before 
+00017df0: 636f 6e63 6174 656e 6174 696f 6e29 2e20  concatenation). 
+00017e00: 4e6f 7465 2074 6861 7420 7468 6973 2063  Note that this c
+00017e10: 6f6e 6361 7465 6e61 7469 6f6e 2069 7320  oncatenation is 
+00017e20: 646f 6e65 2065 6e74 6972 656c 7920 696e  done entirely in
+00017e30: 2050 7974 686f 6e20 6c69 7374 7320 6f66   Python lists of
+00017e40: 206c 6973 7473 2068 6572 652c 2073 696e   lists here, sin
+00017e50: 6365 2074 6865 2060 6e70 2e61 7272 6179  ce the `np.array
+00017e60: 6020 6361 6c6c 2063 6f6d 6573 206f 6e6c  ` call comes onl
+00017e70: 7920 6174 2074 6865 2065 6e64 2e0d 0a0d  y at the end....
+00017e80: 0a49 6e20 6765 6e65 7261 6c2c 2074 6865  .In general, the
+00017e90: 206e 756d 6265 7220 6f66 2073 656d 6963   number of semic
+00017ea0: 6f6c 6f6e 7320 696e 6469 6361 7465 7320  olons indicates 
+00017eb0: 7468 6520 6469 6d65 6e73 696f 6e20 6672  the dimension fr
+00017ec0: 6f6d 2074 6865 2065 6e64 206f 6e20 7768  om the end on wh
+00017ed0: 6963 6820 746f 2063 6f6e 6361 7465 6e61  ich to concatena
+00017ee0: 7465 2e20 5468 7573 2c20 603b 6020 696e  te. Thus, `;` in
+00017ef0: 6469 6361 7465 7320 636f 6e61 7465 6e61  dicates conatena
+00017f00: 7469 6f6e 2061 6c6f 6e67 2074 6865 2060  tion along the `
+00017f10: 2d31 6020 6178 6973 2c20 603b 3b60 2061  -1` axis, `;;` a
+00017f20: 6c6f 6e67 2074 6865 2060 2d32 6020 6178  long the `-2` ax
+00017f30: 6973 2c20 616e 6420 736f 206f 6e2e 2042  is, and so on. B
+00017f40: 6566 6f72 6520 636f 6e63 6174 656e 6174  efore concatenat
+00017f50: 696f 6e2c 2061 7272 6179 7320 6172 6520  ion, arrays are 
+00017f60: 616c 7761 7973 2062 726f 6164 6361 7374  always broadcast
+00017f70: 2074 6f20 6120 7368 6170 6520 7768 6963   to a shape whic
+00017f80: 6820 6973 206c 6172 6765 2065 6e6f 7567  h is large enoug
+00017f90: 6820 746f 2061 6c6c 6f77 2074 6865 2063  h to allow the c
+00017fa0: 6f6e 6361 7465 6e61 7469 6f6e 2e0d 0a0d  oncatenation....
+00017fb0: 0a54 6875 732c 2069 6620 6061 6020 6973  .Thus, if `a` is
+00017fc0: 2061 2060 6e75 6d70 7960 2061 7272 6179   a `numpy` array
+00017fd0: 2c20 605b 613b 2061 5d60 2069 7320 6571  , `[a; a]` is eq
+00017fe0: 7569 7661 6c65 6e74 2074 6f20 606e 702e  uivalent to `np.
+00017ff0: 636f 6e63 6174 656e 6174 6528 2861 2c20  concatenate((a, 
+00018000: 6129 2c20 6178 6973 3d2d 3129 602c 2077  a), axis=-1)`, w
+00018010: 6869 6c65 2060 5b61 203b 3b20 615d 6020  hile `[a ;; a]` 
+00018020: 776f 756c 6420 6265 2065 7175 6976 616c  would be equival
+00018030: 656e 7420 746f 2061 2076 6572 7369 6f6e  ent to a version
+00018040: 206f 6620 606e 702e 636f 6e63 6174 656e   of `np.concaten
+00018050: 6174 6528 2861 2c20 6129 2c20 6178 6973  ate((a, a), axis
+00018060: 3d2d 3229 6020 7468 6174 2061 6c73 6f20  =-2)` that also 
+00018070: 656e 7375 7265 7320 7468 6174 2060 6160  ensures that `a`
+00018080: 2069 7320 6174 206c 6561 7374 2074 776f   is at least two
+00018090: 2064 696d 656e 7369 6f6e 616c 2e20 466f   dimensional. Fo
+000180a0: 7220 6e6f 726d 616c 206c 6973 7473 206f  r normal lists o
+000180b0: 6620 6c69 7374 732c 2074 6865 2062 6568  f lists, the beh
+000180c0: 6176 696f 7220 6973 2074 6865 2073 616d  avior is the sam
+000180d0: 652c 2062 7574 2069 7320 696d 706c 656d  e, but is implem
+000180e0: 656e 7465 6420 7769 7468 6f75 7420 616e  ented without an
+000180f0: 7920 606e 756d 7079 6020 6361 6c6c 732e  y `numpy` calls.
+00018100: 0d0a 0d0a 4966 206d 756c 7469 706c 6520  ....If multiple 
+00018110: 6469 6666 6572 656e 7420 636f 6e63 6174  different concat
+00018120: 656e 6174 696f 6e20 6f70 6572 6174 6f72  enation operator
+00018130: 7320 6172 6520 7573 6564 2c20 7468 6520  s are used, the 
+00018140: 6f70 6572 6174 6f72 7320 7769 7468 2074  operators with t
+00018150: 6865 206c 6561 7374 206e 756d 6265 7220  he least number 
+00018160: 6f66 2073 656d 6963 6f6c 6f6e 7320 7769  of semicolons wi
+00018170: 6c6c 2062 696e 6420 6d6f 7374 2074 6967  ll bind most tig
+00018180: 6874 6c79 2e20 5468 7573 2c20 796f 7520  htly. Thus, you 
+00018190: 6361 6e20 7772 6974 6520 6120 3344 2061  can write a 3D a
+000181a0: 7272 6179 206c 6974 6572 616c 2061 733a  rray literal as:
+000181b0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7963  ..```coconut_pyc
+000181c0: 6f6e 0d0a 3e3e 3e20 5b31 2c20 3220 3b3b  on..>>> [1, 2 ;;
+000181d0: 0d0a 2020 2020 2033 2c20 340d 0a20 2020  ..     3, 4..   
+000181e0: 2020 3b3b 3b0d 0a20 2020 2020 352c 2036    ;;;..     5, 6
+000181f0: 203b 3b0d 0a20 2020 2020 372c 2038 5d0d   ;;..     7, 8].
+00018200: 0a0d 0a5b 5b5b 312c 2032 5d2c 205b 332c  ...[[[1, 2], [3,
+00018210: 2034 5d5d 2c20 5b5b 352c 2036 5d2c 205b   4]], [[5, 6], [
+00018220: 372c 2038 5d5d 5d0d 0a60 6060 0d0a 0d0a  7, 8]]]..```....
+00018230: 2323 2323 2320 436f 6d70 6172 6973 6f6e  ##### Comparison
+00018240: 2074 6f20 4a75 6c69 610d 0a0d 0a43 6f63   to Julia....Coc
+00018250: 6f6e 7574 2773 206d 756c 7469 6469 6d65  onut's multidime
+00018260: 6e73 696f 6e61 6c20 6172 7261 7920 7379  nsional array sy
+00018270: 6e74 6178 2069 7320 6261 7365 6420 6f6e  ntax is based on
+00018280: 2074 6861 7420 6f66 205b 4a75 6c69 615d   that of [Julia]
+00018290: 2868 7474 7073 3a2f 2f64 6f63 732e 6a75  (https://docs.ju
+000182a0: 6c69 616c 616e 672e 6f72 672f 656e 2f76  lialang.org/en/v
+000182b0: 312f 6d61 6e75 616c 2f61 7272 6179 732f  1/manual/arrays/
+000182c0: 236d 616e 2d61 7272 6179 2d6c 6974 6572  #man-array-liter
+000182d0: 616c 7329 2e20 5468 6520 7072 696d 6172  als). The primar
+000182e0: 7920 6469 6666 6572 656e 6365 2062 6574  y difference bet
+000182f0: 7765 656e 2043 6f63 6f6e 7574 2773 2073  ween Coconut's s
+00018300: 796e 7461 7820 616e 6420 4a75 6c69 6127  yntax and Julia'
+00018310: 7320 7379 6e74 6178 2069 7320 7468 6174  s syntax is that
+00018320: 206d 756c 7469 6469 6d65 6e73 696f 6e61   multidimensiona
+00018330: 6c20 6172 7261 7973 2061 7265 2072 6f77  l arrays are row
+00018340: 2d66 6972 7374 2069 6e20 436f 636f 6e75  -first in Coconu
+00018350: 7420 2866 6f6c 6c6f 7769 6e67 2060 6e75  t (following `nu
+00018360: 6d70 7960 292c 2062 7574 2063 6f6c 756d  mpy`), but colum
+00018370: 6e2d 6669 7273 7420 696e 204a 756c 6961  n-first in Julia
+00018380: 2e20 5468 7573 2c20 603b 6020 6973 2076  . Thus, `;` is v
+00018390: 6572 7469 6361 6c20 636f 6e63 6174 656e  ertical concaten
+000183a0: 6174 696f 6e20 696e 204a 756c 6961 2062  ation in Julia b
+000183b0: 7574 202a 2a68 6f72 697a 6f6e 7461 6c20  ut **horizontal 
+000183c0: 636f 6e63 6174 656e 6174 696f 6e2a 2a20  concatenation** 
+000183d0: 696e 2043 6f63 6f6e 7574 2061 6e64 2060  in Coconut and `
+000183e0: 3b3b 6020 6973 2068 6f72 697a 6f6e 7461  ;;` is horizonta
+000183f0: 6c20 636f 6e63 6174 656e 6174 696f 6e20  l concatenation 
+00018400: 696e 204a 756c 6961 2062 7574 202a 2a76  in Julia but **v
+00018410: 6572 7469 6361 6c20 636f 6e63 6174 656e  ertical concaten
+00018420: 6174 696f 6e2a 2a20 696e 2043 6f63 6f6e  ation** in Cocon
+00018430: 7574 2e0d 0a0d 0a23 2323 2323 2045 7861  ut.....##### Exa
+00018440: 6d70 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e  mples....**Cocon
+00018450: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+00018460: 745f 7079 636f 6e0d 0a3e 3e3e 205b 5b31  t_pycon..>>> [[1
+00018470: 3b3b 325d 203b 205b 333b 3b34 5d5d 0d0a  ;;2] ; [3;;4]]..
+00018480: 5b5b 312c 2033 5d2c 205b 322c 2034 5d5d  [[1, 3], [2, 4]]
+00018490: 0d0a 6060 600d 0a5f 4172 7261 7920 6c69  ..```.._Array li
+000184a0: 7465 7261 6c73 2063 616e 2062 6520 7772  terals can be wr
+000184b0: 6974 7465 6e20 696e 2063 6f6c 756d 6e2d  itten in column-
+000184c0: 6669 7273 7420 6f72 6465 7220 6966 2074  first order if t
+000184d0: 6865 2063 6f6c 756d 6e73 2061 7265 2066  he columns are f
+000184e0: 6972 7374 2063 7265 6174 6564 2076 6961  irst created via
+000184f0: 2076 6572 7469 6361 6c20 636f 6e63 6174   vertical concat
+00018500: 656e 6174 696f 6e20 2860 3b3b 6029 2061  enation (`;;`) a
+00018510: 6e64 2074 6865 6e20 6a6f 696e 6564 2076  nd then joined v
+00018520: 6961 2068 6f72 697a 6f6e 7461 6c20 636f  ia horizontal co
+00018530: 6e63 6174 656e 6174 696f 6e20 2860 3b60  ncatenation (`;`
+00018540: 292e 5f0d 0a0d 0a60 6060 636f 636f 6e75  )._....```coconu
+00018550: 745f 7079 636f 6e0d 0a3e 3e3e 205b 7261  t_pycon..>>> [ra
+00018560: 6e67 6528 3329 207c 3e20 6c69 7374 203b  nge(3) |> list ;
+00018570: 3b20 782b 3120 666f 7220 7820 696e 2072  ; x+1 for x in r
+00018580: 616e 6765 2833 295d 0d0a 5b5b 302c 2031  ange(3)]..[[0, 1
+00018590: 2c20 325d 2c20 5b31 2c20 322c 2033 5d5d  , 2], [1, 2, 3]]
+000185a0: 0d0a 6060 600d 0a5f 4172 6269 7472 6172  ..```.._Arbitrar
+000185b0: 7920 6578 7072 6573 7369 6f6e 732c 2069  y expressions, i
+000185c0: 6e63 6c75 6469 6e67 2063 6f6d 7072 6568  ncluding compreh
+000185d0: 656e 7369 6f6e 732c 2061 7265 2061 6c6c  ensions, are all
+000185e0: 6f77 6564 2069 6e20 6d75 6c74 6964 696d  owed in multidim
+000185f0: 656e 7369 6f6e 616c 2061 7272 6179 206c  ensional array l
+00018600: 6974 6572 616c 732e 5f0d 0a0d 0a60 6060  iterals._....```
+00018610: 636f 636f 6e75 745f 7079 636f 6e0d 0a3e  coconut_pycon..>
+00018620: 3e3e 2069 6d70 6f72 7420 6e75 6d70 7920  >> import numpy 
+00018630: 6173 206e 700d 0a3e 3e3e 2061 203d 206e  as np..>>> a = n
+00018640: 702e 6172 7261 7928 5b31 2c20 3220 3b3b  p.array([1, 2 ;;
+00018650: 2033 2c20 345d 290d 0a3e 3e3e 205b 6120   3, 4])..>>> [a 
+00018660: 3b20 615d 0d0a 6172 7261 7928 5b5b 312c  ; a]..array([[1,
+00018670: 2032 2c20 312c 2032 5d2c 0d0a 2020 2020   2, 1, 2],..    
+00018680: 2020 205b 332c 2034 2c20 332c 2034 5d5d     [3, 4, 3, 4]]
+00018690: 290d 0a3e 3e3e 205b 6120 3b3b 2061 5d0d  )..>>> [a ;; a].
+000186a0: 0a61 7272 6179 285b 5b31 2c20 325d 2c0d  .array([[1, 2],.
+000186b0: 0a20 2020 2020 2020 5b33 2c20 345d 2c0d  .       [3, 4],.
+000186c0: 0a20 2020 2020 2020 5b31 2c20 325d 2c0d  .       [1, 2],.
+000186d0: 0a20 2020 2020 2020 5b33 2c20 345d 5d29  .       [3, 4]])
+000186e0: 0d0a 3e3e 3e20 5b61 203b 3b3b 2061 5d0d  ..>>> [a ;;; a].
+000186f0: 0a61 7272 6179 285b 5b5b 312c 2032 5d2c  .array([[[1, 2],
+00018700: 0d0a 2020 2020 2020 2020 5b33 2c20 345d  ..        [3, 4]
+00018710: 5d2c 0d0a 0d0a 2020 2020 2020 205b 5b31  ],....       [[1
+00018720: 2c20 325d 2c0d 0a20 2020 2020 2020 205b  , 2],..        [
+00018730: 332c 2034 5d5d 5d29 0d0a 6060 600d 0a5f  3, 4]]])..```.._
+00018740: 4765 6e65 7261 6c20 7368 6f77 6361 7365  General showcase
+00018750: 206f 6620 686f 7720 7468 6520 6469 6666   of how the diff
+00018760: 6572 656e 7420 636f 6e63 6174 656e 6174  erent concatenat
+00018770: 696f 6e20 6f70 6572 6174 6f72 7320 776f  ion operators wo
+00018780: 726b 2075 7369 6e67 2060 6e75 6d70 7960  rk using `numpy`
+00018790: 2061 7272 6179 732e 5f0d 0a0d 0a2a 2a50   arrays._....**P
+000187a0: 7974 686f 6e3a 2a2a 205f 5468 6520 6571  ython:** _The eq
+000187b0: 7569 7661 6c65 6e74 2050 7974 686f 6e20  uivalent Python 
+000187c0: 6172 7261 7920 6c69 7465 7261 6c73 2063  array literals c
+000187d0: 616e 2062 6520 7365 656e 2069 6e20 7468  an be seen in th
+000187e0: 6520 7072 696e 7465 6420 7265 7072 6573  e printed repres
+000187f0: 656e 7461 7469 6f6e 7320 696e 2065 6163  entations in eac
+00018800: 6820 6578 616d 706c 652e 5f0d 0a0d 0a23  h example._....#
+00018810: 2323 204c 617a 7920 4c69 7374 730d 0a0d  ## Lazy Lists...
+00018820: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
+00018830: 7320 7468 6520 6372 6561 7469 6f6e 206f  s the creation o
+00018840: 6620 6c61 7a79 206c 6973 7473 2c20 7768  f lazy lists, wh
+00018850: 6572 6520 7468 6520 636f 6e74 656e 7473  ere the contents
+00018860: 2069 6e20 7468 6520 6c69 7374 2077 696c   in the list wil
+00018870: 6c20 6265 2074 7265 6174 6564 2061 7320  l be treated as 
+00018880: 616e 2069 7465 7261 746f 7220 616e 6420  an iterator and 
+00018890: 6e6f 7420 6576 616c 7561 7465 6420 756e  not evaluated un
+000188a0: 7469 6c20 7468 6579 2061 7265 206e 6565  til they are nee
+000188b0: 6465 642e 2055 6e6c 696b 6520 6e6f 726d  ded. Unlike norm
+000188c0: 616c 2069 7465 7261 746f 7273 2c20 686f  al iterators, ho
+000188d0: 7765 7665 722c 206c 617a 7920 6c69 7374  wever, lazy list
+000188e0: 7320 6361 6e20 6265 2069 7465 7261 7465  s can be iterate
+000188f0: 6420 6f76 6572 206d 756c 7469 706c 6520  d over multiple 
+00018900: 7469 6d65 7320 616e 6420 7374 696c 6c20  times and still 
+00018910: 7265 7475 726e 2074 6865 2073 616d 6520  return the same 
+00018920: 7265 7375 6c74 2e20 4c61 7a79 206c 6973  result. Lazy lis
+00018930: 7473 2063 616e 2062 6520 6372 6561 7465  ts can be create
+00018940: 6420 696e 2043 6f63 6f6e 7574 2073 696d  d in Coconut sim
+00018950: 706c 7920 6279 2073 7572 726f 756e 6469  ply by surroundi
+00018960: 6e67 2061 2063 6f6d 6d61 2d73 6570 6172  ng a comma-separ
+00018970: 6174 6564 206c 6973 7420 6f66 2069 7465  ated list of ite
+00018980: 6d73 2077 6974 6820 6028 7c60 2061 6e64  ms with `(|` and
+00018990: 2060 7c29 6020 2873 6f2d 6361 6c6c 6564   `|)` (so-called
+000189a0: 2022 6261 6e61 6e61 2062 7261 636b 6574   "banana bracket
+000189b0: 7322 2920 696e 7374 6561 6420 6f66 2060  s") instead of `
+000189c0: 5b60 2061 6e64 2060 5d60 2066 6f72 2061  [` and `]` for a
+000189d0: 206c 6973 7420 6f72 2060 2860 2061 6e64   list or `(` and
+000189e0: 2060 2960 2066 6f72 2061 2074 7570 6c65   `)` for a tuple
+000189f0: 2e0d 0a0d 0a4c 617a 7920 6c69 7374 7320  .....Lazy lists 
+00018a00: 7573 6520 5b72 6569 7465 7261 626c 655d  use [reiterable]
+00018a10: 2823 7265 6974 6572 6162 6c65 2920 756e  (#reiterable) un
+00018a20: 6465 7220 7468 6520 686f 6f64 2074 6f20  der the hood to 
+00018a30: 656e 6162 6c65 2074 6865 6d20 746f 2062  enable them to b
+00018a40: 6520 6974 6572 6174 6564 206f 7665 7220  e iterated over 
+00018a50: 6d75 6c74 6970 6c65 2074 696d 6573 2e20  multiple times. 
+00018a60: 4c61 7a79 206c 6973 7473 2077 696c 6c20  Lazy lists will 
+00018a70: 6576 656e 2063 6f6e 7469 6e75 6520 746f  even continue to
+00018a80: 2062 6520 7265 6974 6572 6162 6c65 2077   be reiterable w
+00018a90: 6865 6e20 636f 6d62 696e 6564 2077 6974  hen combined wit
+00018aa0: 6820 5b6c 617a 7920 6368 6169 6e69 6e67  h [lazy chaining
+00018ab0: 5d28 2369 7465 7261 746f 722d 6368 6169  ](#iterator-chai
+00018ac0: 6e69 6e67 292e 0d0a 0d0a 2323 2323 2320  ning).....##### 
+00018ad0: 5261 7469 6f6e 616c 650d 0a0d 0a4c 617a  Rationale....Laz
+00018ae0: 7920 6c69 7374 732c 2077 6865 7265 2073  y lists, where s
+00018af0: 6571 7565 6e63 6573 2061 7265 206f 6e6c  equences are onl
+00018b00: 7920 6576 616c 7561 7465 6420 7768 656e  y evaluated when
+00018b10: 2074 6865 6972 2063 6f6e 7465 6e74 7320   their contents 
+00018b20: 6172 6520 7265 7175 6573 7465 642c 2061  are requested, a
+00018b30: 7265 2061 206d 6169 6e73 7461 7920 6f66  re a mainstay of
+00018b40: 2066 756e 6374 696f 6e61 6c20 7072 6f67   functional prog
+00018b50: 7261 6d6d 696e 672c 2061 6c6c 6f77 696e  ramming, allowin
+00018b60: 6720 666f 7220 6479 6e61 6d69 6320 6576  g for dynamic ev
+00018b70: 616c 7561 7469 6f6e 206f 6620 7468 6520  aluation of the 
+00018b80: 6c69 7374 2773 2063 6f6e 7465 6e74 732e  list's contents.
+00018b90: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00018ba0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00018bb0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a28  *..```coconut..(
+00018bc0: 7c20 7072 696e 7428 2268 656c 6c6f 2c22  | print("hello,"
+00018bd0: 292c 2070 7269 6e74 2822 776f 726c 6421  ), print("world!
+00018be0: 2229 207c 2920 7c3e 2063 6f6e 7375 6d65  ") |) |> consume
+00018bf0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+00018c00: 6e3a 2a2a 0d0a 5f43 616e 2774 2062 6520  n:**.._Can't be 
+00018c10: 646f 6e65 2077 6974 686f 7574 2061 2063  done without a c
+00018c20: 6f6d 706c 6963 6174 6564 2069 7465 7261  omplicated itera
+00018c30: 746f 7220 636f 6d70 7265 6865 6e73 696f  tor comprehensio
+00018c40: 6e20 696e 2070 6c61 6365 206f 6620 7468  n in place of th
+00018c50: 6520 6c61 7a79 206c 6973 742e 2053 6565  e lazy list. See
+00018c60: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
+00018c70: 6465 2066 6f72 2074 6865 2050 7974 686f  de for the Pytho
+00018c80: 6e20 7379 6e74 6178 2e5f 0d0a 0d0a 2323  n syntax._....##
+00018c90: 2320 496d 706c 6963 6974 2046 756e 6374  # Implicit Funct
+00018ca0: 696f 6e20 4170 706c 6963 6174 696f 6e20  ion Application 
+00018cb0: 616e 6420 436f 6566 6669 6369 656e 7473  and Coefficients
+00018cc0: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
+00018cd0: 6f72 7473 2069 6d70 6c69 6369 7420 6675  orts implicit fu
+00018ce0: 6e63 7469 6f6e 2061 7070 6c69 6361 7469  nction applicati
+00018cf0: 6f6e 206f 6620 7468 6520 666f 726d 2060  on of the form `
+00018d00: 6620 7820 7960 2c20 7768 6963 6820 6973  f x y`, which is
+00018d10: 2063 6f6d 7069 6c65 6420 746f 2060 6628   compiled to `f(
+00018d20: 782c 2079 2960 2028 6e6f 7465 3a20 2a2a  x, y)` (note: **
+00018d30: 6e6f 742a 2a20 6066 2878 2928 7929 6020  not** `f(x)(y)` 
+00018d40: 6173 2069 7320 636f 6d6d 6f6e 2069 6e20  as is common in 
+00018d50: 6d61 6e79 206c 616e 6775 6167 6573 2077  many languages w
+00018d60: 6974 6820 6175 746f 6d61 7469 6320 6375  ith automatic cu
+00018d70: 7272 7969 6e67 292e 0d0a 0d0a 4164 6469  rrying).....Addi
+00018d80: 7469 6f6e 616c 6c79 2c20 6966 2074 6865  tionally, if the
+00018d90: 2066 6972 7374 2061 7267 756d 656e 7420   first argument 
+00018da0: 6973 206e 6f74 2063 616c 6c61 626c 652c  is not callable,
+00018db0: 2061 6e64 2069 7320 696e 7374 6561 6420   and is instead 
+00018dc0: 616e 2060 696e 7460 2c20 6066 6c6f 6174  an `int`, `float
+00018dd0: 602c 2060 636f 6d70 6c65 7860 2c20 6f72  `, `complex`, or
+00018de0: 205b 606e 756d 7079 605d 2823 6e75 6d70   [`numpy`](#nump
+00018df0: 792d 696e 7465 6772 6174 696f 6e29 206f  y-integration) o
+00018e00: 626a 6563 742c 2074 6865 6e20 7468 6520  bject, then the 
+00018e10: 7265 7375 6c74 2069 7320 6d75 6c74 6970  result is multip
+00018e20: 6c69 6361 7469 6f6e 2072 6174 6865 7220  lication rather 
+00018e30: 7468 616e 2066 756e 6374 696f 6e20 6170  than function ap
+00018e40: 706c 6963 6174 696f 6e2c 2073 7563 6820  plication, such 
+00018e50: 7468 6174 2060 3220 7860 2069 7320 6571  that `2 x` is eq
+00018e60: 7569 7661 6c65 6e74 2074 6f20 6032 2a78  uivalent to `2*x
+00018e70: 602e 0d0a 0d0a 5468 6f75 6768 2074 6865  `.....Though the
+00018e80: 2066 6972 7374 2069 7465 6d20 6d61 7920   first item may 
+00018e90: 6265 2061 6e79 2061 746f 6d2c 2066 6f6c  be any atom, fol
+00018ea0: 6c6f 7769 6e67 2061 7267 756d 656e 7473  lowing arguments
+00018eb0: 2061 7265 2068 6967 686c 7920 7265 7374   are highly rest
+00018ec0: 7269 6374 6564 2c20 616e 6420 6d75 7374  ricted, and must
+00018ed0: 2062 653a 0d0a 2d20 7661 7269 6162 6c65   be:..- variable
+00018ee0: 732f 6174 7472 6962 7574 6573 2028 652e  s/attributes (e.
+00018ef0: 672e 2060 612e 6260 292c 0d0a 2d20 6c69  g. `a.b`),..- li
+00018f00: 7465 7261 6c20 636f 6e73 7461 6e74 7320  teral constants 
+00018f10: 2865 2e67 2e20 6054 7275 6560 292c 0d0a  (e.g. `True`),..
+00018f20: 2d20 6e75 6d62 6572 206c 6974 6572 616c  - number literal
+00018f30: 7320 2865 2e67 2e20 6031 2e35 6029 2c20  s (e.g. `1.5`), 
+00018f40: 6f72 0d0a 2d20 6f6e 6520 6f66 2074 6865  or..- one of the
+00018f50: 2061 626f 7665 2066 6f6c 6c6f 7765 6420   above followed 
+00018f60: 6279 2061 6e20 6578 706f 6e65 6e74 2028  by an exponent (
+00018f70: 652e 672e 2060 612a 2a2d 3560 292e 0d0a  e.g. `a**-5`)...
+00018f80: 0d0a 466f 7220 6578 616d 706c 652c 2060  ..For example, `
+00018f90: 2866 202e 2e20 6729 2078 2031 6020 7769  (f .. g) x 1` wi
+00018fa0: 6c6c 2077 6f72 6b2c 2062 7574 2060 6620  ll work, but `f 
+00018fb0: 7820 5b31 5d60 2c20 6066 2078 2028 312b  x [1]`, `f x (1+
+00018fc0: 3229 602c 2061 6e64 2060 6620 2261 6263  2)`, and `f "abc
+00018fd0: 2260 2077 696c 6c20 6e6f 742e 0d0a 0d0a  "` will not.....
+00018fe0: 496d 706c 6963 6974 2066 756e 6374 696f  Implicit functio
+00018ff0: 6e20 6170 706c 6963 6174 696f 6e20 616e  n application an
+00019000: 6420 636f 6566 6669 6369 656e 7420 7379  d coefficient sy
+00019010: 6e74 6178 2069 7320 6f6e 6c79 2069 6e74  ntax is only int
+00019020: 656e 6465 6420 666f 7220 7369 6d70 6c65  ended for simple
+00019030: 2075 7365 2063 6173 6573 2e20 466f 7220   use cases. For 
+00019040: 6d6f 7265 2063 6f6d 706c 6578 2063 6173  more complex cas
+00019050: 6573 2c20 7573 6520 7468 6520 7374 616e  es, use the stan
+00019060: 6461 7264 206d 756c 7469 706c 6963 6174  dard multiplicat
+00019070: 696f 6e20 6f70 6572 6174 6f72 2060 2a60  ion operator `*`
+00019080: 2c20 7374 616e 6461 7264 2066 756e 6374  , standard funct
+00019090: 696f 6e20 6170 706c 6963 6174 696f 6e2c  ion application,
+000190a0: 206f 7220 5b70 6970 6573 5d28 2370 6970   or [pipes](#pip
+000190b0: 6573 292e 0d0a 0d0a 496d 706c 6963 6974  es).....Implicit
+000190c0: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
+000190d0: 6174 696f 6e20 616e 6420 636f 6566 6669  ation and coeffi
+000190e0: 6369 656e 7420 7379 6e74 6178 2068 6173  cient syntax has
+000190f0: 2061 206c 6f77 6572 2070 7265 6365 6465   a lower precede
+00019100: 6e63 6520 7468 616e 2060 2a2a 6020 6275  nce than `**` bu
+00019110: 7420 6120 6869 6768 6572 2070 7265 6365  t a higher prece
+00019120: 6465 6e63 6520 7468 616e 2075 6e61 7279  dence than unary
+00019130: 206f 7065 7261 746f 7273 2e20 4173 2061   operators. As a
+00019140: 2072 6573 756c 742c 2060 3220 782a 2a32   result, `2 x**2
+00019150: 202b 2033 2078 6020 6973 2065 7175 6976   + 3 x` is equiv
+00019160: 616c 656e 7420 746f 2060 3220 2a20 782a  alent to `2 * x*
+00019170: 2a32 202b 2033 202a 2078 602e 0d0a 0d0a  *2 + 3 * x`.....
+00019180: 4475 6520 746f 2070 6f74 656e 7469 616c  Due to potential
+00019190: 2063 6f6e 6675 7369 6f6e 2c20 736f 6d65   confusion, some
+000191a0: 2073 796e 7461 6374 6963 2063 6f6e 7374   syntactic const
+000191b0: 7275 6374 7320 6172 6520 6578 706c 6963  ructs are explic
+000191c0: 6974 6c79 2064 6973 616c 6c6f 7765 6420  itly disallowed 
+000191d0: 696e 2069 6d70 6c69 6369 7420 6675 6e63  in implicit func
+000191e0: 7469 6f6e 2061 7070 6c69 6361 7469 6f6e  tion application
+000191f0: 2061 6e64 2063 6f65 6666 6963 6965 6e74   and coefficient
+00019200: 2073 796e 7461 782e 2053 7065 6369 6669   syntax. Specifi
+00019210: 6361 6c6c 793a 0d0a 2d20 5374 7269 6e67  cally:..- String
+00019220: 7320 6172 6520 616c 7761 7973 2064 6973  s are always dis
+00019230: 616c 6c6f 7765 6420 6576 6572 7977 6865  allowed everywhe
+00019240: 7265 2069 6e20 696d 706c 6963 6974 2066  re in implicit f
+00019250: 756e 6374 696f 6e20 6170 706c 6963 6174  unction applicat
+00019260: 696f 6e20 2f20 636f 6566 6669 6369 656e  ion / coefficien
+00019270: 7420 7379 6e74 6178 2064 7565 2074 6f20  t syntax due to 
+00019280: 636f 6e66 6c69 6374 696e 6720 7769 7468  conflicting with
+00019290: 205b 5079 7468 6f6e 2773 2069 6d70 6c69   [Python's impli
+000192a0: 6369 7420 7374 7269 6e67 2063 6f6e 6361  cit string conca
+000192b0: 7465 6e61 7469 6f6e 5d28 6874 7470 733a  tenation](https:
+000192c0: 2f2f 7374 6163 6b6f 7665 7266 6c6f 772e  //stackoverflow.
+000192d0: 636f 6d2f 7175 6573 7469 6f6e 732f 3138  com/questions/18
+000192e0: 3834 3237 3739 2f73 7472 696e 672d 636f  842779/string-co
+000192f0: 6e63 6174 656e 6174 696f 6e2d 7769 7468  ncatenation-with
+00019300: 6f75 742d 6f70 6572 6174 6f72 292e 0d0a  out-operator)...
+00019310: 2d20 4d75 6c74 6970 6c79 696e 6720 7477  - Multiplying tw
+00019320: 6f20 6f72 206d 6f72 6520 6e75 6d65 7269  o or more numeri
+00019330: 6320 6c69 7465 7261 6c73 2077 6974 6820  c literals with 
+00019340: 696d 706c 6963 6974 2063 6f65 6666 6963  implicit coeffic
+00019350: 6965 6e74 2073 796e 7461 7820 6973 2070  ient syntax is p
+00019360: 726f 6869 6269 7465 642c 2073 6f20 6031  rohibited, so `1
+00019370: 3020 3230 6020 6973 206e 6f74 2061 6c6c  0 20` is not all
+00019380: 6f77 6564 2e0d 0a2d 2060 6177 6169 7460  owed...- `await`
+00019390: 2069 7320 6e6f 7420 616c 6c6f 7765 6420   is not allowed 
+000193a0: 696e 2066 726f 6e74 206f 6620 696d 706c  in front of impl
+000193b0: 6963 6974 2066 756e 6374 696f 6e20 6170  icit function ap
+000193c0: 706c 6963 6174 696f 6e20 616e 6420 636f  plication and co
+000193d0: 6566 6669 6369 656e 7420 7379 6e74 6178  efficient syntax
+000193e0: 2e20 546f 2075 7365 2060 6177 6169 7460  . To use `await`
+000193f0: 2c20 7369 6d70 6c79 2070 6172 656e 7468  , simply parenth
+00019400: 6573 697a 6520 7468 6520 6578 7072 6573  esize the expres
+00019410: 7369 6f6e 2c20 6173 2069 6e20 6061 7761  sion, as in `awa
+00019420: 6974 2028 6620 7829 602e 0d0a 0d0a 2323  it (f x)`.....##
+00019430: 2323 2320 4578 616d 706c 6573 0d0a 0d0a  ### Examples....
+00019440: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+00019450: 6063 6f63 6f6e 7574 0d0a 6465 6620 6628  `coconut..def f(
+00019460: 782c 2079 2920 3d20 2878 2c20 7929 0d0a  x, y) = (x, y)..
+00019470: 7072 696e 7428 6620 3520 3130 290d 0a60  print(f 5 10)..`
+00019480: 6060 0d0a 0d0a 6060 6063 6f63 6f6e 7574  ``....```coconut
+00019490: 0d0a 6465 6620 7031 2878 2920 3d20 7820  ..def p1(x) = x 
+000194a0: 2b20 310d 0a70 7269 6e74 203c 7c20 7031  + 1..print <| p1
+000194b0: 2035 0d0a 6060 600d 0a0d 0a60 6060 636f   5..```....```co
+000194c0: 636f 6e75 740d 0a71 7561 6420 3d20 3520  conut..quad = 5 
+000194d0: 782a 2a32 202b 2033 2078 202b 2031 0d0a  x**2 + 3 x + 1..
+000194e0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+000194f0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00019500: 7974 686f 6e0d 0a64 6566 2066 2878 2c20  ython..def f(x, 
+00019510: 7929 3a20 7265 7475 726e 2028 782c 2079  y): return (x, y
+00019520: 290d 0a70 7269 6e74 2866 2831 3030 2c20  )..print(f(100, 
+00019530: 352b 3629 290d 0a60 6060 0d0a 0d0a 6060  5+6))..```....``
+00019540: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+00019550: 0a64 6566 2070 3128 7829 3a20 7265 7475  .def p1(x): retu
+00019560: 726e 2078 202b 2031 0d0a 7072 696e 7428  rn x + 1..print(
+00019570: 7031 2835 2929 0d0a 6060 600d 0a0d 0a60  p1(5))..```....`
+00019580: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+00019590: 0d0a 7175 6164 203d 2035 202a 2078 2a2a  ..quad = 5 * x**
+000195a0: 3220 2b20 3320 2a20 7820 2b20 310d 0a60  2 + 3 * x + 1..`
+000195b0: 6060 0d0a 0d0a 2323 2320 416e 6f6e 796d  ``....### Anonym
+000195c0: 6f75 7320 4e61 6d65 6474 7570 6c65 730d  ous Namedtuples.
+000195d0: 0a0d 0a43 6f63 6f6e 7574 2073 7570 706f  ...Coconut suppo
+000195e0: 7274 7320 616e 6f6e 796d 6f75 7320 5b60  rts anonymous [`
+000195f0: 6e61 6d65 6474 7570 6c65 605d 2868 7474  namedtuple`](htt
+00019600: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00019610: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
+00019620: 6f6c 6c65 6374 696f 6e73 2e68 746d 6c23  ollections.html#
+00019630: 636f 6c6c 6563 7469 6f6e 732e 6e61 6d65  collections.name
+00019640: 6474 7570 6c65 2920 6c69 7465 7261 6c73  dtuple) literals
+00019650: 2c20 7375 6368 2074 6861 7420 6028 613d  , such that `(a=
+00019660: 312c 2062 3d32 2960 2063 616e 2062 6520  1, b=2)` can be 
+00019670: 7573 6564 206a 7573 7420 6173 2060 2831  used just as `(1
+00019680: 2c20 3229 602c 2062 7574 2077 6974 6820  , 2)`, but with 
+00019690: 6164 6465 6420 6e61 6d65 732e 2041 6e6f  added names. Ano
+000196a0: 6e79 6d6f 7573 2060 6e61 6d65 6474 7570  nymous `namedtup
+000196b0: 6c65 6073 2061 7265 2061 6c77 6179 7320  le`s are always 
+000196c0: 7069 636b 6c65 6162 6c65 2e0d 0a0d 0a54  pickleable.....T
+000196d0: 6865 2073 796e 7461 7820 666f 7220 616e  he syntax for an
+000196e0: 6f6e 796d 6f75 7320 6e61 6d65 6474 7570  onymous namedtup
+000196f0: 6c65 206c 6974 6572 616c 7320 6973 3a0d  le literals is:.
+00019700: 0a60 6060 636f 636f 6e75 740d 0a28 3c6e  .```coconut..(<n
+00019710: 616d 653e 205b 3a20 3c74 7970 653e 5d20  ame> [: <type>] 
+00019720: 3d20 3c76 616c 7565 3e2c 202e 2e2e 290d  = <value>, ...).
+00019730: 0a60 6060 0d0a 7768 6572 652c 2069 6620  .```..where, if 
+00019740: 603c 7479 7065 3e60 2069 7320 6769 7665  `<type>` is give
+00019750: 6e20 666f 7220 616e 7920 6669 656c 642c  n for any field,
+00019760: 205b 6074 7970 696e 672e 4e61 6d65 6454   [`typing.NamedT
+00019770: 7570 6c65 605d 2868 7474 7073 3a2f 2f64  uple`](https://d
+00019780: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+00019790: 2f6c 6962 7261 7279 2f74 7970 696e 672e  /library/typing.
+000197a0: 6874 6d6c 2374 7970 696e 672e 4e61 6d65  html#typing.Name
+000197b0: 6454 7570 6c65 2920 6973 2075 7365 6420  dTuple) is used 
+000197c0: 696e 7374 6561 6420 6f66 2060 636f 6c6c  instead of `coll
+000197d0: 6563 7469 6f6e 732e 6e61 6d65 6474 7570  ections.namedtup
+000197e0: 6c65 602e 0d0a 0d0a 2323 2323 2320 605f  le`.....##### `_
+000197f0: 6e61 6d65 6474 7570 6c65 5f6f 6660 0d0a  namedtuple_of`..
+00019800: 0d0a 4f6e 2050 7974 686f 6e20 7665 7273  ..On Python vers
+00019810: 696f 6e73 2060 3e3d 332e 3660 2c20 605f  ions `>=3.6`, `_
+00019820: 6e61 6d65 6474 7570 6c65 5f6f 6660 2069  namedtuple_of` i
+00019830: 7320 7072 6f76 6964 6564 2061 7320 6120  s provided as a 
+00019840: 6275 696c 742d 696e 2074 6861 7420 6361  built-in that ca
+00019850: 6e20 6d69 6d69 6320 7468 6520 6265 6861  n mimic the beha
+00019860: 7669 6f72 206f 6620 616e 6f6e 796d 6f75  vior of anonymou
+00019870: 7320 6e61 6d65 6474 7570 6c65 206c 6974  s namedtuple lit
+00019880: 6572 616c 7320 7375 6368 2074 6861 7420  erals such that 
+00019890: 605f 6e61 6d65 6474 7570 6c65 5f6f 6628  `_namedtuple_of(
+000198a0: 613d 312c 2062 3d32 2960 2069 7320 6571  a=1, b=2)` is eq
+000198b0: 7569 7661 6c65 6e74 2074 6f20 6028 613d  uivalent to `(a=
+000198c0: 312c 2062 3d32 2960 2e20 5369 6e63 6520  1, b=2)`. Since 
+000198d0: 605f 6e61 6d65 6474 7570 6c65 5f6f 6660  `_namedtuple_of`
+000198e0: 2069 7320 6f6e 6c79 2061 7661 696c 6162   is only availab
+000198f0: 6c65 206f 6e20 5079 7468 6f6e 2033 2e36  le on Python 3.6
+00019900: 2061 6e64 2061 626f 7665 2c20 686f 7765   and above, howe
+00019910: 7665 722c 2069 7420 6973 2067 656e 6572  ver, it is gener
+00019920: 616c 6c79 2072 6563 6f6d 6d65 6e64 6564  ally recommended
+00019930: 2074 6f20 7573 6520 616e 6f6e 796d 6f75   to use anonymou
+00019940: 7320 6e61 6d65 6474 7570 6c65 206c 6974  s namedtuple lit
+00019950: 6572 616c 7320 696e 7374 6561 642c 2061  erals instead, a
+00019960: 7320 7468 6579 2077 6f72 6b20 6f6e 2061  s they work on a
+00019970: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
+00019980: 6e2e 0d0a 0d0a 5f60 5f6e 616d 6564 7475  n....._`_namedtu
+00019990: 706c 655f 6f66 6020 6973 206a 7573 7420  ple_of` is just 
+000199a0: 7072 6f76 6964 6564 2074 6f20 6769 7665  provided to give
+000199b0: 206e 616d 6564 7475 706c 6520 6c69 7465   namedtuple lite
+000199c0: 7261 6c73 2061 2072 6570 7265 7365 6e74  rals a represent
+000199d0: 6174 696f 6e20 7468 6174 2063 6f72 7265  ation that corre
+000199e0: 7370 6f6e 6473 2074 6f20 616e 2065 7870  sponds to an exp
+000199f0: 7265 7373 696f 6e20 7468 6174 2063 616e  ression that can
+00019a00: 2062 6520 7573 6564 2074 6f20 7265 6372   be used to recr
+00019a10: 6561 7465 2074 6865 6d2e 5f0d 0a0d 0a23  eate them._....#
+00019a20: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+00019a30: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+00019a40: 6063 6f63 6f6e 7574 0d0a 7573 6572 7320  `coconut..users 
+00019a50: 3d20 5b0d 0a20 2020 2028 6964 3d31 2c20  = [..    (id=1, 
+00019a60: 6e61 6d65 3d22 416c 6963 6522 292c 0d0a  name="Alice"),..
+00019a70: 2020 2020 2869 643d 322c 206e 616d 653d      (id=2, name=
+00019a80: 2242 6f62 2229 2c0d 0a5d 0d0a 6060 600d  "Bob"),..]..```.
+00019a90: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+00019aa0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00019ab0: 6e0d 0a66 726f 6d20 636f 6c6c 6563 7469  n..from collecti
+00019ac0: 6f6e 7320 696d 706f 7274 206e 616d 6564  ons import named
+00019ad0: 7475 706c 650d 0a0d 0a75 7365 7273 203d  tuple....users =
+00019ae0: 205b 0d0a 2020 2020 6e61 6d65 6474 7570   [..    namedtup
+00019af0: 6c65 2822 5f22 2c20 2269 642c 206e 616d  le("_", "id, nam
+00019b00: 6522 2928 312c 2022 416c 6963 6522 292c  e")(1, "Alice"),
+00019b10: 0d0a 2020 2020 6e61 6d65 6474 7570 6c65  ..    namedtuple
+00019b20: 2822 5f22 2c20 2269 642c 206e 616d 6522  ("_", "id, name"
+00019b30: 2928 322c 2022 426f 6222 292c 0d0a 5d0d  )(2, "Bob"),..].
+00019b40: 0a60 6060 0d0a 0d0a 2323 2320 5365 7420  .```....### Set 
+00019b50: 4c69 7465 7261 6c73 0d0a 0d0a 436f 636f  Literals....Coco
+00019b60: 6e75 7420 616c 6c6f 7773 2061 6e20 6f70  nut allows an op
+00019b70: 7469 6f6e 616c 2060 7360 2074 6f20 6265  tional `s` to be
+00019b80: 2070 7265 7065 6e64 6564 2069 6e20 6672   prepended in fr
+00019b90: 6f6e 7420 6f66 2050 7974 686f 6e20 7365  ont of Python se
+00019ba0: 7420 6c69 7465 7261 6c73 2e20 5768 696c  t literals. Whil
+00019bb0: 6520 696e 206d 6f73 7420 6361 7365 7320  e in most cases 
+00019bc0: 7468 6973 2064 6f65 7320 6e6f 7468 696e  this does nothin
+00019bd0: 672c 2069 6e20 7468 6520 6361 7365 206f  g, in the case o
+00019be0: 6620 7468 6520 656d 7074 7920 7365 7420  f the empty set 
+00019bf0: 6974 206c 6574 7320 436f 636f 6e75 7420  it lets Coconut 
+00019c00: 6b6e 6f77 2074 6861 7420 6974 2069 7320  know that it is 
+00019c10: 616e 2065 6d70 7479 2073 6574 2061 6e64  an empty set and
+00019c20: 206e 6f74 2061 6e20 656d 7074 7920 6469   not an empty di
+00019c30: 6374 696f 6e61 7279 2e20 5365 7420 6c69  ctionary. Set li
+00019c40: 7465 7261 6c73 2061 6c73 6f20 7375 7070  terals also supp
+00019c50: 6f72 7420 756e 7061 636b 696e 6720 7379  ort unpacking sy
+00019c60: 6e74 6178 2028 652e 672e 2060 737b 2a78  ntax (e.g. `s{*x
+00019c70: 737d 6029 2e0d 0a0d 0a41 6464 6974 696f  s}`).....Additio
+00019c80: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2061  nally, Coconut a
+00019c90: 6c73 6f20 7375 7070 6f72 7473 2072 6570  lso supports rep
+00019ca0: 6c61 6369 6e67 2074 6865 2060 7360 2077  lacing the `s` w
+00019cb0: 6974 6820 616e 2060 6660 2074 6f20 6765  ith an `f` to ge
+00019cc0: 6e65 7261 7465 2061 2060 6672 6f7a 656e  nerate a `frozen
+00019cd0: 7365 7460 206f 7220 616e 2060 6d60 2074  set` or an `m` t
+00019ce0: 6f20 6765 6e65 7261 7465 2061 2043 6f63  o generate a Coc
+00019cf0: 6f6e 7574 205b 606d 756c 7469 7365 7460  onut [`multiset`
+00019d00: 5d28 236d 756c 7469 7365 7429 2e0d 0a0d  ](#multiset)....
+00019d10: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+00019d20: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+00019d30: 6060 6063 6f63 6f6e 7574 0d0a 656d 7074  ```coconut..empt
+00019d40: 795f 6672 6f7a 656e 5f73 6574 203d 2066  y_frozen_set = f
+00019d50: 7b7d 0d0a 6060 600d 0a0d 0a2a 2a50 7974  {}..```....**Pyt
+00019d60: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
+00019d70: 7574 5f70 7974 686f 6e0d 0a65 6d70 7479  ut_python..empty
+00019d80: 5f66 726f 7a65 6e5f 7365 7420 3d20 6672  _frozen_set = fr
+00019d90: 6f7a 656e 7365 7428 290d 0a60 6060 0d0a  ozenset()..```..
+00019da0: 0d0a 2323 2320 496d 6167 696e 6172 7920  ..### Imaginary 
+00019db0: 4c69 7465 7261 6c73 0d0a 0d0a 496e 2061  Literals....In a
+00019dc0: 6464 6974 696f 6e20 746f 2050 7974 686f  ddition to Pytho
+00019dd0: 6e27 7320 603c 6e75 6d3e 6a60 206f 7220  n's `<num>j` or 
+00019de0: 603c 6e75 6d3e 4a60 206e 6f74 6174 696f  `<num>J` notatio
+00019df0: 6e20 666f 7220 696d 6167 696e 6172 7920  n for imaginary 
+00019e00: 6c69 7465 7261 6c73 2c20 436f 636f 6e75  literals, Coconu
+00019e10: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
+00019e20: 603c 6e75 6d3e 6960 206f 7220 603c 6e75  `<num>i` or `<nu
+00019e30: 6d3e 4960 2c20 746f 206d 616b 6520 696d  m>I`, to make im
+00019e40: 6167 696e 6172 7920 6c69 7465 7261 6c73  aginary literals
+00019e50: 206d 6f72 6520 7265 6164 6162 6c65 2069   more readable i
+00019e60: 6620 7573 6564 2069 6e20 6120 6d61 7468  f used in a math
+00019e70: 656d 6174 6963 616c 2063 6f6e 7465 7874  ematical context
+00019e80: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
+00019e90: 6e20 446f 6373 0d0a 0d0a 496d 6167 696e  n Docs....Imagin
+00019ea0: 6172 7920 6c69 7465 7261 6c73 2061 7265  ary literals are
+00019eb0: 2064 6573 6372 6962 6564 2062 7920 7468   described by th
+00019ec0: 6520 666f 6c6c 6f77 696e 6720 6c65 7869  e following lexi
+00019ed0: 6361 6c20 6465 6669 6e69 7469 6f6e 733a  cal definitions:
+00019ee0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 696d  ..```coconut..im
+00019ef0: 6167 6e75 6d62 6572 203a 3a3d 2028 666c  agnumber ::= (fl
+00019f00: 6f61 746e 756d 6265 7220 7c20 696e 7470  oatnumber | intp
+00019f10: 6172 7429 2028 226a 2220 7c20 224a 2220  art) ("j" | "J" 
+00019f20: 7c20 2269 2220 7c20 2249 2229 0d0a 6060  | "i" | "I")..``
+00019f30: 600d 0a41 6e20 696d 6167 696e 6172 7920  `..An imaginary 
+00019f40: 6c69 7465 7261 6c20 7969 656c 6473 2061  literal yields a
+00019f50: 2063 6f6d 706c 6578 206e 756d 6265 7220   complex number 
+00019f60: 7769 7468 2061 2072 6561 6c20 7061 7274  with a real part
+00019f70: 206f 6620 302e 302e 2043 6f6d 706c 6578   of 0.0. Complex
+00019f80: 206e 756d 6265 7273 2061 7265 2072 6570   numbers are rep
+00019f90: 7265 7365 6e74 6564 2061 7320 6120 7061  resented as a pa
+00019fa0: 6972 206f 6620 666c 6f61 7469 6e67 2070  ir of floating p
+00019fb0: 6f69 6e74 206e 756d 6265 7273 2061 6e64  oint numbers and
+00019fc0: 2068 6176 6520 7468 6520 7361 6d65 2072   have the same r
+00019fd0: 6573 7472 6963 7469 6f6e 7320 6f6e 2074  estrictions on t
+00019fe0: 6865 6972 2072 616e 6765 2e20 546f 2063  heir range. To c
+00019ff0: 7265 6174 6520 6120 636f 6d70 6c65 7820  reate a complex 
+0001a000: 6e75 6d62 6572 2077 6974 6820 6120 6e6f  number with a no
+0001a010: 6e7a 6572 6f20 7265 616c 2070 6172 742c  nzero real part,
+0001a020: 2061 6464 2061 2066 6c6f 6174 696e 6720   add a floating 
+0001a030: 706f 696e 7420 6e75 6d62 6572 2074 6f20  point number to 
+0001a040: 6974 2c20 652e 672e 2c20 6028 332b 3469  it, e.g., `(3+4i
+0001a050: 2960 2e20 536f 6d65 2065 7861 6d70 6c65  )`. Some example
+0001a060: 7320 6f66 2069 6d61 6769 6e61 7279 206c  s of imaginary l
+0001a070: 6974 6572 616c 733a 0d0a 6060 6063 6f63  iterals:..```coc
+0001a080: 6f6e 7574 0d0a 332e 3134 6920 2020 3130  onut..3.14i   10
+0001a090: 2e69 2020 2020 3130 6920 2020 2020 2e30  .i    10i     .0
+0001a0a0: 3031 6920 2020 3165 3130 3069 2020 332e  01i   1e100i  3.
+0001a0b0: 3134 652d 3130 690d 0a60 6060 0d0a 0d0a  14e-10i..```....
+0001a0c0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0001a0d0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0001a0e0: 6060 636f 636f 6e75 740d 0a33 202b 2034  ``coconut..3 + 4
+0001a0f0: 6920 7c3e 2061 6273 207c 3e20 7072 696e  i |> abs |> prin
+0001a100: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
+0001a110: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0001a120: 745f 7079 7468 6f6e 0d0a 7072 696e 7428  t_python..print(
+0001a130: 6162 7328 3320 2b20 346a 2929 0d0a 6060  abs(3 + 4j))..``
+0001a140: 600d 0a0d 0a23 2323 2041 6c74 6572 6e61  `....### Alterna
+0001a150: 7469 7665 2054 6572 6e61 7279 204f 7065  tive Ternary Ope
+0001a160: 7261 746f 720d 0a0d 0a50 7974 686f 6e20  rator....Python 
+0001a170: 7375 7070 6f72 7473 2074 6865 2074 6572  supports the ter
+0001a180: 6e61 7279 206f 7065 7261 746f 7220 7379  nary operator sy
+0001a190: 6e74 6178 0d0a 6060 6063 6f63 6f6e 7574  ntax..```coconut
+0001a1a0: 5f70 7974 686f 6e0d 0a72 6573 756c 7420  _python..result 
+0001a1b0: 3d20 6966 5f74 7275 6520 6966 2063 6f6e  = if_true if con
+0001a1c0: 6469 7469 6f6e 2065 6c73 6520 6966 5f66  dition else if_f
+0001a1d0: 616c 7365 0d0a 6060 600d 0a77 6869 6368  alse..```..which
+0001a1e0: 2c20 7369 6e63 6520 436f 636f 6e75 7420  , since Coconut 
+0001a1f0: 6973 2061 2073 7570 6572 7365 7420 6f66  is a superset of
+0001a200: 2050 7974 686f 6e2c 2043 6f63 6f6e 7574   Python, Coconut
+0001a210: 2061 6c73 6f20 7375 7070 6f72 7473 2e0d   also supports..
+0001a220: 0a0d 0a48 6f77 6576 6572 2c20 436f 636f  ...However, Coco
+0001a230: 6e75 7420 616c 736f 2070 726f 7669 6465  nut also provide
+0001a240: 7320 616e 2061 6c74 6572 6e61 7469 7665  s an alternative
+0001a250: 2073 796e 7461 7820 7468 6174 2075 7365   syntax that use
+0001a260: 7320 7468 6520 6d6f 7265 2063 6f6e 7665  s the more conve
+0001a270: 6e74 696f 6e61 6c20 6172 6775 6d65 6e74  ntional argument
+0001a280: 206f 7264 6572 696e 6720 6173 0d0a 6060   ordering as..``
+0001a290: 600d 0a72 6573 756c 7420 3d20 6966 2063  `..result = if c
+0001a2a0: 6f6e 6469 7469 6f6e 2074 6865 6e20 6966  ondition then if
+0001a2b0: 5f74 7275 6520 656c 7365 2069 665f 6661  _true else if_fa
+0001a2c0: 6c73 650d 0a60 6060 0d0a 6d61 6b69 6e67  lse..```..making
+0001a2d0: 2075 7365 206f 6620 7468 6520 436f 636f   use of the Coco
+0001a2e0: 6e75 742d 7370 6563 6966 6963 2060 7468  nut-specific `th
+0001a2f0: 656e 6020 6b65 7977 6f72 6420 285b 7468  en` keyword ([th
+0001a300: 6f75 6768 2043 6f63 6f6e 7574 2073 7469  ough Coconut sti
+0001a310: 6c6c 2061 6c6c 6f77 7320 6074 6865 6e60  ll allows `then`
+0001a320: 2061 7320 6120 7661 7269 6162 6c65 206e   as a variable n
+0001a330: 616d 655d 2823 6861 6e64 6c69 6e67 2d6b  ame](#handling-k
+0001a340: 6579 776f 7264 2d76 6172 6961 626c 652d  eyword-variable-
+0001a350: 6e61 6d65 2d6f 7665 726c 6170 2929 2e0d  name-overlap))..
+0001a360: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0001a370: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+0001a380: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 7661  ..```coconut..va
+0001a390: 6c75 6520 3d20 280d 0a20 2020 2069 6620  lue = (..    if 
+0001a3a0: 7368 6f75 6c64 5f75 7365 5f61 2829 2074  should_use_a() t
+0001a3b0: 6865 6e20 610d 0a20 2020 2065 6c73 6520  hen a..    else 
+0001a3c0: 6966 2073 686f 756c 645f 7573 655f 6228  if should_use_b(
+0001a3d0: 2920 7468 656e 2062 0d0a 2020 2020 656c  ) then b..    el
+0001a3e0: 7365 2069 6620 7368 6f75 6c64 5f75 7365  se if should_use
+0001a3f0: 5f63 2829 2074 6865 6e20 630d 0a20 2020  _c() then c..   
+0001a400: 2065 6c73 6520 6661 6c6c 6261 636b 0d0a   else fallback..
+0001a410: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+0001a420: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0001a430: 745f 7079 7468 6f6e 0d0a 7661 6c75 6520  t_python..value 
+0001a440: 3d20 280d 0a20 2020 2061 2069 6620 7368  = (..    a if sh
+0001a450: 6f75 6c64 5f75 7365 5f61 2829 2065 6c73  ould_use_a() els
+0001a460: 650d 0a20 2020 2062 2069 6620 7368 6f75  e..    b if shou
+0001a470: 6c64 5f75 7365 5f62 2829 2065 6c73 650d  ld_use_b() else.
+0001a480: 0a20 2020 2063 2069 6620 7368 6f75 6c64  .    c if should
+0001a490: 5f75 7365 5f63 2829 2065 6c73 650d 0a20  _use_c() else.. 
+0001a4a0: 2020 2066 616c 6c62 6163 6b0d 0a29 0d0a     fallback..)..
+0001a4b0: 6060 600d 0a0d 0a23 2320 4675 6e63 7469  ```....## Functi
+0001a4c0: 6f6e 2044 6566 696e 6974 696f 6e0d 0a0d  on Definition...
+0001a4d0: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+0001a4e0: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+0001a4f0: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
+0001a500: 0a0d 0a23 2323 2054 6169 6c20 4361 6c6c  ...### Tail Call
+0001a510: 204f 7074 696d 697a 6174 696f 6e0d 0a0d   Optimization...
+0001a520: 0a43 6f63 6f6e 7574 2077 696c 6c20 7065  .Coconut will pe
+0001a530: 7266 6f72 6d20 6175 746f 6d61 7469 6320  rform automatic 
+0001a540: 5b74 6169 6c20 6361 6c6c 5d28 6874 7470  [tail call](http
+0001a550: 733a 2f2f 656e 2e77 696b 6970 6564 6961  s://en.wikipedia
+0001a560: 2e6f 7267 2f77 696b 692f 5461 696c 5f63  .org/wiki/Tail_c
+0001a570: 616c 6c29 206f 7074 696d 697a 6174 696f  all) optimizatio
+0001a580: 6e20 616e 6420 7461 696c 2072 6563 7572  n and tail recur
+0001a590: 7369 6f6e 2065 6c69 6d69 6e61 7469 6f6e  sion elimination
+0001a5a0: 206f 6e20 616e 7920 6675 6e63 7469 6f6e   on any function
+0001a5b0: 2074 6861 7420 6d65 6574 7320 7468 6520   that meets the 
+0001a5c0: 666f 6c6c 6f77 696e 6720 6372 6974 6572  following criter
+0001a5d0: 6961 3a0d 0a0d 0a31 2e20 6974 206d 7573  ia:....1. it mus
+0001a5e0: 7420 6469 7265 6374 6c79 2072 6574 7572  t directly retur
+0001a5f0: 6e20 2875 7369 6e67 2065 6974 6865 7220  n (using either 
+0001a600: 6072 6574 7572 6e60 206f 7220 5b61 7373  `return` or [ass
+0001a610: 6967 6e6d 656e 7420 6675 6e63 7469 6f6e  ignment function
+0001a620: 206e 6f74 6174 696f 6e5d 2823 6173 7369   notation](#assi
+0001a630: 676e 6d65 6e74 2d66 756e 6374 696f 6e73  gnment-functions
+0001a640: 2929 2061 2063 616c 6c20 746f 2069 7473  )) a call to its
+0001a650: 656c 6620 2874 6169 6c20 7265 6375 7273  elf (tail recurs
+0001a660: 696f 6e20 656c 696d 696e 6174 696f 6e2c  ion elimination,
+0001a670: 2074 6865 206d 6f73 7420 706f 7765 7266   the most powerf
+0001a680: 756c 206f 7074 696d 697a 6174 696f 6e29  ul optimization)
+0001a690: 206f 7220 616e 6f74 6865 7220 6675 6e63   or another func
+0001a6a0: 7469 6f6e 2028 7461 696c 2063 616c 6c20  tion (tail call 
+0001a6b0: 6f70 7469 6d69 7a61 7469 6f6e 292c 0d0a  optimization),..
+0001a6c0: 322e 2069 7420 6d75 7374 206e 6f74 2062  2. it must not b
+0001a6d0: 6520 6120 6765 6e65 7261 746f 7220 2875  e a generator (u
+0001a6e0: 7365 7320 6079 6965 6c64 6029 206f 7220  ses `yield`) or 
+0001a6f0: 616e 2061 7379 6e63 6872 6f6e 6f75 7320  an asynchronous 
+0001a700: 6675 6e63 7469 6f6e 2028 7573 6573 2060  function (uses `
+0001a710: 6173 796e 6360 292e 0d0a 0d0a 5461 696c  async`).....Tail
+0001a720: 2063 616c 6c20 6f70 7469 6d69 7a61 7469   call optimizati
+0001a730: 6f6e 2028 7468 6f75 6768 206e 6f74 2074  on (though not t
+0001a740: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
+0001a750: 696d 696e 6174 696f 6e29 2077 696c 6c20  imination) will 
+0001a760: 776f 726b 2065 7665 6e20 666f 7220 3129  work even for 1)
+0001a770: 206d 7574 7561 6c20 7265 6375 7273 696f   mutual recursio
+0001a780: 6e20 616e 6420 3229 2070 6174 7465 726e  n and 2) pattern
+0001a790: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+0001a7a0: 6f6e 7320 7370 6c69 7420 6163 726f 7373  ons split across
+0001a7b0: 206d 756c 7469 706c 6520 6465 6669 6e69   multiple defini
+0001a7c0: 7469 6f6e 7320 7573 696e 6720 5b60 6164  tions using [`ad
+0001a7d0: 6470 6174 7465 726e 605d 2823 6164 6470  dpattern`](#addp
+0001a7e0: 6174 7465 726e 292e 0d0a 0d0a 4966 2079  attern).....If y
+0001a7f0: 6f75 2061 7265 2065 6e63 6f75 6e74 6572  ou are encounter
+0001a800: 696e 6720 6120 6052 756e 7469 6d65 4572  ing a `RuntimeEr
+0001a810: 726f 7260 2064 7565 2074 6f20 6d61 7869  ror` due to maxi
+0001a820: 6d75 6d20 7265 6375 7273 696f 6e20 6465  mum recursion de
+0001a830: 7074 682c 2069 7420 6973 2068 6967 686c  pth, it is highl
+0001a840: 7920 7265 636f 6d6d 656e 6465 6420 7468  y recommended th
+0001a850: 6174 2079 6f75 2072 6577 7269 7465 2079  at you rewrite y
+0001a860: 6f75 7220 6675 6e63 7469 6f6e 2074 6f20  our function to 
+0001a870: 6d65 6574 2065 6974 6865 7220 7468 6520  meet either the 
+0001a880: 6372 6974 6572 6961 2061 626f 7665 2066  criteria above f
+0001a890: 6f72 2074 6169 6c20 6361 6c6c 206f 7074  or tail call opt
+0001a8a0: 696d 697a 6174 696f 6e2c 206f 7220 7468  imization, or th
+0001a8b0: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
+0001a8c0: 6372 6974 6572 6961 2066 6f72 205b 6072  criteria for [`r
+0001a8d0: 6563 7572 7369 7665 5f69 7465 7261 746f  ecursive_iterato
+0001a8e0: 7260 5d28 2372 6563 7572 7369 7665 2d69  r`](#recursive-i
+0001a8f0: 7465 7261 746f 7229 2c20 6569 7468 6572  terator), either
+0001a900: 206f 6620 7768 6963 6820 7368 6f75 6c64   of which should
+0001a910: 2070 7265 7665 6e74 2073 7563 6820 6572   prevent such er
+0001a920: 726f 7273 2e0d 0a0d 0a23 2323 2323 2045  rors.....##### E
+0001a930: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+0001a940: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+0001a950: 7574 0d0a 2320 756e 6c69 6b65 2069 6e20  ut..# unlike in 
+0001a960: 5079 7468 6f6e 2c20 7468 6973 2066 756e  Python, this fun
+0001a970: 6374 696f 6e20 7769 6c6c 206e 6576 6572  ction will never
+0001a980: 2068 6974 2061 206d 6178 696d 756d 2072   hit a maximum r
+0001a990: 6563 7572 7369 6f6e 2064 6570 7468 2065  ecursion depth e
+0001a9a0: 7272 6f72 0d0a 6465 6620 6661 6374 6f72  rror..def factor
+0001a9b0: 6961 6c28 6e2c 2061 6363 3d31 293a 0d0a  ial(n, acc=1):..
+0001a9c0: 2020 2020 6d61 7463 6820 6e3a 0d0a 2020      match n:..  
+0001a9d0: 2020 2020 2020 6361 7365 2030 3a0d 0a20        case 0:.. 
+0001a9e0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001a9f0: 6e20 6163 630d 0a20 2020 2020 2020 2063  n acc..        c
+0001aa00: 6173 6520 696e 7428 2920 6966 206e 203e  ase int() if n >
+0001aa10: 2030 3a0d 0a20 2020 2020 2020 2020 2020   0:..           
+0001aa20: 2072 6574 7572 6e20 6661 6374 6f72 6961   return factoria
+0001aa30: 6c28 6e2d 312c 2061 6363 2a6e 290d 0a60  l(n-1, acc*n)..`
+0001aa40: 6060 0d0a 5f53 686f 7763 6173 6573 2074  ``.._Showcases t
+0001aa50: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
+0001aa60: 696d 696e 6174 696f 6e2e 5f0d 0a0d 0a60  imination._....`
+0001aa70: 6060 636f 636f 6e75 740d 0a23 2075 6e6c  ``coconut..# unl
+0001aa80: 696b 6520 696e 2050 7974 686f 6e2c 206e  ike in Python, n
+0001aa90: 6569 7468 6572 206f 6620 7468 6573 6520  either of these 
+0001aaa0: 6675 6e63 7469 6f6e 7320 7769 6c6c 2065  functions will e
+0001aab0: 7665 7220 6869 7420 6120 6d61 7869 6d75  ver hit a maximu
+0001aac0: 6d20 7265 6375 7273 696f 6e20 6465 7074  m recursion dept
+0001aad0: 6820 6572 726f 720d 0a64 6566 2069 735f  h error..def is_
+0001aae0: 6576 656e 2830 2920 3d20 5472 7565 0d0a  even(0) = True..
+0001aaf0: 6164 6470 6174 7465 726e 2064 6566 2069  addpattern def i
+0001ab00: 735f 6576 656e 286e 2060 6973 696e 7374  s_even(n `isinst
+0001ab10: 616e 6365 6020 696e 7420 6966 206e 203e  ance` int if n >
+0001ab20: 2030 2920 3d20 6973 5f6f 6464 286e 2d31   0) = is_odd(n-1
+0001ab30: 290d 0a0d 0a64 6566 2069 735f 6f64 6428  )....def is_odd(
+0001ab40: 3029 203d 2046 616c 7365 0d0a 6164 6470  0) = False..addp
+0001ab50: 6174 7465 726e 2064 6566 2069 735f 6f64  attern def is_od
+0001ab60: 6428 6e20 6069 7369 6e73 7461 6e63 6560  d(n `isinstance`
+0001ab70: 2069 6e74 2069 6620 6e20 3e20 3029 203d   int if n > 0) =
+0001ab80: 2069 735f 6576 656e 286e 2d31 290d 0a60   is_even(n-1)..`
+0001ab90: 6060 0d0a 5f53 686f 7763 6173 6573 2074  ``.._Showcases t
+0001aba0: 6169 6c20 6361 6c6c 206f 7074 696d 697a  ail call optimiz
+0001abb0: 6174 696f 6e2e 5f0d 0a0d 0a2a 2a50 7974  ation._....**Pyt
+0001abc0: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+0001abd0: 6520 646f 6e65 2077 6974 686f 7574 2072  e done without r
+0001abe0: 6577 7269 7469 6e67 2074 6865 2066 756e  ewriting the fun
+0001abf0: 6374 696f 6e28 7329 2e5f 0d0a 0d0a 2323  ction(s)._....##
+0001ac00: 2323 2060 2d2d 6e6f 2d74 636f 6020 666c  ## `--no-tco` fl
+0001ac10: 6167 0d0a 0d0a 5461 696c 2063 616c 6c20  ag....Tail call 
+0001ac20: 6f70 7469 6d69 7a61 7469 6f6e 2077 696c  optimization wil
+0001ac30: 6c20 6265 2074 7572 6e65 6420 6f66 6620  l be turned off 
+0001ac40: 6966 2079 6f75 2070 6173 7320 7468 6520  if you pass the 
+0001ac50: 602d 2d6e 6f2d 7463 6f60 2063 6f6d 6d61  `--no-tco` comma
+0001ac60: 6e64 2d6c 696e 6520 6f70 7469 6f6e 2c20  nd-line option, 
+0001ac70: 7768 6963 6820 6973 2075 7365 6675 6c20  which is useful 
+0001ac80: 6966 2079 6f75 2061 7265 2068 6176 696e  if you are havin
+0001ac90: 6720 7472 6f75 626c 6520 7265 6164 696e  g trouble readin
+0001aca0: 6720 796f 7572 2074 7261 6365 6261 636b  g your traceback
+0001acb0: 7320 616e 642f 6f72 206e 6565 6420 6d61  s and/or need ma
+0001acc0: 7869 6d75 6d20 7065 7266 6f72 6d61 6e63  ximum performanc
+0001acd0: 652e 0d0a 0d0a 602d 2d6e 6f2d 7463 6f60  e.....`--no-tco`
+0001ace0: 2064 6f65 7320 6e6f 7420 6469 7361 626c   does not disabl
+0001acf0: 6520 7461 696c 2072 6563 7572 7369 6f6e  e tail recursion
+0001ad00: 2065 6c69 6d69 6e61 7469 6f6e 2e0d 0a54   elimination...T
+0001ad10: 6869 7320 6973 2062 6563 6175 7365 2074  his is because t
+0001ad20: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
+0001ad30: 696d 696e 6174 696f 6e20 6973 2075 7375  imination is usu
+0001ad40: 616c 6c79 2066 6173 7465 7220 7468 616e  ally faster than
+0001ad50: 2064 6f69 6e67 206e 6f74 6869 6e67 2c20   doing nothing, 
+0001ad60: 7768 696c 6520 6f74 6865 7220 7479 7065  while other type
+0001ad70: 7320 6f66 2074 6169 6c20 6361 6c6c 206f  s of tail call o
+0001ad80: 7074 696d 697a 6174 696f 6e20 6172 6520  ptimization are 
+0001ad90: 7573 7561 6c6c 7920 736c 6f77 6572 2074  usually slower t
+0001ada0: 6861 6e20 646f 696e 6720 6e6f 7468 696e  han doing nothin
+0001adb0: 672e 0d0a 5461 696c 2072 6563 7572 7369  g...Tail recursi
+0001adc0: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2072  on elimination r
+0001add0: 6573 756c 7473 2069 6e20 6120 6269 6720  esults in a big 
+0001ade0: 7065 7266 6f72 6d61 6e63 6520 7769 6e20  performance win 
+0001adf0: 6265 6361 7573 6520 5079 7468 6f6e 2068  because Python h
+0001ae00: 6173 2061 2066 6169 726c 7920 6c61 7267  as a fairly larg
+0001ae10: 6520 6675 6e63 7469 6f6e 2063 616c 6c20  e function call 
+0001ae20: 6f76 6572 6865 6164 2e20 4279 2075 6e77  overhead. By unw
+0001ae30: 696e 6469 6e67 2061 2072 6563 7572 7369  inding a recursi
+0001ae40: 7665 2066 756e 6374 696f 6e2c 2066 6172  ve function, far
+0001ae50: 2066 6577 6572 2066 756e 6374 696f 6e20   fewer function 
+0001ae60: 6361 6c6c 7320 6e65 6564 2074 6f20 6265  calls need to be
+0001ae70: 206d 6164 652e 0d0a 5768 656e 2074 6865   made...When the
+0001ae80: 2060 2d2d 6e6f 2d74 636f 6020 666c 6167   `--no-tco` flag
+0001ae90: 2069 7320 6469 7361 626c 6564 2c20 436f   is disabled, Co
+0001aea0: 636f 6e75 7420 7769 6c6c 2061 7474 656d  conut will attem
+0001aeb0: 7074 2074 6f20 646f 2061 6c6c 2074 7970  pt to do all typ
+0001aec0: 6573 206f 6620 7461 696c 2063 616c 6c20  es of tail call 
+0001aed0: 6f70 7469 6d69 7a61 7469 6f6e 732c 2068  optimizations, h
+0001aee0: 616e 646c 696e 6720 6e6f 6e2d 7265 6375  andling non-recu
+0001aef0: 7273 6976 6520 7461 696c 2063 616c 6c73  rsive tail calls
+0001af00: 2c20 7370 6c69 7420 7061 7474 6572 6e2d  , split pattern-
+0001af10: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+0001af20: 6e73 2c20 6d75 7475 616c 2072 6563 7572  ns, mutual recur
+0001af30: 7369 6f6e 2c20 616e 6420 7461 696c 2072  sion, and tail r
+0001af40: 6563 7572 7369 6f6e 2e20 5768 656e 2074  ecursion. When t
+0001af50: 6865 2060 2d2d 6e6f 2d74 636f 6020 666c  he `--no-tco` fl
+0001af60: 6167 2069 7320 656e 6162 6c65 642c 2043  ag is enabled, C
+0001af70: 6f63 6f6e 7574 2077 696c 6c20 6e6f 206c  oconut will no l
+0001af80: 6f6e 6765 7220 7065 7266 6f72 6d20 616e  onger perform an
+0001af90: 7920 7461 696c 2063 616c 6c20 6f70 7469  y tail call opti
+0001afa0: 6d69 7a61 7469 6f6e 7320 6f74 6865 7220  mizations other 
+0001afb0: 7468 616e 2074 6169 6c20 7265 6375 7273  than tail recurs
+0001afc0: 696f 6e20 656c 696d 696e 6174 696f 6e2e  ion elimination.
+0001afd0: 0d0a 0d0a 2323 2323 2054 6169 6c20 5265  ....#### Tail Re
+0001afe0: 6375 7273 696f 6e20 456c 696d 696e 6174  cursion Eliminat
+0001aff0: 696f 6e20 616e 6420 5079 7468 6f6e 206c  ion and Python l
+0001b000: 616d 6264 6173 0d0a 0d0a 436f 636f 6e75  ambdas....Coconu
+0001b010: 7420 646f 6573 206e 6f74 2070 6572 666f  t does not perfo
+0001b020: 726d 2074 6169 6c20 7265 6375 7273 696f  rm tail recursio
+0001b030: 6e20 656c 696d 696e 6174 696f 6e20 696e  n elimination in
+0001b040: 2066 756e 6374 696f 6e73 2074 6861 7420   functions that 
+0001b050: 7574 696c 697a 6520 6c61 6d62 6461 7320  utilize lambdas 
+0001b060: 6f72 2069 6e6e 6572 2066 756e 6374 696f  or inner functio
+0001b070: 6e73 2e20 5468 6973 2069 7320 6265 6361  ns. This is beca
+0001b080: 7573 6520 6f66 2074 6865 2077 6179 2074  use of the way t
+0001b090: 6861 7420 5079 7468 6f6e 2068 616e 646c  hat Python handl
+0001b0a0: 6573 206c 616d 6264 6173 2e0d 0a0d 0a45  es lambdas.....E
+0001b0b0: 6163 6820 6c61 6d62 6461 2073 746f 7265  ach lambda store
+0001b0c0: 7320 6120 706f 696e 7465 7220 746f 2074  s a pointer to t
+0001b0d0: 6865 206e 616d 6573 7061 6365 2065 6e63  he namespace enc
+0001b0e0: 6c6f 7369 6e67 2069 742c 2072 6174 6865  losing it, rathe
+0001b0f0: 7220 7468 616e 2061 2063 6f70 7920 6f66  r than a copy of
+0001b100: 2074 6865 206e 616d 6573 7061 6365 2e20   the namespace. 
+0001b110: 5468 7573 2c20 6966 2074 6865 2043 6f63  Thus, if the Coc
+0001b120: 6f6e 7574 2063 6f6d 7069 6c65 7220 7472  onut compiler tr
+0001b130: 6965 7320 746f 2072 6563 7963 6c65 2061  ies to recycle a
+0001b140: 6e79 7468 696e 6720 696e 2074 6865 206e  nything in the n
+0001b150: 616d 6573 7061 6365 2074 6861 7420 7072  amespace that pr
+0001b160: 6f64 7563 6564 2074 6865 206c 616d 6264  oduced the lambd
+0001b170: 612c 2077 6869 6368 206e 6565 6473 2074  a, which needs t
+0001b180: 6f20 6265 2064 6f6e 6520 666f 7220 5452  o be done for TR
+0001b190: 452c 2074 6865 206c 616d 6264 6120 6361  E, the lambda ca
+0001b1a0: 6e20 6265 2063 6861 6e67 6564 2072 6574  n be changed ret
+0001b1b0: 726f 6163 7469 7665 6c79 2e0d 0a0d 0a41  roactively.....A
+0001b1c0: 2073 696d 706c 6520 6578 616d 706c 6520   simple example 
+0001b1d0: 6465 6d6f 6e73 7472 6174 696e 6720 7468  demonstrating th
+0001b1e0: 6973 2062 6568 6176 696f 7220 696e 2050  is behavior in P
+0001b1f0: 7974 686f 6e3a 0d0a 0d0a 6060 6070 7974  ython:....```pyt
+0001b200: 686f 6e0d 0a78 203d 2031 0d0a 666f 6f20  hon..x = 1..foo 
+0001b210: 3d20 6c61 6d62 6461 3a20 780d 0a70 7269  = lambda: x..pri
+0001b220: 6e74 2866 6f6f 2829 2920 2023 2031 0d0a  nt(foo())  # 1..
+0001b230: 7820 3d20 3220 2020 2020 2020 2020 2320  x = 2         # 
+0001b240: 4469 7265 6374 6c79 2061 6c74 6572 2074  Directly alter t
+0001b250: 6865 2076 616c 7565 7320 696e 2074 6865  he values in the
+0001b260: 206e 616d 6573 7061 6365 2065 6e63 6c6f   namespace enclo
+0001b270: 7369 6e67 2066 6f6f 0d0a 7072 696e 7428  sing foo..print(
+0001b280: 666f 6f28 2929 2020 2320 3220 2821 290d  foo())  # 2 (!).
+0001b290: 0a60 6060 0d0a 0d0a 4265 6361 7573 6520  .```....Because 
+0001b2a0: 7468 6973 2063 6f75 6c64 2068 6176 6520  this could have 
+0001b2b0: 756e 696e 7465 6e64 6564 2061 6e64 2070  unintended and p
+0001b2c0: 6f74 656e 7469 616c 6c79 2064 616d 6167  otentially damag
+0001b2d0: 696e 6720 636f 6e73 6571 7565 6e63 6573  ing consequences
+0001b2e0: 2c20 436f 636f 6e75 7420 6f70 7473 2074  , Coconut opts t
+0001b2f0: 6f20 6e6f 7420 7065 7266 6f72 6d20 5452  o not perform TR
+0001b300: 4520 6f6e 2061 6e79 2066 756e 6374 696f  E on any functio
+0001b310: 6e20 7769 7468 2061 206c 616d 6264 6120  n with a lambda 
+0001b320: 6f72 2069 6e6e 6572 2066 756e 6374 696f  or inner functio
+0001b330: 6e2e 0d0a 0d0a 2323 2320 4173 7369 676e  n.....### Assign
+0001b340: 6d65 6e74 2046 756e 6374 696f 6e73 0d0a  ment Functions..
+0001b350: 0d0a 436f 636f 6e75 7420 616c 6c6f 7773  ..Coconut allows
+0001b360: 2066 6f72 2061 7373 6967 6e6d 656e 7420   for assignment 
+0001b370: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0001b380: 696f 6e20 7468 6174 2061 7574 6f6d 6174  ion that automat
+0001b390: 6963 616c 6c79 2072 6574 7572 6e73 2074  ically returns t
+0001b3a0: 6865 206c 6173 7420 6c69 6e65 206f 6620  he last line of 
+0001b3b0: 7468 6520 6675 6e63 7469 6f6e 2062 6f64  the function bod
+0001b3c0: 792e 2041 6e20 6173 7369 676e 6d65 6e74  y. An assignment
+0001b3d0: 2066 756e 6374 696f 6e20 6973 2063 6f6e   function is con
+0001b3e0: 7374 7275 6374 6564 2062 7920 7375 6273  structed by subs
+0001b3f0: 7469 7475 7469 6e67 2060 3d60 2066 6f72  tituting `=` for
+0001b400: 2060 3a60 2061 6674 6572 2074 6865 2066   `:` after the f
+0001b410: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+0001b420: 6f6e 206c 696e 652e 2054 6875 732c 2074  on line. Thus, t
+0001b430: 6865 2073 796e 7461 7820 666f 7220 6173  he syntax for as
+0001b440: 7369 676e 6d65 6e74 2066 756e 6374 696f  signment functio
+0001b450: 6e20 6465 6669 6e69 7469 6f6e 2069 7320  n definition is 
+0001b460: 6569 7468 6572 0d0a 6060 6063 6f63 6f6e  either..```cocon
+0001b470: 7574 0d0a 5b61 7379 6e63 5d20 6465 6620  ut..[async] def 
+0001b480: 3c6e 616d 653e 283c 6172 6773 3e29 203d  <name>(<args>) =
+0001b490: 203c 6578 7072 3e0d 0a60 6060 0d0a 666f   <expr>..```..fo
+0001b4a0: 7220 6f6e 652d 6c69 6e65 7273 206f 720d  r one-liners or.
+0001b4b0: 0a60 6060 636f 636f 6e75 740d 0a5b 6173  .```coconut..[as
+0001b4c0: 796e 635d 2064 6566 203c 6e61 6d65 3e28  ync] def <name>(
+0001b4d0: 3c61 7267 733e 2920 3d0d 0a20 2020 203c  <args>) =..    <
+0001b4e0: 7374 6d74 733e 0d0a 2020 2020 3c65 7870  stmts>..    <exp
+0001b4f0: 723e 0d0a 6060 600d 0a66 6f72 2066 756c  r>..```..for ful
+0001b500: 6c20 6675 6e63 7469 6f6e 732c 2077 6865  l functions, whe
+0001b510: 7265 2060 3c6e 616d 653e 6020 6973 2074  re `<name>` is t
+0001b520: 6865 206e 616d 6520 6f66 2074 6865 2066  he name of the f
+0001b530: 756e 6374 696f 6e2c 2060 3c61 7267 733e  unction, `<args>
+0001b540: 6020 6172 6520 7468 6520 6675 6e63 7469  ` are the functi
+0001b550: 6f6e 7320 6172 6775 6d65 6e74 732c 2060  ons arguments, `
+0001b560: 3c73 746d 7473 3e60 2061 7265 2061 6e79  <stmts>` are any
+0001b570: 2073 7461 7465 6d65 6e74 7320 7468 6174   statements that
+0001b580: 2074 6865 2066 756e 6374 696f 6e20 7368   the function sh
+0001b590: 6f75 6c64 2065 7865 6375 7465 2c20 616e  ould execute, an
+0001b5a0: 6420 603c 6578 7072 3e60 2069 7320 7468  d `<expr>` is th
+0001b5b0: 6520 7661 6c75 6520 7468 6174 2074 6865  e value that the
+0001b5c0: 2066 756e 6374 696f 6e20 7368 6f75 6c64   function should
+0001b5d0: 2072 6574 7572 6e2e 0d0a 0d0a 5f4e 6f74   return....._Not
+0001b5e0: 653a 2041 7373 6967 6e6d 656e 7420 6675  e: Assignment fu
+0001b5f0: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+0001b600: 6e20 6361 6e20 6265 2063 6f6d 6269 6e65  n can be combine
+0001b610: 6420 7769 7468 2069 6e66 6978 2061 6e64  d with infix and
+0001b620: 2f6f 7220 7061 7474 6572 6e2d 6d61 7463  /or pattern-matc
+0001b630: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
+0001b640: 6669 6e69 7469 6f6e 2e5f 0d0a 0d0a 2323  finition._....##
+0001b650: 2323 2320 5261 7469 6f6e 616c 650d 0a0d  ### Rationale...
+0001b660: 0a43 6f63 6f6e 7574 2773 2041 7373 6967  .Coconut's Assig
+0001b670: 6e6d 656e 7420 6675 6e63 7469 6f6e 2064  nment function d
+0001b680: 6566 696e 6974 696f 6e20 6973 2061 7320  efinition is as 
+0001b690: 6561 7379 2074 6f20 7772 6974 6520 6173  easy to write as
+0001b6a0: 2061 7373 6967 6e6d 656e 7420 746f 2061   assignment to a
+0001b6b0: 206c 616d 6264 612c 2062 7574 2077 696c   lambda, but wil
+0001b6c0: 6c20 6170 7065 6172 206e 616d 6564 2069  l appear named i
+0001b6d0: 6e20 7472 6163 6562 6163 6b73 2c20 6173  n tracebacks, as
+0001b6e0: 2069 7420 636f 6d70 696c 6573 2074 6f20   it compiles to 
+0001b6f0: 6e6f 726d 616c 2050 7974 686f 6e20 6675  normal Python fu
+0001b700: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+0001b710: 6e2e 0d0a 0d0a 2323 2323 2320 4578 616d  n.....##### Exam
+0001b720: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0001b730: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0001b740: 0a64 6566 2062 696e 6578 7028 7829 203d  .def binexp(x) =
+0001b750: 2032 2a2a 780d 0a35 207c 3e20 6269 6e65   2**x..5 |> bine
+0001b760: 7870 207c 3e20 7072 696e 740d 0a60 6060  xp |> print..```
+0001b770: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0001b780: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0001b790: 6f6e 0d0a 6465 6620 6269 6e65 7870 2878  on..def binexp(x
+0001b7a0: 293a 2072 6574 7572 6e20 322a 2a78 0d0a  ): return 2**x..
+0001b7b0: 7072 696e 7428 6269 6e65 7870 2835 2929  print(binexp(5))
+0001b7c0: 0d0a 6060 600d 0a0d 0a23 2323 2050 6174  ..```....### Pat
+0001b7d0: 7465 726e 2d4d 6174 6368 696e 6720 4675  tern-Matching Fu
+0001b7e0: 6e63 7469 6f6e 730d 0a0d 0a43 6f63 6f6e  nctions....Cocon
+0001b7f0: 7574 2070 6174 7465 726e 2d6d 6174 6368  ut pattern-match
+0001b800: 696e 6720 6675 6e63 7469 6f6e 7320 6172  ing functions ar
+0001b810: 6520 6a75 7374 206e 6f72 6d61 6c20 6675  e just normal fu
+0001b820: 6e63 7469 6f6e 732c 2065 7863 6570 7420  nctions, except 
+0001b830: 7768 6572 6520 7468 6520 6172 6775 6d65  where the argume
+0001b840: 6e74 7320 6172 6520 7061 7474 6572 6e73  nts are patterns
+0001b850: 2074 6f20 6265 206d 6174 6368 6564 2061   to be matched a
+0001b860: 6761 696e 7374 2069 6e73 7465 6164 206f  gainst instead o
+0001b870: 6620 7661 7269 6162 6c65 7320 746f 2062  f variables to b
+0001b880: 6520 6173 7369 676e 6564 2074 6f2e 2054  e assigned to. T
+0001b890: 6865 2073 796e 7461 7820 666f 7220 7061  he syntax for pa
+0001b8a0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+0001b8b0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+0001b8c0: 6f6e 2069 730d 0a60 6060 636f 636f 6e75  on is..```coconu
+0001b8d0: 740d 0a5b 6d61 7463 685d 2064 6566 203c  t..[match] def <
+0001b8e0: 6e61 6d65 3e28 3c61 7267 3e2c 203c 6172  name>(<arg>, <ar
+0001b8f0: 673e 2c20 2e2e 2e20 5b69 6620 3c63 6f6e  g>, ... [if <con
+0001b900: 643e 5d29 205b 2d3e 203c 7265 7475 726e  d>]) [-> <return
+0001b910: 5f74 7970 653e 5d3a 0d0a 2020 2020 3c62  _type>]:..    <b
+0001b920: 6f64 793e 0d0a 6060 600d 0a77 6865 7265  ody>..```..where
+0001b930: 2060 3c61 7267 3e60 2069 7320 6465 6669   `<arg>` is defi
+0001b940: 6e65 6420 6173 0d0a 6060 6063 6f63 6f6e  ned as..```cocon
+0001b950: 7574 0d0a 5b2a 7c2a 2a5d 203c 7061 7474  ut..[*|**] <patt
+0001b960: 6572 6e3e 205b 3d20 3c64 6566 6175 6c74  ern> [= <default
+0001b970: 3e5d 0d0a 6060 600d 0a77 6865 7265 2060  >]..```..where `
+0001b980: 3c6e 616d 653e 6020 6973 2074 6865 206e  <name>` is the n
+0001b990: 616d 6520 6f66 2074 6865 2066 756e 6374  ame of the funct
+0001b9a0: 696f 6e2c 2060 3c63 6f6e 643e 6020 6973  ion, `<cond>` is
+0001b9b0: 2061 6e20 6f70 7469 6f6e 616c 2061 6464   an optional add
+0001b9c0: 6974 696f 6e61 6c20 6368 6563 6b2c 2060  itional check, `
+0001b9d0: 3c62 6f64 793e 6020 6973 2074 6865 2062  <body>` is the b
+0001b9e0: 6f64 7920 6f66 2074 6865 2066 756e 6374  ody of the funct
+0001b9f0: 696f 6e2c 2060 3c70 6174 7465 726e 3e60  ion, `<pattern>`
+0001ba00: 2069 7320 6465 6669 6e65 6420 6279 2043   is defined by C
+0001ba10: 6f63 6f6e 7574 2773 205b 606d 6174 6368  oconut's [`match
+0001ba20: 6020 7374 6174 656d 656e 745d 2823 6d61  ` statement](#ma
+0001ba30: 7463 6829 2c20 603c 6465 6661 756c 743e  tch), `<default>
+0001ba40: 6020 6973 2074 6865 206f 7074 696f 6e61  ` is the optiona
+0001ba50: 6c20 6465 6661 756c 7420 6966 206e 6f20  l default if no 
+0001ba60: 6172 6775 6d65 6e74 2069 7320 7061 7373  argument is pass
+0001ba70: 6564 2c20 616e 6420 603c 7265 7475 726e  ed, and `<return
+0001ba80: 5f74 7970 653e 6020 6973 2074 6865 206f  _type>` is the o
+0001ba90: 7074 696f 6e61 6c20 7265 7475 726e 2074  ptional return t
+0001baa0: 7970 6520 616e 6e6f 7461 7469 6f6e 2028  ype annotation (
+0001bab0: 6e6f 7465 2074 6861 7420 6172 6775 6d65  note that argume
+0001bac0: 6e74 2074 7970 6520 616e 6e6f 7461 7469  nt type annotati
+0001bad0: 6f6e 7320 6172 6520 6e6f 7420 7375 7070  ons are not supp
+0001bae0: 6f72 7465 6420 666f 7220 7061 7474 6572  orted for patter
+0001baf0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+0001bb00: 696f 6e73 292e 2054 6865 2060 6d61 7463  ions). The `matc
+0001bb10: 6860 206b 6579 776f 7264 2061 7420 7468  h` keyword at th
+0001bb20: 6520 6265 6769 6e6e 696e 6720 6973 206f  e beginning is o
+0001bb30: 7074 696f 6e61 6c2c 2062 7574 2069 7320  ptional, but is 
+0001bb40: 736f 6d65 7469 6d65 7320 6e65 6365 7373  sometimes necess
+0001bb50: 6172 7920 746f 2064 6973 616d 6269 6775  ary to disambigu
+0001bb60: 6174 6520 7061 7474 6572 6e2d 6d61 7463  ate pattern-matc
+0001bb70: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
+0001bb80: 6669 6e69 7469 6f6e 2066 726f 6d20 6e6f  finition from no
+0001bb90: 726d 616c 2066 756e 6374 696f 6e20 6465  rmal function de
+0001bba0: 6669 6e69 7469 6f6e 2c20 7369 6e63 6520  finition, since 
+0001bbb0: 5079 7468 6f6e 2066 756e 6374 696f 6e20  Python function 
+0001bbc0: 6465 6669 6e69 7469 6f6e 2077 696c 6c20  definition will 
+0001bbd0: 616c 7761 7973 2074 616b 6520 7072 6563  always take prec
+0001bbe0: 6564 656e 6365 2e20 4e6f 7465 2074 6861  edence. Note tha
+0001bbf0: 7420 7468 6520 6061 7379 6e63 6020 616e  t the `async` an
+0001bc00: 6420 606d 6174 6368 6020 6b65 7977 6f72  d `match` keywor
+0001bc10: 6473 2063 616e 2062 6520 696e 2061 6e79  ds can be in any
+0001bc20: 206f 7264 6572 2e0d 0a0d 0a49 6620 603c   order.....If `<
+0001bc30: 7061 7474 6572 6e3e 6020 6861 7320 6120  pattern>` has a 
+0001bc40: 7661 7269 6162 6c65 206e 616d 6520 2865  variable name (e
+0001bc50: 6974 6865 7220 6469 7265 6374 6c79 206f  ither directly o
+0001bc60: 7220 7769 7468 2060 6173 6029 2c20 7468  r with `as`), th
+0001bc70: 6520 7265 7375 6c74 696e 6720 7061 7474  e resulting patt
+0001bc80: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
+0001bc90: 6374 696f 6e20 7769 6c6c 2073 7570 706f  ction will suppo
+0001bca0: 7274 206b 6579 776f 7264 2061 7267 756d  rt keyword argum
+0001bcb0: 656e 7473 2075 7369 6e67 2074 6861 7420  ents using that 
+0001bcc0: 7661 7269 6162 6c65 206e 616d 652e 0d0a  variable name...
+0001bcd0: 0d0a 496e 2061 6464 6974 696f 6e20 746f  ..In addition to
+0001bce0: 2073 7570 706f 7274 696e 6720 7061 7474   supporting patt
+0001bcf0: 6572 6e2d 6d61 7463 6869 6e67 2069 6e20  ern-matching in 
+0001bd00: 7468 6569 7220 6172 6775 6d65 6e74 732c  their arguments,
+0001bd10: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+0001bd20: 6720 6675 6e63 7469 6f6e 2064 6566 696e  g function defin
+0001bd30: 6974 696f 6e73 2061 6c73 6f20 6861 7665  itions also have
+0001bd40: 2061 2063 6f75 706c 6520 6f66 206e 6f74   a couple of not
+0001bd50: 6162 6c65 2064 6966 6665 7265 6e63 6573  able differences
+0001bd60: 2063 6f6d 7061 7265 6420 746f 2050 7974   compared to Pyt
+0001bd70: 686f 6e20 6675 6e63 7469 6f6e 732e 2053  hon functions. S
+0001bd80: 7065 6369 6669 6361 6c6c 793a 0d0a 2d20  pecifically:..- 
+0001bd90: 4966 2070 6174 7465 726e 2d6d 6174 6368  If pattern-match
+0001bda0: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
+0001bdb0: 696e 6974 696f 6e20 6661 696c 732c 2069  inition fails, i
+0001bdc0: 7420 7769 6c6c 2072 6169 7365 2061 205b  t will raise a [
+0001bdd0: 604d 6174 6368 4572 726f 7260 5d28 236d  `MatchError`](#m
+0001bde0: 6174 6368 6572 726f 7229 2028 6a75 7374  atcherror) (just
+0001bdf0: 206c 696b 6520 5b64 6573 7472 7563 7475   like [destructu
+0001be00: 7269 6e67 2061 7373 6967 6e6d 656e 745d  ring assignment]
+0001be10: 2823 6465 7374 7275 6374 7572 696e 672d  (#destructuring-
+0001be20: 6173 7369 676e 6d65 6e74 2929 2069 6e73  assignment)) ins
+0001be30: 7465 6164 206f 6620 6120 6054 7970 6545  tead of a `TypeE
+0001be40: 7272 6f72 602e 0d0a 2d20 416c 6c20 6465  rror`...- All de
+0001be50: 6661 756c 7473 2069 6e20 7061 7474 6572  faults in patter
+0001be60: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+0001be70: 696f 6e20 6465 6669 6e69 7469 6f6e 2061  ion definition a
+0001be80: 7265 206c 6174 652d 626f 756e 6420 7261  re late-bound ra
+0001be90: 7468 6572 2074 6861 6e20 6561 726c 792d  ther than early-
+0001bea0: 626f 756e 642e 2054 6875 732c 2060 6d61  bound. Thus, `ma
+0001beb0: 7463 6820 6465 6620 6628 7873 3d5b 5d29  tch def f(xs=[])
+0001bec0: 203d 2078 7360 2077 696c 6c20 696e 7374   = xs` will inst
+0001bed0: 616e 7469 6174 6520 6120 6e65 7720 6c69  antiate a new li
+0001bee0: 7374 2066 6f72 2065 6163 6820 6361 6c6c  st for each call
+0001bef0: 2077 6865 7265 2060 7873 6020 6973 206e   where `xs` is n
+0001bf00: 6f74 2067 6976 656e 2c20 756e 6c69 6b65  ot given, unlike
+0001bf10: 2060 6465 6620 6628 7873 3d5b 5d29 203d   `def f(xs=[]) =
+0001bf20: 2078 7360 2c20 7768 6963 6820 7769 6c6c   xs`, which will
+0001bf30: 2075 7365 2074 6865 2073 616d 6520 6c69   use the same li
+0001bf40: 7374 2066 6f72 2061 6c6c 2063 616c 6c73  st for all calls
+0001bf50: 2077 6865 7265 2060 7873 6020 6973 2075   where `xs` is u
+0001bf60: 6e73 7065 6369 6669 6564 2e0d 0a0d 0a50  nspecified.....P
+0001bf70: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+0001bf80: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0001bf90: 696f 6e20 6361 6e20 616c 736f 2062 6520  ion can also be 
+0001bfa0: 636f 6d62 696e 6564 2077 6974 6820 6061  combined with `a
+0001bfb0: 7379 6e63 6020 6675 6e63 7469 6f6e 732c  sync` functions,
+0001bfc0: 205b 6063 6f70 7963 6c6f 7375 7265 6020   [`copyclosure` 
+0001bfd0: 6675 6e63 7469 6f6e 735d 2823 636f 7079  functions](#copy
+0001bfe0: 636c 6f73 7572 652d 6675 6e63 7469 6f6e  closure-function
+0001bff0: 7329 2c20 5b60 7969 656c 6460 2066 756e  s), [`yield` fun
+0001c000: 6374 696f 6e73 5d28 2365 7870 6c69 6369  ctions](#explici
+0001c010: 742d 6765 6e65 7261 746f 7273 292c 205b  t-generators), [
+0001c020: 696e 6669 7820 6675 6e63 7469 6f6e 2064  infix function d
+0001c030: 6566 696e 6974 696f 6e5d 2823 696e 6669  efinition](#infi
+0001c040: 782d 6675 6e63 7469 6f6e 7329 2c20 616e  x-functions), an
+0001c050: 6420 5b61 7373 6967 6e6d 656e 7420 6675  d [assignment fu
+0001c060: 6e63 7469 6f6e 2073 796e 7461 785d 2823  nction syntax](#
+0001c070: 6173 7369 676e 6d65 6e74 2d66 756e 6374  assignment-funct
+0001c080: 696f 6e73 292e 2054 6865 2076 6172 696f  ions). The vario
+0001c090: 7573 206b 6579 776f 7264 7320 696e 2066  us keywords in f
+0001c0a0: 726f 6e74 206f 6620 7468 6520 6064 6566  ront of the `def
+0001c0b0: 6020 6361 6e20 6265 2070 7574 2069 6e20  ` can be put in 
+0001c0c0: 616e 7920 6f72 6465 722e 0d0a 0d0a 2323  any order.....##
+0001c0d0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+0001c0e0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+0001c0f0: 636f 636f 6e75 740d 0a64 6566 206c 6173  coconut..def las
+0001c100: 745f 7477 6f28 5f20 2b20 5b61 2c20 625d  t_two(_ + [a, b]
+0001c110: 293a 0d0a 2020 2020 7265 7475 726e 2061  ):..    return a
+0001c120: 2c20 620d 0a64 6566 2078 7964 6963 745f  , b..def xydict_
+0001c130: 746f 5f78 7974 7570 6c65 287b 2278 223a  to_xytuple({"x":
+0001c140: 2078 2060 6973 696e 7374 616e 6365 6020   x `isinstance` 
+0001c150: 696e 742c 2022 7922 3a20 7920 6069 7369  int, "y": y `isi
+0001c160: 6e73 7461 6e63 6560 2069 6e74 7d29 3a0d  nstance` int}):.
+0001c170: 0a20 2020 2072 6574 7572 6e20 782c 2079  .    return x, y
+0001c180: 0d0a 0d0a 7261 6e67 6528 3529 207c 3e20  ....range(5) |> 
+0001c190: 6c61 7374 5f74 776f 207c 3e20 7072 696e  last_two |> prin
+0001c1a0: 740d 0a7b 2278 223a 312c 2022 7922 3a32  t..{"x":1, "y":2
+0001c1b0: 7d20 7c3e 2078 7964 6963 745f 746f 5f78  } |> xydict_to_x
+0001c1c0: 7974 7570 6c65 207c 3e20 7072 696e 740d  ytuple |> print.
+0001c1d0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+0001c1e0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+0001c1f0: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
+0001c200: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
+0001c210: 636b 7320 6174 2074 6865 2074 6f70 206f  cks at the top o
+0001c220: 6620 7468 6520 6675 6e63 7469 6f6e 2e20  f the function. 
+0001c230: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
+0001c240: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
+0001c250: 7468 6f6e 2073 796e 7461 782e 5f0d 0a0d  thon syntax._...
+0001c260: 0a23 2323 2060 6164 6470 6174 7465 726e  .### `addpattern
+0001c270: 6020 4675 6e63 7469 6f6e 730d 0a0d 0a43  ` Functions....C
+0001c280: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+0001c290: 7468 6520 6061 6464 7061 7474 6572 6e20  the `addpattern 
+0001c2a0: 6465 6660 2073 796e 7461 7820 6173 2061  def` syntax as a
+0001c2b0: 2073 686f 7274 6375 7420 666f 7220 7468   shortcut for th
+0001c2c0: 6520 6675 6c6c 0d0a 6060 6063 6f63 6f6e  e full..```cocon
+0001c2d0: 7574 0d0a 4061 6464 7061 7474 6572 6e28  ut..@addpattern(
+0001c2e0: 6675 6e63 290d 0a6d 6174 6368 2064 6566  func)..match def
+0001c2f0: 2066 756e 6328 2e2e 2e29 3a0d 0a20 202e   func(...):..  .
+0001c300: 2e2e 0d0a 6060 600d 0a73 796e 7461 7820  ....```..syntax 
+0001c310: 7573 696e 6720 7468 6520 5b60 6164 6470  using the [`addp
+0001c320: 6174 7465 726e 605d 2823 6164 6470 6174  attern`](#addpat
+0001c330: 7465 726e 2920 6465 636f 7261 746f 722e  tern) decorator.
+0001c340: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
+0001c350: 2c20 6061 6464 7061 7474 6572 6e20 6465  , `addpattern de
+0001c360: 6660 2077 696c 6c20 6163 7420 6a75 7374  f` will act just
+0001c370: 206c 696b 6520 6120 6e6f 726d 616c 205b   like a normal [
+0001c380: 606d 6174 6368 2064 6566 605d 2823 7061  `match def`](#pa
+0001c390: 7474 6572 6e2d 6d61 7463 6869 6e67 2d66  ttern-matching-f
+0001c3a0: 756e 6374 696f 6e73 2920 6966 2074 6865  unctions) if the
+0001c3b0: 2066 756e 6374 696f 6e20 6861 7320 6e6f   function has no
+0001c3c0: 7420 7072 6576 696f 7573 6c79 2062 6565  t previously bee
+0001c3d0: 6e20 6465 6669 6e65 642c 2061 6c6c 6f77  n defined, allow
+0001c3e0: 696e 6720 666f 7220 6061 6464 7061 7474  ing for `addpatt
+0001c3f0: 6572 6e20 6465 6660 2074 6f20 6265 2075  ern def` to be u
+0001c400: 7365 6420 666f 7220 6561 6368 2063 6173  sed for each cas
+0001c410: 6520 7261 7468 6572 2074 6861 6e20 7265  e rather than re
+0001c420: 7175 6972 696e 6720 606d 6174 6368 2064  quiring `match d
+0001c430: 6566 6020 666f 7220 7468 6520 6669 7273  ef` for the firs
+0001c440: 7420 6361 7365 2061 6e64 2060 6164 6470  t case and `addp
+0001c450: 6174 7465 726e 2064 6566 6020 666f 7220  attern def` for 
+0001c460: 6675 7475 7265 2063 6173 6573 2e0d 0a0d  future cases....
+0001c470: 0a49 6620 796f 7520 7761 6e74 2074 6f20  .If you want to 
+0001c480: 7075 7420 6120 6465 636f 7261 746f 7220  put a decorator 
+0001c490: 6f6e 2061 6e20 6061 6464 7061 7474 6572  on an `addpatter
+0001c4a0: 6e20 6465 6660 2066 756e 6374 696f 6e2c  n def` function,
+0001c4b0: 206d 616b 6520 7375 7265 2074 6f20 7075   make sure to pu
+0001c4c0: 7420 6974 206f 6e20 7468 6520 5f6c 6173  t it on the _las
+0001c4d0: 745f 2070 6174 7465 726e 2066 756e 6374  t_ pattern funct
+0001c4e0: 696f 6e2e 0d0a 0d0a 2323 2323 2320 4578  ion.....##### Ex
+0001c4f0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+0001c500: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+0001c510: 740d 0a61 6464 7061 7474 6572 6e20 6465  t..addpattern de
+0001c520: 6620 6661 6374 6f72 6961 6c28 3029 203d  f factorial(0) =
+0001c530: 2031 0d0a 6164 6470 6174 7465 726e 2064   1..addpattern d
+0001c540: 6566 2066 6163 746f 7269 616c 286e 2920  ef factorial(n) 
+0001c550: 3d20 6e20 2a20 6661 6374 6f72 6961 6c28  = n * factorial(
+0001c560: 6e20 2d20 3129 0d0a 6060 600d 0a0d 0a2a  n - 1)..```....*
+0001c570: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
+0001c580: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
+0001c590: 7574 2061 2063 6f6d 706c 6963 6174 6564  ut a complicated
+0001c5a0: 2064 6563 6f72 6174 6f72 2064 6566 696e   decorator defin
+0001c5b0: 6974 696f 6e20 616e 6420 6120 6c6f 6e67  ition and a long
+0001c5c0: 2073 6572 6965 7320 6f66 2063 6865 636b   series of check
+0001c5d0: 7320 666f 7220 6561 6368 2070 6174 7465  s for each patte
+0001c5e0: 726e 2d6d 6174 6368 696e 672e 2053 6565  rn-matching. See
+0001c5f0: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
+0001c600: 6465 2066 6f72 2074 6865 2050 7974 686f  de for the Pytho
+0001c610: 6e20 7379 6e74 6178 2e5f 0d0a 0d0a 2323  n syntax._....##
+0001c620: 2320 6063 6f70 7963 6c6f 7375 7265 6020  # `copyclosure` 
+0001c630: 4675 6e63 7469 6f6e 730d 0a0d 0a43 6f63  Functions....Coc
+0001c640: 6f6e 7574 2073 7570 706f 7274 7320 7468  onut supports th
+0001c650: 6520 7379 6e74 6178 0d0a 6060 600d 0a63  e syntax..```..c
+0001c660: 6f70 7963 6c6f 7375 7265 2064 6566 203c  opyclosure def <
+0001c670: 6e61 6d65 3e28 3c61 7267 733e 293a 0d0a  name>(<args>):..
+0001c680: 2020 2020 3c62 6f64 793e 0d0a 6060 600d      <body>..```.
+0001c690: 0a74 6f20 6465 6669 6e65 2061 2066 756e  .to define a fun
+0001c6a0: 6374 696f 6e20 7468 6174 2075 7365 7320  ction that uses 
+0001c6b0: 6173 2069 7473 2063 6c6f 7375 7265 2061  as its closure a
+0001c6c0: 2073 6861 6c6c 6f77 2063 6f70 7920 6f66   shallow copy of
+0001c6d0: 2069 7473 2065 6e63 6c6f 7369 6e67 2073   its enclosing s
+0001c6e0: 636f 7065 7320 6174 2074 6865 2074 696d  copes at the tim
+0001c6f0: 6520 7468 6174 2074 6865 2066 756e 6374  e that the funct
+0001c700: 696f 6e20 6973 2064 6566 696e 6564 2c20  ion is defined, 
+0001c710: 7261 7468 6572 2074 6861 6e20 6120 7265  rather than a re
+0001c720: 6665 7265 6e63 6520 746f 2074 686f 7365  ference to those
+0001c730: 2073 636f 7065 7320 2861 7320 7769 7468   scopes (as with
+0001c740: 206e 6f72 6d61 6c20 5079 7468 6f6e 2066   normal Python f
+0001c750: 756e 6374 696f 6e73 292e 0d0a 0d0a 466f  unctions).....Fo
+0001c760: 7220 6578 616d 706c 652c 6069 6e0d 0a60  r example,`in..`
+0001c770: 6060 636f 636f 6e75 740d 0a64 6566 206f  ``coconut..def o
+0001c780: 7574 6572 5f66 756e 6328 293a 0d0a 2020  uter_func():..  
+0001c790: 2020 6675 6e63 7320 3d20 5b5d 0d0a 2020    funcs = []..  
+0001c7a0: 2020 666f 7220 7820 696e 2072 616e 6765    for x in range
+0001c7b0: 2831 3029 3a0d 0a20 2020 2020 2020 2063  (10):..        c
+0001c7c0: 6f70 7963 6c6f 7375 7265 2064 6566 2069  opyclosure def i
+0001c7d0: 6e6e 6572 5f66 756e 6328 293a 0d0a 2020  nner_func():..  
+0001c7e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001c7f0: 2078 0d0a 2020 2020 2020 2020 6675 6e63   x..        func
+0001c800: 732e 6170 7065 6e64 2869 6e6e 6572 5f66  s.append(inner_f
+0001c810: 756e 6329 0d0a 2020 2020 7265 7475 726e  unc)..    return
+0001c820: 2066 756e 6373 0d0a 6060 600d 0a74 6865   funcs..```..the
+0001c830: 2072 6573 756c 7469 6e67 2060 696e 6e65   resulting `inne
+0001c840: 725f 6675 6e63 6073 2077 696c 6c20 6561  r_func`s will ea
+0001c850: 6368 2072 6574 7572 6e20 6120 5f64 6966  ch return a _dif
+0001c860: 6665 7265 6e74 5f20 6078 6020 7661 6c75  ferent_ `x` valu
+0001c870: 6520 7261 7468 6572 2074 6861 6e20 616c  e rather than al
+0001c880: 6c20 7468 6520 7361 6d65 2060 7860 2076  l the same `x` v
+0001c890: 616c 7565 2c20 7369 6e63 6520 7468 6579  alue, since they
+0001c8a0: 206c 6f6f 6b20 6174 2077 6861 7420 6078   look at what `x
+0001c8b0: 6020 7761 7320 626f 756e 6420 746f 2061  ` was bound to a
+0001c8c0: 7420 6675 6e63 7469 6f6e 2064 6566 696e  t function defin
+0001c8d0: 6974 696f 6e20 7469 6d65 2072 6174 6865  ition time rathe
+0001c8e0: 7220 7468 616e 2064 7572 696e 6720 6675  r than during fu
+0001c8f0: 6e63 7469 6f6e 2065 7865 6375 7469 6f6e  nction execution
+0001c900: 2e0d 0a0d 0a60 636f 7079 636c 6f73 7572  .....`copyclosur
+0001c910: 6560 2066 756e 6374 696f 6e73 2063 616e  e` functions can
+0001c920: 2061 6c73 6f20 6265 2063 6f6d 6269 6e65   also be combine
+0001c930: 6420 7769 7468 2060 6173 796e 6360 2066  d with `async` f
+0001c940: 756e 6374 696f 6e73 2c20 5b60 7969 656c  unctions, [`yiel
+0001c950: 6460 2066 756e 6374 696f 6e73 5d28 2365  d` functions](#e
+0001c960: 7870 6c69 6369 742d 6765 6e65 7261 746f  xplicit-generato
+0001c970: 7273 292c 205b 7061 7474 6572 6e2d 6d61  rs), [pattern-ma
+0001c980: 7463 6869 6e67 2066 756e 6374 696f 6e73  tching functions
+0001c990: 5d28 2370 6174 7465 726e 2d6d 6174 6368  ](#pattern-match
+0001c9a0: 696e 672d 6675 6e63 7469 6f6e 7329 2c20  ing-functions), 
+0001c9b0: 5b69 6e66 6978 2066 756e 6374 696f 6e20  [infix function 
+0001c9c0: 6465 6669 6e69 7469 6f6e 5d28 2369 6e66  definition](#inf
+0001c9d0: 6978 2d66 756e 6374 696f 6e73 292c 2061  ix-functions), a
+0001c9e0: 6e64 205b 6173 7369 676e 6d65 6e74 2066  nd [assignment f
+0001c9f0: 756e 6374 696f 6e20 7379 6e74 6178 5d28  unction syntax](
+0001ca00: 2361 7373 6967 6e6d 656e 742d 6675 6e63  #assignment-func
+0001ca10: 7469 6f6e 7329 2e20 5468 6520 7661 7269  tions). The vari
+0001ca20: 6f75 7320 6b65 7977 6f72 6473 2069 6e20  ous keywords in 
+0001ca30: 6672 6f6e 7420 6f66 2074 6865 2060 6465  front of the `de
+0001ca40: 6660 2063 616e 2062 6520 7075 7420 696e  f` can be put in
+0001ca50: 2061 6e79 206f 7264 6572 2e0d 0a0d 0a49   any order.....I
+0001ca60: 6620 6067 6c6f 6261 6c60 206f 7220 606e  f `global` or `n
+0001ca70: 6f6e 6c6f 6361 6c60 2061 7265 2075 7365  onlocal` are use
+0001ca80: 6420 696e 2061 2060 636f 7079 636c 6f73  d in a `copyclos
+0001ca90: 7572 6560 2066 756e 6374 696f 6e2c 2074  ure` function, t
+0001caa0: 6865 7920 7769 6c6c 206e 6f74 2062 6520  hey will not be 
+0001cab0: 6162 6c65 2074 6f20 6d6f 6469 6679 2076  able to modify v
+0001cac0: 6172 6961 626c 6573 2069 6e20 656e 636c  ariables in encl
+0001cad0: 6f73 696e 6720 7363 6f70 6573 2e20 486f  osing scopes. Ho
+0001cae0: 7765 7665 722c 2074 6865 7920 7769 6c6c  wever, they will
+0001caf0: 2061 6c6c 6f77 2073 7461 7465 2074 6f20   allow state to 
+0001cb00: 6265 2070 7265 7365 7276 6564 2061 6363  be preserved acc
+0001cb10: 726f 7373 206d 756c 7469 706c 6520 6361  ross multiple ca
+0001cb20: 6c6c 7320 746f 2074 6865 2060 636f 7079  lls to the `copy
+0001cb30: 636c 6f73 7572 6560 2066 756e 6374 696f  closure` functio
+0001cb40: 6e2e 0d0a 0d0a 2323 2323 2320 4578 616d  n.....##### Exam
+0001cb50: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0001cb60: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0001cb70: 0a64 6566 206f 7574 6572 5f66 756e 6328  .def outer_func(
+0001cb80: 293a 0d0a 2020 2020 6675 6e63 7320 3d20  ):..    funcs = 
+0001cb90: 5b5d 0d0a 2020 2020 666f 7220 7820 696e  []..    for x in
+0001cba0: 2072 616e 6765 2831 3029 3a0d 0a20 2020   range(10):..   
+0001cbb0: 2020 2020 2063 6f70 7963 6c6f 7375 7265       copyclosure
+0001cbc0: 2064 6566 2069 6e6e 6572 5f66 756e 6328   def inner_func(
+0001cbd0: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+0001cbe0: 7265 7475 726e 2078 0d0a 2020 2020 2020  return x..      
+0001cbf0: 2020 6675 6e63 732e 6170 7065 6e64 2869    funcs.append(i
+0001cc00: 6e6e 6572 5f66 756e 6329 0d0a 2020 2020  nner_func)..    
+0001cc10: 7265 7475 726e 2066 756e 6373 0d0a 6060  return funcs..``
+0001cc20: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+0001cc30: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+0001cc40: 686f 6e0d 0a66 726f 6d20 6675 6e63 746f  hon..from functo
+0001cc50: 6f6c 7320 696d 706f 7274 2070 6172 7469  ols import parti
+0001cc60: 616c 0d0a 0d0a 6465 6620 6f75 7465 725f  al....def outer_
+0001cc70: 6675 6e63 2829 3a0d 0a20 2020 2066 756e  func():..    fun
+0001cc80: 6373 203d 205b 5d0d 0a20 2020 2066 6f72  cs = []..    for
+0001cc90: 2078 2069 6e20 7261 6e67 6528 3130 293a   x in range(10):
+0001cca0: 0d0a 2020 2020 2020 2020 6465 6620 696e  ..        def in
+0001ccb0: 6e65 725f 6675 6e63 285f 7829 3a0d 0a20  ner_func(_x):.. 
+0001ccc0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001ccd0: 6e20 5f78 0d0a 2020 2020 2020 2020 6675  n _x..        fu
+0001cce0: 6e63 732e 6170 7065 6e64 2870 6172 7469  ncs.append(parti
+0001ccf0: 616c 2869 6e6e 6572 5f66 756e 632c 2078  al(inner_func, x
+0001cd00: 2929 0d0a 2020 2020 7265 7475 726e 2066  ))..    return f
+0001cd10: 756e 6373 0d0a 6060 600d 0a0d 0a23 2323  uncs..```....###
+0001cd20: 2045 7870 6c69 6369 7420 4765 6e65 7261   Explicit Genera
+0001cd30: 746f 7273 0d0a 0d0a 436f 636f 6e75 7420  tors....Coconut 
+0001cd40: 7375 7070 6f72 7473 2074 6865 2073 796e  supports the syn
+0001cd50: 7461 780d 0a60 6060 0d0a 7969 656c 6420  tax..```..yield 
+0001cd60: 6465 6620 3c6e 616d 653e 283c 6172 6773  def <name>(<args
+0001cd70: 3e29 3a0d 0a20 2020 203c 626f 6479 3e0d  >):..    <body>.
+0001cd80: 0a60 6060 0d0a 746f 2064 656e 6f74 6520  .```..to denote 
+0001cd90: 7468 6174 2079 6f75 2061 7265 2065 7870  that you are exp
+0001cda0: 6c69 6369 746c 7920 6465 6669 6e69 6e67  licitly defining
+0001cdb0: 2061 2067 656e 6572 6174 6f72 2066 756e   a generator fun
+0001cdc0: 6374 696f 6e2e 2054 6869 7320 6973 2075  ction. This is u
+0001cdd0: 7365 6675 6c20 746f 2065 6e73 7572 6520  seful to ensure 
+0001cde0: 7468 6174 2c20 6576 656e 2069 6620 616c  that, even if al
+0001cdf0: 6c20 7468 6520 6079 6965 6c64 6073 2069  l the `yield`s i
+0001ce00: 6e20 796f 7572 2066 756e 6374 696f 6e20  n your function 
+0001ce10: 6172 6520 7265 6d6f 7665 642c 2069 7427  are removed, it'
+0001ce20: 6c6c 2061 6c77 6179 7320 6265 2061 2067  ll always be a g
+0001ce30: 656e 6572 6174 6f72 2066 756e 6374 696f  enerator functio
+0001ce40: 6e2e 0d0a 0d0a 4578 706c 6963 6974 2067  n.....Explicit g
+0001ce50: 656e 6572 6174 6f72 2066 756e 6374 696f  enerator functio
+0001ce60: 6e73 2063 616e 2061 6c73 6f20 6265 2063  ns can also be c
+0001ce70: 6f6d 6269 6e65 6420 7769 7468 2060 6173  ombined with `as
+0001ce80: 796e 6360 2066 756e 6374 696f 6e73 2c20  ync` functions, 
+0001ce90: 5b60 636f 7079 636c 6f73 7572 6560 2066  [`copyclosure` f
+0001cea0: 756e 6374 696f 6e73 5d28 2363 6f70 7963  unctions](#copyc
+0001ceb0: 6c6f 7375 7265 2d66 756e 6374 696f 6e73  losure-functions
+0001cec0: 292c 205b 7061 7474 6572 6e2d 6d61 7463  ), [pattern-matc
+0001ced0: 6869 6e67 2066 756e 6374 696f 6e73 5d28  hing functions](
+0001cee0: 2370 6174 7465 726e 2d6d 6174 6368 696e  #pattern-matchin
+0001cef0: 672d 6675 6e63 7469 6f6e 7329 2c20 5b69  g-functions), [i
+0001cf00: 6e66 6978 2066 756e 6374 696f 6e20 6465  nfix function de
+0001cf10: 6669 6e69 7469 6f6e 5d28 2369 6e66 6978  finition](#infix
+0001cf20: 2d66 756e 6374 696f 6e73 292c 2061 6e64  -functions), and
+0001cf30: 205b 6173 7369 676e 6d65 6e74 2066 756e   [assignment fun
+0001cf40: 6374 696f 6e20 7379 6e74 6178 5d28 2361  ction syntax](#a
+0001cf50: 7373 6967 6e6d 656e 742d 6675 6e63 7469  ssignment-functi
+0001cf60: 6f6e 7329 2028 7468 6f75 6768 206e 6f74  ons) (though not
+0001cf70: 6520 7468 6174 2061 7373 6967 6e6d 656e  e that assignmen
+0001cf80: 7420 6675 6e63 7469 6f6e 2073 796e 7461  t function synta
+0001cf90: 7820 6865 7265 2063 7265 6174 6573 2061  x here creates a
+0001cfa0: 2067 656e 6572 6174 6f72 2072 6574 7572   generator retur
+0001cfb0: 6e29 2e20 5468 6520 7661 7269 6f75 7320  n). The various 
+0001cfc0: 6b65 7977 6f72 6473 2069 6e20 6672 6f6e  keywords in fron
+0001cfd0: 7420 6f66 2074 6865 2060 6465 6660 2063  t of the `def` c
+0001cfe0: 616e 2062 6520 7075 7420 696e 2061 6e79  an be put in any
+0001cff0: 206f 7264 6572 2e0d 0a0d 0a23 2323 2323   order.....#####
+0001d000: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+0001d010: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+0001d020: 6f6e 7574 0d0a 7969 656c 6420 6465 6620  onut..yield def 
+0001d030: 656d 7074 795f 6974 2829 3a20 7061 7373  empty_it(): pass
+0001d040: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0001d050: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+0001d060: 5f70 7974 686f 6e0d 0a64 6566 2065 6d70  _python..def emp
+0001d070: 7479 5f69 7428 293a 0d0a 2020 2020 6966  ty_it():..    if
+0001d080: 2046 616c 7365 3a0d 0a20 2020 2020 2020   False:..       
+0001d090: 2079 6965 6c64 0d0a 6060 600d 0a0d 0a23   yield..```....#
+0001d0a0: 2323 2044 6f74 7465 6420 4675 6e63 7469  ## Dotted Functi
+0001d0b0: 6f6e 2044 6566 696e 6974 696f 6e0d 0a0d  on Definition...
+0001d0c0: 0a43 6f63 6f6e 7574 2061 6c6c 6f77 7320  .Coconut allows 
+0001d0d0: 666f 7220 6675 6e63 7469 6f6e 2064 6566  for function def
+0001d0e0: 696e 6974 696f 6e20 7573 696e 6720 6120  inition using a 
+0001d0f0: 646f 7474 6564 206e 616d 6520 746f 2061  dotted name to a
+0001d100: 7373 6967 6e20 6120 6675 6e63 7469 6f6e  ssign a function
+0001d110: 2061 7320 6120 6d65 7468 6f64 206f 6620   as a method of 
+0001d120: 616e 206f 626a 6563 7420 6173 2073 7065  an object as spe
+0001d130: 6369 6669 6564 2069 6e20 5b50 4550 2035  cified in [PEP 5
+0001d140: 3432 5d28 6874 7470 733a 2f2f 7777 772e  42](https://www.
+0001d150: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
+0001d160: 6570 732f 7065 702d 3035 3432 2f29 2e20  eps/pep-0542/). 
+0001d170: 446f 7474 6564 2066 756e 6374 696f 6e20  Dotted function 
+0001d180: 6465 6669 6e69 7469 6f6e 2063 616e 2062  definition can b
+0001d190: 6520 636f 6d62 696e 6564 2077 6974 6820  e combined with 
+0001d1a0: 616c 6c20 6f74 6865 7220 7479 7065 7320  all other types 
+0001d1b0: 6f66 2066 756e 6374 696f 6e20 6465 6669  of function defi
+0001d1c0: 6e69 7469 6f6e 2061 626f 7665 2e0d 0a0d  nition above....
+0001d1d0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0001d1e0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0001d1f0: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
+0001d200: 4d79 436c 6173 732e 6d79 5f6d 6574 686f  MyClass.my_metho
+0001d210: 6428 7365 6c66 293a 0d0a 2020 2020 2e2e  d(self):..    ..
+0001d220: 2e0d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  ...```....**Pyth
+0001d230: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0001d240: 745f 7079 7468 6f6e 0d0a 6465 6620 6d79  t_python..def my
+0001d250: 5f6d 6574 686f 6428 7365 6c66 293a 0d0a  _method(self):..
+0001d260: 2020 2020 2e2e 2e0d 0a4d 7943 6c61 7373      .....MyClass
+0001d270: 2e6d 795f 6d65 7468 6f64 203d 206d 795f  .my_method = my_
+0001d280: 6d65 7468 6f64 0d0a 6060 600d 0a0d 0a23  method..```....#
+0001d290: 2320 5374 6174 656d 656e 7473 0d0a 0d0a  # Statements....
+0001d2a0: 6060 607b 636f 6e74 656e 7473 7d0d 0a2d  ```{contents}..-
+0001d2b0: 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465 7074  --..local:..dept
+0001d2c0: 683a 2031 0d0a 2d2d 2d0d 0a60 6060 0d0a  h: 1..---..```..
+0001d2d0: 0d0a 2323 2320 4465 7374 7275 6374 7572  ..### Destructur
+0001d2e0: 696e 6720 4173 7369 676e 6d65 6e74 0d0a  ing Assignment..
+0001d2f0: 0d0a 436f 636f 6e75 7420 7375 7070 6f72  ..Coconut suppor
+0001d300: 7473 2073 6967 6e69 6669 6361 6e74 6c79  ts significantly
+0001d310: 2065 6e68 616e 6365 6420 6465 7374 7275   enhanced destru
+0001d320: 6374 7572 696e 6720 6173 7369 676e 6d65  cturing assignme
+0001d330: 6e74 2c20 7369 6d69 6c61 7220 746f 2050  nt, similar to P
+0001d340: 7974 686f 6e27 7320 7475 706c 652f 6c69  ython's tuple/li
+0001d350: 7374 2064 6573 7472 7563 7475 7269 6e67  st destructuring
+0001d360: 2c20 6275 7420 6d75 6368 206d 6f72 6520  , but much more 
+0001d370: 706f 7765 7266 756c 2e20 5468 6520 7379  powerful. The sy
+0001d380: 6e74 6178 2066 6f72 2043 6f63 6f6e 7574  ntax for Coconut
+0001d390: 2773 2064 6573 7472 7563 7475 7269 6e67  's destructuring
+0001d3a0: 2061 7373 6967 6e6d 656e 7420 6973 0d0a   assignment is..
+0001d3b0: 6060 6063 6f63 6f6e 7574 0d0a 5b6d 6174  ```coconut..[mat
+0001d3c0: 6368 5d20 3c70 6174 7465 726e 3e20 3d20  ch] <pattern> = 
+0001d3d0: 3c76 616c 7565 3e0d 0a60 6060 0d0a 7768  <value>..```..wh
+0001d3e0: 6572 6520 603c 7661 6c75 653e 6020 6973  ere `<value>` is
+0001d3f0: 2061 6e79 2065 7870 7265 7373 696f 6e20   any expression 
+0001d400: 616e 6420 603c 7061 7474 6572 6e3e 6020  and `<pattern>` 
+0001d410: 6973 2064 6566 696e 6564 2062 7920 436f  is defined by Co
+0001d420: 636f 6e75 7427 7320 5b60 6d61 7463 6860  conut's [`match`
+0001d430: 2073 7461 7465 6d65 6e74 5d28 236d 6174   statement](#mat
+0001d440: 6368 292e 2054 6865 2060 6d61 7463 6860  ch). The `match`
+0001d450: 206b 6579 776f 7264 2061 7420 7468 6520   keyword at the 
+0001d460: 6265 6769 6e6e 696e 6720 6973 206f 7074  beginning is opt
+0001d470: 696f 6e61 6c2c 2062 7574 2069 7320 736f  ional, but is so
+0001d480: 6d65 7469 6d65 7320 6e65 6365 7373 6172  metimes necessar
+0001d490: 7920 746f 2064 6973 616d 6269 6775 6174  y to disambiguat
+0001d4a0: 6520 6465 7374 7275 6374 7572 696e 6720  e destructuring 
+0001d4b0: 6173 7369 676e 6d65 6e74 2066 726f 6d20  assignment from 
+0001d4c0: 6e6f 726d 616c 2061 7373 6967 6e6d 656e  normal assignmen
+0001d4d0: 742c 2077 6869 6368 2077 696c 6c20 616c  t, which will al
+0001d4e0: 7761 7973 2074 616b 6520 7072 6563 6564  ways take preced
+0001d4f0: 656e 6365 2e20 436f 636f 6e75 7427 7320  ence. Coconut's 
+0001d500: 6465 7374 7275 6374 7572 696e 6720 6173  destructuring as
+0001d510: 7369 676e 6d65 6e74 2069 7320 6571 7569  signment is equi
+0001d520: 7661 6c65 6e74 2074 6f20 6120 6d61 7463  valent to a matc
+0001d530: 6820 7374 6174 656d 656e 7420 7468 6174  h statement that
+0001d540: 2066 6f6c 6c6f 7773 2074 6865 2073 796e   follows the syn
+0001d550: 7461 783a 0d0a 6060 6063 6f63 6f6e 7574  tax:..```coconut
+0001d560: 0d0a 6d61 7463 6820 3c70 6174 7465 726e  ..match <pattern
+0001d570: 3e20 696e 203c 7661 6c75 653e 3a0d 0a20  > in <value>:.. 
+0001d580: 2020 2070 6173 730d 0a65 6c73 653a 0d0a     pass..else:..
+0001d590: 2020 2020 6572 7220 3d20 4d61 7463 6845      err = MatchE
+0001d5a0: 7272 6f72 283c 6572 726f 7220 6d65 7373  rror(<error mess
+0001d5b0: 6167 653e 290d 0a20 2020 2065 7272 2e70  age>)..    err.p
+0001d5c0: 6174 7465 726e 203d 2022 3c70 6174 7465  attern = "<patte
+0001d5d0: 726e 3e22 0d0a 2020 2020 6572 722e 7661  rn>"..    err.va
+0001d5e0: 6c75 6520 3d20 3c76 616c 7565 3e0d 0a20  lue = <value>.. 
+0001d5f0: 2020 2072 6169 7365 2065 7272 0d0a 6060     raise err..``
+0001d600: 600d 0a49 6620 6120 6465 7374 7275 6374  `..If a destruct
+0001d610: 7572 696e 6720 6173 7369 676e 6d65 6e74  uring assignment
+0001d620: 2073 7461 7465 6d65 6e74 2066 6169 6c73   statement fails
+0001d630: 2c20 7468 656e 2069 6e73 7465 6164 206f  , then instead o
+0001d640: 6620 636f 6e74 696e 7569 6e67 206f 6e20  f continuing on 
+0001d650: 6173 2069 6620 6120 606d 6174 6368 6020  as if a `match` 
+0001d660: 626c 6f63 6b20 6861 6420 6661 696c 6564  block had failed
+0001d670: 2c20 6120 5b60 4d61 7463 6845 7272 6f72  , a [`MatchError
+0001d680: 605d 2823 6d61 7463 6865 7272 6f72 2920  `](#matcherror) 
+0001d690: 6f62 6a65 6374 2077 696c 6c20 6265 2072  object will be r
+0001d6a0: 6169 7365 6420 6465 7363 7269 6269 6e67  aised describing
+0001d6b0: 2074 6865 2066 6169 6c75 7265 2e0d 0a0d   the failure....
+0001d6c0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0001d6d0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0001d6e0: 6060 6063 6f63 6f6e 7574 0d0a 5f20 2b20  ```coconut.._ + 
+0001d6f0: 5b61 2c20 625d 203d 205b 302c 2031 2c20  [a, b] = [0, 1, 
+0001d700: 322c 2033 5d0d 0a70 7269 6e74 2861 2c20  2, 3]..print(a, 
+0001d710: 6229 0d0a 6060 600d 0a0d 0a2a 2a50 7974  b)..```....**Pyt
+0001d720: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+0001d730: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+0001d740: 206c 6f6e 6720 7365 7269 6573 206f 6620   long series of 
+0001d750: 6368 6563 6b73 2069 6e20 706c 6163 6520  checks in place 
+0001d760: 6f66 2074 6865 2064 6573 7472 7563 7475  of the destructu
+0001d770: 7269 6e67 2061 7373 6967 6e6d 656e 7420  ring assignment 
+0001d780: 7374 6174 656d 656e 742e 2053 6565 2074  statement. See t
+0001d790: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
+0001d7a0: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
+0001d7b0: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2320  syntax._....### 
+0001d7c0: 5479 7065 2050 6172 616d 6574 6572 2053  Type Parameter S
+0001d7d0: 796e 7461 780d 0a0d 0a43 6f63 6f6e 7574  yntax....Coconut
+0001d7e0: 2066 756c 6c79 2073 7570 706f 7274 7320   fully supports 
+0001d7f0: 5b50 4550 2036 3935 5d28 6874 7470 733a  [PEP 695](https:
+0001d800: 2f2f 7065 7073 2e70 7974 686f 6e2e 6f72  //peps.python.or
+0001d810: 672f 7065 702d 3036 3935 2f29 2074 7970  g/pep-0695/) typ
+0001d820: 6520 7061 7261 6d65 7465 7220 7379 6e74  e parameter synt
+0001d830: 6178 2028 7769 7468 2074 6865 2063 6176  ax (with the cav
+0001d840: 6561 7420 7468 6174 2061 6c6c 2074 7970  eat that all typ
+0001d850: 6520 7661 7269 6162 6c65 7320 6172 6520  e variables are 
+0001d860: 696e 7661 7269 616e 7420 7261 7468 6572  invariant rather
+0001d870: 2074 6861 6e20 696e 6665 7272 6564 292e   than inferred).
+0001d880: 0d0a 0d0a 5468 6174 2069 6e63 6c75 6465  ....That include
+0001d890: 7320 7479 7065 2070 6172 616d 6574 6572  s type parameter
+0001d8a0: 7320 666f 7220 636c 6173 7365 732c 205b  s for classes, [
+0001d8b0: 6064 6174 6160 2074 7970 6573 5d28 2364  `data` types](#d
+0001d8c0: 6174 6129 2c20 616e 6420 5b61 6c6c 2074  ata), and [all t
+0001d8d0: 7970 6573 206f 6620 6675 6e63 7469 6f6e  ypes of function
+0001d8e0: 2064 6566 696e 6974 696f 6e5d 2823 6675   definition](#fu
+0001d8f0: 6e63 7469 6f6e 2d64 6566 696e 6974 696f  nction-definitio
+0001d900: 6e29 2e20 466f 7220 6469 6666 6572 656e  n). For differen
+0001d910: 7420 7479 7065 7320 6f66 2066 756e 6374  t types of funct
+0001d920: 696f 6e20 6465 6669 6e69 7469 6f6e 2c20  ion definition, 
+0001d930: 7468 6520 7479 7065 2070 6172 616d 6574  the type paramet
+0001d940: 6572 7320 616c 7761 7973 2063 6f6d 6520  ers always come 
+0001d950: 696e 2062 7261 636b 6574 7320 7269 6768  in brackets righ
+0001d960: 7420 6166 7465 7220 7468 6520 6675 6e63  t after the func
+0001d970: 7469 6f6e 206e 616d 652e 2043 6f63 6f6e  tion name. Cocon
+0001d980: 7574 2773 205b 656e 6861 6e63 6564 2074  ut's [enhanced t
+0001d990: 7970 6520 616e 6e6f 7461 7469 6f6e 2073  ype annotation s
+0001d9a0: 796e 7461 785d 2823 656e 6861 6e63 6564  yntax](#enhanced
+0001d9b0: 2d74 7970 652d 616e 6e6f 7461 7469 6f6e  -type-annotation
+0001d9c0: 2920 6973 2073 7570 706f 7274 6564 2066  ) is supported f
+0001d9d0: 6f72 2061 6c6c 2074 7970 6520 7061 7261  or all type para
+0001d9e0: 6d65 7465 7220 626f 756e 6473 2e0d 0a0d  meter bounds....
+0001d9f0: 0a5f 5761 726e 696e 673a 2075 6e74 696c  ._Warning: until
+0001da00: 2060 6d79 7079 6020 6164 6473 2073 7570   `mypy` adds sup
+0001da10: 706f 7274 2066 6f72 2060 696e 6665 725f  port for `infer_
+0001da20: 7661 7269 616e 6365 3d54 7275 6560 2069  variance=True` i
+0001da30: 6e20 6054 7970 6556 6172 602c 2060 5479  n `TypeVar`, `Ty
+0001da40: 7065 5661 7260 7320 6372 6561 7465 6420  peVar`s created 
+0001da50: 7468 6973 2077 6179 2077 696c 6c20 616c  this way will al
+0001da60: 7761 7973 2062 6520 696e 7661 7269 616e  ways be invarian
+0001da70: 742e 5f0d 0a0d 0a41 6464 6974 696f 6e61  t._....Additiona
+0001da80: 6c6c 792c 2043 6f63 6f6e 7574 2073 7570  lly, Coconut sup
+0001da90: 706f 7274 7320 7468 6520 616c 7465 726e  ports the altern
+0001daa0: 6174 6976 6520 626f 756e 6473 2073 796e  ative bounds syn
+0001dab0: 7461 7820 6f66 2060 7479 7065 204e 6577  tax of `type New
+0001dac0: 5479 7065 5b54 203c 3a20 626f 756e 645d  Type[T <: bound]
+0001dad0: 203d 202e 2e2e 6020 7261 7468 6572 2074   = ...` rather t
+0001dae0: 6861 6e20 6074 7970 6520 4e65 7754 7970  han `type NewTyp
+0001daf0: 655b 543a 2062 6f75 6e64 5d20 3d20 2e2e  e[T: bound] = ..
+0001db00: 2e60 2c20 746f 206d 616b 6520 6974 206d  .`, to make it m
+0001db10: 6f72 6520 636c 6561 7220 7468 6174 2069  ore clear that i
+0001db20: 7420 6973 2061 6e20 7570 7065 7220 626f  t is an upper bo
+0001db30: 756e 6420 7261 7468 6572 2074 6861 6e20  und rather than 
+0001db40: 6120 7479 7065 2e20 496e 2060 2d2d 7374  a type. In `--st
+0001db50: 7269 6374 6020 6d6f 6465 2c20 603c 3a60  rict` mode, `<:`
+0001db60: 2069 7320 7265 7175 6972 6564 206f 7665   is required ove
+0001db70: 7220 603a 6020 666f 7220 616c 6c20 7479  r `:` for all ty
+0001db80: 7065 2070 6172 616d 6574 6572 2062 6f75  pe parameter bou
+0001db90: 6e64 732e 205f 4445 5052 4543 4154 4544  nds. _DEPRECATED
+0001dba0: 3a20 603c 3d60 2063 616e 2061 6c73 6f20  : `<=` can also 
+0001dbb0: 6265 2075 7365 6420 6173 2061 6e20 616c  be used as an al
+0001dbc0: 7465 726e 6174 6976 6520 746f 2060 3c3a  ternative to `<:
+0001dbd0: 602e 5f0d 0a0d 0a5f 4e6f 7465 2074 6861  `._...._Note tha
+0001dbe0: 742c 2062 7920 6465 6661 756c 742c 2061  t, by default, a
+0001dbf0: 6c6c 2074 7970 6520 6465 636c 6172 6174  ll type declarat
+0001dc00: 696f 6e73 2061 7265 2077 7261 7070 6564  ions are wrapped
+0001dc10: 2069 6e20 7374 7269 6e67 7320 746f 2065   in strings to e
+0001dc20: 6e61 626c 6520 666f 7277 6172 6420 7265  nable forward re
+0001dc30: 6665 7265 6e63 6573 2061 6e64 2069 6d70  ferences and imp
+0001dc40: 726f 7665 2072 756e 7469 6d65 2070 6572  rove runtime per
+0001dc50: 666f 726d 616e 6365 2e20 4966 2079 6f75  formance. If you
+0001dc60: 2064 6f6e 2774 2077 616e 7420 7468 6174   don't want that
+0001dc70: e280 9465 2e67 2e20 6265 6361 7573 6520  ...e.g. because 
+0001dc80: 796f 7520 7761 6e74 2074 6f20 7573 6520  you want to use 
+0001dc90: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
+0001dca0: 2061 7420 7275 6e74 696d 65e2 8094 7369   at runtime...si
+0001dcb0: 6d70 6c79 2070 6173 7320 7468 6520 602d  mply pass the `-
+0001dcc0: 2d6e 6f2d 7772 6170 2d74 7970 6573 6020  -no-wrap-types` 
+0001dcd0: 666c 6167 2e5f 0d0a 0d0a 2323 2323 2320  flag._....##### 
+0001dce0: 5045 5020 3639 3520 446f 6373 0d0a 0d0a  PEP 695 Docs....
+0001dcf0: 4465 6669 6e69 6e67 2061 2067 656e 6572  Defining a gener
+0001dd00: 6963 2063 6c61 7373 2070 7269 6f72 2074  ic class prior t
+0001dd10: 6f20 7468 6973 2050 4550 206c 6f6f 6b73  o this PEP looks
+0001dd20: 2073 6f6d 6574 6869 6e67 206c 696b 6520   something like 
+0001dd30: 7468 6973 2e0d 0a0d 0a60 6060 636f 636f  this.....```coco
+0001dd40: 6e75 745f 7079 7468 6f6e 0d0a 6672 6f6d  nut_python..from
+0001dd50: 2074 7970 696e 6720 696d 706f 7274 2047   typing import G
+0001dd60: 656e 6572 6963 2c20 5479 7065 5661 720d  eneric, TypeVar.
+0001dd70: 0a0d 0a5f 545f 636f 203d 2054 7970 6556  ..._T_co = TypeV
+0001dd80: 6172 2822 5f54 5f63 6f22 2c20 636f 7661  ar("_T_co", cova
+0001dd90: 7269 616e 743d 5472 7565 2c20 626f 756e  riant=True, boun
+0001dda0: 643d 7374 7229 0d0a 0d0a 636c 6173 7320  d=str)....class 
+0001ddb0: 436c 6173 7341 2847 656e 6572 6963 5b5f  ClassA(Generic[_
+0001ddc0: 545f 636f 5d29 3a0d 0a20 2020 2064 6566  T_co]):..    def
+0001ddd0: 206d 6574 686f 6431 2873 656c 6629 202d   method1(self) -
+0001dde0: 3e20 5f54 5f63 6f3a 0d0a 2020 2020 2020  > _T_co:..      
+0001ddf0: 2020 2e2e 2e0d 0a60 6060 0d0a 0d0a 5769    .....```....Wi
+0001de00: 7468 2074 6865 206e 6577 2073 796e 7461  th the new synta
+0001de10: 782c 2069 7420 6c6f 6f6b 7320 6c69 6b65  x, it looks like
+0001de20: 2074 6869 732e 0d0a 0d0a 6060 6063 6f63   this.....```coc
+0001de30: 6f6e 7574 0d0a 636c 6173 7320 436c 6173  onut..class Clas
+0001de40: 7341 5b54 3a20 7374 725d 3a0d 0a20 2020  sA[T: str]:..   
+0001de50: 2064 6566 206d 6574 686f 6431 2873 656c   def method1(sel
+0001de60: 6629 202d 3e20 543a 0d0a 2020 2020 2020  f) -> T:..      
+0001de70: 2020 2e2e 2e0d 0a60 6060 0d0a 0d0a 4865    .....```....He
+0001de80: 7265 2069 7320 616e 2065 7861 6d70 6c65  re is an example
+0001de90: 206f 6620 6120 6765 6e65 7269 6320 6675   of a generic fu
+0001dea0: 6e63 7469 6f6e 2074 6f64 6179 2e0d 0a0d  nction today....
+0001deb0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0001dec0: 6f6e 0d0a 6672 6f6d 2074 7970 696e 6720  on..from typing 
+0001ded0: 696d 706f 7274 2054 7970 6556 6172 0d0a  import TypeVar..
+0001dee0: 0d0a 5f54 203d 2054 7970 6556 6172 2822  .._T = TypeVar("
+0001def0: 5f54 2229 0d0a 0d0a 6465 6620 6675 6e63  _T")....def func
+0001df00: 2861 3a20 5f54 2c20 623a 205f 5429 202d  (a: _T, b: _T) -
+0001df10: 3e20 5f54 3a0d 0a20 2020 202e 2e2e 0d0a  > _T:..    .....
+0001df20: 6060 600d 0a0d 0a41 6e64 2074 6865 206e  ```....And the n
+0001df30: 6577 2073 796e 7461 782e 0d0a 0d0a 6060  ew syntax.....``
+0001df40: 6063 6f63 6f6e 7574 0d0a 6465 6620 6675  `coconut..def fu
+0001df50: 6e63 5b54 5d28 613a 2054 2c20 623a 2054  nc[T](a: T, b: T
+0001df60: 2920 2d3e 2054 3a0d 0a20 2020 202e 2e2e  ) -> T:..    ...
+0001df70: 0d0a 6060 600d 0a0d 0a48 6572 6520 6973  ..```....Here is
+0001df80: 2061 6e20 6578 616d 706c 6520 6f66 2061   an example of a
+0001df90: 2067 656e 6572 6963 2074 7970 6520 616c   generic type al
+0001dfa0: 6961 7320 746f 6461 792e 0d0a 0d0a 6060  ias today.....``
+0001dfb0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0001dfc0: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+0001dfd0: 6f72 7420 5479 7065 416c 6961 730d 0a0d  ort TypeAlias...
+0001dfe0: 0a5f 5420 3d20 5479 7065 5661 7228 225f  ._T = TypeVar("_
+0001dff0: 5422 290d 0a0d 0a4c 6973 744f 7253 6574  T")....ListOrSet
+0001e000: 3a20 5479 7065 416c 6961 7320 3d20 6c69  : TypeAlias = li
+0001e010: 7374 5b5f 545d 207c 2073 6574 5b5f 545d  st[_T] | set[_T]
+0001e020: 0d0a 6060 600d 0a0d 0a41 6e64 2077 6974  ..```....And wit
+0001e030: 6820 7468 6520 6e65 7720 7379 6e74 6178  h the new syntax
+0001e040: 2e0d 0a0d 0a60 6060 636f 636f 6e75 740d  .....```coconut.
+0001e050: 0a74 7970 6520 4c69 7374 4f72 5365 745b  .type ListOrSet[
+0001e060: 545d 203d 206c 6973 745b 545d 207c 2073  T] = list[T] | s
+0001e070: 6574 5b54 5d0d 0a60 6060 0d0a 0d0a 0d0a  et[T]..```......
+0001e080: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0001e090: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0001e0a0: 6060 636f 636f 6e75 740d 0a64 6174 6120  ``coconut..data 
+0001e0b0: 445b 545d 2878 3a20 542c 2079 3a20 5429  D[T](x: T, y: T)
+0001e0c0: 0d0a 0d0a 6465 6620 6d79 5f69 6465 6e74  ....def my_ident
+0001e0d0: 5b54 5d28 783a 2054 2920 2d3e 2054 203d  [T](x: T) -> T =
+0001e0e0: 2078 0d0a 6060 600d 0a0d 0a2a 2a50 7974   x..```....**Pyt
+0001e0f0: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+0001e100: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+0001e110: 2063 6f6d 706c 6578 2064 6566 696e 6974   complex definit
+0001e120: 696f 6e20 666f 7220 7468 6520 6461 7461  ion for the data
+0001e130: 2074 7970 652e 2053 6565 2074 6865 2063   type. See the c
+0001e140: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
+0001e150: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
+0001e160: 6178 2e5f 0d0a 0d0a 2323 2320 496d 706c  ax._....### Impl
+0001e170: 6963 6974 2060 7061 7373 600d 0a0d 0a43  icit `pass`....C
+0001e180: 6f63 6f6e 7574 2073 7570 706f 7274 7320  oconut supports 
+0001e190: 7468 6520 7369 6d70 6c65 2060 636c 6173  the simple `clas
+0001e1a0: 7320 6e61 6d65 2862 6173 6529 6020 616e  s name(base)` an
+0001e1b0: 6420 6064 6174 6120 6e61 6d65 2861 7267  d `data name(arg
+0001e1c0: 7329 6020 6173 2061 6c69 6173 6573 2066  s)` as aliases f
+0001e1d0: 6f72 2060 636c 6173 7320 6e61 6d65 2862  or `class name(b
+0001e1e0: 6173 6529 3a20 7061 7373 6020 616e 6420  ase): pass` and 
+0001e1f0: 6064 6174 6120 6e61 6d65 2861 7267 7329  `data name(args)
+0001e200: 3a20 7061 7373 602e 0d0a 0d0a 2323 2323  : pass`.....####
+0001e210: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0001e220: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0001e230: 636f 6e75 740d 0a63 6c61 7373 2054 7265  conut..class Tre
+0001e240: 650d 0a64 6174 6120 456d 7074 7920 6672  e..data Empty fr
+0001e250: 6f6d 2054 7265 650d 0a64 6174 6120 4c65  om Tree..data Le
+0001e260: 6166 2869 7465 6d29 2066 726f 6d20 5472  af(item) from Tr
+0001e270: 6565 0d0a 6461 7461 204e 6f64 6528 6c65  ee..data Node(le
+0001e280: 6674 2c20 7269 6768 7429 2066 726f 6d20  ft, right) from 
+0001e290: 5472 6565 0d0a 6060 600d 0a0d 0a2a 2a50  Tree..```....**P
+0001e2a0: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
+0001e2b0: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
+0001e2c0: 2061 2073 6572 6965 7320 6f66 206d 6574   a series of met
+0001e2d0: 686f 6420 6465 6669 6e69 7469 6f6e 7320  hod definitions 
+0001e2e0: 666f 7220 6561 6368 2064 6174 6120 7479  for each data ty
+0001e2f0: 7065 2e20 5365 6520 7468 6520 636f 6d70  pe. See the comp
+0001e300: 696c 6564 2063 6f64 6520 666f 7220 7468  iled code for th
+0001e310: 6520 5079 7468 6f6e 2073 796e 7461 782e  e Python syntax.
+0001e320: 5f0d 0a0d 0a23 2323 2044 6563 6f72 6174  _....### Decorat
+0001e330: 6f72 730d 0a0d 0a55 6e6c 696b 6520 5079  ors....Unlike Py
+0001e340: 7468 6f6e 2c20 7768 6963 6820 6f6e 6c79  thon, which only
+0001e350: 2073 7570 706f 7274 7320 6120 7369 6e67   supports a sing
+0001e360: 6c65 2076 6172 6961 626c 6520 6f72 2066  le variable or f
+0001e370: 756e 6374 696f 6e20 6361 6c6c 2069 6e20  unction call in 
+0001e380: 6120 6465 636f 7261 746f 722c 2043 6f63  a decorator, Coc
+0001e390: 6f6e 7574 2073 7570 706f 7274 7320 616e  onut supports an
+0001e3a0: 7920 6578 7072 6573 7369 6f6e 2061 7320  y expression as 
+0001e3b0: 696e 205b 5045 5020 3631 345d 2868 7474  in [PEP 614](htt
+0001e3c0: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+0001e3d0: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+0001e3e0: 2d30 3631 342f 292e 0d0a 0d0a 2323 2323  -0614/).....####
+0001e3f0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0001e400: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0001e410: 636f 6e75 740d 0a40 2077 7261 7070 6572  conut..@ wrapper
+0001e420: 3120 2e2e 2077 7261 7070 6572 3224 2861  1 .. wrapper2$(a
+0001e430: 7267 290d 0a64 6566 2066 756e 6328 7829  rg)..def func(x)
+0001e440: 203d 2078 2a2a 320d 0a60 6060 0d0a 0d0a   = x**2..```....
+0001e450: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+0001e460: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+0001e470: 6465 6620 7772 6170 7065 7228 6675 6e63  def wrapper(func
+0001e480: 293a 0d0a 2020 2020 7265 7475 726e 2077  ):..    return w
+0001e490: 7261 7070 6572 3128 7772 6170 7065 7232  rapper1(wrapper2
+0001e4a0: 2861 7267 2c20 6675 6e63 2929 0d0a 4077  (arg, func))..@w
+0001e4b0: 7261 7070 6572 0d0a 6465 6620 6675 6e63  rapper..def func
+0001e4c0: 2878 293a 0d0a 2020 2020 7265 7475 726e  (x):..    return
+0001e4d0: 2078 2a2a 320d 0a60 6060 0d0a 0d0a 2323   x**2..```....##
+0001e4e0: 2320 5374 6174 656d 656e 7420 4e65 7374  # Statement Nest
+0001e4f0: 696e 670d 0a0d 0a43 6f63 6f6e 7574 2073  ing....Coconut s
+0001e500: 7570 706f 7274 7320 7468 6520 6e65 7374  upports the nest
+0001e510: 696e 6720 6f66 2063 6f6d 706f 756e 6420  ing of compound 
+0001e520: 7374 6174 656d 656e 7473 206f 6e20 7468  statements on th
+0001e530: 6520 7361 6d65 206c 696e 652e 2054 6869  e same line. Thi
+0001e540: 7320 616c 6c6f 7773 2074 6865 206d 6978  s allows the mix
+0001e550: 696e 6720 6f66 2060 6d61 7463 6860 2061  ing of `match` a
+0001e560: 6e64 2060 6966 6020 7374 6174 656d 656e  nd `if` statemen
+0001e570: 7473 2074 6f67 6574 6865 722c 2061 7320  ts together, as 
+0001e580: 7765 6c6c 2061 7320 636f 6d70 6f75 6e64  well as compound
+0001e590: 2060 7472 7960 2073 7461 7465 6d65 6e74   `try` statement
+0001e5a0: 732e 0d0a 0d0a 2323 2323 2320 4578 616d  s.....##### Exam
+0001e5b0: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0001e5c0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0001e5d0: 0a69 6620 696e 7661 6c69 6428 696e 7075  .if invalid(inpu
+0001e5e0: 745f 6c69 7374 293a 0d0a 2020 2020 7261  t_list):..    ra
+0001e5f0: 6973 6520 4578 6365 7074 696f 6e28 290d  ise Exception().
+0001e600: 0a65 6c73 653a 206d 6174 6368 205b 6865  .else: match [he
+0001e610: 6164 5d20 2b20 7461 696c 2069 6e20 696e  ad] + tail in in
+0001e620: 7075 745f 6c69 7374 3a0d 0a20 2020 2070  put_list:..    p
+0001e630: 7269 6e74 2868 6561 642c 2074 6169 6c29  rint(head, tail)
+0001e640: 0d0a 656c 7365 3a0d 0a20 2020 2070 7269  ..else:..    pri
+0001e650: 6e74 2869 6e70 7574 5f6c 6973 7429 0d0a  nt(input_list)..
+0001e660: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+0001e670: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+0001e680: 7974 686f 6e0d 0a66 726f 6d20 636f 6c6c  ython..from coll
+0001e690: 6563 7469 6f6e 732e 6162 6320 696d 706f  ections.abc impo
+0001e6a0: 7274 2053 6571 7565 6e63 650d 0a69 6620  rt Sequence..if 
+0001e6b0: 696e 7661 6c69 6428 696e 7075 745f 6c69  invalid(input_li
+0001e6c0: 7374 293a 0d0a 2020 2020 7261 6973 6520  st):..    raise 
+0001e6d0: 4578 6365 7074 696f 6e28 290d 0a65 6c69  Exception()..eli
+0001e6e0: 6620 6973 696e 7374 616e 6365 2869 6e70  f isinstance(inp
+0001e6f0: 7574 5f6c 6973 742c 2053 6571 7565 6e63  ut_list, Sequenc
+0001e700: 6529 2061 6e64 206c 656e 2869 6e70 7574  e) and len(input
+0001e710: 5f6c 6973 7429 203e 3d20 313a 0d0a 2020  _list) >= 1:..  
+0001e720: 2020 6865 6164 2c20 7461 696c 203d 2069    head, tail = i
+0001e730: 6e70 7574 6c69 7374 5b30 5d2c 2069 6e70  nputlist[0], inp
+0001e740: 7574 6c69 7374 5b31 3a5d 0d0a 2020 2020  utlist[1:]..    
+0001e750: 7072 696e 7428 6865 6164 2c20 7461 696c  print(head, tail
+0001e760: 290d 0a65 6c73 653a 0d0a 2020 2020 7072  )..else:..    pr
+0001e770: 696e 7428 696e 7075 745f 6c69 7374 290d  int(input_list).
+0001e780: 0a60 6060 0d0a 0d0a 2323 2320 6065 7863  .```....### `exc
+0001e790: 6570 7460 2053 7461 7465 6d65 6e74 730d  ept` Statements.
+0001e7a0: 0a0d 0a50 7974 686f 6e20 3320 7265 7175  ...Python 3 requ
+0001e7b0: 6972 6573 2074 6861 7420 6966 206d 756c  ires that if mul
+0001e7c0: 7469 706c 6520 6578 6365 7074 696f 6e73  tiple exceptions
+0001e7d0: 2061 7265 2074 6f20 6265 2063 6175 6768   are to be caugh
+0001e7e0: 742c 2074 6865 7920 6d75 7374 2062 6520  t, they must be 
+0001e7f0: 706c 6163 6564 2069 6e73 6964 6520 6f66  placed inside of
+0001e800: 2070 6172 656e 7468 6573 6573 2c20 736f   parentheses, so
+0001e810: 2061 7320 746f 2064 6973 616c 6c6f 7720   as to disallow 
+0001e820: 5079 7468 6f6e 2032 2773 2075 7365 206f  Python 2's use o
+0001e830: 6620 6120 636f 6d6d 6120 696e 7374 6561  f a comma instea
+0001e840: 6420 6f66 2060 6173 602e 2043 6f63 6f6e  d of `as`. Cocon
+0001e850: 7574 2061 6c6c 6f77 7320 636f 6d6d 6173  ut allows commas
+0001e860: 2069 6e20 6578 6365 7074 2073 7461 7465   in except state
+0001e870: 6d65 6e74 7320 746f 2074 7261 6e73 6c61  ments to transla
+0001e880: 7465 2074 6f20 6361 7463 6869 6e67 206d  te to catching m
+0001e890: 756c 7469 706c 6520 6578 6365 7074 696f  ultiple exceptio
+0001e8a0: 6e73 2077 6974 686f 7574 2074 6865 206e  ns without the n
+0001e8b0: 6565 6420 666f 7220 7061 7265 6e74 6865  eed for parenthe
+0001e8c0: 7365 732c 2073 696e 6365 2c20 6173 2069  ses, since, as i
+0001e8d0: 6e20 5079 7468 6f6e 2033 2c20 6061 7360  n Python 3, `as`
+0001e8e0: 2069 7320 616c 7761 7973 2072 6571 7569   is always requi
+0001e8f0: 7265 6420 746f 2062 696e 6420 7468 6520  red to bind the 
+0001e900: 6578 6365 7074 696f 6e20 746f 2061 206e  exception to a n
+0001e910: 616d 652e 0d0a 0d0a 2323 2323 2320 4578  ame.....##### Ex
+0001e920: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+0001e930: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+0001e940: 740d 0a74 7279 3a0d 0a20 2020 2075 6e73  t..try:..    uns
+0001e950: 6166 655f 6675 6e63 2861 7267 290d 0a65  afe_func(arg)..e
+0001e960: 7863 6570 7420 5379 6e74 6178 4572 726f  xcept SyntaxErro
+0001e970: 722c 2056 616c 7565 4572 726f 7220 6173  r, ValueError as
+0001e980: 2065 7272 3a0d 0a20 2020 2068 616e 646c   err:..    handl
+0001e990: 6528 6572 7229 0d0a 6060 600d 0a0d 0a2a  e(err)..```....*
+0001e9a0: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
+0001e9b0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a74  oconut_python..t
+0001e9c0: 7279 3a0d 0a20 2020 2075 6e73 6166 655f  ry:..    unsafe_
+0001e9d0: 6675 6e63 2861 7267 290d 0a65 7863 6570  func(arg)..excep
+0001e9e0: 7420 2853 796e 7461 7845 7272 6f72 2c20  t (SyntaxError, 
+0001e9f0: 5661 6c75 6545 7272 6f72 2920 6173 2065  ValueError) as e
+0001ea00: 7272 3a0d 0a20 2020 2068 616e 646c 6528  rr:..    handle(
+0001ea10: 6572 7229 0d0a 6060 600d 0a0d 0a23 2323  err)..```....###
+0001ea20: 2049 6e2d 6c69 6e65 2060 676c 6f62 616c   In-line `global
+0001ea30: 6020 416e 6420 606e 6f6e 6c6f 6361 6c60  ` And `nonlocal`
+0001ea40: 2041 7373 6967 6e6d 656e 740d 0a0d 0a43   Assignment....C
+0001ea50: 6f63 6f6e 7574 2061 6c6c 6f77 7320 666f  oconut allows fo
+0001ea60: 7220 6067 6c6f 6261 6c60 206f 7220 606e  r `global` or `n
+0001ea70: 6f6e 6c6f 6361 6c60 2074 6f20 7072 6563  onlocal` to prec
+0001ea80: 6564 6520 6173 7369 676e 6d65 6e74 2074  ede assignment t
+0001ea90: 6f20 6120 6c69 7374 206f 6620 7661 7269  o a list of vari
+0001eaa0: 6162 6c65 7320 6f72 2028 6175 676d 656e  ables or (augmen
+0001eab0: 7465 6429 2061 7373 6967 6e6d 656e 7420  ted) assignment 
+0001eac0: 746f 2061 2076 6172 6961 626c 6520 746f  to a variable to
+0001ead0: 206d 616b 6520 7468 6174 2061 7373 6967   make that assig
+0001eae0: 6e6d 656e 7420 6067 6c6f 6261 6c60 206f  nment `global` o
+0001eaf0: 7220 606e 6f6e 6c6f 6361 6c60 2c20 7265  r `nonlocal`, re
+0001eb00: 7370 6563 7469 7665 6c79 2e0d 0a0d 0a23  spectively.....#
+0001eb10: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+0001eb20: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+0001eb30: 6063 6f63 6f6e 7574 0d0a 676c 6f62 616c  `coconut..global
+0001eb40: 2073 7461 7465 5f61 2c20 7374 6174 655f   state_a, state_
+0001eb50: 6220 3d20 3130 2c20 3130 300d 0a67 6c6f  b = 10, 100..glo
+0001eb60: 6261 6c20 7374 6174 655f 6320 2b3d 2031  bal state_c += 1
+0001eb70: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0001eb80: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+0001eb90: 5f70 7974 686f 6e0d 0a67 6c6f 6261 6c20  _python..global 
+0001eba0: 7374 6174 655f 612c 2073 7461 7465 5f62  state_a, state_b
+0001ebb0: 3b20 7374 6174 655f 612c 2073 7461 7465  ; state_a, state
+0001ebc0: 5f62 203d 2031 302c 2031 3030 0d0a 676c  _b = 10, 100..gl
+0001ebd0: 6f62 616c 2073 7461 7465 5f63 3b20 7374  obal state_c; st
+0001ebe0: 6174 655f 6320 2b3d 2031 0d0a 6060 600d  ate_c += 1..```.
+0001ebf0: 0a0d 0a23 2323 2043 6f64 6520 5061 7373  ...### Code Pass
+0001ec00: 7468 726f 7567 680d 0a0d 0a43 6f63 6f6e  through....Cocon
+0001ec10: 7574 2073 7570 706f 7274 7320 7468 6520  ut supports the 
+0001ec20: 6162 696c 6974 7920 746f 2070 6173 7320  ability to pass 
+0001ec30: 6172 6269 7472 6172 7920 636f 6465 2074  arbitrary code t
+0001ec40: 6872 6f75 6768 2074 6865 2063 6f6d 7069  hrough the compi
+0001ec50: 6c65 7220 7769 7468 6f75 7420 6265 696e  ler without bein
+0001ec60: 6720 746f 7563 6865 642c 2066 6f72 2063  g touched, for c
+0001ec70: 6f6d 7061 7469 6269 6c69 7479 2077 6974  ompatibility wit
+0001ec80: 6820 6f74 6865 7220 7661 7269 616e 7473  h other variants
+0001ec90: 206f 6620 5079 7468 6f6e 2c20 7375 6368   of Python, such
+0001eca0: 2061 7320 5b43 7974 686f 6e5d 2868 7474   as [Cython](htt
+0001ecb0: 703a 2f2f 6379 7468 6f6e 2e6f 7267 2f29  p://cython.org/)
+0001ecc0: 206f 7220 5b4d 7974 686f 6e5d 2868 7474   or [Mython](htt
+0001ecd0: 703a 2f2f 6d79 7468 6f6e 2e6f 7267 2f29  p://mython.org/)
+0001ece0: 2e20 416e 7974 6869 6e67 2070 6c61 6365  . Anything place
+0001ecf0: 6420 6265 7477 6565 6e20 605c 2860 2061  d between `\(` a
+0001ed00: 6e64 2074 6865 2063 6f72 7265 7370 6f6e  nd the correspon
+0001ed10: 6469 6e67 2063 6c6f 7365 2070 6172 656e  ding close paren
+0001ed20: 7468 6573 6973 2077 696c 6c20 6265 2070  thesis will be p
+0001ed30: 6173 7365 6420 7468 726f 7567 682c 2061  assed through, a
+0001ed40: 7320 7765 6c6c 2061 7320 616e 7920 6c69  s well as any li
+0001ed50: 6e65 2073 7461 7274 696e 6720 7769 7468  ne starting with
+0001ed60: 2060 5c5c 602c 2077 6869 6368 2077 696c   `\\`, which wil
+0001ed70: 6c20 6861 7665 2074 6865 2061 6464 6974  l have the addit
+0001ed80: 696f 6e61 6c20 6566 6665 6374 206f 6620  ional effect of 
+0001ed90: 616c 6c6f 7769 6e67 2069 6e64 656e 7461  allowing indenta
+0001eda0: 7469 6f6e 2075 6e64 6572 2069 742e 0d0a  tion under it...
+0001edb0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0001edc0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0001edd0: 0a60 6060 636f 636f 6e75 740d 0a5c 5c63  .```coconut..\\c
+0001ede0: 6465 6620 6628 7829 3a0d 0a20 2020 2072  def f(x):..    r
+0001edf0: 6574 7572 6e20 7820 7c3e 2067 0d0a 6060  eturn x |> g..``
+0001ee00: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+0001ee10: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+0001ee20: 686f 6e0d 0a63 6465 6620 6628 7829 3a0d  hon..cdef f(x):.
+0001ee30: 0a20 2020 2072 6574 7572 6e20 6728 7829  .    return g(x)
+0001ee40: 0d0a 6060 600d 0a0d 0a23 2323 2045 6e68  ..```....### Enh
+0001ee50: 616e 6365 6420 5061 7265 6e74 6865 7469  anced Parentheti
+0001ee60: 6361 6c20 436f 6e74 696e 7561 7469 6f6e  cal Continuation
+0001ee70: 0d0a 0d0a 5369 6e63 6520 436f 636f 6e75  ....Since Coconu
+0001ee80: 7420 7379 6e74 6178 2069 7320 6120 7375  t syntax is a su
+0001ee90: 7065 7273 6574 206f 6620 5079 7468 6f6e  perset of Python
+0001eea0: 2033 2073 796e 7461 782c 2043 6f63 6f6e   3 syntax, Cocon
+0001eeb0: 7574 2073 7570 706f 7274 7320 7468 6520  ut supports the 
+0001eec0: 7361 6d65 206c 696e 6520 636f 6e74 696e  same line contin
+0001eed0: 7561 7469 6f6e 2073 796e 7461 7820 6173  uation syntax as
+0001eee0: 2050 7974 686f 6e2e 2054 6861 7420 6d65   Python. That me
+0001eef0: 616e 7320 626f 7468 2062 6163 6b73 6c61  ans both backsla
+0001ef00: 7368 206c 696e 6520 636f 6e74 696e 7561  sh line continua
+0001ef10: 7469 6f6e 2061 6e64 2069 6d70 6c69 6564  tion and implied
+0001ef20: 206c 696e 6520 636f 6e74 696e 7561 7469   line continuati
+0001ef30: 6f6e 2069 6e73 6964 6520 6f66 2070 6172  on inside of par
+0001ef40: 656e 7468 6573 6573 2c20 6272 6163 6b65  entheses, bracke
+0001ef50: 7473 2c20 6f72 2062 7261 6365 7320 7769  ts, or braces wi
+0001ef60: 6c6c 2061 6c6c 2077 6f72 6b2e 0d0a 0d0a  ll all work.....
+0001ef70: 496e 2050 7974 686f 6e2c 2068 6f77 6576  In Python, howev
+0001ef80: 6572 2c20 7468 6572 6520 6172 6520 736f  er, there are so
+0001ef90: 6d65 2063 6173 6573 2028 7375 6368 2061  me cases (such a
+0001efa0: 7320 6d75 6c74 6970 6c65 2060 7769 7468  s multiple `with
+0001efb0: 6020 7374 6174 656d 656e 7473 2920 7768  ` statements) wh
+0001efc0: 6572 6520 6f6e 6c79 2062 6163 6b73 6c61  ere only backsla
+0001efd0: 7368 2063 6f6e 7469 6e75 6174 696f 6e2c  sh continuation,
+0001efe0: 2061 6e64 206e 6f74 2070 6172 656e 7468   and not parenth
+0001eff0: 6574 6963 616c 2063 6f6e 7469 6e75 6174  etical continuat
+0001f000: 696f 6e2c 2069 7320 7375 7070 6f72 7465  ion, is supporte
+0001f010: 642e 2043 6f63 6f6e 7574 2061 6464 7320  d. Coconut adds 
+0001f020: 7375 7070 6f72 7420 666f 7220 7061 7265  support for pare
+0001f030: 6e74 6865 7469 6361 6c20 636f 6e74 696e  nthetical contin
+0001f040: 7561 7469 6f6e 2069 6e20 616c 6c20 7468  uation in all th
+0001f050: 6573 6520 6361 7365 732e 2054 6869 7320  ese cases. This 
+0001f060: 616c 736f 2069 6e63 6c75 6465 7320 7375  also includes su
+0001f070: 7070 6f72 7420 6173 2070 6572 205b 5045  pport as per [PE
+0001f080: 5020 3637 395d 2868 7474 7073 3a2f 2f70  P 679](https://p
+0001f090: 6570 732e 7079 7468 6f6e 2e6f 7267 2f70  eps.python.org/p
+0001f0a0: 6570 2d30 3637 3929 2066 6f72 2070 6172  ep-0679) for par
+0001f0b0: 656e 7468 6573 697a 6564 2060 6173 7365  enthesized `asse
+0001f0c0: 7274 6020 7374 6174 656d 656e 7473 2e0d  rt` statements..
+0001f0d0: 0a0d 0a53 7570 706f 7274 696e 6720 7061  ...Supporting pa
+0001f0e0: 7265 6e74 6865 7469 6361 6c20 636f 6e74  renthetical cont
+0001f0f0: 696e 7561 7469 6f6e 2065 7665 7279 7768  inuation everywh
+0001f100: 6572 6520 616c 6c6f 7773 2074 6865 205b  ere allows the [
+0001f110: 5045 5020 385d 2868 7474 7073 3a2f 2f77  PEP 8](https://w
+0001f120: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
+0001f130: 762f 7065 7073 2f70 6570 2d30 3030 382f  v/peps/pep-0008/
+0001f140: 2920 636f 6e76 656e 7469 6f6e 2c20 7768  ) convention, wh
+0001f150: 6963 6820 6176 6f69 6473 2062 6163 6b73  ich avoids backs
+0001f160: 6c61 7368 2063 6f6e 7469 6e75 6174 696f  lash continuatio
+0001f170: 6e20 696e 2066 6176 6f72 206f 6620 696d  n in favor of im
+0001f180: 706c 6965 6420 7061 7265 6e74 6865 7469  plied parentheti
+0001f190: 6361 6c20 636f 6e74 696e 7561 7469 6f6e  cal continuation
+0001f1a0: 2c20 746f 2061 6c77 6179 7320 6265 2070  , to always be p
+0001f1b0: 6f73 7369 626c 6520 746f 2066 6f6c 6c6f  ossible to follo
+0001f1c0: 772e 2046 726f 6d20 5045 5020 383a 0d0a  w. From PEP 8:..
+0001f1d0: 0d0a 3e20 5468 6520 7072 6566 6572 7265  ..> The preferre
+0001f1e0: 6420 7761 7920 6f66 2077 7261 7070 696e  d way of wrappin
+0001f1f0: 6720 6c6f 6e67 206c 696e 6573 2069 7320  g long lines is 
+0001f200: 6279 2075 7369 6e67 2050 7974 686f 6e27  by using Python'
+0001f210: 7320 696d 706c 6965 6420 6c69 6e65 2063  s implied line c
+0001f220: 6f6e 7469 6e75 6174 696f 6e20 696e 7369  ontinuation insi
+0001f230: 6465 2070 6172 656e 7468 6573 6573 2c20  de parentheses, 
+0001f240: 6272 6163 6b65 7473 2061 6e64 2062 7261  brackets and bra
+0001f250: 6365 732e 204c 6f6e 6720 6c69 6e65 7320  ces. Long lines 
+0001f260: 6361 6e20 6265 2062 726f 6b65 6e20 6f76  can be broken ov
+0001f270: 6572 206d 756c 7469 706c 6520 6c69 6e65  er multiple line
+0001f280: 7320 6279 2077 7261 7070 696e 6720 6578  s by wrapping ex
+0001f290: 7072 6573 7369 6f6e 7320 696e 2070 6172  pressions in par
+0001f2a0: 656e 7468 6573 6573 2e20 5468 6573 6520  entheses. These 
+0001f2b0: 7368 6f75 6c64 2062 6520 7573 6564 2069  should be used i
+0001f2c0: 6e20 7072 6566 6572 656e 6365 2074 6f20  n preference to 
+0001f2d0: 7573 696e 6720 6120 6261 636b 736c 6173  using a backslas
+0001f2e0: 6820 666f 7220 6c69 6e65 2063 6f6e 7469  h for line conti
+0001f2f0: 6e75 6174 696f 6e2e 0d0a 0d0a 5f4e 6f74  nuation....._Not
+0001f300: 653a 2050 6173 7369 6e67 2060 2d2d 7374  e: Passing `--st
+0001f310: 7269 6374 6020 7769 6c6c 2065 6e66 6f72  rict` will enfor
+0001f320: 6365 2074 6865 2050 4550 2038 2063 6f6e  ce the PEP 8 con
+0001f330: 7665 6e74 696f 6e20 6279 2064 6973 616c  vention by disal
+0001f340: 6c6f 7769 6e67 2062 6163 6b73 6c61 7368  lowing backslash
+0001f350: 2063 6f6e 7469 6e75 6174 696f 6e73 2e5f   continuations._
+0001f360: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+0001f370: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+0001f380: 2a0d 0a60 6060 636f 636f 6e75 740d 0a77  *..```coconut..w
+0001f390: 6974 6820 286f 7065 6e28 272f 7061 7468  ith (open('/path
+0001f3a0: 2f74 6f2f 736f 6d65 2f66 696c 652f 796f  /to/some/file/yo
+0001f3b0: 752f 7761 6e74 2f74 6f2f 7265 6164 2729  u/want/to/read')
+0001f3c0: 2061 7320 6669 6c65 5f31 2c0d 0a20 2020   as file_1,..   
+0001f3d0: 2020 206f 7065 6e28 272f 7061 7468 2f74     open('/path/t
+0001f3e0: 6f2f 736f 6d65 2f66 696c 652f 6265 696e  o/some/file/bein
+0001f3f0: 672f 7772 6974 7465 6e27 2c20 2777 2729  g/written', 'w')
+0001f400: 2061 7320 6669 6c65 5f32 293a 0d0a 2020   as file_2):..  
+0001f410: 2020 6669 6c65 5f32 2e77 7269 7465 2866    file_2.write(f
+0001f420: 696c 655f 312e 7265 6164 2829 290d 0a60  ile_1.read())..`
+0001f430: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
+0001f440: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
+0001f450: 7468 6f6e 0d0a 2320 7370 6c69 7420 696e  thon..# split in
+0001f460: 746f 2074 776f 2077 6974 6820 7374 6174  to two with stat
+0001f470: 656d 656e 7473 2066 6f72 2050 7974 686f  ements for Pytho
+0001f480: 6e20 322e 3620 636f 6d70 6174 6962 696c  n 2.6 compatibil
+0001f490: 6974 790d 0a77 6974 6820 6f70 656e 2827  ity..with open('
+0001f4a0: 2f70 6174 682f 746f 2f73 6f6d 652f 6669  /path/to/some/fi
+0001f4b0: 6c65 2f79 6f75 2f77 616e 742f 746f 2f72  le/you/want/to/r
+0001f4c0: 6561 6427 2920 6173 2066 696c 655f 313a  ead') as file_1:
+0001f4d0: 0d0a 2020 2020 7769 7468 206f 7065 6e28  ..    with open(
+0001f4e0: 272f 7061 7468 2f74 6f2f 736f 6d65 2f66  '/path/to/some/f
+0001f4f0: 696c 652f 6265 696e 672f 7772 6974 7465  ile/being/writte
+0001f500: 6e27 2c20 2777 2729 2061 7320 6669 6c65  n', 'w') as file
+0001f510: 5f32 3a0d 0a20 2020 2020 2020 2066 696c  _2:..        fil
+0001f520: 655f 322e 7772 6974 6528 6669 6c65 5f31  e_2.write(file_1
+0001f530: 2e72 6561 6428 2929 0d0a 6060 600d 0a0d  .read())..```...
+0001f540: 0a23 2323 2041 7373 6967 6e6d 656e 7420  .### Assignment 
+0001f550: 4578 7072 6573 7369 6f6e 2043 6861 696e  Expression Chain
+0001f560: 696e 670d 0a0d 0a55 6e6c 696b 6520 5079  ing....Unlike Py
+0001f570: 7468 6f6e 2c20 436f 636f 6e75 7420 616c  thon, Coconut al
+0001f580: 6c6f 7773 2061 7373 6967 6e6d 656e 7420  lows assignment 
+0001f590: 6578 7072 6573 7369 6f6e 7320 746f 2062  expressions to b
+0001f5a0: 6520 6368 6169 6e65 642c 2061 7320 696e  e chained, as in
+0001f5b0: 2060 6120 3a3d 2062 203a 3d20 6360 2e20   `a := b := c`. 
+0001f5c0: 4e6f 7465 2c20 686f 7765 7665 722c 2074  Note, however, t
+0001f5d0: 6861 7420 6173 7369 676e 6d65 6e74 2065  hat assignment e
+0001f5e0: 7870 7265 7373 696f 6e73 2069 6e20 6765  xpressions in ge
+0001f5f0: 6e65 7261 6c20 6172 6520 6375 7272 656e  neral are curren
+0001f600: 746c 7920 6f6e 6c79 2073 7570 706f 7274  tly only support
+0001f610: 6564 206f 6e20 602d 2d74 6172 6765 7420  ed on `--target 
+0001f620: 332e 3860 206f 7220 6869 6768 6572 2e0d  3.8` or higher..
+0001f630: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0001f640: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+0001f650: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 2861  ..```coconut..(a
+0001f660: 203a 3d20 6220 3a3d 2031 290d 0a60 6060   := b := 1)..```
+0001f670: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0001f680: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0001f690: 6f6e 0d0a 2861 203a 3d20 2862 203a 3d20  on..(a := (b := 
+0001f6a0: 3129 290d 0a60 6060 0d0a 0d0a 2323 2042  1))..```....## B
+0001f6b0: 7569 6c74 2d49 6e73 0d0a 0d0a 6060 607b  uilt-Ins....```{
+0001f6c0: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
+0001f6d0: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2032  local:..depth: 2
+0001f6e0: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
+0001f6f0: 2320 4275 696c 742d 496e 2046 756e 6374  # Built-In Funct
+0001f700: 696f 6e20 4465 636f 7261 746f 7273 0d0a  ion Decorators..
+0001f710: 0d0a 6060 607b 636f 6e74 656e 7473 7d0d  ..```{contents}.
+0001f720: 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465  .---..local:..de
+0001f730: 7074 683a 2031 0d0a 2d2d 2d0d 0a60 6060  pth: 1..---..```
+0001f740: 0d0a 0d0a 2323 2323 2060 6164 6470 6174  ....#### `addpat
+0001f750: 7465 726e 600d 0a0d 0a2a 2a61 6464 7061  tern`....**addpa
+0001f760: 7474 6572 6e2a 2a28 5f62 6173 655c 5f66  ttern**(_base\_f
+0001f770: 756e 635f 2c20 2a5f 6164 645c 5f66 756e  unc_, *_add\_fun
+0001f780: 6373 5f2c 205f 616c 6c6f 775c 5f61 6e79  cs_, _allow\_any
+0001f790: 5c5f 6675 6e63 5f3d 6046 616c 7365 6029  \_func_=`False`)
+0001f7a0: 0d0a 0d0a 5461 6b65 7320 6f6e 6520 6172  ....Takes one ar
+0001f7b0: 6775 6d65 6e74 2074 6861 7420 6973 2061  gument that is a
+0001f7c0: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
+0001f7d0: 6e67 2066 756e 6374 696f 6e5d 2823 7061  ng function](#pa
+0001f7e0: 7474 6572 6e2d 6d61 7463 6869 6e67 2d66  ttern-matching-f
+0001f7f0: 756e 6374 696f 6e73 292c 2061 6e64 2072  unctions), and r
+0001f800: 6574 7572 6e73 2061 2064 6563 6f72 6174  eturns a decorat
+0001f810: 6f72 2074 6861 7420 6164 6473 2074 6865  or that adds the
+0001f820: 2070 6174 7465 726e 7320 696e 2074 6865   patterns in the
+0001f830: 2065 7869 7374 696e 6720 6675 6e63 7469   existing functi
+0001f840: 6f6e 2074 6f20 7468 6520 6e65 7720 6675  on to the new fu
+0001f850: 6e63 7469 6f6e 2062 6569 6e67 2064 6563  nction being dec
+0001f860: 6f72 6174 6564 2c20 7768 6572 6520 7468  orated, where th
+0001f870: 6520 6578 6973 7469 6e67 2070 6174 7465  e existing patte
+0001f880: 726e 7320 6172 6520 6368 6563 6b65 6420  rns are checked 
+0001f890: 6669 7273 742c 2074 6865 6e20 7468 6520  first, then the 
+0001f8a0: 6e65 772e 2060 6164 6470 6174 7465 726e  new. `addpattern
+0001f8b0: 6020 616c 736f 2073 7570 706f 7274 7320  ` also supports 
+0001f8c0: 6120 7368 6f72 7463 7574 2073 796e 7461  a shortcut synta
+0001f8d0: 7820 7768 6572 6520 7468 6520 6e65 7720  x where the new 
+0001f8e0: 7061 7474 6572 6e73 2063 616e 2062 6520  patterns can be 
+0001f8f0: 7061 7373 6564 2069 6e20 6469 7265 6374  passed in direct
+0001f900: 6c79 2e0d 0a0d 0a52 6f75 6768 6c79 2065  ly.....Roughly e
+0001f910: 7175 6976 616c 656e 7420 746f 3a0d 0a60  quivalent to:..`
+0001f920: 6060 0d0a 6465 6620 5f70 6174 7465 726e  ``..def _pattern
+0001f930: 5f61 6464 6572 2862 6173 655f 6675 6e63  _adder(base_func
+0001f940: 2c20 6164 645f 6675 6e63 293a 0d0a 2020  , add_func):..  
+0001f950: 2020 6465 6620 6164 645f 7061 7474 6572    def add_patter
+0001f960: 6e5f 6675 6e63 282a 6172 6773 2c20 2a2a  n_func(*args, **
+0001f970: 6b77 6172 6773 293a 0d0a 2020 2020 2020  kwargs):..      
+0001f980: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+0001f990: 2020 2020 7265 7475 726e 2062 6173 655f      return base_
+0001f9a0: 6675 6e63 282a 6172 6773 2c20 2a2a 6b77  func(*args, **kw
+0001f9b0: 6172 6773 290d 0a20 2020 2020 2020 2065  args)..        e
+0001f9c0: 7863 6570 7420 4d61 7463 6845 7272 6f72  xcept MatchError
+0001f9d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0001f9e0: 6574 7572 6e20 6164 645f 6675 6e63 282a  eturn add_func(*
+0001f9f0: 6172 6773 2c20 2a2a 6b77 6172 6773 290d  args, **kwargs).
+0001fa00: 0a20 2020 2072 6574 7572 6e20 6164 645f  .    return add_
+0001fa10: 7061 7474 6572 6e5f 6675 6e63 0d0a 6465  pattern_func..de
+0001fa20: 6620 6164 6470 6174 7465 726e 2862 6173  f addpattern(bas
+0001fa30: 655f 6675 6e63 2c20 2a61 6464 5f66 756e  e_func, *add_fun
+0001fa40: 6373 2c20 616c 6c6f 775f 616e 795f 6675  cs, allow_any_fu
+0001fa50: 6e63 3d46 616c 7365 293a 0d0a 2020 2020  nc=False):..    
+0001fa60: 2222 2244 6563 6f72 6174 6f72 2074 6f20  """Decorator to 
+0001fa70: 6164 6420 6120 6e65 7720 6361 7365 2074  add a new case t
+0001fa80: 6f20 6120 7061 7474 6572 6e2d 6d61 7463  o a pattern-matc
+0001fa90: 6869 6e67 2066 756e 6374 696f 6e20 2877  hing function (w
+0001faa0: 6865 7265 2074 6865 206e 6577 2063 6173  here the new cas
+0001fab0: 6520 6973 2063 6865 636b 6564 206c 6173  e is checked las
+0001fac0: 7429 2e0d 0a0d 0a20 2020 2050 6173 7320  t).....    Pass 
+0001fad0: 616c 6c6f 775f 616e 795f 6675 6e63 3d54  allow_any_func=T
+0001fae0: 7275 6520 746f 2061 6c6c 6f77 2061 6e79  rue to allow any
+0001faf0: 206f 626a 6563 7420 6173 2074 6865 2062   object as the b
+0001fb00: 6173 655f 6675 6e63 2072 6174 6865 7220  ase_func rather 
+0001fb10: 7468 616e 206a 7573 7420 7061 7474 6572  than just patter
+0001fb20: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+0001fb30: 696f 6e73 2e0d 0a20 2020 2049 6620 6164  ions...    If ad
+0001fb40: 645f 6675 6e63 2069 7320 7061 7373 6564  d_func is passed
+0001fb50: 2c20 6164 6470 6174 7465 726e 2862 6173  , addpattern(bas
+0001fb60: 655f 6675 6e63 2c20 6164 645f 6675 6e63  e_func, add_func
+0001fb70: 2920 6973 2065 7175 6976 616c 656e 7420  ) is equivalent 
+0001fb80: 746f 2061 6464 7061 7474 6572 6e28 6261  to addpattern(ba
+0001fb90: 7365 5f66 756e 6329 2861 6464 5f66 756e  se_func)(add_fun
+0001fba0: 6329 2e0d 0a20 2020 2022 2222 0d0a 2020  c)...    """..  
+0001fbb0: 2020 6966 206e 6f74 2061 6464 5f66 756e    if not add_fun
+0001fbc0: 6373 3a0d 0a20 2020 2020 2020 2072 6574  cs:..        ret
+0001fbd0: 7572 6e20 6164 6470 6174 7465 726e 2428  urn addpattern$(
+0001fbe0: 6261 7365 5f66 756e 6329 0d0a 2020 2020  base_func)..    
+0001fbf0: 666f 7220 6164 645f 6675 6e63 2069 6e20  for add_func in 
+0001fc00: 6164 645f 6675 6e63 733a 0d0a 2020 2020  add_funcs:..    
+0001fc10: 2020 2020 6261 7365 5f66 756e 6320 3d20      base_func = 
+0001fc20: 7061 7474 6572 6e5f 6164 6465 7228 6261  pattern_adder(ba
+0001fc30: 7365 5f66 756e 632c 2061 6464 5f66 756e  se_func, add_fun
+0001fc40: 6329 0d0a 2020 2020 7265 7475 726e 2062  c)..    return b
+0001fc50: 6173 655f 6675 6e63 0d0a 6060 600d 0a0d  ase_func..```...
+0001fc60: 0a49 6620 796f 7520 7761 6e74 2074 6f20  .If you want to 
+0001fc70: 6769 7665 2061 6e20 6061 6464 7061 7474  give an `addpatt
+0001fc80: 6572 6e60 2066 756e 6374 696f 6e20 6120  ern` function a 
+0001fc90: 646f 6373 7472 696e 672c 206d 616b 6520  docstring, make 
+0001fca0: 7375 7265 2074 6f20 7075 7420 6974 206f  sure to put it o
+0001fcb0: 6e20 7468 6520 5f6c 6173 745f 2066 756e  n the _last_ fun
+0001fcc0: 6374 696f 6e2e 0d0a 0d0a 4e6f 7465 2074  ction.....Note t
+0001fcd0: 6861 7420 7468 6520 6675 6e63 7469 6f6e  hat the function
+0001fce0: 2074 616b 656e 2062 7920 6061 6464 7061   taken by `addpa
+0001fcf0: 7474 6572 6e60 206d 7573 7420 6265 2061  ttern` must be a
+0001fd00: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+0001fd10: 6720 6675 6e63 7469 6f6e 2e20 4966 2060  g function. If `
+0001fd20: 6164 6470 6174 7465 726e 6020 7265 6365  addpattern` rece
+0001fd30: 6976 6573 2061 206e 6f6e 2070 6174 7465  ives a non patte
+0001fd40: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+0001fd50: 7469 6f6e 2c20 7468 6520 6675 6e63 7469  tion, the functi
+0001fd60: 6f6e 2077 6974 6820 6e6f 7420 7261 6973  on with not rais
+0001fd70: 6520 604d 6174 6368 4572 726f 7260 2c20  e `MatchError`, 
+0001fd80: 616e 6420 6061 6464 7061 7474 6572 6e60  and `addpattern`
+0001fd90: 2077 6f6e 2774 2062 6520 6162 6c65 2074   won't be able t
+0001fda0: 6f20 6465 7465 6374 2074 6865 2066 6169  o detect the fai
+0001fdb0: 6c65 6420 6d61 7463 682e 2054 6875 732c  led match. Thus,
+0001fdc0: 2069 6620 6120 6c61 7465 7220 6675 6e63   if a later func
+0001fdd0: 7469 6f6e 2077 6173 206d 6561 6e74 2074  tion was meant t
+0001fde0: 6f20 6265 2063 616c 6c65 642c 2060 6164  o be called, `ad
+0001fdf0: 6470 6174 7465 726e 6020 7769 6c6c 206e  dpattern` will n
+0001fe00: 6f74 206b 6e6f 7720 7468 6174 2074 6865  ot know that the
+0001fe10: 2066 6972 7374 206d 6174 6368 2066 6169   first match fai
+0001fe20: 6c65 6420 616e 6420 7468 6520 636f 7272  led and the corr
+0001fe30: 6563 7420 7061 7468 2077 696c 6c20 6e65  ect path will ne
+0001fe40: 7665 7220 6265 2072 6561 6368 6564 2e0d  ver be reached..
+0001fe50: 0a0d 0a46 6f72 2065 7861 6d70 6c65 2c20  ...For example, 
+0001fe60: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
+0001fe70: 6465 2072 6169 7365 7320 6120 6054 7970  de raises a `Typ
+0001fe80: 6545 7272 6f72 603a 0d0a 6060 6063 6f63  eError`:..```coc
+0001fe90: 6f6e 7574 0d0a 6465 6620 7072 696e 745f  onut..def print_
+0001fea0: 7479 7065 2829 3a0d 0a20 2020 2070 7269  type():..    pri
+0001feb0: 6e74 2822 5265 6365 6976 6564 206e 6f20  nt("Received no 
+0001fec0: 6172 6775 6d65 6e74 732e 2229 0d0a 0d0a  arguments.")....
+0001fed0: 4061 6464 7061 7474 6572 6e28 7072 696e  @addpattern(prin
+0001fee0: 745f 7479 7065 290d 0a64 6566 2070 7269  t_type)..def pri
+0001fef0: 6e74 5f74 7970 6528 696e 7428 2929 3a0d  nt_type(int()):.
+0001ff00: 0a20 2020 2070 7269 6e74 2822 5265 6365  .    print("Rece
+0001ff10: 6976 6564 2061 6e20 696e 742e 2229 0d0a  ived an int.")..
+0001ff20: 0d0a 7072 696e 745f 7479 7065 2829 2020  ..print_type()  
+0001ff30: 2320 6170 7065 6172 7320 746f 2077 6f72  # appears to wor
+0001ff40: 6b0d 0a70 7269 6e74 5f74 7970 6528 3129  k..print_type(1)
+0001ff50: 2023 2054 7970 6545 7272 6f72 3a20 7072   # TypeError: pr
+0001ff60: 696e 745f 7479 7065 2829 2074 616b 6573  int_type() takes
+0001ff70: 2030 2070 6f73 6974 696f 6e61 6c20 6172   0 positional ar
+0001ff80: 6775 6d65 6e74 7320 6275 7420 3120 7761  guments but 1 wa
+0001ff90: 7320 6769 7665 6e0d 0a60 6060 0d0a 0d0a  s given..```....
+0001ffa0: 5468 6973 2063 616e 2062 6520 6669 7865  This can be fixe
+0001ffb0: 6420 6279 2075 7369 6e67 2065 6974 6865  d by using eithe
+0001ffc0: 7220 7468 6520 606d 6174 6368 6020 6f72  r the `match` or
+0001ffd0: 2060 6164 6470 6174 7465 726e 6020 6b65   `addpattern` ke
+0001ffe0: 7977 6f72 642e 2046 6f72 2065 7861 6d70  yword. For examp
+0001fff0: 6c65 3a0d 0a60 6060 636f 636f 6e75 740d  le:..```coconut.
+00020000: 0a6d 6174 6368 2064 6566 2070 7269 6e74  .match def print
+00020010: 5f74 7970 6528 293a 0d0a 2020 2020 7072  _type():..    pr
+00020020: 696e 7428 2252 6563 6569 7665 6420 6e6f  int("Received no
+00020030: 2061 7267 756d 656e 7473 2e22 290d 0a0d   arguments.")...
+00020040: 0a61 6464 7061 7474 6572 6e20 6465 6620  .addpattern def 
+00020050: 7072 696e 745f 7479 7065 2869 6e74 2829  print_type(int()
+00020060: 293a 0d0a 2020 2020 7072 696e 7428 2252  ):..    print("R
+00020070: 6563 6569 7665 6420 616e 2069 6e74 2e22  eceived an int."
+00020080: 290d 0a0d 0a70 7269 6e74 5f74 7970 6528  )....print_type(
+00020090: 3129 2020 2320 576f 726b 7320 6173 2065  1)  # Works as e
+000200a0: 7870 6563 7465 640d 0a70 7269 6e74 5f74  xpected..print_t
+000200b0: 7970 6528 2254 6869 7320 6973 2061 2073  ype("This is a s
+000200c0: 7472 696e 672e 2229 2023 2052 6169 7365  tring.") # Raise
+000200d0: 7320 4d61 7463 6845 7272 6f72 0d0a 6060  s MatchError..``
+000200e0: 600d 0a0d 0a54 6865 206c 6173 7420 6361  `....The last ca
+000200f0: 7365 2069 6e20 616e 2060 6164 6470 6174  se in an `addpat
+00020100: 7465 726e 6020 6675 6e63 7469 6f6e 2c20  tern` function, 
+00020110: 686f 7765 7665 722c 2064 6f65 736e 2774  however, doesn't
+00020120: 2068 6176 6520 746f 2062 6520 6120 7061   have to be a pa
+00020130: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+00020140: 756e 6374 696f 6e20 6966 2069 7420 6973  unction if it is
+00020150: 2069 6e74 656e 6465 6420 746f 2063 6174   intended to cat
+00020160: 6368 2061 6c6c 2072 656d 6169 6e69 6e67  ch all remaining
+00020170: 2063 6173 6573 2e0d 0a0d 0a54 6f20 6361   cases.....To ca
+00020180: 7463 6820 7468 6973 206d 6973 7461 6b65  tch this mistake
+00020190: 2c20 6061 6464 7061 7474 6572 6e60 2077  , `addpattern` w
+000201a0: 696c 6c20 656d 6974 2061 2077 6172 6e69  ill emit a warni
+000201b0: 6e67 2069 6620 7061 7373 6564 2077 6861  ng if passed wha
+000201c0: 7420 6974 2062 656c 6965 7665 7320 746f  t it believes to
+000201d0: 2062 6520 6120 6e6f 6e2d 7061 7474 6572   be a non-patter
+000201e0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+000201f0: 696f 6e2e 2048 6f77 6576 6572 2c20 7468  ion. However, th
+00020200: 6973 2077 6172 6e69 6e67 2063 616e 2073  is warning can s
+00020210: 6f6d 6574 696d 6573 2062 6520 6572 726f  ometimes be erro
+00020220: 6e65 6f75 7320 6966 2074 6865 206f 7269  neous if the ori
+00020230: 6769 6e61 6c20 7061 7474 6572 6e2d 6d61  ginal pattern-ma
+00020240: 7463 6869 6e67 2066 756e 6374 696f 6e20  tching function 
+00020250: 6861 7320 6265 656e 2077 7261 7070 6564  has been wrapped
+00020260: 2069 6e20 736f 6d65 2077 6179 2c20 696e   in some way, in
+00020270: 2077 6869 6368 2063 6173 6520 796f 7520   which case you 
+00020280: 6361 6e20 7061 7373 2060 616c 6c6f 775f  can pass `allow_
+00020290: 616e 795f 6675 6e63 3d54 7275 6560 2074  any_func=True` t
+000202a0: 6f20 6469 736d 6973 7320 7468 6520 7761  o dismiss the wa
+000202b0: 726e 696e 672e 0d0a 0d0a 2323 2323 2320  rning.....##### 
+000202c0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+000202d0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+000202e0: 6e75 740d 0a64 6566 2066 6163 746f 7269  nut..def factori
+000202f0: 616c 2830 2920 3d20 310d 0a0d 0a40 6164  al(0) = 1....@ad
+00020300: 6470 6174 7465 726e 2866 6163 746f 7269  dpattern(factori
+00020310: 616c 290d 0a64 6566 2066 6163 746f 7269  al)..def factori
+00020320: 616c 286e 2920 3d20 6e20 2a20 6661 6374  al(n) = n * fact
+00020330: 6f72 6961 6c28 6e20 2d20 3129 0d0a 6060  orial(n - 1)..``
+00020340: 600d 0a5f 5369 6d70 6c65 2065 7861 6d70  `.._Simple examp
+00020350: 6c65 206f 6620 6164 6469 6e67 2061 206e  le of adding a n
+00020360: 6577 2070 6174 7465 726e 2074 6f20 6120  ew pattern to a 
+00020370: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+00020380: 2066 756e 6374 696f 6e2e 5f0d 0a0d 0a60   function._....`
+00020390: 6060 636f 636f 6e75 740d 0a22 5b41 5d2c  ``coconut.."[A],
+000203a0: 205b 425d 2220 7c3e 2077 696e 646f 7773   [B]" |> windows
+000203b0: 6f66 2428 3329 207c 3e20 6d61 7024 2861  of$(3) |> map$(a
+000203c0: 6464 7061 7474 6572 6e28 0d0a 2020 2020  ddpattern(..    
+000203d0: 2864 6566 2028 2822 5b22 2c22 4122 2c22  (def (("[","A","
+000203e0: 5d22 2929 202d 3e20 2241 2229 2c0d 0a20  ]")) -> "A"),.. 
+000203f0: 2020 2028 6465 6620 2828 225b 222c 2242     (def (("[","B
+00020400: 222c 225d 2229 2920 2d3e 2022 4222 292c  ","]")) -> "B"),
+00020410: 0d0a 2020 2020 2864 6566 2028 285f 2c5f  ..    (def ((_,_
+00020420: 2c5f 2929 202d 3e20 4e6f 6e65 292c 0d0a  ,_)) -> None),..
+00020430: 2929 207c 3e20 6669 6c74 6572 2428 282e  )) |> filter$((.
+00020440: 6973 204e 6f6e 6529 202e 2e3e 2028 6e6f  is None) ..> (no
+00020450: 7429 2920 7c3e 206c 6973 7420 7c3e 2070  t)) |> list |> p
+00020460: 7269 6e74 0d0a 6060 600d 0a5f 416e 2065  rint..```.._An e
+00020470: 7861 6d70 6c65 206f 6620 6120 6361 7365  xample of a case
+00020480: 2077 6865 7265 2075 7369 6e67 2074 6865   where using the
+00020490: 2060 6164 6470 6174 7465 726e 6020 6675   `addpattern` fu
+000204a0: 6e63 7469 6f6e 2069 7320 6e65 6365 7373  nction is necess
+000204b0: 6172 7920 6f76 6572 2074 6865 205b 6061  ary over the [`a
+000204c0: 6464 7061 7474 6572 6e60 206b 6579 776f  ddpattern` keywo
+000204d0: 7264 5d28 2361 6464 7061 7474 6572 6e2d  rd](#addpattern-
+000204e0: 6675 6e63 7469 6f6e 7329 2064 7565 2074  functions) due t
+000204f0: 6f20 7468 6520 7573 6520 6f66 2069 6e2d  o the use of in-
+00020500: 6c69 6e65 2070 6174 7465 726e 2d6d 6174  line pattern-mat
+00020510: 6368 696e 6720 5b73 7461 7465 6d65 6e74  ching [statement
+00020520: 206c 616d 6264 6173 5d28 2373 7461 7465   lambdas](#state
+00020530: 6d65 6e74 2d6c 616d 6264 6173 292e 5f0d  ment-lambdas)._.
+00020540: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+00020550: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+00020560: 6974 686f 7574 2061 2063 6f6d 706c 6963  ithout a complic
+00020570: 6174 6564 2064 6563 6f72 6174 6f72 2064  ated decorator d
+00020580: 6566 696e 6974 696f 6e20 616e 6420 6120  efinition and a 
+00020590: 6c6f 6e67 2073 6572 6965 7320 6f66 2063  long series of c
+000205a0: 6865 636b 7320 666f 7220 6561 6368 2070  hecks for each p
+000205b0: 6174 7465 726e 2d6d 6174 6368 696e 672e  attern-matching.
+000205c0: 2053 6565 2074 6865 2063 6f6d 7069 6c65   See the compile
+000205d0: 6420 636f 6465 2066 6f72 2074 6865 2050  d code for the P
+000205e0: 7974 686f 6e20 7379 6e74 6178 2e5f 0d0a  ython syntax._..
+000205f0: 0d0a 2323 2323 2320 6070 7265 7061 7474  ..##### `prepatt
+00020600: 6572 6e60 0d0a 0d0a 2a2a 4445 5052 4543  ern`....**DEPREC
+00020610: 4154 4544 3a2a 2a20 436f 636f 6e75 7420  ATED:** Coconut 
+00020620: 616c 736f 2068 6173 2061 2060 7072 6570  also has a `prep
+00020630: 6174 7465 726e 6020 6275 696c 742d 696e  attern` built-in
+00020640: 2c20 7768 6963 6820 6164 6473 2070 6174  , which adds pat
+00020650: 7465 726e 7320 696e 2074 6865 206f 7070  terns in the opp
+00020660: 6f73 6974 6520 6f72 6465 7220 6f66 2060  osite order of `
+00020670: 6164 6470 6174 7465 726e 603b 2060 7072  addpattern`; `pr
+00020680: 6570 6174 7465 726e 6020 6973 2064 6566  epattern` is def
+00020690: 696e 6564 2061 733a 0d0a 0d0a 6060 6063  ined as:....```c
+000206a0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+000206b0: 6566 2070 7265 7061 7474 6572 6e28 6261  ef prepattern(ba
+000206c0: 7365 5f66 756e 6329 3a0d 0a20 2020 2022  se_func):..    "
+000206d0: 2222 4465 636f 7261 746f 7220 746f 2061  ""Decorator to a
+000206e0: 6464 2061 206e 6577 2063 6173 6520 746f  dd a new case to
+000206f0: 2061 2070 6174 7465 726e 2d6d 6174 6368   a pattern-match
+00020700: 696e 6720 6675 6e63 7469 6f6e 2c0d 0a20  ing function,.. 
+00020710: 2020 2077 6865 7265 2074 6865 206e 6577     where the new
+00020720: 2063 6173 6520 6973 2063 6865 636b 6564   case is checked
+00020730: 2066 6972 7374 2e22 2222 0d0a 2020 2020   first."""..    
+00020740: 6465 6620 7061 7474 6572 6e5f 7072 6570  def pattern_prep
+00020750: 656e 6465 7228 6675 6e63 293a 0d0a 2020  ender(func):..  
+00020760: 2020 2020 2020 7265 7475 726e 2061 6464        return add
+00020770: 7061 7474 6572 6e28 6675 6e63 2928 6261  pattern(func)(ba
+00020780: 7365 5f66 756e 6329 0d0a 2020 2020 7265  se_func)..    re
+00020790: 7475 726e 2070 6174 7465 726e 5f70 7265  turn pattern_pre
+000207a0: 7065 6e64 6572 0d0a 6060 600d 0a5f 4e6f  pender..```.._No
+000207b0: 7465 3a20 5061 7373 696e 6720 602d 2d73  te: Passing `--s
+000207c0: 7472 6963 7460 2064 6973 6162 6c65 7320  trict` disables 
+000207d0: 6465 7072 6563 6174 6564 2066 6561 7475  deprecated featu
+000207e0: 7265 732e 5f0d 0a0d 0a23 2323 2320 606d  res._....#### `m
+000207f0: 656d 6f69 7a65 600d 0a0d 0a2a 2a6d 656d  emoize`....**mem
+00020800: 6f69 7a65 2a2a 285f 6d61 7873 697a 655f  oize**(_maxsize_
+00020810: 3d60 4e6f 6e65 602c 205f 7479 7065 645f  =`None`, _typed_
+00020820: 3d60 4661 6c73 6560 290d 0a0d 0a2a 2a6d  =`False`)....**m
+00020830: 656d 6f69 7a65 2a2a 285f 7573 6572 5c5f  emoize**(_user\_
+00020840: 6675 6e63 7469 6f6e 5f29 0d0a 0d0a 436f  function_)....Co
+00020850: 636f 6e75 7420 7072 6f76 6964 6573 2060  conut provides `
+00020860: 6675 6e63 746f 6f6c 732e 6c72 755f 6361  functools.lru_ca
+00020870: 6368 6560 2061 7320 6120 6275 696c 742d  che` as a built-
+00020880: 696e 2075 6e64 6572 2074 6865 206e 616d  in under the nam
+00020890: 6520 606d 656d 6f69 7a65 6020 7769 7468  e `memoize` with
+000208a0: 2074 6865 206d 6f64 6966 6963 6174 696f   the modificatio
+000208b0: 6e20 7468 6174 2074 6865 205f 6d61 7873  n that the _maxs
+000208c0: 697a 655f 2070 6172 616d 6574 6572 2069  ize_ parameter i
+000208d0: 7320 7365 7420 746f 2060 4e6f 6e65 6020  s set to `None` 
+000208e0: 6279 2064 6566 6175 6c74 2e20 606d 656d  by default. `mem
+000208f0: 6f69 7a65 6020 6d61 6b65 7320 7468 6520  oize` makes the 
+00020900: 7573 6520 6361 7365 206f 6620 6f70 7469  use case of opti
+00020910: 6d69 7a69 6e67 2072 6563 7572 7369 7665  mizing recursive
+00020920: 2066 756e 6374 696f 6e73 2065 6173 6965   functions easie
+00020930: 722c 2061 7320 6120 5f6d 6178 7369 7a65  r, as a _maxsize
+00020940: 5f20 6f66 2060 4e6f 6e65 6020 6973 2075  _ of `None` is u
+00020950: 7375 616c 6c79 2077 6861 7420 6973 2064  sually what is d
+00020960: 6573 6972 6564 2069 6e20 7468 6174 2063  esired in that c
+00020970: 6173 652e 0d0a 0d0a 5573 6520 6f66 2060  ase.....Use of `
+00020980: 6d65 6d6f 697a 6560 2072 6571 7569 7265  memoize` require
+00020990: 7320 6066 756e 6374 6f6f 6c73 2e6c 7275  s `functools.lru
+000209a0: 5f63 6163 6865 602c 2077 6869 6368 2065  _cache`, which e
+000209b0: 7869 7374 7320 696e 2074 6865 2050 7974  xists in the Pyt
+000209c0: 686f 6e20 3320 7374 616e 6461 7264 206c  hon 3 standard l
+000209d0: 6962 7261 7279 2c20 6275 7420 756e 6465  ibrary, but unde
+000209e0: 7220 5079 7468 6f6e 2032 2077 696c 6c20  r Python 2 will 
+000209f0: 7265 7175 6972 6520 6070 6970 2069 6e73  require `pip ins
+00020a00: 7461 6c6c 2062 6163 6b70 6f72 7473 2e66  tall backports.f
+00020a10: 756e 6374 6f6f 6c73 5f6c 7275 5f63 6163  unctools_lru_cac
+00020a20: 6865 6020 746f 2066 756e 6374 696f 6e2e  he` to function.
+00020a30: 2041 6464 6974 696f 6e61 6c6c 792c 2069   Additionally, i
+00020a40: 6620 6f6e 2050 7974 686f 6e20 3220 616e  f on Python 2 an
+00020a50: 6420 6062 6163 6b70 6f72 7473 2e66 756e  d `backports.fun
+00020a60: 6374 6f6f 6c73 5f6c 7275 5f63 6163 6865  ctools_lru_cache
+00020a70: 6020 6973 2070 7265 7365 6e74 2c20 436f  ` is present, Co
+00020a80: 636f 6e75 7420 7769 6c6c 2070 6174 6368  conut will patch
+00020a90: 2060 6675 6e63 746f 6f6c 7360 2073 7563   `functools` suc
+00020aa0: 6820 7468 6174 2060 6675 6e63 746f 6f6c  h that `functool
+00020ab0: 732e 6c72 755f 6361 6368 6520 3d20 6261  s.lru_cache = ba
+00020ac0: 636b 706f 7274 732e 6675 6e63 746f 6f6c  ckports.functool
+00020ad0: 735f 6c72 755f 6361 6368 652e 6c72 755f  s_lru_cache.lru_
+00020ae0: 6361 6368 6560 2e0d 0a0d 0a23 2323 2323  cache`.....#####
+00020af0: 2050 7974 686f 6e20 446f 6373 0d0a 0d0a   Python Docs....
+00020b00: 402a 2a6d 656d 6f69 7a65 2a2a 285f 7573  @**memoize**(_us
+00020b10: 6572 5c5f 6675 6e63 7469 6f6e 5f29 0d0a  er\_function_)..
+00020b20: 0d0a 402a 2a6d 656d 6f69 7a65 2a2a 285f  ..@**memoize**(_
+00020b30: 6d61 7873 697a 653d 4e6f 6e65 2c20 7479  maxsize=None, ty
+00020b40: 7065 643d 4661 6c73 655f 290d 0a0d 0a44  ped=False_)....D
+00020b50: 6563 6f72 6174 6f72 2074 6f20 7772 6170  ecorator to wrap
+00020b60: 2061 2066 756e 6374 696f 6e20 7769 7468   a function with
+00020b70: 2061 206d 656d 6f69 7a69 6e67 2063 616c   a memoizing cal
+00020b80: 6c61 626c 6520 7468 6174 2073 6176 6573  lable that saves
+00020b90: 2075 7020 746f 2074 6865 205f 6d61 7873   up to the _maxs
+00020ba0: 697a 655f 206d 6f73 7420 7265 6365 6e74  ize_ most recent
+00020bb0: 2063 616c 6c73 2e20 4974 2063 616e 2073   calls. It can s
+00020bc0: 6176 6520 7469 6d65 2077 6865 6e20 616e  ave time when an
+00020bd0: 2065 7870 656e 7369 7665 206f 7220 492f   expensive or I/
+00020be0: 4f20 626f 756e 6420 6675 6e63 7469 6f6e  O bound function
+00020bf0: 2069 7320 7065 7269 6f64 6963 616c 6c79   is periodically
+00020c00: 2063 616c 6c65 6420 7769 7468 2074 6865   called with the
+00020c10: 2073 616d 6520 6172 6775 6d65 6e74 732e   same arguments.
+00020c20: 0d0a 0d0a 5369 6e63 6520 6120 6469 6374  ....Since a dict
+00020c30: 696f 6e61 7279 2069 7320 7573 6564 2074  ionary is used t
+00020c40: 6f20 6361 6368 6520 7265 7375 6c74 732c  o cache results,
+00020c50: 2074 6865 2070 6f73 6974 696f 6e61 6c20   the positional 
+00020c60: 616e 6420 6b65 7977 6f72 6420 6172 6775  and keyword argu
+00020c70: 6d65 6e74 7320 746f 2074 6865 2066 756e  ments to the fun
+00020c80: 6374 696f 6e20 6d75 7374 2062 6520 6861  ction must be ha
+00020c90: 7368 6162 6c65 2e0d 0a0d 0a44 6973 7469  shable.....Disti
+00020ca0: 6e63 7420 6172 6775 6d65 6e74 2070 6174  nct argument pat
+00020cb0: 7465 726e 7320 6d61 7920 6265 2063 6f6e  terns may be con
+00020cc0: 7369 6465 7265 6420 746f 2062 6520 6469  sidered to be di
+00020cd0: 7374 696e 6374 2063 616c 6c73 2077 6974  stinct calls wit
+00020ce0: 6820 7365 7061 7261 7465 2063 6163 6865  h separate cache
+00020cf0: 2065 6e74 7269 6573 2e20 466f 7220 6578   entries. For ex
+00020d00: 616d 706c 652c 2060 6628 613d 312c 2062  ample, `f(a=1, b
+00020d10: 3d32 2960 2061 6e64 2060 6628 623d 322c  =2)` and `f(b=2,
+00020d20: 2061 3d31 2960 2064 6966 6665 7220 696e   a=1)` differ in
+00020d30: 2074 6865 6972 206b 6579 776f 7264 2061   their keyword a
+00020d40: 7267 756d 656e 7420 6f72 6465 7220 616e  rgument order an
+00020d50: 6420 6d61 7920 6861 7665 2074 776f 2073  d may have two s
+00020d60: 6570 6172 6174 6520 6361 6368 6520 656e  eparate cache en
+00020d70: 7472 6965 732e 0d0a 0d0a 4966 205f 7573  tries.....If _us
+00020d80: 6572 5c5f 6675 6e63 7469 6f6e 5f20 6973  er\_function_ is
+00020d90: 2073 7065 6369 6669 6564 2c20 6974 206d   specified, it m
+00020da0: 7573 7420 6265 2061 2063 616c 6c61 626c  ust be a callabl
+00020db0: 652e 2054 6869 7320 616c 6c6f 7773 2074  e. This allows t
+00020dc0: 6865 205f 6d65 6d6f 697a 655f 2064 6563  he _memoize_ dec
+00020dd0: 6f72 6174 6f72 2074 6f20 6265 2061 7070  orator to be app
+00020de0: 6c69 6564 2064 6972 6563 746c 7920 746f  lied directly to
+00020df0: 2061 2075 7365 7220 6675 6e63 7469 6f6e   a user function
+00020e00: 2c20 6c65 6176 696e 6720 7468 6520 6d61  , leaving the ma
+00020e10: 7873 697a 6520 6174 2069 7473 2064 6566  xsize at its def
+00020e20: 6175 6c74 2076 616c 7565 206f 6620 604e  ault value of `N
+00020e30: 6f6e 6560 3a0d 0a60 6060 636f 636f 6e75  one`:..```coconu
+00020e40: 745f 7079 7468 6f6e 0d0a 406d 656d 6f69  t_python..@memoi
+00020e50: 7a65 0d0a 6465 6620 636f 756e 745f 766f  ze..def count_vo
+00020e60: 7765 6c73 2873 656e 7465 6e63 6529 3a0d  wels(sentence):.
+00020e70: 0a20 2020 2072 6574 7572 6e20 7375 6d28  .    return sum(
+00020e80: 7365 6e74 656e 6365 2e63 6f75 6e74 2876  sentence.count(v
+00020e90: 6f77 656c 2920 666f 7220 766f 7765 6c20  owel) for vowel 
+00020ea0: 696e 2027 4145 494f 5561 6569 6f75 2729  in 'AEIOUaeiou')
+00020eb0: 0d0a 6060 600d 0a0d 0a49 6620 5f6d 6178  ..```....If _max
+00020ec0: 7369 7a65 5f20 6973 2073 6574 2074 6f20  size_ is set to 
+00020ed0: 604e 6f6e 6560 2c20 7468 6520 4c52 5520  `None`, the LRU 
+00020ee0: 6665 6174 7572 6520 6973 2064 6973 6162  feature is disab
+00020ef0: 6c65 6420 616e 6420 7468 6520 6361 6368  led and the cach
+00020f00: 6520 6361 6e20 6772 6f77 2077 6974 686f  e can grow witho
+00020f10: 7574 2062 6f75 6e64 2e0d 0a0d 0a49 6620  ut bound.....If 
+00020f20: 5f74 7970 6564 5f20 6973 2073 6574 2074  _typed_ is set t
+00020f30: 6f20 7472 7565 2c20 6675 6e63 7469 6f6e  o true, function
+00020f40: 2061 7267 756d 656e 7473 206f 6620 6469   arguments of di
+00020f50: 6666 6572 656e 7420 7479 7065 7320 7769  fferent types wi
+00020f60: 6c6c 2062 6520 6361 6368 6564 2073 6570  ll be cached sep
+00020f70: 6172 6174 656c 792e 2049 6620 7479 7065  arately. If type
+00020f80: 6420 6973 2066 616c 7365 2c20 7468 6520  d is false, the 
+00020f90: 696d 706c 656d 656e 7461 7469 6f6e 2077  implementation w
+00020fa0: 696c 6c20 7573 7561 6c6c 7920 7265 6761  ill usually rega
+00020fb0: 7264 2074 6865 6d20 6173 2065 7175 6976  rd them as equiv
+00020fc0: 616c 656e 7420 6361 6c6c 7320 616e 6420  alent calls and 
+00020fd0: 6f6e 6c79 2063 6163 6865 2061 2073 696e  only cache a sin
+00020fe0: 676c 6520 7265 7375 6c74 2e20 2853 6f6d  gle result. (Som
+00020ff0: 6520 7479 7065 7320 7375 6368 2061 7320  e types such as 
+00021000: 7374 7220 616e 6420 696e 7420 6d61 7920  str and int may 
+00021010: 6265 2063 6163 6865 6420 7365 7061 7261  be cached separa
+00021020: 7465 6c79 2065 7665 6e20 7768 656e 2074  tely even when t
+00021030: 7970 6564 2069 7320 6661 6c73 652e 290d  yped is false.).
+00021040: 0a0d 0a4e 6f74 652c 2074 7970 6520 7370  ...Note, type sp
+00021050: 6563 6966 6963 6974 7920 6170 706c 6965  ecificity applie
+00021060: 7320 6f6e 6c79 2074 6f20 7468 6520 6675  s only to the fu
+00021070: 6e63 7469 6f6e e280 9973 2069 6d6d 6564  nction...s immed
+00021080: 6961 7465 2061 7267 756d 656e 7473 2072  iate arguments r
+00021090: 6174 6865 7220 7468 616e 2074 6865 6972  ather than their
+000210a0: 2063 6f6e 7465 6e74 732e 2054 6865 2073   contents. The s
+000210b0: 6361 6c61 7220 6172 6775 6d65 6e74 732c  calar arguments,
+000210c0: 2060 4465 6369 6d61 6c28 3432 2960 2061   `Decimal(42)` a
+000210d0: 6e64 2060 4672 6163 7469 6f6e 2834 3229  nd `Fraction(42)
+000210e0: 6020 6172 6520 6265 2074 7265 6174 6564  ` are be treated
+000210f0: 2061 7320 6469 7374 696e 6374 2063 616c   as distinct cal
+00021100: 6c73 2077 6974 6820 6469 7374 696e 6374  ls with distinct
+00021110: 2072 6573 756c 7473 2e20 496e 2063 6f6e   results. In con
+00021120: 7472 6173 742c 2074 6865 2074 7570 6c65  trast, the tuple
+00021130: 2061 7267 756d 656e 7473 2060 2827 616e   arguments `('an
+00021140: 7377 6572 272c 2044 6563 696d 616c 2834  swer', Decimal(4
+00021150: 3229 2960 2061 6e64 2060 2827 616e 7377  2))` and `('answ
+00021160: 6572 272c 2046 7261 6374 696f 6e28 3432  er', Fraction(42
+00021170: 2929 6020 6172 6520 7472 6561 7465 6420  ))` are treated 
+00021180: 6173 2065 7175 6976 616c 656e 742e 0d0a  as equivalent...
+00021190: 0d0a 5468 6520 6465 636f 7261 746f 7220  ..The decorator 
+000211a0: 616c 736f 2070 726f 7669 6465 7320 6120  also provides a 
+000211b0: 6063 6163 6865 5f63 6c65 6172 2829 6020  `cache_clear()` 
+000211c0: 6675 6e63 7469 6f6e 2066 6f72 2063 6c65  function for cle
+000211d0: 6172 696e 6720 6f72 2069 6e76 616c 6964  aring or invalid
+000211e0: 6174 696e 6720 7468 6520 6361 6368 652e  ating the cache.
+000211f0: 0d0a 0d0a 5468 6520 6f72 6967 696e 616c  ....The original
+00021200: 2075 6e64 6572 6c79 696e 6720 6675 6e63   underlying func
+00021210: 7469 6f6e 2069 7320 6163 6365 7373 6962  tion is accessib
+00021220: 6c65 2074 6872 6f75 6768 2074 6865 2060  le through the `
+00021230: 5f5f 7772 6170 7065 645f 5f60 2061 7474  __wrapped__` att
+00021240: 7269 6275 7465 2e20 5468 6973 2069 7320  ribute. This is 
+00021250: 7573 6566 756c 2066 6f72 2069 6e74 726f  useful for intro
+00021260: 7370 6563 7469 6f6e 2c20 666f 7220 6279  spection, for by
+00021270: 7061 7373 696e 6720 7468 6520 6361 6368  passing the cach
+00021280: 652c 206f 7220 666f 7220 7265 7772 6170  e, or for rewrap
+00021290: 7069 6e67 2074 6865 2066 756e 6374 696f  ping the functio
+000212a0: 6e20 7769 7468 2061 2064 6966 6665 7265  n with a differe
+000212b0: 6e74 2063 6163 6865 2e0d 0a0d 0a54 6865  nt cache.....The
+000212c0: 2063 6163 6865 206b 6565 7073 2072 6566   cache keeps ref
+000212d0: 6572 656e 6365 7320 746f 2074 6865 2061  erences to the a
+000212e0: 7267 756d 656e 7473 2061 6e64 2072 6574  rguments and ret
+000212f0: 7572 6e20 7661 6c75 6573 2075 6e74 696c  urn values until
+00021300: 2074 6865 7920 6167 6520 6f75 7420 6f66   they age out of
+00021310: 2074 6865 2063 6163 6865 206f 7220 756e   the cache or un
+00021320: 7469 6c20 7468 6520 6361 6368 6520 6973  til the cache is
+00021330: 2063 6c65 6172 6564 2e0d 0a0d 0a49 6620   cleared.....If 
+00021340: 6120 6d65 7468 6f64 2069 7320 6361 6368  a method is cach
+00021350: 6564 2c20 7468 6520 6073 656c 6660 2069  ed, the `self` i
+00021360: 6e73 7461 6e63 6520 6172 6775 6d65 6e74  nstance argument
+00021370: 2069 7320 696e 636c 7564 6564 2069 6e20   is included in 
+00021380: 7468 6520 6361 6368 652e 2053 6565 205b  the cache. See [
+00021390: 486f 7720 646f 2049 2063 6163 6865 206d  How do I cache m
+000213a0: 6574 686f 6420 6361 6c6c 733f 5d28 6874  ethod calls?](ht
+000213b0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+000213c0: 6e2e 6f72 672f 332f 6661 712f 7072 6f67  n.org/3/faq/prog
+000213d0: 7261 6d6d 696e 672e 6874 6d6c 2366 6171  ramming.html#faq
+000213e0: 2d63 6163 6865 2d6d 6574 686f 642d 6361  -cache-method-ca
+000213f0: 6c6c 7329 0d0a 0d0a 416e 205b 4c52 5520  lls)....An [LRU 
+00021400: 286c 6561 7374 2072 6563 656e 746c 7920  (least recently 
+00021410: 7573 6564 2920 6361 6368 655d 2868 7474  used) cache](htt
+00021420: 7073 3a2f 2f65 6e2e 7769 6b69 7065 6469  ps://en.wikipedi
+00021430: 612e 6f72 672f 7769 6b69 2f43 6163 6865  a.org/wiki/Cache
+00021440: 5f72 6570 6c61 6365 6d65 6e74 5f70 6f6c  _replacement_pol
+00021450: 6963 6965 7323 4c65 6173 745f 7265 6365  icies#Least_rece
+00021460: 6e74 6c79 5f75 7365 645f 284c 5255 2929  ntly_used_(LRU))
+00021470: 2077 6f72 6b73 2062 6573 7420 7768 656e   works best when
+00021480: 2074 6865 206d 6f73 7420 7265 6365 6e74   the most recent
+00021490: 2063 616c 6c73 2061 7265 2074 6865 2062   calls are the b
+000214a0: 6573 7420 7072 6564 6963 746f 7273 206f  est predictors o
+000214b0: 6620 7570 636f 6d69 6e67 2063 616c 6c73  f upcoming calls
+000214c0: 2028 666f 7220 6578 616d 706c 652c 2074   (for example, t
+000214d0: 6865 206d 6f73 7420 706f 7075 6c61 7220  he most popular 
+000214e0: 6172 7469 636c 6573 206f 6e20 6120 6e65  articles on a ne
+000214f0: 7773 2073 6572 7665 7220 7465 6e64 2074  ws server tend t
+00021500: 6f20 6368 616e 6765 2065 6163 6820 6461  o change each da
+00021510: 7929 2e20 5468 6520 6361 6368 65e2 8099  y). The cache...
+00021520: 7320 7369 7a65 206c 696d 6974 2061 7373  s size limit ass
+00021530: 7572 6573 2074 6861 7420 7468 6520 6361  ures that the ca
+00021540: 6368 6520 646f 6573 206e 6f74 2067 726f  che does not gro
+00021550: 7720 7769 7468 6f75 7420 626f 756e 6420  w without bound 
+00021560: 6f6e 206c 6f6e 672d 7275 6e6e 696e 6720  on long-running 
+00021570: 7072 6f63 6573 7365 7320 7375 6368 2061  processes such a
+00021580: 7320 7765 6220 7365 7276 6572 732e 0d0a  s web servers...
+00021590: 0d0a 496e 2067 656e 6572 616c 2c20 7468  ..In general, th
+000215a0: 6520 4c52 5520 6361 6368 6520 7368 6f75  e LRU cache shou
+000215b0: 6c64 206f 6e6c 7920 6265 2075 7365 6420  ld only be used 
+000215c0: 7768 656e 2079 6f75 2077 616e 7420 746f  when you want to
+000215d0: 2072 6575 7365 2070 7265 7669 6f75 736c   reuse previousl
+000215e0: 7920 636f 6d70 7574 6564 2076 616c 7565  y computed value
+000215f0: 732e 2041 6363 6f72 6469 6e67 6c79 2c20  s. Accordingly, 
+00021600: 6974 2064 6f65 736e e280 9974 206d 616b  it doesn...t mak
+00021610: 6520 7365 6e73 6520 746f 2063 6163 6865  e sense to cache
+00021620: 2066 756e 6374 696f 6e73 2077 6974 6820   functions with 
+00021630: 7369 6465 2d65 6666 6563 7473 2c20 6675  side-effects, fu
+00021640: 6e63 7469 6f6e 7320 7468 6174 206e 6565  nctions that nee
+00021650: 6420 746f 2063 7265 6174 6520 6469 7374  d to create dist
+00021660: 696e 6374 206d 7574 6162 6c65 206f 626a  inct mutable obj
+00021670: 6563 7473 206f 6e20 6561 6368 2063 616c  ects on each cal
+00021680: 6c2c 206f 7220 696d 7075 7265 2066 756e  l, or impure fun
+00021690: 6374 696f 6e73 2073 7563 6820 6173 2074  ctions such as t
+000216a0: 696d 6528 2920 6f72 2072 616e 646f 6d28  ime() or random(
+000216b0: 292e 0d0a 0d0a 4578 616d 706c 6520 6f66  ).....Example of
+000216c0: 2065 6666 6963 6965 6e74 6c79 2063 6f6d   efficiently com
+000216d0: 7075 7469 6e67 2046 6962 6f6e 6163 6369  puting Fibonacci
+000216e0: 206e 756d 6265 7273 2075 7369 6e67 2061   numbers using a
+000216f0: 2063 6163 6865 2074 6f20 696d 706c 656d   cache to implem
+00021700: 656e 7420 6120 6479 6e61 6d69 6320 7072  ent a dynamic pr
+00021710: 6f67 7261 6d6d 696e 6720 7465 6368 6e69  ogramming techni
+00021720: 7175 653a 0d0a 6060 6063 6f63 6f6e 7574  que:..```coconut
+00021730: 5f70 7963 6f6e 0d0a 406d 656d 6f69 7a65  _pycon..@memoize
+00021740: 0d0a 6465 6620 6669 6228 6e29 3a0d 0a20  ..def fib(n):.. 
+00021750: 2020 2069 6620 6e20 3c20 323a 0d0a 2020     if n < 2:..  
+00021760: 2020 2020 2020 7265 7475 726e 206e 0d0a        return n..
+00021770: 2020 2020 7265 7475 726e 2066 6962 286e      return fib(n
+00021780: 2d31 2920 2b20 6669 6228 6e2d 3229 0d0a  -1) + fib(n-2)..
+00021790: 0d0a 3e3e 3e20 5b66 6962 286e 2920 666f  ..>>> [fib(n) fo
+000217a0: 7220 6e20 696e 2072 616e 6765 2831 3629  r n in range(16)
+000217b0: 5d0d 0a5b 302c 2031 2c20 312c 2032 2c20  ]..[0, 1, 1, 2, 
+000217c0: 332c 2035 2c20 382c 2031 332c 2032 312c  3, 5, 8, 13, 21,
+000217d0: 2033 342c 2035 352c 2038 392c 2031 3434   34, 55, 89, 144
+000217e0: 2c20 3233 332c 2033 3737 2c20 3631 305d  , 233, 377, 610]
+000217f0: 0d0a 0d0a 3e3e 3e20 6669 622e 6361 6368  ....>>> fib.cach
+00021800: 655f 696e 666f 2829 0d0a 4361 6368 6549  e_info()..CacheI
+00021810: 6e66 6f28 6869 7473 3d32 382c 206d 6973  nfo(hits=28, mis
+00021820: 7365 733d 3136 2c20 6d61 7873 697a 653d  ses=16, maxsize=
+00021830: 4e6f 6e65 2c20 6375 7272 7369 7a65 3d31  None, currsize=1
+00021840: 3629 0d0a 6060 600d 0a0d 0a23 2323 2323  6)..```....#####
+00021850: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00021860: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+00021870: 6f6e 7574 0d0a 6465 6620 6669 6228 6e20  onut..def fib(n 
+00021880: 6966 206e 203c 2032 2920 3d20 6e0d 0a0d  if n < 2) = n...
+00021890: 0a40 6d65 6d6f 697a 650d 0a40 6164 6470  .@memoize..@addp
+000218a0: 6174 7465 726e 2866 6962 290d 0a64 6566  attern(fib)..def
+000218b0: 2066 6962 286e 2920 3d20 6669 6228 6e2d   fib(n) = fib(n-
+000218c0: 3129 202b 2066 6962 286e 2d32 290d 0a60  1) + fib(n-2)..`
+000218d0: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
+000218e0: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
+000218f0: 7468 6f6e 0d0a 7472 793a 0d0a 2020 2020  thon..try:..    
+00021900: 6672 6f6d 2066 756e 6374 6f6f 6c73 2069  from functools i
+00021910: 6d70 6f72 7420 6c72 755f 6361 6368 650d  mport lru_cache.
+00021920: 0a65 7863 6570 7420 496d 706f 7274 4572  .except ImportEr
+00021930: 726f 723a 0d0a 2020 2020 6672 6f6d 2062  ror:..    from b
+00021940: 6163 6b70 6f72 7473 2e66 756e 6374 6f6f  ackports.functoo
+00021950: 6c73 5f6c 7275 5f63 6163 6865 2069 6d70  ls_lru_cache imp
+00021960: 6f72 7420 6c72 755f 6361 6368 650d 0a40  ort lru_cache..@
+00021970: 6c72 755f 6361 6368 6528 6d61 7873 697a  lru_cache(maxsiz
+00021980: 653d 4e6f 6e65 290d 0a64 6566 2066 6962  e=None)..def fib
+00021990: 286e 293a 0d0a 2020 2020 6966 206e 203c  (n):..    if n <
+000219a0: 2032 3a0d 0a20 2020 2020 2020 2072 6574   2:..        ret
+000219b0: 7572 6e20 6e0d 0a20 2020 2072 6574 7572  urn n..    retur
+000219c0: 6e20 6669 6228 6e2d 3129 202b 2066 6962  n fib(n-1) + fib
+000219d0: 286e 2d32 290d 0a60 6060 0d0a 0d0a 2323  (n-2)..```....##
+000219e0: 2323 2060 6f76 6572 7269 6465 600d 0a0d  ## `override`...
+000219f0: 0a2a 2a6f 7665 7272 6964 652a 2a28 5f66  .**override**(_f
+00021a00: 756e 635f 290d 0a0d 0a43 6f63 6f6e 7574  unc_)....Coconut
+00021a10: 2070 726f 7669 6465 7320 7468 6520 6040   provides the `@
+00021a20: 6f76 6572 7269 6465 6020 6465 636f 7261  override` decora
+00021a30: 746f 7220 746f 2061 6c6c 6f77 2064 6563  tor to allow dec
+00021a40: 6c61 7269 6e67 2061 206d 6574 686f 6420  laring a method 
+00021a50: 6465 6669 6e69 7469 6f6e 2069 6e20 6120  definition in a 
+00021a60: 7375 6263 6c61 7373 2061 7320 616e 206f  subclass as an o
+00021a70: 7665 7272 6964 6520 6f66 2073 6f6d 6520  verride of some 
+00021a80: 7061 7265 6e74 2063 6c61 7373 206d 6574  parent class met
+00021a90: 686f 642e 2057 6865 6e20 6040 6f76 6572  hod. When `@over
+00021aa0: 7269 6465 6020 6973 2075 7365 6420 6f6e  ride` is used on
+00021ab0: 2061 206d 6574 686f 642c 2069 6620 6120   a method, if a 
+00021ac0: 6d65 7468 6f64 206f 6620 7468 6520 7361  method of the sa
+00021ad0: 6d65 206e 616d 6520 646f 6573 206e 6f74  me name does not
+00021ae0: 2065 7869 7374 206f 6e20 736f 6d65 2070   exist on some p
+00021af0: 6172 656e 7420 636c 6173 732c 2074 6865  arent class, the
+00021b00: 2063 6c61 7373 2064 6566 696e 6974 696f   class definitio
+00021b10: 6e20 7769 6c6c 2072 6169 7365 2061 2060  n will raise a `
+00021b20: 5275 6e74 696d 6545 7272 6f72 602e 0d0a  RuntimeError`...
+00021b30: 0d0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
+00021b40: 606f 7665 7272 6964 6560 2077 696c 6c20  `override` will 
+00021b50: 7072 6573 656e 7420 746f 2074 7970 6520  present to type 
+00021b60: 6368 6563 6b65 7273 2061 7320 5b60 7479  checkers as [`ty
+00021b70: 7069 6e67 5f65 7874 656e 7369 6f6e 732e  ping_extensions.
+00021b80: 6f76 6572 7269 6465 605d 2868 7474 7073  override`](https
+00021b90: 3a2f 2f70 7970 692e 6f72 672f 7072 6f6a  ://pypi.org/proj
+00021ba0: 6563 742f 7479 7069 6e67 2d65 7874 656e  ect/typing-exten
+00021bb0: 7369 6f6e 732f 292e 0d0a 0d0a 2323 2323  sions/).....####
+00021bc0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+00021bd0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+00021be0: 636f 6e75 740d 0a63 6c61 7373 2041 3a0d  conut..class A:.
+00021bf0: 0a20 2020 2078 203d 2031 0d0a 2020 2020  .    x = 1..    
+00021c00: 6465 6620 6628 7365 6c66 2c20 7929 203d  def f(self, y) =
+00021c10: 2073 656c 662e 7820 2b20 790d 0a0d 0a63   self.x + y....c
+00021c20: 6c61 7373 2042 3a0d 0a20 2020 2040 6f76  lass B:..    @ov
+00021c30: 6572 7269 6465 0d0a 2020 2020 6465 6620  erride..    def 
+00021c40: 6628 7365 6c66 2c20 7929 203d 2073 656c  f(self, y) = sel
+00021c50: 662e 7820 2b20 7920 2b20 310d 0a60 6060  f.x + y + 1..```
+00021c60: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00021c70: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
+00021c80: 7769 7468 6f75 7420 6120 6c6f 6e67 2064  without a long d
+00021c90: 6563 6f72 6174 6f72 2064 6566 696e 6974  ecorator definit
+00021ca0: 696f 6e2e 2054 6865 2066 756c 6c20 6465  ion. The full de
+00021cb0: 6669 6e69 7469 6f6e 206f 6620 7468 6520  finition of the 
+00021cc0: 6465 636f 7261 746f 7220 696e 2050 7974  decorator in Pyt
+00021cd0: 686f 6e20 6361 6e20 6265 2066 6f75 6e64  hon can be found
+00021ce0: 2069 6e20 7468 6520 436f 636f 6e75 7420   in the Coconut 
+00021cf0: 6865 6164 6572 2e5f 0d0a 0d0a 2323 2323  header._....####
+00021d00: 2060 7265 6375 7273 6976 655f 6974 6572   `recursive_iter
+00021d10: 6174 6f72 600d 0a0d 0a2a 2a72 6563 7572  ator`....**recur
+00021d20: 7369 7665 5c5f 6974 6572 6174 6f72 2a2a  sive\_iterator**
+00021d30: 285f 6675 6e63 5f29 0d0a 0d0a 436f 636f  (_func_)....Coco
+00021d40: 6e75 7420 7072 6f76 6964 6573 2061 2060  nut provides a `
+00021d50: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
+00021d60: 6f72 6020 6465 636f 7261 746f 7220 7468  or` decorator th
+00021d70: 6174 206d 656d 6f69 7a65 7320 616e 7920  at memoizes any 
+00021d80: 7374 6174 656c 6573 732c 2072 6563 7572  stateless, recur
+00021d90: 7369 7665 2066 756e 6374 696f 6e20 7468  sive function th
+00021da0: 6174 2072 6574 7572 6e73 2061 6e20 6974  at returns an it
+00021db0: 6572 6174 6f72 2e20 546f 2075 7365 2060  erator. To use `
+00021dc0: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
+00021dd0: 6f72 6020 6f6e 2061 2066 756e 6374 696f  or` on a functio
+00021de0: 6e2c 2069 7420 6d75 7374 206d 6565 7420  n, it must meet 
+00021df0: 7468 6520 666f 6c6c 6f77 696e 6720 6372  the following cr
+00021e00: 6974 6572 6961 3a0d 0a0d 0a31 2e20 796f  iteria:....1. yo
+00021e10: 7572 2066 756e 6374 696f 6e20 6569 7468  ur function eith
+00021e20: 6572 2061 6c77 6179 7320 6072 6574 7572  er always `retur
+00021e30: 6e60 7320 616e 2069 7465 7261 746f 7220  n`s an iterator 
+00021e40: 6f72 2067 656e 6572 6174 6573 2061 6e20  or generates an 
+00021e50: 6974 6572 6174 6f72 2075 7369 6e67 2060  iterator using `
+00021e60: 7969 656c 6460 2c0d 0a32 2e20 7768 656e  yield`,..2. when
+00021e70: 2063 616c 6c65 6420 6d75 6c74 6970 6c65   called multiple
+00021e80: 2074 696d 6573 2077 6974 6820 6172 6775   times with argu
+00021e90: 6d65 6e74 7320 7468 6174 2061 7265 2065  ments that are e
+00021ea0: 7175 616c 2c20 796f 7572 2066 756e 6374  qual, your funct
+00021eb0: 696f 6e20 7072 6f64 7563 6573 2074 6865  ion produces the
+00021ec0: 2073 616d 6520 6974 6572 6174 6f72 2028   same iterator (
+00021ed0: 796f 7572 2066 756e 6374 696f 6e20 6973  your function is
+00021ee0: 2073 7461 7465 6c65 7373 292c 2061 6e64   stateless), and
+00021ef0: 0d0a 332e 2079 6f75 7220 6675 6e63 7469  ..3. your functi
+00021f00: 6f6e 2067 6574 7320 6361 6c6c 6564 2028  on gets called (
+00021f10: 7573 7561 6c6c 7920 6361 6c6c 7320 6974  usually calls it
+00021f20: 7365 6c66 2920 6d75 6c74 6970 6c65 2074  self) multiple t
+00021f30: 696d 6573 2077 6974 6820 7468 6520 7361  imes with the sa
+00021f40: 6d65 2061 7267 756d 656e 7473 2e0d 0a0d  me arguments....
+00021f50: 0a49 6620 796f 7520 6172 6520 656e 636f  .If you are enco
+00021f60: 756e 7465 7269 6e67 2061 2060 5275 6e74  untering a `Runt
+00021f70: 696d 6545 7272 6f72 6020 6475 6520 746f  imeError` due to
+00021f80: 206d 6178 696d 756d 2072 6563 7572 7369   maximum recursi
+00021f90: 6f6e 2064 6570 7468 2c20 6974 2069 7320  on depth, it is 
+00021fa0: 6869 6768 6c79 2072 6563 6f6d 6d65 6e64  highly recommend
+00021fb0: 6564 2074 6861 7420 796f 7520 7265 7772  ed that you rewr
+00021fc0: 6974 6520 796f 7572 2066 756e 6374 696f  ite your functio
+00021fd0: 6e20 746f 206d 6565 7420 6569 7468 6572  n to meet either
+00021fe0: 2074 6865 2063 7269 7465 7269 6120 6162   the criteria ab
+00021ff0: 6f76 6520 666f 7220 6072 6563 7572 7369  ove for `recursi
+00022000: 7665 5f69 7465 7261 746f 7260 2c20 6f72  ve_iterator`, or
+00022010: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
+00022020: 6e67 2063 7269 7465 7269 6120 666f 7220  ng criteria for 
+00022030: 436f 636f 6e75 7427 7320 5b74 6169 6c20  Coconut's [tail 
+00022040: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
+00022050: 6e5d 2823 7461 696c 2d63 616c 6c2d 6f70  n](#tail-call-op
+00022060: 7469 6d69 7a61 7469 6f6e 292c 2065 6974  timization), eit
+00022070: 6865 7220 6f66 2077 6869 6368 2073 686f  her of which sho
+00022080: 756c 6420 7072 6576 656e 7420 7375 6368  uld prevent such
+00022090: 2065 7272 6f72 732e 0d0a 0d0a 4675 7274   errors.....Furt
+000220a0: 6865 726d 6f72 652c 2060 7265 6375 7273  hermore, `recurs
+000220b0: 6976 655f 6974 6572 6174 6f72 6020 616c  ive_iterator` al
+000220c0: 736f 2061 6c6c 6f77 7320 7468 6520 7265  so allows the re
+000220d0: 736f 6c75 7469 6f6e 206f 6620 6120 5b6e  solution of a [n
+000220e0: 6173 7479 2073 6567 6d65 6e74 6174 696f  asty segmentatio
+000220f0: 6e20 6661 756c 7420 696e 2050 7974 686f  n fault in Pytho
+00022100: 6e27 7320 6974 6572 6174 6f72 206c 6f67  n's iterator log
+00022110: 6963 2074 6861 7420 6861 7320 6e65 7665  ic that has neve
+00022120: 7220 6265 656e 2066 6978 6564 5d28 6874  r been fixed](ht
+00022130: 7470 3a2f 2f62 7567 732e 7079 7468 6f6e  tp://bugs.python
+00022140: 2e6f 7267 2f69 7373 7565 3134 3031 3029  .org/issue14010)
+00022150: 2e20 5370 6563 6966 6963 616c 6c79 2c20  . Specifically, 
+00022160: 696e 7374 6561 6420 6f66 2077 7269 7469  instead of writi
+00022170: 6e67 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ng..```coconut..
+00022180: 7365 7120 3d20 6765 745f 656c 656d 2829  seq = get_elem()
+00022190: 203a 3a20 7365 710d 0a60 6060 0d0a 7768   :: seq..```..wh
+000221a0: 6963 6820 7769 6c6c 2063 7261 7368 2064  ich will crash d
+000221b0: 7565 2074 6f20 7468 6520 6166 6f72 656d  ue to the aforem
+000221c0: 656e 7469 6f6e 6564 2050 7974 686f 6e20  entioned Python 
+000221d0: 6973 7375 652c 2077 7269 7465 0d0a 6060  issue, write..``
+000221e0: 6063 6f63 6f6e 7574 0d0a 4072 6563 7572  `coconut..@recur
+000221f0: 7369 7665 5f69 7465 7261 746f 720d 0a64  sive_iterator..d
+00022200: 6566 2073 6571 2829 203d 2067 6574 5f65  ef seq() = get_e
+00022210: 6c65 6d28 2920 3a3a 2073 6571 2829 0d0a  lem() :: seq()..
+00022220: 6060 600d 0a77 6869 6368 2077 696c 6c20  ```..which will 
+00022230: 776f 726b 206a 7573 7420 6669 6e65 2e0d  work just fine..
+00022240: 0a0d 0a4f 6e65 2070 6974 6661 6c6c 2074  ...One pitfall t
+00022250: 6f20 6b65 6570 2069 6e20 6d69 6e64 2077  o keep in mind w
+00022260: 6f72 6b69 6e67 2077 6974 6820 6072 6563  orking with `rec
+00022270: 7572 7369 7665 5f69 7465 7261 746f 7260  ursive_iterator`
+00022280: 2069 7320 7468 6174 2069 7420 7368 6f75   is that it shou
+00022290: 6c64 6e27 7420 6265 2075 7365 6420 696e  ldn't be used in
+000222a0: 2063 6f6e 7465 7874 7320 7768 6572 6520   contexts where 
+000222b0: 7468 6520 6675 6e63 7469 6f6e 2063 616e  the function can
+000222c0: 2070 6f74 656e 7469 616c 6c79 2062 6520   potentially be 
+000222d0: 6361 6c6c 6564 206d 756c 7469 706c 6520  called multiple 
+000222e0: 7469 6d65 7320 7769 7468 2074 6865 2073  times with the s
+000222f0: 616d 6520 6974 6572 6174 6f72 206f 626a  ame iterator obj
+00022300: 6563 7420 6173 2061 6e20 696e 7075 742c  ect as an input,
+00022310: 2062 7574 2077 6974 6820 7468 6174 206f   but with that o
+00022320: 626a 6563 7420 6e6f 7420 6163 7475 616c  bject not actual
+00022330: 6c79 2063 6f72 7265 7370 6f6e 6469 6e67  ly corresponding
+00022340: 2074 6f20 7468 6520 7361 6d65 2069 7465   to the same ite
+00022350: 6d73 2028 652e 672e 2062 6563 6175 7365  ms (e.g. because
+00022360: 2074 6865 2066 6972 7374 2074 696d 6520   the first time 
+00022370: 7468 6520 6f62 6a65 6374 2068 6173 6e27  the object hasn'
+00022380: 7420 6265 656e 2069 7465 7261 7465 6420  t been iterated 
+00022390: 6f76 6572 2079 6574 2061 6e64 2074 6865  over yet and the
+000223a0: 2073 6563 6f6e 6420 7469 6d65 2069 7420   second time it 
+000223b0: 6861 7320 6265 656e 292e 0d0a 0d0a 2323  has been).....##
+000223c0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+000223d0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+000223e0: 636f 636f 6e75 740d 0a40 7265 6375 7273  coconut..@recurs
+000223f0: 6976 655f 6974 6572 6174 6f72 0d0a 6465  ive_iterator..de
+00022400: 6620 6669 6228 2920 3d20 2831 2c20 3129  f fib() = (1, 1)
+00022410: 203a 3a20 6d61 7028 282b 292c 2066 6962   :: map((+), fib
+00022420: 2829 2c20 6669 6228 2924 5b31 3a5d 290d  (), fib()$[1:]).
+00022430: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00022440: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+00022450: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
+00022460: 6e67 2064 6563 6f72 6174 6f72 2064 6566  ng decorator def
+00022470: 696e 6974 696f 6e2e 2054 6865 2066 756c  inition. The ful
+00022480: 6c20 6465 6669 6e69 7469 6f6e 206f 6620  l definition of 
+00022490: 7468 6520 6465 636f 7261 746f 7220 696e  the decorator in
+000224a0: 2050 7974 686f 6e20 6361 6e20 6265 2066   Python can be f
+000224b0: 6f75 6e64 2069 6e20 7468 6520 436f 636f  ound in the Coco
+000224c0: 6e75 7420 6865 6164 6572 2e5f 0d0a 0d0a  nut header._....
+000224d0: 2323 2320 4275 696c 742d 496e 2054 7970  ### Built-In Typ
+000224e0: 6573 0d0a 0d0a 6060 607b 636f 6e74 656e  es....```{conten
+000224f0: 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a  ts}..---..local:
+00022500: 0d0a 6465 7074 683a 2031 0d0a 2d2d 2d0d  ..depth: 1..---.
+00022510: 0a60 6060 0d0a 0d0a 2323 2323 2060 6d75  .```....#### `mu
+00022520: 6c74 6973 6574 600d 0a0d 0a2a 2a6d 756c  ltiset`....**mul
+00022530: 7469 7365 742a 2a28 5f69 7465 7261 626c  tiset**(_iterabl
+00022540: 655f 3d60 4e6f 6e65 602c 202f 2c20 2a2a  e_=`None`, /, **
+00022550: 6b77 6473 290d 0a0d 0a43 6f63 6f6e 7574  kwds)....Coconut
+00022560: 2070 726f 7669 6465 7320 606d 756c 7469   provides `multi
+00022570: 7365 7460 2061 7320 6120 6275 696c 742d  set` as a built-
+00022580: 696e 2073 7562 636c 6173 7320 6f66 205b  in subclass of [
+00022590: 6063 6f6c 6c65 6374 696f 6e73 2e43 6f75  `collections.Cou
+000225a0: 6e74 6572 605d 2868 7474 7073 3a2f 2f64  nter`](https://d
+000225b0: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+000225c0: 2f6c 6962 7261 7279 2f63 6f6c 6c65 6374  /library/collect
+000225d0: 696f 6e73 2e68 746d 6c23 636f 6c6c 6563  ions.html#collec
+000225e0: 7469 6f6e 732e 436f 756e 7465 7229 2074  tions.Counter) t
+000225f0: 6861 7420 6164 6469 7469 6f6e 616c 6c79  hat additionally
+00022600: 2069 6d70 6c65 6d65 6e74 7320 7468 6520   implements the 
+00022610: 6675 6c6c 205b 5365 7420 616e 6420 4d75  full [Set and Mu
+00022620: 7461 626c 6553 6574 2069 6e74 6572 6661  tableSet interfa
+00022630: 6365 735d 2868 7474 7073 3a2f 2f64 6f63  ces](https://doc
+00022640: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+00022650: 6962 7261 7279 2f63 6f6c 6c65 6374 696f  ibrary/collectio
+00022660: 6e73 2e61 6263 2e68 746d 6c29 2e0d 0a0d  ns.abc.html)....
+00022670: 0a46 6f72 2065 6173 696c 7920 636f 6e73  .For easily cons
+00022680: 7472 7563 7469 6e67 206d 756c 7469 7365  tructing multise
+00022690: 7473 2c20 436f 636f 6e75 7420 616c 736f  ts, Coconut also
+000226a0: 2070 726f 7669 6465 7320 5b6d 756c 7469   provides [multi
+000226b0: 7365 7420 6c69 7465 7261 6c73 5d28 2373  set literals](#s
+000226c0: 6574 2d6c 6974 6572 616c 7329 2e0d 0a0d  et-literals)....
+000226d0: 0a54 6865 206e 6577 206d 6574 686f 6473  .The new methods
+000226e0: 2070 726f 7669 6465 6420 6279 2060 6d75   provided by `mu
+000226f0: 6c74 6973 6574 6020 6f6e 2074 6f70 206f  ltiset` on top o
+00022700: 6620 6063 6f6c 6c65 6374 696f 6e73 2e43  f `collections.C
+00022710: 6f75 6e74 6572 6020 6172 653a 0d0a 2d20  ounter` are:..- 
+00022720: 6d75 6c74 6973 6574 2e2a 2a61 6464 2a2a  multiset.**add**
+00022730: 285f 6974 656d 5f29 3a20 4164 6420 616e  (_item_): Add an
+00022740: 2065 6c65 6d65 6e74 2074 6f20 6120 6d75   element to a mu
+00022750: 6c74 6973 6574 2e0d 0a2d 206d 756c 7469  ltiset...- multi
+00022760: 7365 742e 2a2a 6469 7363 6172 642a 2a28  set.**discard**(
+00022770: 5f69 7465 6d5f 293a 2052 656d 6f76 6520  _item_): Remove 
+00022780: 616e 2065 6c65 6d65 6e74 2066 726f 6d20  an element from 
+00022790: 6120 6d75 6c74 6973 6574 2069 6620 6974  a multiset if it
+000227a0: 2069 7320 6120 6d65 6d62 6572 2e0d 0a2d   is a member...-
+000227b0: 206d 756c 7469 7365 742e 2a2a 7265 6d6f   multiset.**remo
+000227c0: 7665 2a2a 285f 6974 656d 5f29 3a20 5265  ve**(_item_): Re
+000227d0: 6d6f 7665 2061 6e20 656c 656d 656e 7420  move an element 
+000227e0: 6672 6f6d 2061 206d 756c 7469 7365 743b  from a multiset;
+000227f0: 2069 7420 6d75 7374 2062 6520 6120 6d65   it must be a me
+00022800: 6d62 6572 2e0d 0a2d 206d 756c 7469 7365  mber...- multise
+00022810: 742e 2a2a 6973 6469 736a 6f69 6e74 2a2a  t.**isdisjoint**
+00022820: 285f 6f74 6865 725f 293a 2052 6574 7572  (_other_): Retur
+00022830: 6e20 5472 7565 2069 6620 7477 6f20 6d75  n True if two mu
+00022840: 6c74 6973 6574 7320 6861 7665 2061 206e  ltisets have a n
+00022850: 756c 6c20 696e 7465 7273 6563 7469 6f6e  ull intersection
+00022860: 2e0d 0a2d 206d 756c 7469 7365 742e 2a2a  ...- multiset.**
+00022870: 5c5f 5c5f 786f 725c 5f5c 5f2a 2a28 5f6f  \_\_xor\_\_**(_o
+00022880: 7468 6572 5f29 3a20 5265 7475 726e 2074  ther_): Return t
+00022890: 6865 2073 796d 6d65 7472 6963 2064 6966  he symmetric dif
+000228a0: 6665 7265 6e63 6520 6f66 2074 776f 206d  ference of two m
+000228b0: 756c 7469 7365 7473 2061 7320 6120 6e65  ultisets as a ne
+000228c0: 7720 6d75 6c74 6973 6574 2e20 5370 6563  w multiset. Spec
+000228d0: 6966 6963 616c 6c79 3a20 6061 205e 2062  ifically: `a ^ b
+000228e0: 203d 2028 6120 2d20 6229 207c 2028 6220   = (a - b) | (b 
+000228f0: 2d20 6129 600d 0a2d 206d 756c 7469 7365  - a)`..- multise
+00022900: 742e 2a2a 636f 756e 742a 2a28 5f69 7465  t.**count**(_ite
+00022910: 6d5f 293a 2052 6574 7572 6e20 7468 6520  m_): Return the 
+00022920: 6e75 6d62 6572 206f 6620 7469 6d65 7320  number of times 
+00022930: 616e 2065 6c65 6d65 6e74 206f 6363 7572  an element occur
+00022940: 7320 696e 2061 206d 756c 7469 7365 742e  s in a multiset.
+00022950: 2045 7175 6976 616c 656e 7420 746f 2060   Equivalent to `
+00022960: 6d75 6c74 6973 6574 5b69 7465 6d5d 602c  multiset[item]`,
+00022970: 2062 7574 2061 6464 6974 696f 6e61 6c6c   but additionall
+00022980: 7920 7665 7269 6669 6573 2074 6865 2063  y verifies the c
+00022990: 6f75 6e74 2069 7320 6e6f 6e2d 6e65 6761  ount is non-nega
+000229a0: 7469 7665 2e0d 0a0d 0a43 6f63 6f6e 7574  tive.....Coconut
+000229b0: 2061 6c73 6f20 656e 7375 7265 7320 7468   also ensures th
+000229c0: 6174 2060 6d75 6c74 6973 6574 6020 7375  at `multiset` su
+000229d0: 7070 6f72 7473 205b 7269 6368 2063 6f6d  pports [rich com
+000229e0: 7061 7269 736f 6e73 2061 6e64 2060 436f  parisons and `Co
+000229f0: 756e 7465 722e 746f 7461 6c28 2960 5d28  unter.total()`](
+00022a00: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+00022a10: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+00022a20: 792f 636f 6c6c 6563 7469 6f6e 732e 6874  y/collections.ht
+00022a30: 6d6c 2363 6f6c 6c65 6374 696f 6e73 2e43  ml#collections.C
+00022a40: 6f75 6e74 6572 2920 6f6e 2061 6c6c 2050  ounter) on all P
+00022a50: 7974 686f 6e20 7665 7273 696f 6e73 2e0d  ython versions..
+00022a60: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+00022a70: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+00022a80: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6d79  ..```coconut..my
+00022a90: 5f6d 756c 7469 7365 7420 3d20 6d7b 312c  _multiset = m{1,
+00022aa0: 2031 2c20 327d 0d0a 6d79 5f6d 756c 7469   1, 2}..my_multi
+00022ab0: 7365 742e 6164 6428 3329 0d0a 6d79 5f6d  set.add(3)..my_m
+00022ac0: 756c 7469 7365 742e 7265 6d6f 7665 2832  ultiset.remove(2
+00022ad0: 290d 0a70 7269 6e74 286d 795f 6d75 6c74  )..print(my_mult
+00022ae0: 6973 6574 290d 0a60 6060 0d0a 0d0a 2a2a  iset)..```....**
+00022af0: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+00022b00: 636f 6e75 745f 7079 7468 6f6e 0d0a 6672  conut_python..fr
+00022b10: 6f6d 2063 6f6c 6c65 6374 696f 6e73 2069  om collections i
+00022b20: 6d70 6f72 7420 436f 756e 7465 720d 0a6d  mport Counter..m
+00022b30: 795f 636f 756e 7465 7220 3d20 436f 756e  y_counter = Coun
+00022b40: 7465 7228 2831 2c20 312c 2032 2929 0d0a  ter((1, 1, 2))..
+00022b50: 6d79 5f63 6f75 6e74 6572 5b33 5d20 2b3d  my_counter[3] +=
+00022b60: 2031 0d0a 6d79 5f63 6f75 6e74 6572 5b32   1..my_counter[2
+00022b70: 5d20 2d3d 2031 0d0a 6966 206d 795f 636f  ] -= 1..if my_co
+00022b80: 756e 7465 725b 325d 203c 3d20 303a 0d0a  unter[2] <= 0:..
+00022b90: 2020 2020 6465 6c20 6d79 5f63 6f75 6e74      del my_count
+00022ba0: 6572 5b32 5d0d 0a70 7269 6e74 286d 795f  er[2]..print(my_
+00022bb0: 636f 756e 7465 7229 0d0a 6060 600d 0a0d  counter)..```...
+00022bc0: 0a23 2323 2320 6045 7870 6563 7465 6460  .#### `Expected`
+00022bd0: 0d0a 0d0a 2a2a 4578 7065 6374 6564 2a2a  ....**Expected**
+00022be0: 285f 7265 7375 6c74 5f3d 604e 6f6e 6560  (_result_=`None`
+00022bf0: 2c20 5f65 7272 6f72 5f3d 604e 6f6e 6560  , _error_=`None`
+00022c00: 290d 0a0d 0a43 6f63 6f6e 7574 2773 2060  )....Coconut's `
+00022c10: 4578 7065 6374 6564 6020 6275 696c 742d  Expected` built-
+00022c20: 696e 2069 7320 6120 436f 636f 6e75 7420  in is a Coconut 
+00022c30: 5b60 6461 7461 6020 7479 7065 5d28 2364  [`data` type](#d
+00022c40: 6174 6129 2074 6861 7420 7265 7072 6573  ata) that repres
+00022c50: 656e 7473 2061 2076 616c 7565 2074 6861  ents a value tha
+00022c60: 7420 6d61 7920 6f72 206d 6179 206e 6f74  t may or may not
+00022c70: 2062 6520 616e 2065 7272 6f72 2c20 7369   be an error, si
+00022c80: 6d69 6c61 7220 746f 2048 6173 6b65 6c6c  milar to Haskell
+00022c90: 2773 205b 6045 6974 6865 7260 5d28 6874  's [`Either`](ht
+00022ca0: 7470 733a 2f2f 6861 636b 6167 652e 6861  tps://hackage.ha
+00022cb0: 736b 656c 6c2e 6f72 672f 7061 636b 6167  skell.org/packag
+00022cc0: 652f 6261 7365 2d34 2e31 372e 302e 302f  e/base-4.17.0.0/
+00022cd0: 646f 6373 2f44 6174 612d 4569 7468 6572  docs/Data-Either
+00022ce0: 2e68 746d 6c29 2e0d 0a0d 0a60 4578 7065  .html).....`Expe
+00022cf0: 6374 6564 6020 6973 2065 6666 6563 7469  cted` is effecti
+00022d00: 7665 6c79 2065 7175 6976 616c 656e 7420  vely equivalent 
+00022d10: 746f 2074 6865 2066 6f6c 6c6f 7769 6e67  to the following
+00022d20: 3a0d 0a60 6060 636f 636f 6e75 740d 0a64  :..```coconut..d
+00022d30: 6174 6120 4578 7065 6374 6564 5b54 5d28  ata Expected[T](
+00022d40: 7265 7375 6c74 3a20 543f 203d 204e 6f6e  result: T? = Non
+00022d50: 652c 2065 7272 6f72 3a20 4261 7365 4578  e, error: BaseEx
+00022d60: 6365 7074 696f 6e3f 203d 204e 6f6e 6529  ception? = None)
+00022d70: 3a0d 0a20 2020 2064 6566 205f 5f62 6f6f  :..    def __boo
+00022d80: 6c5f 5f28 7365 6c66 2920 2d3e 2062 6f6f  l__(self) -> boo
+00022d90: 6c3a 0d0a 2020 2020 2020 2020 7265 7475  l:..        retu
+00022da0: 726e 2073 656c 662e 6572 726f 7220 6973  rn self.error is
+00022db0: 204e 6f6e 650d 0a20 2020 2064 6566 205f   None..    def _
+00022dc0: 5f66 6d61 705f 5f5b 555d 2873 656c 662c  _fmap__[U](self,
+00022dd0: 2066 756e 633a 2054 202d 3e20 5529 202d   func: T -> U) -
+00022de0: 3e20 4578 7065 6374 6564 5b55 5d3a 0d0a  > Expected[U]:..
+00022df0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00022e00: 656c 662e 5f5f 636c 6173 735f 5f28 6675  elf.__class__(fu
+00022e10: 6e63 2873 656c 662e 7265 7375 6c74 2929  nc(self.result))
+00022e20: 2069 6620 7365 6c66 2065 6c73 6520 7365   if self else se
+00022e30: 6c66 0d0a 2020 2020 6465 6620 616e 645f  lf..    def and_
+00022e40: 7468 656e 5b55 5d28 7365 6c66 2c20 6675  then[U](self, fu
+00022e50: 6e63 3a20 5420 2d3e 2045 7870 6563 7465  nc: T -> Expecte
+00022e60: 645b 555d 2920 2d3e 2045 7870 6563 7465  d[U]) -> Expecte
+00022e70: 645b 555d 3a0d 0a20 2020 2020 2020 2022  d[U]:..        "
+00022e80: 2222 4d61 7073 2061 2054 202d 3e20 4578  ""Maps a T -> Ex
+00022e90: 7065 6374 6564 5b55 5d20 6f76 6572 2061  pected[U] over a
+00022ea0: 6e20 4578 7065 6374 6564 5b54 5d20 746f  n Expected[T] to
+00022eb0: 2070 726f 6475 6365 2061 6e20 4578 7065   produce an Expe
+00022ec0: 6374 6564 5b55 5d2e 0d0a 2020 2020 2020  cted[U]...      
+00022ed0: 2020 496d 706c 656d 656e 7473 2061 206d    Implements a m
+00022ee0: 6f6e 6164 6963 2062 696e 642e 2045 7175  onadic bind. Equ
+00022ef0: 6976 616c 656e 7420 746f 2066 6d61 7020  ivalent to fmap 
+00022f00: 2e2e 3e20 2e6a 6f69 6e28 292e 2222 220d  ..> .join().""".
+00022f10: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00022f20: 7365 6c66 207c 3e20 666d 6170 2428 6675  self |> fmap$(fu
+00022f30: 6e63 2920 7c3e 202e 6a6f 696e 2829 0d0a  nc) |> .join()..
+00022f40: 2020 2020 6465 6620 6a6f 696e 2873 656c      def join(sel
+00022f50: 663a 2045 7870 6563 7465 645b 4578 7065  f: Expected[Expe
+00022f60: 6374 6564 5b54 5d5d 2920 2d3e 2045 7870  cted[T]]) -> Exp
+00022f70: 6563 7465 645b 545d 3a0d 0a20 2020 2020  ected[T]:..     
+00022f80: 2020 2022 2222 4d6f 6e61 6469 6320 6a6f     """Monadic jo
+00022f90: 696e 2e20 436f 6e76 6572 7473 2045 7870  in. Converts Exp
+00022fa0: 6563 7465 645b 4578 7065 6374 6564 5b54  ected[Expected[T
+00022fb0: 5d5d 2074 6f20 4578 7065 6374 6564 5b54  ]] to Expected[T
+00022fc0: 5d2e 2222 220d 0a20 2020 2020 2020 2069  ]."""..        i
+00022fd0: 6620 6e6f 7420 7365 6c66 3a0d 0a20 2020  f not self:..   
+00022fe0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00022ff0: 7365 6c66 0d0a 2020 2020 2020 2020 6966  self..        if
+00023000: 206e 6f74 2073 656c 662e 7265 7375 6c74   not self.result
+00023010: 2060 6973 696e 7374 616e 6365 6020 4578   `isinstance` Ex
+00023020: 7065 6374 6564 3a0d 0a20 2020 2020 2020  pected:..       
+00023030: 2020 2020 2072 6169 7365 2054 7970 6545       raise TypeE
+00023040: 7272 6f72 2822 4578 7065 6374 6564 2e6a  rror("Expected.j
+00023050: 6f69 6e28 2920 7265 7175 6972 6573 2061  oin() requires a
+00023060: 6e20 4578 7065 6374 6564 5b45 7870 6563  n Expected[Expec
+00023070: 7465 645b 5f5d 5d22 290d 0a20 2020 2020  ted[_]]")..     
+00023080: 2020 2072 6574 7572 6e20 7365 6c66 2e72     return self.r
+00023090: 6573 756c 740d 0a20 2020 2064 6566 206d  esult..    def m
+000230a0: 6170 5f65 7272 6f72 2873 656c 662c 2066  ap_error(self, f
+000230b0: 756e 633a 2042 6173 6545 7863 6570 7469  unc: BaseExcepti
+000230c0: 6f6e 202d 3e20 4261 7365 4578 6365 7074  on -> BaseExcept
+000230d0: 696f 6e29 202d 3e20 4578 7065 6374 6564  ion) -> Expected
+000230e0: 5b54 5d3a 0d0a 2020 2020 2020 2020 2222  [T]:..        ""
+000230f0: 224d 6170 7320 6675 6e63 206f 7665 7220  "Maps func over 
+00023100: 7468 6520 6572 726f 7220 6966 2069 7420  the error if it 
+00023110: 6578 6973 7473 2e22 2222 0d0a 2020 2020  exists."""..    
+00023120: 2020 2020 7265 7475 726e 2073 656c 6620      return self 
+00023130: 6966 2073 656c 6620 656c 7365 2073 656c  if self else sel
+00023140: 662e 5f5f 636c 6173 735f 5f28 6572 726f  f.__class__(erro
+00023150: 723d 6675 6e63 2873 656c 662e 6572 726f  r=func(self.erro
+00023160: 7229 290d 0a20 2020 2064 6566 206f 725f  r))..    def or_
+00023170: 656c 7365 5b55 5d28 7365 6c66 2c20 6675  else[U](self, fu
+00023180: 6e63 3a20 4261 7365 4578 6365 7074 696f  nc: BaseExceptio
+00023190: 6e20 2d3e 2045 7870 6563 7465 645b 555d  n -> Expected[U]
+000231a0: 2920 2d3e 2045 7870 6563 7465 645b 5420  ) -> Expected[T 
+000231b0: 7c20 555d 3a0d 0a20 2020 2020 2020 2022  | U]:..        "
+000231c0: 2222 5265 7475 726e 2073 656c 6620 6966  ""Return self if
+000231d0: 206e 6f20 6572 726f 722c 206f 7468 6572   no error, other
+000231e0: 7769 7365 2072 6574 7572 6e20 7468 6520  wise return the 
+000231f0: 7265 7375 6c74 206f 6620 6576 616c 7561  result of evalua
+00023200: 7469 6e67 2066 756e 6320 6f6e 2074 6865  ting func on the
+00023210: 2065 7272 6f72 2e22 2222 0d0a 2020 2020   error."""..    
+00023220: 2020 2020 7265 7475 726e 2073 656c 6620      return self 
+00023230: 6966 2073 656c 6620 656c 7365 2066 756e  if self else fun
+00023240: 6328 7365 6c66 2e65 7272 6f72 290d 0a20  c(self.error).. 
+00023250: 2020 2064 6566 2072 6573 756c 745f 6f72     def result_or
+00023260: 5b55 5d28 7365 6c66 2c20 6465 6661 756c  [U](self, defaul
+00023270: 743a 2055 2920 2d3e 2054 207c 2055 3a0d  t: U) -> T | U:.
+00023280: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
+00023290: 726e 2074 6865 2072 6573 756c 7420 6966  rn the result if
+000232a0: 2069 7420 6578 6973 7473 2c20 6f74 6865   it exists, othe
+000232b0: 7277 6973 6520 7265 7475 726e 2074 6865  rwise return the
+000232c0: 2064 6566 6175 6c74 2e22 2222 0d0a 2020   default."""..  
+000232d0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+000232e0: 662e 7265 7375 6c74 2069 6620 7365 6c66  f.result if self
+000232f0: 2065 6c73 6520 6465 6661 756c 740d 0a20   else default.. 
+00023300: 2020 2064 6566 2072 6573 756c 745f 6f72     def result_or
+00023310: 5f65 6c73 655b 555d 2873 656c 662c 2066  _else[U](self, f
+00023320: 756e 633a 2042 6173 6545 7863 6570 7469  unc: BaseExcepti
+00023330: 6f6e 202d 3e20 5529 202d 3e20 5420 7c20  on -> U) -> T | 
+00023340: 553a 0d0a 2020 2020 2020 2020 2222 2252  U:..        """R
+00023350: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
+00023360: 2069 6620 6974 2065 7869 7374 732c 206f   if it exists, o
+00023370: 7468 6572 7769 7365 2072 6574 7572 6e20  therwise return 
+00023380: 7468 6520 7265 7375 6c74 206f 6620 6576  the result of ev
+00023390: 616c 7561 7469 6e67 2066 756e 6320 6f6e  aluating func on
+000233a0: 2074 6865 2065 7272 6f72 2e22 2222 0d0a   the error."""..
+000233b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+000233c0: 656c 662e 7265 7375 6c74 2069 6620 7365  elf.result if se
+000233d0: 6c66 2065 6c73 6520 6675 6e63 2873 656c  lf else func(sel
+000233e0: 662e 6572 726f 7229 0d0a 2020 2020 6465  f.error)..    de
+000233f0: 6620 756e 7772 6170 2873 656c 6629 202d  f unwrap(self) -
+00023400: 3e20 543a 0d0a 2020 2020 2020 2020 2222  > T:..        ""
+00023410: 2255 6e77 7261 7020 7468 6520 7265 7375  "Unwrap the resu
+00023420: 6c74 206f 7220 7261 6973 6520 7468 6520  lt or raise the 
+00023430: 6572 726f 722e 2222 220d 0a20 2020 2020  error."""..     
+00023440: 2020 2069 6620 6e6f 7420 7365 6c66 3a0d     if not self:.
+00023450: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00023460: 7365 2073 656c 662e 6572 726f 720d 0a20  se self.error.. 
+00023470: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00023480: 6c66 2e72 6573 756c 740d 0a60 6060 0d0a  lf.result..```..
+00023490: 0d0a 6045 7870 6563 7465 6460 2069 7320  ..`Expected` is 
+000234a0: 7072 696d 6172 696c 7920 7573 6564 2061  primarily used a
+000234b0: 7320 7468 6520 7265 7475 726e 2074 7970  s the return typ
+000234c0: 6520 666f 7220 5b60 7361 6665 5f63 616c  e for [`safe_cal
+000234d0: 6c60 5d28 2373 6166 655f 6361 6c6c 292e  l`](#safe_call).
+000234e0: 2047 656e 6572 616c 6c79 2c20 7468 6520   Generally, the 
+000234f0: 6265 7374 2077 6179 2074 6f20 7573 6520  best way to use 
+00023500: 6045 7870 6563 7465 6460 2069 7320 7769  `Expected` is wi
+00023510: 7468 205b 6066 6d61 7060 5d28 2366 6d61  th [`fmap`](#fma
+00023520: 7029 2c20 7768 6963 6820 7769 6c6c 2061  p), which will a
+00023530: 7070 6c79 2061 2066 756e 6374 696f 6e20  pply a function 
+00023540: 746f 2074 6865 2072 6573 756c 7420 6966  to the result if
+00023550: 2069 7420 6578 6973 7473 2c20 6f72 206f   it exists, or o
+00023560: 7468 6572 7769 7365 2072 6574 6169 6e20  therwise retain 
+00023570: 7468 6520 6572 726f 722e 2049 6620 796f  the error. If yo
+00023580: 7520 7761 6e74 2074 6f20 7365 7175 656e  u want to sequen
+00023590: 6365 206d 756c 7469 706c 6520 6045 7870  ce multiple `Exp
+000235a0: 6563 7465 6460 2d72 6574 7572 6e69 6e67  ected`-returning
+000235b0: 206f 7065 7261 7469 6f6e 732c 2060 2e61   operations, `.a
+000235c0: 6e64 5f74 6865 6e60 2073 686f 756c 6420  nd_then` should 
+000235d0: 6265 2075 7365 6420 696e 7374 6561 6420  be used instead 
+000235e0: 6f66 2060 666d 6170 602e 0d0a 0d0a 546f  of `fmap`.....To
+000235f0: 206d 6174 6368 2061 6761 696e 7374 2061   match against a
+00023600: 6e20 6045 7870 6563 7465 6460 2c20 6a75  n `Expected`, ju
+00023610: 7374 3a0d 0a60 6060 0d0a 4578 7065 6374  st:..```..Expect
+00023620: 6564 2872 6573 2920 3d20 4578 7065 6374  ed(res) = Expect
+00023630: 6564 2822 7265 7375 6c74 2229 0d0a 4578  ed("result")..Ex
+00023640: 7065 6374 6564 2865 7272 6f72 3d65 7272  pected(error=err
+00023650: 2920 3d20 4578 7065 6374 6564 2865 7272  ) = Expected(err
+00023660: 6f72 3d54 7970 6545 7272 6f72 2829 290d  or=TypeError()).
+00023670: 0a60 6060 0d0a 0d0a 2323 2323 2320 4578  .```....##### Ex
+00023680: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+00023690: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+000236a0: 740d 0a64 6566 2074 7279 5f64 6976 6964  t..def try_divid
+000236b0: 6528 783a 2066 6c6f 6174 2c20 793a 2066  e(x: float, y: f
+000236c0: 6c6f 6174 2920 2d3e 2045 7870 6563 7465  loat) -> Expecte
+000236d0: 645b 666c 6f61 745d 3a0d 0a20 2020 2074  d[float]:..    t
+000236e0: 7279 3a0d 0a20 2020 2020 2020 2072 6574  ry:..        ret
+000236f0: 7572 6e20 4578 7065 6374 6564 2878 202f  urn Expected(x /
+00023700: 2079 290d 0a20 2020 2065 7863 6570 7420   y)..    except 
+00023710: 4578 6365 7074 696f 6e20 6173 2065 7272  Exception as err
+00023720: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
+00023730: 6e20 4578 7065 6374 6564 2865 7272 6f72  n Expected(error
+00023740: 3d65 7272 290d 0a0d 0a74 7279 5f64 6976  =err)....try_div
+00023750: 6964 6528 312c 2032 2920 7c3e 2066 6d61  ide(1, 2) |> fma
+00023760: 7024 282e 2b31 2920 7c3e 2070 7269 6e74  p$(.+1) |> print
+00023770: 0d0a 7472 795f 6469 7669 6465 2831 2c20  ..try_divide(1, 
+00023780: 3029 207c 3e20 666d 6170 2428 2e2b 3129  0) |> fmap$(.+1)
+00023790: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
+000237a0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f  ..**Python:**.._
+000237b0: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+000237c0: 7468 6f75 7420 6120 636f 6d70 6c65 7820  thout a complex 
+000237d0: 6045 7870 6563 7465 6460 2064 6566 696e  `Expected` defin
+000237e0: 6974 696f 6e2e 2053 6565 2074 6865 2063  ition. See the c
+000237f0: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
+00023800: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
+00023810: 6178 2e5f 0d0a 0d0a 2323 2323 2060 4d61  ax._....#### `Ma
+00023820: 7463 6845 7272 6f72 600d 0a0d 0a41 2060  tchError`....A `
+00023830: 4d61 7463 6845 7272 6f72 6020 6973 2072  MatchError` is r
+00023840: 6169 7365 6420 7768 656e 2061 205b 6465  aised when a [de
+00023850: 7374 7275 6374 7572 696e 6720 6173 7369  structuring assi
+00023860: 676e 6d65 6e74 5d28 2364 6573 7472 7563  gnment](#destruc
+00023870: 7475 7269 6e67 2d61 7373 6967 6e6d 656e  turing-assignmen
+00023880: 7429 206f 7220 5b70 6174 7465 726e 2d6d  t) or [pattern-m
+00023890: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+000238a0: 5d28 2370 6174 7465 726e 2d6d 6174 6368  ](#pattern-match
+000238b0: 696e 672d 6675 6e63 7469 6f6e 7329 2066  ing-functions) f
+000238c0: 6169 6c73 2c20 616e 6420 7468 7573 2060  ails, and thus `
+000238d0: 4d61 7463 6845 7272 6f72 6020 6973 2070  MatchError` is p
+000238e0: 726f 7669 6465 6420 6173 2061 2062 7569  rovided as a bui
+000238f0: 6c74 2d69 6e20 666f 7220 6361 7463 6869  lt-in for catchi
+00023900: 6e67 2074 686f 7365 2065 7272 6f72 732e  ng those errors.
+00023910: 2060 4d61 7463 6845 7272 6f72 6020 6f62   `MatchError` ob
+00023920: 6a65 6374 7320 7375 7070 6f72 7420 7468  jects support th
+00023930: 7265 6520 6174 7472 6962 7574 6573 3a20  ree attributes: 
+00023940: 6070 6174 7465 726e 602c 2077 6869 6368  `pattern`, which
+00023950: 2069 7320 6120 7374 7269 6e67 2064 6573   is a string des
+00023960: 6372 6962 696e 6720 7468 6520 6661 696c  cribing the fail
+00023970: 6564 2070 6174 7465 726e 3b20 6076 616c  ed pattern; `val
+00023980: 7565 602c 2077 6869 6368 2069 7320 7468  ue`, which is th
+00023990: 6520 6f62 6a65 6374 2074 6861 7420 6661  e object that fa
+000239a0: 696c 6564 2074 6f20 6d61 7463 6820 7468  iled to match th
+000239b0: 6174 2070 6174 7465 726e 3b20 616e 6420  at pattern; and 
+000239c0: 606d 6573 7361 6765 6020 7768 6963 6820  `message` which 
+000239d0: 6973 2074 6865 2066 756c 6c20 6572 726f  is the full erro
+000239e0: 7220 6d65 7373 6167 652e 2054 6f20 6176  r message. To av
+000239f0: 6f69 6420 756e 6e65 6365 7373 6172 7920  oid unnecessary 
+00023a00: 6072 6570 7260 2063 616c 6c73 2c20 604d  `repr` calls, `M
+00023a10: 6174 6368 4572 726f 7260 206f 6e6c 7920  atchError` only 
+00023a20: 636f 6d70 7574 6573 2074 6865 2060 6d65  computes the `me
+00023a30: 7373 6167 6560 206f 6e63 6520 6974 2069  ssage` once it i
+00023a40: 7320 6163 7475 616c 6c79 2072 6571 7565  s actually reque
+00023a50: 7374 6564 2e0d 0a0d 0a41 6464 6974 696f  sted.....Additio
+00023a60: 6e61 6c6c 792c 2069 6620 796f 7520 6172  nally, if you ar
+00023a70: 6520 7573 696e 6720 5b76 6965 7720 7061  e using [view pa
+00023a80: 7474 6572 6e73 5d28 236d 6174 6368 292c  tterns](#match),
+00023a90: 2079 6f75 206d 6967 6874 206e 6565 6420   you might need 
+00023aa0: 746f 2072 6169 7365 2079 6f75 7220 6f77  to raise your ow
+00023ab0: 6e20 604d 6174 6368 4572 726f 7260 2028  n `MatchError` (
+00023ac0: 7468 6f75 6768 2079 6f75 2063 616e 2061  though you can a
+00023ad0: 6c73 6f20 6a75 7374 2075 7365 2061 2064  lso just use a d
+00023ae0: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
+00023af0: 6967 6e6d 656e 7420 6f72 2070 6174 7465  ignment or patte
+00023b00: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+00023b10: 7469 6f6e 2064 6566 696e 6974 696f 6e20  tion definition 
+00023b20: 746f 2064 6f20 736f 292e 2054 6f20 7261  to do so). To ra
+00023b30: 6973 6520 796f 7572 206f 776e 2060 4d61  ise your own `Ma
+00023b40: 7463 6845 7272 6f72 602c 206a 7573 7420  tchError`, just 
+00023b50: 6072 6169 7365 204d 6174 6368 4572 726f  `raise MatchErro
+00023b60: 7228 7061 7474 6572 6e2c 2076 616c 7565  r(pattern, value
+00023b70: 2960 2028 626f 7468 2061 7267 756d 656e  )` (both argumen
+00023b80: 7473 2061 7265 206f 7074 696f 6e61 6c29  ts are optional)
+00023b90: 2e0d 0a0d 0a49 6e20 736f 6d65 2063 6173  .....In some cas
+00023ba0: 6573 2077 6865 7265 2074 6865 7265 2061  es where there a
+00023bb0: 7265 206d 756c 7469 706c 6520 436f 636f  re multiple Coco
+00023bc0: 6e75 7420 7061 636b 6167 6573 2069 6e73  nut packages ins
+00023bd0: 7461 6c6c 6564 2061 7420 7468 6520 7361  talled at the sa
+00023be0: 6d65 2074 696d 652c 2074 6865 7265 206d  me time, there m
+00023bf0: 6179 2062 6520 6d75 6c74 6970 6c65 2060  ay be multiple `
+00023c00: 4d61 7463 6845 7272 6f72 6073 2064 6566  MatchError`s def
+00023c10: 696e 6564 2069 6e20 6469 6666 6572 656e  ined in differen
+00023c20: 7420 7061 636b 6167 6573 2e20 436f 636f  t packages. Coco
+00023c30: 6e75 7420 6361 6e20 7065 7266 6f72 6d20  nut can perform 
+00023c40: 736f 6d65 206d 6167 6963 2075 6e64 6572  some magic under
+00023c50: 2074 6865 2068 6f6f 6420 746f 206d 616b   the hood to mak
+00023c60: 6520 7375 7265 2074 6861 7420 616c 6c20  e sure that all 
+00023c70: 7468 6573 6520 604d 6174 6368 4572 726f  these `MatchErro
+00023c80: 7260 7320 7769 6c6c 2073 6561 6d6c 6573  r`s will seamles
+00023c90: 736c 7920 696e 7465 726f 7065 7261 7465  sly interoperate
+00023ca0: 2c20 6275 7420 6f6e 6c79 2069 6620 616c  , but only if al
+00023cb0: 6c20 7375 6368 2070 6163 6b61 6765 7320  l such packages 
+00023cc0: 6172 6520 636f 6d70 696c 6564 2069 6e20  are compiled in 
+00023cd0: 5b60 2d2d 7061 636b 6167 6560 206d 6f64  [`--package` mod
+00023ce0: 6520 7261 7468 6572 2074 6861 6e20 602d  e rather than `-
+00023cf0: 2d73 7461 6e64 616c 6f6e 6560 206d 6f64  -standalone` mod
+00023d00: 655d 2823 636f 6d70 696c 6174 696f 6e2d  e](#compilation-
+00023d10: 6d6f 6465 7329 2e0d 0a0d 0a23 2323 2047  modes).....### G
+00023d20: 656e 6572 6963 2042 7569 6c74 2d49 6e20  eneric Built-In 
+00023d30: 4675 6e63 7469 6f6e 730d 0a0d 0a60 6060  Functions....```
+00023d40: 7b63 6f6e 7465 6e74 737d 0d0a 2d2d 2d0d  {contents}..---.
+00023d50: 0a6c 6f63 616c 3a0d 0a64 6570 7468 3a20  .local:..depth: 
+00023d60: 310d 0a2d 2d2d 0d0a 6060 600d 0a0d 0a23  1..---..```....#
+00023d70: 2323 2320 606d 616b 6564 6174 6160 0d0a  ### `makedata`..
+00023d80: 0d0a 2a2a 6d61 6b65 6461 7461 2a2a 285f  ..**makedata**(_
+00023d90: 6461 7461 5c5f 7479 7065 5f2c 202a 5f61  data\_type_, *_a
+00023da0: 7267 735f 290d 0a0d 0a43 6f63 6f6e 7574  rgs_)....Coconut
+00023db0: 2070 726f 7669 6465 7320 7468 6520 606d   provides the `m
+00023dc0: 616b 6564 6174 6160 2066 756e 6374 696f  akedata` functio
+00023dd0: 6e20 746f 2063 6f6e 7374 7275 6374 2061  n to construct a
+00023de0: 2063 6f6e 7461 696e 6572 2067 6976 656e   container given
+00023df0: 2074 6865 2064 6573 6972 6564 2074 7970   the desired typ
+00023e00: 6520 616e 6420 636f 6e74 656e 7473 2e20  e and contents. 
+00023e10: 5468 6973 2069 7320 7061 7274 6963 756c  This is particul
+00023e20: 6172 6c79 2075 7365 6675 6c20 7768 656e  arly useful when
+00023e30: 2077 7269 7469 6e67 2061 6c74 6572 6e61   writing alterna
+00023e40: 7469 7665 2063 6f6e 7374 7275 6374 6f72  tive constructor
+00023e50: 7320 666f 7220 5b60 6461 7461 605d 2823  s for [`data`](#
+00023e60: 6461 7461 2920 7479 7065 7320 6279 206f  data) types by o
+00023e70: 7665 7277 7269 7469 6e67 2060 5f5f 6e65  verwriting `__ne
+00023e80: 775f 5f60 2c20 7369 6e63 6520 6974 2061  w__`, since it a
+00023e90: 6c6c 6f77 7320 6469 7265 6374 2061 6363  llows direct acc
+00023ea0: 6573 7320 746f 2074 6865 2062 6173 6520  ess to the base 
+00023eb0: 636f 6e73 7472 7563 746f 7220 6f66 2074  constructor of t
+00023ec0: 6865 2064 6174 6120 7479 7065 2063 7265  he data type cre
+00023ed0: 6174 6564 2077 6974 6820 7468 6520 436f  ated with the Co
+00023ee0: 636f 6e75 7420 6064 6174 6160 2073 7461  conut `data` sta
+00023ef0: 7465 6d65 6e74 2e0d 0a0d 0a60 6d61 6b65  tement.....`make
+00023f00: 6461 7461 6020 7461 6b65 7320 7468 6520  data` takes the 
+00023f10: 6461 7461 2074 7970 6520 746f 2063 6f6e  data type to con
+00023f20: 7374 7275 6374 2061 7320 7468 6520 6669  struct as the fi
+00023f30: 7273 7420 6172 6775 6d65 6e74 2c20 616e  rst argument, an
+00023f40: 6420 7468 6520 6f62 6a65 6374 7320 746f  d the objects to
+00023f50: 2070 7574 2069 6e20 7468 6174 2063 6f6e   put in that con
+00023f60: 7461 696e 6572 2061 7320 7468 6520 7265  tainer as the re
+00023f70: 7374 206f 6620 7468 6520 6172 6775 6d65  st of the argume
+00023f80: 6e74 732e 0d0a 0d0a 606d 616b 6564 6174  nts.....`makedat
+00023f90: 6160 2063 616e 2061 6c73 6f20 6265 2075  a` can also be u
+00023fa0: 7365 6420 746f 2065 7874 7261 6374 2074  sed to extract t
+00023fb0: 6865 2075 6e64 6572 6c79 696e 6720 636f  he underlying co
+00023fc0: 6e73 7472 7563 746f 7220 666f 7220 5b60  nstructor for [`
+00023fd0: 6d61 7463 6820 6461 7461 605d 2823 6d61  match data`](#ma
+00023fe0: 7463 682d 6461 7461 2920 7479 7065 7320  tch-data) types 
+00023ff0: 7468 6174 2062 7970 6173 7365 7320 7468  that bypasses th
+00024000: 6520 6e6f 726d 616c 2070 6174 7465 726e  e normal pattern
+00024010: 2d6d 6174 6368 696e 6720 636f 6e73 7472  -matching constr
+00024020: 7563 746f 722e 0d0a 0d0a 4164 6469 7469  uctor.....Additi
+00024030: 6f6e 616c 6c79 2c20 606d 616b 6564 6174  onally, `makedat
+00024040: 6160 2063 616e 2061 6c73 6f20 6265 2063  a` can also be c
+00024050: 616c 6c65 6420 7769 7468 206e 6f6e 2d60  alled with non-`
+00024060: 6461 7461 6020 7479 7065 2061 7320 7468  data` type as th
+00024070: 6520 6669 7273 7420 6172 6775 6d65 6e74  e first argument
+00024080: 2c20 696e 2077 6869 6368 2063 6173 6520  , in which case 
+00024090: 6974 2077 696c 6c20 646f 2069 7473 2062  it will do its b
+000240a0: 6573 7420 746f 2063 6f6e 7374 7275 6374  est to construct
+000240b0: 2074 6865 2067 6976 656e 2074 7970 6520   the given type 
+000240c0: 6f66 206f 626a 6563 7420 7769 7468 2074  of object with t
+000240d0: 6865 2067 6976 656e 2061 7267 756d 656e  he given argumen
+000240e0: 7473 2e20 5468 6973 2066 756e 6374 696f  ts. This functio
+000240f0: 6e61 6c69 7479 2069 7320 7573 6564 2069  nality is used i
+00024100: 6e74 6572 6e61 6c6c 7920 6279 2060 666d  nternally by `fm
+00024110: 6170 602e 0d0a 0d0a 2323 2323 2320 6064  ap`.....##### `d
+00024120: 6174 616d 616b 6572 600d 0a0d 0a2a 2a44  atamaker`....**D
+00024130: 4550 5245 4341 5445 443a 2a2a 2043 6f63  EPRECATED:** Coc
+00024140: 6f6e 7574 2061 6c73 6f20 6861 7320 6120  onut also has a 
+00024150: 6064 6174 616d 616b 6572 6020 6275 696c  `datamaker` buil
+00024160: 742d 696e 2c20 7768 6963 6820 7061 7274  t-in, which part
+00024170: 6961 6c6c 7920 6170 706c 6965 7320 606d  ially applies `m
+00024180: 616b 6564 6174 6160 3b20 6064 6174 616d  akedata`; `datam
+00024190: 616b 6572 6020 6973 2064 6566 696e 6564  aker` is defined
+000241a0: 2061 733a 0d0a 6060 6063 6f63 6f6e 7574   as:..```coconut
+000241b0: 0d0a 6465 6620 6461 7461 6d61 6b65 7228  ..def datamaker(
+000241c0: 6461 7461 5f74 7970 6529 3a0d 0a20 2020  data_type):..   
+000241d0: 2022 2222 4765 7420 7468 6520 6f72 6967   """Get the orig
+000241e0: 696e 616c 2063 6f6e 7374 7275 6374 6f72  inal constructor
+000241f0: 206f 6620 7468 6520 6769 7665 6e20 6461   of the given da
+00024200: 7461 2074 7970 6520 6f72 2063 6c61 7373  ta type or class
+00024210: 2e22 2222 0d0a 2020 2020 7265 7475 726e  ."""..    return
+00024220: 206d 616b 6564 6174 6124 2864 6174 615f   makedata$(data_
+00024230: 7479 7065 290d 0a60 6060 0d0a 5f4e 6f74  type)..```.._Not
+00024240: 653a 2050 6173 7369 6e67 2060 2d2d 7374  e: Passing `--st
+00024250: 7269 6374 6020 6469 7361 626c 6573 2064  rict` disables d
+00024260: 6570 7265 6361 7465 6420 6665 6174 7572  eprecated featur
+00024270: 6573 2e5f 0d0a 0d0a 2323 2323 2320 4578  es._....##### Ex
+00024280: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+00024290: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+000242a0: 740d 0a64 6174 6120 5475 706c 6528 656c  t..data Tuple(el
+000242b0: 656d 7329 3a0d 0a20 2020 2064 6566 205f  ems):..    def _
+000242c0: 5f6e 6577 5f5f 2863 6c73 2c20 2a65 6c65  _new__(cls, *ele
+000242d0: 6d73 293a 0d0a 2020 2020 2020 2020 7265  ms):..        re
+000242e0: 7475 726e 2065 6c65 6d73 207c 3e20 6d61  turn elems |> ma
+000242f0: 6b65 6461 7461 2428 636c 7329 0d0a 6060  kedata$(cls)..``
+00024300: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+00024310: 0d0a 5f43 616e 2774 2062 6520 646f 6e65  .._Can't be done
+00024320: 2077 6974 686f 7574 2061 2073 6572 6965   without a serie
+00024330: 7320 6f66 206d 6574 686f 6420 6465 6669  s of method defi
+00024340: 6e69 7469 6f6e 7320 666f 7220 6561 6368  nitions for each
+00024350: 2064 6174 6120 7479 7065 2e20 5365 6520   data type. See 
+00024360: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
+00024370: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
+00024380: 2073 796e 7461 782e 5f0d 0a0d 0a23 2323   syntax._....###
+00024390: 2320 6066 6d61 7060 0d0a 0d0a 2a2a 666d  # `fmap`....**fm
+000243a0: 6170 2a2a 285f 6675 6e63 5f2c 205f 6f62  ap**(_func_, _ob
+000243b0: 6a5f 2c20 2a2c 205f 7374 6172 6d61 705c  j_, *, _starmap\
+000243c0: 5f6f 7665 725c 5f6d 6170 7069 6e67 735f  _over\_mappings_
+000243d0: 3d60 4661 6c73 6560 290d 0a0d 0a49 6e20  =`False`)....In 
+000243e0: 4861 736b 656c 6c2c 2060 666d 6170 2866  Haskell, `fmap(f
+000243f0: 756e 632c 206f 626a 2960 2074 616b 6573  unc, obj)` takes
+00024400: 2061 2064 6174 6120 7479 7065 2060 6f62   a data type `ob
+00024410: 6a60 2061 6e64 2072 6574 7572 6e73 2061  j` and returns a
+00024420: 206e 6577 2064 6174 6120 7479 7065 2077   new data type w
+00024430: 6974 6820 6066 756e 6360 206d 6170 7065  ith `func` mappe
+00024440: 6420 6f76 6572 2074 6865 2063 6f6e 7465  d over the conte
+00024450: 6e74 732e 2043 6f63 6f6e 7574 2773 2060  nts. Coconut's `
+00024460: 666d 6170 6020 6675 6e63 7469 6f6e 2064  fmap` function d
+00024470: 6f65 7320 7468 6520 6578 6163 7420 7361  oes the exact sa
+00024480: 6d65 2074 6869 6e67 2069 6e20 436f 636f  me thing in Coco
+00024490: 6e75 742e 0d0a 0d0a 6066 6d61 7060 2063  nut.....`fmap` c
+000244a0: 616e 2061 6c73 6f20 6265 2075 7365 6420  an also be used 
+000244b0: 6f6e 2062 7569 6c74 2d69 6e73 2073 7563  on built-ins suc
+000244c0: 6820 6173 2060 7374 7260 2c20 606c 6973  h as `str`, `lis
+000244d0: 7460 2c20 6073 6574 602c 2061 6e64 2060  t`, `set`, and `
+000244e0: 6469 6374 6020 6173 2061 2076 6172 6961  dict` as a varia
+000244f0: 6e74 206f 6620 606d 6170 6020 7468 6174  nt of `map` that
+00024500: 2072 6574 7572 6e73 2062 6163 6b20 616e   returns back an
+00024510: 206f 626a 6563 7420 6f66 2074 6865 2073   object of the s
+00024520: 616d 6520 7479 7065 2e20 5468 6520 6265  ame type. The be
+00024530: 6861 7669 6f72 206f 6620 6066 6d61 7060  havior of `fmap`
+00024540: 2066 6f72 2061 2067 6976 656e 206f 626a   for a given obj
+00024550: 6563 7420 6361 6e20 6265 206f 7665 7272  ect can be overr
+00024560: 6964 6465 6e20 6279 2064 6566 696e 696e  idden by definin
+00024570: 6720 616e 2060 5f5f 666d 6170 5f5f 2873  g an `__fmap__(s
+00024580: 656c 662c 2066 756e 6329 6020 6d61 6769  elf, func)` magi
+00024590: 6320 6d65 7468 6f64 2074 6861 7420 7769  c method that wi
+000245a0: 6c6c 2062 6520 6361 6c6c 6564 2077 6865  ll be called whe
+000245b0: 6e65 7665 7220 6066 6d61 7060 2069 7320  never `fmap` is 
+000245c0: 696e 766f 6b65 6420 6f6e 2074 6861 7420  invoked on that 
+000245d0: 6f62 6a65 6374 2e20 4e6f 7465 2074 6861  object. Note tha
+000245e0: 7420 605f 5f66 6d61 705f 5f60 2069 6d70  t `__fmap__` imp
+000245f0: 6c65 6d65 6e74 6174 696f 6e73 2073 686f  lementations sho
+00024600: 756c 6420 616c 7761 7973 2073 6174 6973  uld always satis
+00024610: 6679 2074 6865 205b 4675 6e63 746f 7220  fy the [Functor 
+00024620: 4c61 7773 5d28 6874 7470 733a 2f2f 7769  Laws](https://wi
+00024630: 6b69 2e68 6173 6b65 6c6c 2e6f 7267 2f46  ki.haskell.org/F
+00024640: 756e 6374 6f72 292e 0d0a 0d0a 466f 7220  unctor).....For 
+00024650: 6064 6963 7460 2c20 6f72 2061 6e79 206f  `dict`, or any o
+00024660: 7468 6572 2060 636f 6c6c 6563 7469 6f6e  ther `collection
+00024670: 732e 6162 632e 4d61 7070 696e 6760 2c20  s.abc.Mapping`, 
+00024680: 6066 6d61 7060 2077 696c 6c20 6d61 7020  `fmap` will map 
+00024690: 6f76 6572 2074 6865 206d 6170 7069 6e67  over the mapping
+000246a0: 2773 2060 2e69 7465 6d73 2829 6020 696e  's `.items()` in
+000246b0: 7374 6561 6420 6f66 2074 6865 2064 6566  stead of the def
+000246c0: 6175 6c74 2069 7465 7261 7469 6f6e 2074  ault iteration t
+000246d0: 6872 6f75 6768 2069 7473 2060 2e6b 6579  hrough its `.key
+000246e0: 7328 2960 2c20 7769 7468 2074 6865 206e  s()`, with the n
+000246f0: 6577 206d 6170 7069 6e67 2072 6563 6f6e  ew mapping recon
+00024700: 7374 7275 6374 6564 2066 726f 6d20 7468  structed from th
+00024710: 6520 6d61 7070 6564 206f 7665 7220 6974  e mapped over it
+00024720: 656d 732e 205f 4445 5052 4543 4154 4544  ems. _DEPRECATED
+00024730: 3a20 6066 6d61 7024 2873 7461 726d 6170  : `fmap$(starmap
+00024740: 5f6f 7665 725f 6d61 7070 696e 6773 3d54  _over_mappings=T
+00024750: 7275 6529 6020 7769 6c6c 2060 7374 6172  rue)` will `star
+00024760: 6d61 7060 206f 7665 7220 7468 6520 602e  map` over the `.
+00024770: 6974 656d 7328 2960 2069 6e73 7465 6164  items()` instead
+00024780: 206f 6620 606d 6170 6020 6f76 6572 2074   of `map` over t
+00024790: 6865 6d2e 5f0d 0a0d 0a46 6f72 205b 606e  hem._....For [`n
+000247a0: 756d 7079 605d 2823 6e75 6d70 792d 696e  umpy`](#numpy-in
+000247b0: 7465 6772 6174 696f 6e29 206f 626a 6563  tegration) objec
+000247c0: 7473 2c20 6066 6d61 7060 2077 696c 6c20  ts, `fmap` will 
+000247d0: 7573 6520 5b60 6e70 2e76 6563 746f 7269  use [`np.vectori
+000247e0: 7a65 605d 2868 7474 7073 3a2f 2f64 6f63  ze`](https://doc
+000247f0: 732e 7363 6970 792e 6f72 672f 646f 632f  s.scipy.org/doc/
+00024800: 6e75 6d70 792f 7265 6665 7265 6e63 652f  numpy/reference/
+00024810: 6765 6e65 7261 7465 642f 6e75 6d70 792e  generated/numpy.
+00024820: 7665 6374 6f72 697a 652e 6874 6d6c 2920  vectorize.html) 
+00024830: 746f 2070 726f 6475 6365 2074 6865 2072  to produce the r
+00024840: 6573 756c 742e 0d0a 0d0a 466f 7220 5b60  esult.....For [`
+00024850: 7061 6e64 6173 605d 2868 7474 7073 3a2f  pandas`](https:/
+00024860: 2f70 616e 6461 732e 7079 6461 7461 2e6f  /pandas.pydata.o
+00024870: 7267 2f29 206f 626a 6563 7473 2c20 6066  rg/) objects, `f
+00024880: 6d61 7060 2077 696c 6c20 7573 6520 5b60  map` will use [`
+00024890: 2e61 7070 6c79 605d 2868 7474 7073 3a2f  .apply`](https:/
+000248a0: 2f70 616e 6461 732e 7079 6461 7461 2e6f  /pandas.pydata.o
+000248b0: 7267 2f64 6f63 732f 7265 6665 7265 6e63  rg/docs/referenc
+000248c0: 652f 6170 692f 7061 6e64 6173 2e44 6174  e/api/pandas.Dat
+000248d0: 6146 7261 6d65 2e61 7070 6c79 2e68 746d  aFrame.apply.htm
+000248e0: 6c29 2061 6c6f 6e67 2074 6865 206c 6173  l) along the las
+000248f0: 7420 6178 6973 2028 736f 2072 6f77 2d77  t axis (so row-w
+00024900: 6973 6520 666f 7220 6044 6174 6146 7261  ise for `DataFra
+00024910: 6d65 6027 732c 2065 6c65 6d65 6e74 2d77  me`'s, element-w
+00024920: 6973 6520 666f 7220 6053 6572 6965 7360  ise for `Series`
+00024930: 2773 292e 0d0a 0d0a 466f 7220 6173 796e  's).....For asyn
+00024940: 6368 726f 6e6f 7573 2069 7465 7261 626c  chronous iterabl
+00024950: 6573 2c20 6066 6d61 7060 2077 696c 6c20  es, `fmap` will 
+00024960: 6d61 7020 6173 796e 6368 726f 6e6f 7573  map asynchronous
+00024970: 6c79 2c20 6d61 6b69 6e67 2060 666d 6170  ly, making `fmap
+00024980: 6020 6571 7569 7661 6c65 6e74 2069 6e20  ` equivalent in 
+00024990: 7468 6174 2063 6173 6520 746f 0d0a 6060  that case to..``
+000249a0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+000249b0: 0a61 7379 6e63 2064 6566 2066 6d61 705f  .async def fmap_
+000249c0: 6f76 6572 5f61 7379 6e63 5f69 7465 7273  over_async_iters
+000249d0: 2866 756e 632c 2061 7379 6e63 5f69 7465  (func, async_ite
+000249e0: 7229 3a0d 0a20 2020 2061 7379 6e63 2066  r):..    async f
+000249f0: 6f72 2069 7465 6d20 696e 2061 7379 6e63  or item in async
+00024a00: 5f69 7465 723a 0d0a 2020 2020 2020 2020  _iter:..        
+00024a10: 7969 656c 6420 6675 6e63 2869 7465 6d29  yield func(item)
+00024a20: 0d0a 6060 600d 0a73 7563 6820 7468 6174  ..```..such that
+00024a30: 2060 666d 6170 6020 6361 6e20 6566 6665   `fmap` can effe
+00024a40: 6374 6976 656c 7920 6265 2075 7365 6420  ctively be used 
+00024a50: 6173 2061 6e20 6173 796e 6320 6d61 702e  as an async map.
+00024a60: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00024a70: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00024a80: 2a0d 0a60 6060 636f 636f 6e75 740d 0a5b  *..```coconut..[
+00024a90: 312c 2032 2c20 335d 207c 3e20 666d 6170  1, 2, 3] |> fmap
+00024aa0: 2428 7820 2d3e 2078 2b31 2920 3d3d 205b  $(x -> x+1) == [
+00024ab0: 322c 2033 2c20 345d 0d0a 0d0a 636c 6173  2, 3, 4]....clas
+00024ac0: 7320 4d61 7962 650d 0a64 6174 6120 4e6f  s Maybe..data No
+00024ad0: 7468 696e 6728 2920 6672 6f6d 204d 6179  thing() from May
+00024ae0: 6265 0d0a 6461 7461 204a 7573 7428 6e29  be..data Just(n)
+00024af0: 2066 726f 6d20 4d61 7962 650d 0a0d 0a4a   from Maybe....J
+00024b00: 7573 7428 3329 207c 3e20 666d 6170 2428  ust(3) |> fmap$(
+00024b10: 7820 2d3e 2078 2a32 2920 3d3d 204a 7573  x -> x*2) == Jus
+00024b20: 7428 3629 0d0a 4e6f 7468 696e 6728 2920  t(6)..Nothing() 
+00024b30: 7c3e 2066 6d61 7024 2878 202d 3e20 782a  |> fmap$(x -> x*
+00024b40: 3229 203d 3d20 4e6f 7468 696e 6728 290d  2) == Nothing().
+00024b50: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00024b60: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+00024b70: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
+00024b80: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
+00024b90: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
+00024ba0: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
+00024bb0: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+00024bc0: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+00024bd0: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+00024be0: 0d0a 2323 2323 2060 6361 6c6c 600d 0a0d  ..#### `call`...
+00024bf0: 0a2a 2a63 616c 6c2a 2a28 5f66 756e 635f  .**call**(_func_
+00024c00: 2c20 2f2c 202a 5f61 7267 735f 2c20 5c2a  , /, *_args_, \*
+00024c10: 5c2a 5f6b 7761 7267 735f 290d 0a0d 0a43  \*_kwargs_)....C
+00024c20: 6f63 6f6e 7574 2773 2060 6361 6c6c 6020  oconut's `call` 
+00024c30: 7369 6d70 6c79 2069 6d70 6c65 6d65 6e74  simply implement
+00024c40: 7320 6675 6e63 7469 6f6e 2061 7070 6c69  s function appli
+00024c50: 6361 7469 6f6e 2e20 5468 7573 2c20 6063  cation. Thus, `c
+00024c60: 616c 6c60 2069 7320 6566 6665 6374 6976  all` is effectiv
+00024c70: 656c 7920 6571 7569 7661 6c65 6e74 2074  ely equivalent t
+00024c80: 6f0d 0a60 6060 636f 636f 6e75 740d 0a64  o..```coconut..d
+00024c90: 6566 2063 616c 6c28 662c 202f 2c20 2a61  ef call(f, /, *a
+00024ca0: 7267 732c 202a 2a6b 7761 7267 7329 203d  rgs, **kwargs) =
+00024cb0: 2066 282a 6172 6773 2c20 2a2a 6b77 6172   f(*args, **kwar
+00024cc0: 6773 290d 0a60 6060 0d0a 0d0a 6063 616c  gs)..```....`cal
+00024cd0: 6c60 2069 7320 7072 696d 6172 696c 7920  l` is primarily 
+00024ce0: 7573 6566 756c 2061 7320 616e 205b 6f70  useful as an [op
+00024cf0: 6572 6174 6f72 2066 756e 6374 696f 6e5d  erator function]
+00024d00: 2823 6f70 6572 6174 6f72 2d66 756e 6374  (#operator-funct
+00024d10: 696f 6e73 2920 666f 7220 6675 6e63 7469  ions) for functi
+00024d20: 6f6e 2061 7070 6c69 6361 7469 6f6e 2077  on application w
+00024d30: 6865 6e20 7772 6974 696e 6720 696e 2061  hen writing in a
+00024d40: 2070 6f69 6e74 2d66 7265 6520 7374 796c   point-free styl
+00024d50: 652e 0d0a 0d0a 5f44 4550 5245 4341 5445  e....._DEPRECATE
+00024d60: 443a 2060 6f66 6020 6973 2061 7661 696c  D: `of` is avail
+00024d70: 6162 6c65 2061 7320 6120 6465 7072 6563  able as a deprec
+00024d80: 6174 6564 2061 6c69 6173 2066 6f72 2060  ated alias for `
+00024d90: 6361 6c6c 602e 204e 6f74 6520 7468 6174  call`. Note that
+00024da0: 2064 6570 7265 6361 7465 6420 6665 6174   deprecated feat
+00024db0: 7572 6573 2061 7265 2064 6973 6162 6c65  ures are disable
+00024dc0: 6420 696e 2060 2d2d 7374 7269 6374 6020  d in `--strict` 
+00024dd0: 6d6f 6465 2e5f 0d0a 0d0a 2323 2323 2060  mode._....#### `
+00024de0: 7361 6665 5f63 616c 6c60 0d0a 0d0a 2a2a  safe_call`....**
+00024df0: 7361 6665 5f63 616c 6c2a 2a28 5f66 756e  safe_call**(_fun
+00024e00: 635f 2c20 2f2c 202a 5f61 7267 735f 2c20  c_, /, *_args_, 
+00024e10: 5c2a 5c2a 5f6b 7761 7267 735f 290d 0a0d  \*\*_kwargs_)...
+00024e20: 0a43 6f63 6f6e 7574 2773 2060 7361 6665  .Coconut's `safe
+00024e30: 5f63 616c 6c60 2069 7320 6120 7665 7273  _call` is a vers
+00024e40: 696f 6e20 6f66 205b 6063 616c 6c60 5d28  ion of [`call`](
+00024e50: 2363 616c 6c29 2074 6861 7420 6361 7463  #call) that catc
+00024e60: 6865 7320 616e 7920 6045 7863 6570 7469  hes any `Excepti
+00024e70: 6f6e 6073 2061 6e64 2072 6574 7572 6e73  on`s and returns
+00024e80: 2061 6e20 5b60 4578 7065 6374 6564 605d   an [`Expected`]
+00024e90: 2823 6578 7065 6374 6564 2920 636f 6e74  (#expected) cont
+00024ea0: 6169 6e69 6e67 2065 6974 6865 7220 7468  aining either th
+00024eb0: 6520 7265 7375 6c74 206f 7220 7468 6520  e result or the 
+00024ec0: 6572 726f 722e 0d0a 0d0a 6073 6166 655f  error.....`safe_
+00024ed0: 6361 6c6c 6020 6973 2065 6666 6563 7469  call` is effecti
+00024ee0: 7665 6c79 2065 7175 6976 616c 656e 7420  vely equivalent 
+00024ef0: 746f 3a0d 0a60 6060 636f 636f 6e75 740d  to:..```coconut.
+00024f00: 0a64 6566 2073 6166 655f 6361 6c6c 2866  .def safe_call(f
+00024f10: 2c20 2f2c 202a 6172 6773 2c20 2a2a 6b77  , /, *args, **kw
+00024f20: 6172 6773 293a 0d0a 2020 2020 7472 793a  args):..    try:
+00024f30: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00024f40: 2045 7870 6563 7465 6428 6628 2a61 7267   Expected(f(*arg
+00024f50: 732c 202a 2a6b 7761 7267 7329 290d 0a20  s, **kwargs)).. 
+00024f60: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00024f70: 696f 6e20 6173 2065 7272 3a0d 0a20 2020  ion as err:..   
+00024f80: 2020 2020 2072 6574 7572 6e20 4578 7065       return Expe
+00024f90: 6374 6564 2865 7272 6f72 3d65 7272 290d  cted(error=err).
+00024fa0: 0a60 6060 0d0a 0d0a 2323 2323 2320 4578  .```....##### Ex
+00024fb0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+00024fc0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+00024fd0: 740d 0a72 6573 2c20 6572 7220 3d20 7361  t..res, err = sa
+00024fe0: 6665 5f63 616c 6c28 2d3e 2031 202f 2030  fe_call(-> 1 / 0
+00024ff0: 2920 7c3e 2066 6d61 7024 282e 2b31 290d  ) |> fmap$(.+1).
+00025000: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00025010: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+00025020: 6f6e 6520 7769 7468 6f75 7420 6120 636f  one without a co
+00025030: 6d70 6c65 7820 6045 7870 6563 7465 6460  mplex `Expected`
+00025040: 2064 6566 696e 6974 696f 6e2e 2053 6565   definition. See
+00025050: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
+00025060: 6465 2066 6f72 2074 6865 2050 7974 686f  de for the Pytho
+00025070: 6e20 7379 6e74 6178 2e5f 0d0a 0d0a 2323  n syntax._....##
+00025080: 2323 2060 6c69 6674 600d 0a0d 0a2a 2a6c  ## `lift`....**l
+00025090: 6966 742a 2a28 5f66 756e 635f 290d 0a0d  ift**(_func_)...
+000250a0: 0a2a 2a6c 6966 742a 2a28 5f66 756e 635f  .**lift**(_func_
+000250b0: 2c20 2a5f 6675 6e63 5c5f 6172 6773 5f2c  , *_func\_args_,
+000250c0: 202a 2a5f 6675 6e63 5c5f 6b77 6172 6773   **_func\_kwargs
+000250d0: 5f29 0d0a 0d0a 436f 636f 6e75 7427 7320  _)....Coconut's 
+000250e0: 606c 6966 7460 2062 7569 6c74 2d69 6e20  `lift` built-in 
+000250f0: 6973 2061 2068 6967 6865 722d 6f72 6465  is a higher-orde
+00025100: 7220 6675 6e63 7469 6f6e 2074 6861 7420  r function that 
+00025110: 7461 6b65 7320 696e 2061 2066 756e 6374  takes in a funct
+00025120: 696f 6e20 616e 6420 e280 9c6c 6966 7473  ion and ...lifts
+00025130: e280 9d20 6974 2075 7020 736f 2074 6861  ... it up so tha
+00025140: 7420 616c 6c20 6f66 2069 7473 2061 7267  t all of its arg
+00025150: 756d 656e 7473 2061 7265 2066 756e 6374  uments are funct
+00025160: 696f 6e73 2e0d 0a0d 0a41 7320 6120 7369  ions.....As a si
+00025170: 6d70 6c65 2065 7861 6d70 6c65 2c20 666f  mple example, fo
+00025180: 7220 6120 6269 6e61 7279 2066 756e 6374  r a binary funct
+00025190: 696f 6e20 6066 2878 2c20 7929 6020 616e  ion `f(x, y)` an
+000251a0: 6420 7477 6f20 756e 6172 7920 6675 6e63  d two unary func
+000251b0: 7469 6f6e 7320 6067 287a 2960 2061 6e64  tions `g(z)` and
+000251c0: 2060 6828 7a29 602c 2060 6c69 6674 6020   `h(z)`, `lift` 
+000251d0: 776f 726b 7320 6173 0d0a 6060 6063 6f63  works as..```coc
+000251e0: 6f6e 7574 0d0a 6c69 6674 2866 2928 672c  onut..lift(f)(g,
+000251f0: 2068 2928 7a29 203d 3d20 6628 6728 7a29   h)(z) == f(g(z)
+00025200: 2c20 6828 7a29 290d 0a60 6060 0d0a 7375  , h(z))..```..su
+00025210: 6368 2074 6861 7420 696e 2074 6869 7320  ch that in this 
+00025220: 6361 7365 2060 6c69 6674 6020 696d 706c  case `lift` impl
+00025230: 656d 656e 7473 2074 6865 2060 5327 6020  ements the `S'` 
+00025240: 636f 6d62 696e 6174 6f72 2028 606c 6966  combinator (`lif
+00025250: 7441 3260 206f 7220 606c 6966 744d 3260  tA2` or `liftM2`
+00025260: 2069 6e20 4861 736b 656c 6c29 2e0d 0a0d   in Haskell)....
+00025270: 0a49 6e20 7468 6520 6765 6e65 7261 6c20  .In the general 
+00025280: 6361 7365 2c20 606c 6966 7460 2069 7320  case, `lift` is 
+00025290: 6571 7569 7661 6c65 6e74 2074 6f20 6120  equivalent to a 
+000252a0: 7069 636b 6c65 6162 6c65 2076 6572 7369  pickleable versi
+000252b0: 6f6e 206f 660d 0a60 6060 636f 636f 6e75  on of..```coconu
+000252c0: 740d 0a64 6566 206c 6966 7428 6629 203d  t..def lift(f) =
+000252d0: 2028 0d0a 2020 2020 282a 6675 6e63 5f61   (..    (*func_a
+000252e0: 7267 732c 202a 2a66 756e 635f 6b77 6172  rgs, **func_kwar
+000252f0: 6773 2920 2d3e 0d0a 2020 2020 2020 2020  gs) ->..        
+00025300: 282a 6172 6773 2c20 2a2a 6b77 6172 6773  (*args, **kwargs
+00025310: 2920 2d3e 0d0a 2020 2020 2020 2020 2020  ) ->..          
+00025320: 2020 6628 0d0a 2020 2020 2020 2020 2020    f(..          
+00025330: 2020 2020 2020 2a28 6728 2a61 7267 732c        *(g(*args,
+00025340: 202a 2a6b 7761 7267 7329 2066 6f72 2067   **kwargs) for g
+00025350: 2069 6e20 6675 6e63 5f61 7267 7329 2c0d   in func_args),.
+00025360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025370: 202a 2a7b 6b3a 2068 282a 6172 6773 2c20   **{k: h(*args, 
+00025380: 2a2a 6b77 6172 6773 2920 666f 7220 6b2c  **kwargs) for k,
+00025390: 2068 2069 6e20 6675 6e63 5f6b 7761 7267   h in func_kwarg
+000253a0: 732e 6974 656d 7328 297d 0d0a 2020 2020  s.items()}..    
+000253b0: 2020 2020 2020 2020 290d 0a29 0d0a 6060          )..)..``
+000253c0: 600d 0a0d 0a60 6c69 6674 6020 616c 736f  `....`lift` also
+000253d0: 2073 7570 706f 7274 7320 6120 7368 6f72   supports a shor
+000253e0: 7463 7574 2066 6f72 6d20 7375 6368 2074  tcut form such t
+000253f0: 6861 7420 606c 6966 7428 662c 202a 6675  hat `lift(f, *fu
+00025400: 6e63 5f61 7267 732c 202a 2a66 756e 635f  nc_args, **func_
+00025410: 6b77 6172 6773 2960 2069 7320 6571 7569  kwargs)` is equi
+00025420: 7661 6c65 6e74 2074 6f20 606c 6966 7428  valent to `lift(
+00025430: 6629 282a 6675 6e63 5f61 7267 732c 202a  f)(*func_args, *
+00025440: 2a66 756e 635f 6b77 6172 6773 2960 2e0d  *func_kwargs)`..
+00025450: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+00025460: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+00025470: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 7873  ..```coconut..xs
+00025480: 5f61 6e64 5f78 7370 3120 3d20 6964 656e  _and_xsp1 = iden
+00025490: 7420 606c 6966 7428 7a69 7029 6020 6d61  t `lift(zip)` ma
+000254a0: 7024 282d 3e5f 2b31 290d 0a6d 696e 5f61  p$(->_+1)..min_a
+000254b0: 6e64 5f6d 6178 203d 206c 6966 7428 2c29  nd_max = lift(,)
+000254c0: 286d 696e 2c20 6d61 7829 0d0a 706c 7573  (min, max)..plus
+000254d0: 5f61 6e64 5f74 696d 6573 203d 2028 2b29  _and_times = (+)
+000254e0: 2060 6c69 6674 282c 2960 2028 2a29 0d0a   `lift(,)` (*)..
+000254f0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+00025500: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00025510: 7974 686f 6e0d 0a64 6566 2078 735f 616e  ython..def xs_an
+00025520: 645f 7873 7031 2878 7329 3a0d 0a20 2020  d_xsp1(xs):..   
+00025530: 2072 6574 7572 6e20 7a69 7028 7873 2c20   return zip(xs, 
+00025540: 6d61 7028 6c61 6d62 6461 2078 3a20 7820  map(lambda x: x 
+00025550: 2b20 312c 2078 7329 290d 0a64 6566 206d  + 1, xs))..def m
+00025560: 696e 5f61 6e64 5f6d 6178 2878 7329 3a0d  in_and_max(xs):.
+00025570: 0a20 2020 2072 6574 7572 6e20 6d69 6e28  .    return min(
+00025580: 7873 292c 206d 6178 2878 7329 0d0a 6465  xs), max(xs)..de
+00025590: 6620 706c 7573 5f61 6e64 5f74 696d 6573  f plus_and_times
+000255a0: 2878 2c20 7929 3a0d 0a20 2020 2072 6574  (x, y):..    ret
+000255b0: 7572 6e20 7820 2b20 792c 2078 202a 2079  urn x + y, x * y
+000255c0: 0d0a 6060 600d 0a0d 0a23 2323 2320 6066  ..```....#### `f
+000255d0: 6c69 7060 0d0a 0d0a 2a2a 666c 6970 2a2a  lip`....**flip**
+000255e0: 285f 6675 6e63 5f2c 205f 6e61 7267 735f  (_func_, _nargs_
+000255f0: 3d60 4e6f 6e65 6029 0d0a 0d0a 436f 636f  =`None`)....Coco
+00025600: 6e75 7427 7320 6066 6c69 7028 662c 206e  nut's `flip(f, n
+00025610: 6172 6773 3d4e 6f6e 6529 6020 6973 2061  args=None)` is a
+00025620: 2068 6967 6865 722d 6f72 6465 7220 6675   higher-order fu
+00025630: 6e63 7469 6f6e 2074 6861 742c 2067 6976  nction that, giv
+00025640: 656e 2061 2066 756e 6374 696f 6e20 6066  en a function `f
+00025650: 602c 2072 6574 7572 6e73 2061 206e 6577  `, returns a new
+00025660: 2066 756e 6374 696f 6e20 7769 7468 2072   function with r
+00025670: 6576 6572 7365 6420 6172 6775 6d65 6e74  eversed argument
+00025680: 206f 7264 6572 2e20 4966 2060 6e61 7267   order. If `narg
+00025690: 7360 2069 7320 7061 7373 6564 2c20 6f6e  s` is passed, on
+000256a0: 6c79 2074 6865 2066 6972 7374 2060 6e61  ly the first `na
+000256b0: 7267 7360 2061 7267 756d 656e 7473 2061  rgs` arguments a
+000256c0: 7265 2072 6576 6572 7365 642e 0d0a 0d0a  re reversed.....
+000256d0: 466f 7220 7468 6520 6269 6e61 7279 2063  For the binary c
+000256e0: 6173 652c 2060 666c 6970 6020 776f 726b  ase, `flip` work
+000256f0: 7320 6173 0d0a 6060 6063 6f63 6f6e 7574  s as..```coconut
+00025700: 0d0a 666c 6970 2866 2c20 3229 2878 2c20  ..flip(f, 2)(x, 
+00025710: 7929 203d 3d20 6628 792c 2078 290d 0a60  y) == f(y, x)..`
+00025720: 6060 0d0a 7375 6368 2074 6861 7420 6066  ``..such that `f
+00025730: 6c69 7024 283f 2c20 3229 6020 696d 706c  lip$(?, 2)` impl
+00025740: 656d 656e 7473 2074 6865 2060 4360 2063  ements the `C` c
+00025750: 6f6d 6269 6e61 746f 7220 2860 666c 6970  ombinator (`flip
+00025760: 6020 696e 2048 6173 6b65 6c6c 292e 0d0a  ` in Haskell)...
+00025770: 0d0a 496e 2074 6865 2067 656e 6572 616c  ..In the general
+00025780: 2063 6173 652c 2060 666c 6970 6020 6973   case, `flip` is
+00025790: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
+000257a0: 2070 6963 6b6c 6561 626c 6520 7665 7273   pickleable vers
+000257b0: 696f 6e20 6f66 0d0a 6060 6063 6f63 6f6e  ion of..```cocon
+000257c0: 7574 0d0a 6465 6620 666c 6970 2866 2c20  ut..def flip(f, 
+000257d0: 6e61 7267 733d 4e6f 6e65 2920 3d0d 0a20  nargs=None) =.. 
+000257e0: 2020 2028 2a61 7267 732c 202a 2a6b 7761     (*args, **kwa
+000257f0: 7267 7329 202d 3e20 280d 0a20 2020 2020  rgs) -> (..     
+00025800: 2020 2066 282a 6172 6773 5b3a 3a2d 315d     f(*args[::-1]
+00025810: 2c20 2a2a 6b77 6172 6773 2920 6966 206e  , **kwargs) if n
+00025820: 6172 6773 2069 7320 4e6f 6e65 0d0a 2020  args is None..  
+00025830: 2020 2020 2020 656c 7365 2066 282a 2861        else f(*(a
+00025840: 7267 735b 6e61 7267 732d 313a 3a2d 315d  rgs[nargs-1::-1]
+00025850: 202b 2061 7267 735b 6e61 7267 733a 5d29   + args[nargs:])
+00025860: 2c20 2a2a 6b77 6172 6773 290d 0a20 2020  , **kwargs)..   
+00025870: 2029 0d0a 6060 600d 0a0d 0a23 2323 2320   )..```....#### 
+00025880: 6063 6f6e 7374 600d 0a0d 0a2a 2a63 6f6e  `const`....**con
+00025890: 7374 2a2a 285f 7661 6c75 655f 290d 0a0d  st**(_value_)...
+000258a0: 0a43 6f63 6f6e 7574 2773 2060 636f 6e73  .Coconut's `cons
+000258b0: 7460 2073 696d 706c 7920 636f 6e73 7472  t` simply constr
+000258c0: 7563 7473 2061 2066 756e 6374 696f 6e20  ucts a function 
+000258d0: 7468 6174 2c20 7768 6174 6576 6572 2069  that, whatever i
+000258e0: 7473 2061 7267 756d 656e 7473 2c20 6a75  ts arguments, ju
+000258f0: 7374 2072 6574 7572 6e73 2074 6865 2067  st returns the g
+00025900: 6976 656e 2076 616c 7565 2e20 5468 7573  iven value. Thus
+00025910: 2c20 6063 6f6e 7374 6020 6973 2065 7175  , `const` is equ
+00025920: 6976 616c 656e 7420 746f 2061 2070 6963  ivalent to a pic
+00025930: 6b6c 6561 626c 6520 7665 7273 696f 6e20  kleable version 
+00025940: 6f66 0d0a 6060 6063 6f63 6f6e 7574 0d0a  of..```coconut..
+00025950: 6465 6620 636f 6e73 7428 7661 6c75 6529  def const(value)
+00025960: 203d 2028 2a61 7267 732c 202a 2a6b 7761   = (*args, **kwa
+00025970: 7267 7329 202d 3e20 7661 6c75 650d 0a60  rgs) -> value..`
+00025980: 6060 0d0a 0d0a 6063 6f6e 7374 6020 6973  ``....`const` is
+00025990: 2070 7269 6d61 7269 6c79 2075 7365 6675   primarily usefu
+000259a0: 6c20 7768 656e 2077 7269 7469 6e67 2069  l when writing i
+000259b0: 6e20 6120 706f 696e 742d 6672 6565 2073  n a point-free s
+000259c0: 7479 6c65 2028 652e 672e 2069 6e20 636f  tyle (e.g. in co
+000259d0: 6d62 696e 6174 696f 6e20 7769 7468 205b  mbination with [
+000259e0: 606c 6966 7460 5d28 236c 6966 7429 292e  `lift`](#lift)).
+000259f0: 0d0a 0d0a 2323 2323 2060 6964 656e 7460  ....#### `ident`
+00025a00: 0d0a 0d0a 2a2a 6964 656e 742a 2a28 5f78  ....**ident**(_x
+00025a10: 5f2c 202a 2c20 5f73 6964 655c 5f65 6666  _, *, _side\_eff
+00025a20: 6563 745f 3d60 4e6f 6e65 6029 0d0a 0d0a  ect_=`None`)....
+00025a30: 436f 636f 6e75 7427 7320 6069 6465 6e74  Coconut's `ident
+00025a40: 6020 6973 2074 6865 2069 6465 6e74 6974  ` is the identit
+00025a50: 7920 6675 6e63 7469 6f6e 2c20 6765 6e65  y function, gene
+00025a60: 7261 6c6c 7920 6571 7569 7661 6c65 6e74  rally equivalent
+00025a70: 2074 6f20 6078 202d 3e20 7860 2e0d 0a0d   to `x -> x`....
+00025a80: 0a60 6964 656e 7460 2061 6c73 6f20 6163  .`ident` also ac
+00025a90: 6365 7074 7320 6f6e 6520 6b65 7977 6f72  cepts one keywor
+00025aa0: 642d 6f6e 6c79 2061 7267 756d 656e 742c  d-only argument,
+00025ab0: 2060 7369 6465 5f65 6666 6563 7460 2c20   `side_effect`, 
+00025ac0: 7768 6963 6820 7370 6563 6966 6965 7320  which specifies 
+00025ad0: 6120 6675 6e63 7469 6f6e 2074 6f20 6361  a function to ca
+00025ae0: 6c6c 206f 6e20 7468 6520 6172 6775 6d65  ll on the argume
+00025af0: 6e74 2062 6566 6f72 6520 6974 2069 7320  nt before it is 
+00025b00: 7265 7475 726e 6564 2e20 5468 7573 2c20  returned. Thus, 
+00025b10: 6069 6465 6e74 6020 6973 2065 6666 6563  `ident` is effec
+00025b20: 7469 7665 6c79 2065 7175 6976 616c 656e  tively equivalen
+00025b30: 7420 746f 3a0d 0a60 6060 636f 636f 6e75  t to:..```coconu
+00025b40: 740d 0a64 6566 2069 6465 6e74 2878 2c20  t..def ident(x, 
+00025b50: 2a2c 2073 6964 655f 6566 6665 6374 3d4e  *, side_effect=N
+00025b60: 6f6e 6529 3a0d 0a20 2020 2069 6620 7369  one):..    if si
+00025b70: 6465 5f65 6666 6563 7420 6973 206e 6f74  de_effect is not
+00025b80: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00025b90: 7369 6465 5f65 6666 6563 7428 7829 0d0a  side_effect(x)..
+00025ba0: 2020 2020 7265 7475 726e 2078 0d0a 6060      return x..``
+00025bb0: 600d 0a0d 0a60 6964 656e 7460 2069 7320  `....`ident` is 
+00025bc0: 7072 696d 6172 696c 7920 7573 6566 756c  primarily useful
+00025bd0: 2077 6865 6e20 7772 6974 696e 6720 696e   when writing in
+00025be0: 2061 2070 6f69 6e74 2d66 7265 6520 7374   a point-free st
+00025bf0: 796c 6520 2865 2e67 2e20 696e 2063 6f6d  yle (e.g. in com
+00025c00: 6269 6e61 7469 6f6e 2077 6974 6820 5b60  bination with [`
+00025c10: 6c69 6674 605d 2823 6c69 6674 2929 206f  lift`](#lift)) o
+00025c20: 7220 666f 7220 6465 6275 6767 696e 6720  r for debugging 
+00025c30: 5b70 6970 6573 5d28 2370 6970 6573 2920  [pipes](#pipes) 
+00025c40: 7768 6572 6520 6069 6465 6e74 2428 7369  where `ident$(si
+00025c50: 6465 5f65 6666 6563 743d 7072 696e 7429  de_effect=print)
+00025c60: 6020 6361 6e20 6c65 7420 796f 7520 7365  ` can let you se
+00025c70: 6520 7768 6174 2069 7320 6265 696e 6720  e what is being 
+00025c80: 7069 7065 642e 0d0a 0d0a 2323 2320 4275  piped.....### Bu
+00025c90: 696c 742d 496e 7320 666f 7220 576f 726b  ilt-Ins for Work
+00025ca0: 696e 6720 7769 7468 2049 7465 7261 746f  ing with Iterato
+00025cb0: 7273 0d0a 0d0a 6060 607b 636f 6e74 656e  rs....```{conten
+00025cc0: 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a  ts}..---..local:
+00025cd0: 0d0a 6465 7074 683a 2031 0d0a 2d2d 2d0d  ..depth: 1..---.
+00025ce0: 0a60 6060 0d0a 0d0a 2323 2323 2045 6e68  .```....#### Enh
+00025cf0: 616e 6365 6420 4275 696c 742d 496e 730d  anced Built-Ins.
+00025d00: 0a0d 0a43 6f63 6f6e 7574 2773 2060 6d61  ...Coconut's `ma
+00025d10: 7060 2c20 607a 6970 602c 2060 6669 6c74  p`, `zip`, `filt
+00025d20: 6572 602c 2060 7265 7665 7273 6564 602c  er`, `reversed`,
+00025d30: 2061 6e64 2060 656e 756d 6572 6174 6560   and `enumerate`
+00025d40: 206f 626a 6563 7473 2061 7265 2065 6e68   objects are enh
+00025d50: 616e 6365 6420 7665 7273 696f 6e73 206f  anced versions o
+00025d60: 6620 7468 6569 7220 5079 7468 6f6e 2065  f their Python e
+00025d70: 7175 6976 616c 656e 7473 2074 6861 7420  quivalents that 
+00025d80: 7375 7070 6f72 743a 0d0a 0d0a 2d20 6072  support:....- `r
+00025d90: 6576 6572 7365 6460 0d0a 2d20 6072 6570  eversed`..- `rep
+00025da0: 7260 0d0a 2d20 4f70 7469 6d69 7a65 6420  r`..- Optimized 
+00025db0: 6e6f 726d 616c 2028 616e 6420 6974 6572  normal (and iter
+00025dc0: 6174 6f72 2920 696e 6465 7869 6e67 2f73  ator) indexing/s
+00025dd0: 6c69 6369 6e67 2028 606d 6170 602c 2060  licing (`map`, `
+00025de0: 7a69 7060 2c20 6072 6576 6572 7365 6460  zip`, `reversed`
+00025df0: 2c20 616e 6420 6065 6e75 6d65 7261 7465  , and `enumerate
+00025e00: 6020 6275 7420 6e6f 7420 6066 696c 7465  ` but not `filte
+00025e10: 7260 292e 0d0a 2d20 606c 656e 6020 2861  r`)...- `len` (a
+00025e20: 6c6c 2062 7574 2060 6669 6c74 6572 6029  ll but `filter`)
+00025e30: 2028 7468 6f75 6768 2060 626f 6f6c 6020   (though `bool` 
+00025e40: 7769 6c6c 2073 7469 6c6c 2061 6c77 6179  will still alway
+00025e50: 7320 7969 656c 6420 6054 7275 6560 292e  s yield `True`).
+00025e60: 0d0a 2d20 5468 6520 6162 696c 6974 7920  ..- The ability 
+00025e70: 746f 2062 6520 6974 6572 6174 6564 206f  to be iterated o
+00025e80: 7665 7220 6d75 6c74 6970 6c65 2074 696d  ver multiple tim
+00025e90: 6573 2069 6620 7468 6520 756e 6465 726c  es if the underl
+00025ea0: 7969 6e67 2069 7465 7261 746f 7273 2063  ying iterators c
+00025eb0: 616e 2062 6520 6974 6572 6174 6564 206f  an be iterated o
+00025ec0: 7665 7220 6d75 6c74 6970 6c65 2074 696d  ver multiple tim
+00025ed0: 6573 2e0d 0a2d 205b 5045 5020 3631 385d  es...- [PEP 618]
+00025ee0: 2868 7474 7073 3a2f 2f77 7777 2e70 7974  (https://www.pyt
+00025ef0: 686f 6e2e 6f72 672f 6465 762f 7065 7073  hon.org/dev/peps
+00025f00: 2f70 6570 2d30 3631 3829 2060 7a69 7028  /pep-0618) `zip(
+00025f10: 2e2e 2e2c 2073 7472 6963 743d 5472 7565  ..., strict=True
+00025f20: 2960 2073 7570 706f 7274 206f 6e20 616c  )` support on al
+00025f30: 6c20 5079 7468 6f6e 2076 6572 7369 6f6e  l Python version
+00025f40: 732e 0d0a 2d20 4164 6465 6420 6073 7472  s...- Added `str
+00025f50: 6963 743d 5472 7565 6020 7375 7070 6f72  ict=True` suppor
+00025f60: 7420 746f 2060 6d61 7060 2061 7320 7765  t to `map` as we
+00025f70: 6c6c 2028 656e 666f 7263 6573 2074 6861  ll (enforces tha
+00025f80: 7420 6974 6572 6162 6c65 7320 6172 6520  t iterables are 
+00025f90: 7468 6520 7361 6d65 206c 656e 6774 6820  the same length 
+00025fa0: 696e 2074 6865 206d 756c 7469 2d69 7465  in the multi-ite
+00025fb0: 7261 626c 6520 6361 7365 3b20 7573 6573  rable case; uses
+00025fc0: 2060 7a69 7060 2075 6e64 6572 2074 6865   `zip` under the
+00025fd0: 2068 6f6f 6420 7375 6368 2074 6861 7420   hood such that 
+00025fe0: 6572 726f 7273 2077 696c 6c20 7368 6f77  errors will show
+00025ff0: 2075 7020 6173 2060 7a69 7028 2e2e 2e2c   up as `zip(...,
+00026000: 2073 7472 6963 743d 5472 7565 2960 2065   strict=True)` e
+00026010: 7272 6f72 7329 2e0d 0a2d 2041 6464 6564  rrors)...- Added
+00026020: 2061 7474 7269 6275 7465 7320 7768 6963   attributes whic
+00026030: 6820 7375 6263 6c61 7373 6573 2063 616e  h subclasses can
+00026040: 206d 616b 6520 7573 6520 6f66 2074 6f20   make use of to 
+00026050: 6765 7420 6174 2074 6865 206f 7269 6769  get at the origi
+00026060: 6e61 6c20 6172 6775 6d65 6e74 7320 746f  nal arguments to
+00026070: 2074 6865 206f 626a 6563 743a 0d0a 2020   the object:..  
+00026080: 2a20 606d 6170 603a 2060 6675 6e63 602c  * `map`: `func`,
+00026090: 2060 6974 6572 7360 0d0a 2020 2a20 607a   `iters`..  * `z
+000260a0: 6970 603a 2060 6974 6572 7360 0d0a 2020  ip`: `iters`..  
+000260b0: 2a20 6066 696c 7465 7260 3a20 6066 756e  * `filter`: `fun
+000260c0: 6360 2c20 6069 7465 7260 0d0a 2020 2a20  c`, `iter`..  * 
+000260d0: 6072 6576 6572 7365 6460 3a20 6069 7465  `reversed`: `ite
+000260e0: 7260 0d0a 2020 2a20 6065 6e75 6d65 7261  r`..  * `enumera
+000260f0: 7465 603a 2060 6974 6572 602c 2060 7374  te`: `iter`, `st
+00026100: 6172 7460 0d0a 0d0a 2323 2323 2320 496e  art`....##### In
+00026110: 6465 7869 6e67 2069 6e74 6f20 6f74 6865  dexing into othe
+00026120: 7220 6275 696c 742d 696e 730d 0a0d 0a54  r built-ins....T
+00026130: 686f 7567 6820 436f 636f 6e75 7420 7072  hough Coconut pr
+00026140: 6f76 6964 6573 2072 616e 646f 6d20 6163  ovides random ac
+00026150: 6365 7373 2069 6e64 6578 696e 672f 736c  cess indexing/sl
+00026160: 6963 696e 6720 746f 2060 7261 6e67 6560  icing to `range`
+00026170: 2c20 606d 6170 602c 2060 7a69 7060 2c20  , `map`, `zip`, 
+00026180: 6072 6576 6572 7365 6460 2c20 616e 6420  `reversed`, and 
+00026190: 6065 6e75 6d65 7261 7465 602c 2043 6f63  `enumerate`, Coc
+000261a0: 6f6e 7574 2063 616e 6e6f 7420 696e 6465  onut cannot inde
+000261b0: 7820 696e 746f 2062 7569 6c74 2d69 6e73  x into built-ins
+000261c0: 206c 696b 6520 6066 696c 7465 7260 2c20   like `filter`, 
+000261d0: 6074 616b 6577 6869 6c65 602c 206f 7220  `takewhile`, or 
+000261e0: 6064 726f 7077 6869 6c65 6020 6469 7265  `dropwhile` dire
+000261f0: 6374 6c79 2c20 6173 2074 6865 7265 2069  ctly, as there i
+00026200: 7320 6e6f 2065 6666 6963 6965 6e74 2077  s no efficient w
+00026210: 6179 2074 6f20 646f 2073 6f2e 0d0a 0d0a  ay to do so.....
+00026220: 6060 6063 6f63 6f6e 7574 0d0a 7261 6e67  ```coconut..rang
+00026230: 6528 3130 2920 7c3e 2066 696c 7465 7224  e(10) |> filter$
+00026240: 2869 2d3e 693e 3329 207c 3e20 2e5b 305d  (i->i>3) |> .[0]
+00026250: 2020 2320 646f 6573 6e27 7420 776f 726b    # doesn't work
+00026260: 0d0a 6060 600d 0a0d 0a49 6e20 6f72 6465  ..```....In orde
+00026270: 7220 746f 206d 616b 6520 7468 6973 2077  r to make this w
+00026280: 6f72 6b2c 2079 6f75 2063 616e 2065 7870  ork, you can exp
+00026290: 6c69 6369 746c 7920 7573 6520 6974 6572  licitly use iter
+000262a0: 6174 6f72 2073 6c69 6369 6e67 2c20 7768  ator slicing, wh
+000262b0: 6963 6820 6973 206c 6573 7320 6566 6669  ich is less effi
+000262c0: 6369 656e 7420 696e 2074 6865 2067 656e  cient in the gen
+000262d0: 6572 616c 2063 6173 653a 0d0a 0d0a 6060  eral case:....``
+000262e0: 6063 6f63 6f6e 7574 0d0a 7261 6e67 6528  `coconut..range(
+000262f0: 3130 2920 7c3e 2066 696c 7465 7224 2869  10) |> filter$(i
+00026300: 2d3e 693e 3329 207c 3e20 2e24 5b30 5d20  ->i>3) |> .$[0] 
+00026310: 2023 2077 6f72 6b73 0d0a 6060 600d 0a0d   # works..```...
+00026320: 0a46 6f72 206d 6f72 6520 696e 666f 726d  .For more inform
+00026330: 6174 696f 6e20 6f6e 2043 6f63 6f6e 7574  ation on Coconut
+00026340: 2773 2069 7465 7261 746f 7220 736c 6963  's iterator slic
+00026350: 696e 672c 2073 6565 205b 6865 7265 5d28  ing, see [here](
+00026360: 2369 7465 7261 746f 722d 736c 6963 696e  #iterator-slicin
+00026370: 6729 2e0d 0a0d 0a23 2323 2323 2045 7861  g).....##### Exa
+00026380: 6d70 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e  mples....**Cocon
+00026390: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+000263a0: 740d 0a6d 6170 2828 2b29 2c20 7261 6e67  t..map((+), rang
+000263b0: 6528 3529 2c20 7261 6e67 6528 3629 2920  e(5), range(6)) 
+000263c0: 7c3e 206c 656e 207c 3e20 7072 696e 740d  |> len |> print.
+000263d0: 0a72 616e 6765 2831 3029 207c 3e20 6669  .range(10) |> fi
+000263e0: 6c74 6572 2428 2878 2920 2d3e 2078 203c  lter$((x) -> x <
+000263f0: 2035 2920 7c3e 2072 6576 6572 7365 6420   5) |> reversed 
+00026400: 7c3e 2074 7570 6c65 207c 3e20 7072 696e  |> tuple |> prin
+00026410: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
+00026420: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
+00026430: 2064 6f6e 6520 7769 7468 6f75 7420 6465   done without de
+00026440: 6669 6e69 6e67 2061 2063 7573 746f 6d20  fining a custom 
+00026450: 606d 6170 6020 7479 7065 2e20 5468 6520  `map` type. The 
+00026460: 6675 6c6c 2064 6566 696e 6974 696f 6e20  full definition 
+00026470: 6f66 2060 6d61 7060 2063 616e 2062 6520  of `map` can be 
+00026480: 666f 756e 6420 696e 2074 6865 2043 6f63  found in the Coc
+00026490: 6f6e 7574 2068 6561 6465 722e 5f0d 0a0d  onut header._...
+000264a0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+000264b0: 6060 636f 636f 6e75 740d 0a72 616e 6765  ``coconut..range
+000264c0: 2830 2c20 3132 2c20 3229 5b34 5d20 2023  (0, 12, 2)[4]  #
+000264d0: 2038 0d0a 0d0a 6d61 7028 2869 2d3e 692a   8....map((i->i*
+000264e0: 3229 2c20 7261 6e67 6528 3130 2929 5b32  2), range(10))[2
+000264f0: 5d20 2023 2034 0d0a 6060 600d 0a0d 0a2a  ]  # 4..```....*
+00026500: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
+00026510: e280 9974 2062 6520 646f 6e65 2071 7569  ...t be done qui
+00026520: 636b 6c79 2077 6974 686f 7574 2043 6f63  ckly without Coc
+00026530: 6f6e 7574 e280 9973 2069 7465 7261 626c  onut...s iterabl
+00026540: 6520 696e 6465 7869 6e67 2c20 7768 6963  e indexing, whic
+00026550: 6820 7265 7175 6972 6573 206d 616e 7920  h requires many 
+00026560: 636f 6d70 6c69 6361 7465 6420 7069 6563  complicated piec
+00026570: 6573 2e20 5468 6520 6e65 6365 7373 6172  es. The necessar
+00026580: 7920 6465 6669 6e69 7469 6f6e 7320 696e  y definitions in
+00026590: 2050 7974 686f 6e20 6361 6e20 6265 2066   Python can be f
+000265a0: 6f75 6e64 2069 6e20 7468 6520 436f 636f  ound in the Coco
+000265b0: 6e75 7420 6865 6164 6572 2e5f 0d0a 0d0a  nut header._....
+000265c0: 2323 2323 2060 7265 6475 6365 600d 0a0d  #### `reduce`...
+000265d0: 0a2a 2a72 6564 7563 652a 2a28 5f66 756e  .**reduce**(_fun
+000265e0: 6374 696f 6e5f 2c20 5f69 7465 7261 626c  ction_, _iterabl
+000265f0: 655f 5b2c 205f 696e 6974 6961 6c5f 5d2c  e_[, _initial_],
+00026600: 202f 290d 0a0d 0a43 6f63 6f6e 7574 2072   /)....Coconut r
+00026610: 652d 696e 7472 6f64 7563 6573 2050 7974  e-introduces Pyt
+00026620: 686f 6e20 3227 7320 6072 6564 7563 6560  hon 2's `reduce`
+00026630: 2062 7569 6c74 2d69 6e2c 2075 7369 6e67   built-in, using
+00026640: 2074 6865 2060 6675 6e63 746f 6f6c 732e   the `functools.
+00026650: 7265 6475 6365 6020 7665 7273 696f 6e2e  reduce` version.
+00026660: 0d0a 0d0a 2323 2323 2320 5079 7468 6f6e  ....##### Python
+00026670: 2044 6f63 730d 0a0d 0a2a 2a72 6564 7563   Docs....**reduc
+00026680: 652a 2a28 5f66 756e 6374 696f 6e2c 2069  e**(_function, i
+00026690: 7465 7261 626c 655f 2a2a 5b2a 2a5f 2c20  terable_**[**_, 
+000266a0: 696e 6974 6961 6c5f 2a2a 5d2a 2a29 0d0a  initial_**]**)..
+000266b0: 0d0a 4170 706c 7920 5f66 756e 6374 696f  ..Apply _functio
+000266c0: 6e5f 206f 6620 7477 6f20 6172 6775 6d65  n_ of two argume
+000266d0: 6e74 7320 6375 6d75 6c61 7469 7665 6c79  nts cumulatively
+000266e0: 2074 6f20 7468 6520 6974 656d 7320 6f66   to the items of
+000266f0: 205f 7365 7175 656e 6365 5f2c 2066 726f   _sequence_, fro
+00026700: 6d20 6c65 6674 2074 6f20 7269 6768 742c  m left to right,
+00026710: 2073 6f20 6173 2074 6f20 7265 6475 6365   so as to reduce
+00026720: 2074 6865 2073 6571 7565 6e63 6520 746f   the sequence to
+00026730: 2061 2073 696e 676c 6520 7661 6c75 652e   a single value.
+00026740: 2046 6f72 2065 7861 6d70 6c65 2c20 6072   For example, `r
+00026750: 6564 7563 6528 2878 2c20 7929 202d 3e20  educe((x, y) -> 
+00026760: 782b 792c 205b 312c 2032 2c20 332c 2034  x+y, [1, 2, 3, 4
+00026770: 2c20 355d 2960 2063 616c 6375 6c61 7465  , 5])` calculate
+00026780: 7320 6028 2828 2831 2b32 292b 3329 2b34  s `((((1+2)+3)+4
+00026790: 292b 3529 602e 2054 6865 206c 6566 7420  )+5)`. The left 
+000267a0: 6172 6775 6d65 6e74 2c20 5f78 5f2c 2069  argument, _x_, i
+000267b0: 7320 7468 6520 6163 6375 6d75 6c61 7465  s the accumulate
+000267c0: 6420 7661 6c75 6520 616e 6420 7468 6520  d value and the 
+000267d0: 7269 6768 7420 6172 6775 6d65 6e74 2c20  right argument, 
+000267e0: 5f79 5f2c 2069 7320 7468 6520 7570 6461  _y_, is the upda
+000267f0: 7465 2076 616c 7565 2066 726f 6d20 7468  te value from th
+00026800: 6520 5f73 6571 7565 6e63 655f 2e20 4966  e _sequence_. If
+00026810: 2074 6865 206f 7074 696f 6e61 6c20 5f69   the optional _i
+00026820: 6e69 7469 616c 5f20 6973 2070 7265 7365  nitial_ is prese
+00026830: 6e74 2c20 6974 2069 7320 706c 6163 6564  nt, it is placed
+00026840: 2062 6566 6f72 6520 7468 6520 6974 656d   before the item
+00026850: 7320 6f66 2074 6865 2073 6571 7565 6e63  s of the sequenc
+00026860: 6520 696e 2074 6865 2063 616c 6375 6c61  e in the calcula
+00026870: 7469 6f6e 2c20 616e 6420 7365 7276 6573  tion, and serves
+00026880: 2061 7320 6120 6465 6661 756c 7420 7768   as a default wh
+00026890: 656e 2074 6865 2073 6571 7565 6e63 6520  en the sequence 
+000268a0: 6973 2065 6d70 7479 2e20 4966 205f 696e  is empty. If _in
+000268b0: 6974 6961 6c5f 2069 7320 6e6f 7420 6769  itial_ is not gi
+000268c0: 7665 6e20 616e 6420 5f73 6571 7565 6e63  ven and _sequenc
+000268d0: 655f 2063 6f6e 7461 696e 7320 6f6e 6c79  e_ contains only
+000268e0: 206f 6e65 2069 7465 6d2c 2074 6865 2066   one item, the f
+000268f0: 6972 7374 2069 7465 6d20 6973 2072 6574  irst item is ret
+00026900: 7572 6e65 642e 0d0a 0d0a 2323 2323 2320  urned.....##### 
+00026910: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+00026920: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+00026930: 6e75 740d 0a70 726f 6475 6374 203d 2072  nut..product = r
+00026940: 6564 7563 6524 282a 290d 0a72 616e 6765  educe$(*)..range
+00026950: 2831 2c20 3130 2920 7c3e 2070 726f 6475  (1, 10) |> produ
+00026960: 6374 207c 3e20 7072 696e 740d 0a60 6060  ct |> print..```
+00026970: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00026980: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+00026990: 6f6e 0d0a 696d 706f 7274 206f 7065 7261  on..import opera
+000269a0: 746f 720d 0a69 6d70 6f72 7420 6675 6e63  tor..import func
+000269b0: 746f 6f6c 730d 0a70 726f 6475 6374 203d  tools..product =
+000269c0: 2066 756e 6374 6f6f 6c73 2e70 6172 7469   functools.parti
+000269d0: 616c 2866 756e 6374 6f6f 6c73 2e72 6564  al(functools.red
+000269e0: 7563 652c 206f 7065 7261 746f 722e 6d75  uce, operator.mu
+000269f0: 6c29 0d0a 7072 696e 7428 7072 6f64 7563  l)..print(produc
+00026a00: 7428 7261 6e67 6528 312c 2031 3029 2929  t(range(1, 10)))
+00026a10: 0d0a 6060 600d 0a0d 0a23 2323 2320 6072  ..```....#### `r
+00026a20: 6569 7465 7261 626c 6560 0d0a 0d0a 2a2a  eiterable`....**
+00026a30: 7265 6974 6572 6162 6c65 2a2a 285f 6974  reiterable**(_it
+00026a40: 6572 6162 6c65 5f29 0d0a 0d0a 6072 6569  erable_)....`rei
+00026a50: 7465 7261 626c 6560 2077 7261 7073 2074  terable` wraps t
+00026a60: 6865 2067 6976 656e 2069 7465 7261 626c  he given iterabl
+00026a70: 6520 746f 2065 6e73 7572 6520 7468 6174  e to ensure that
+00026a80: 2065 7665 7279 2074 696d 6520 7468 6520   every time the 
+00026a90: 6072 6569 7465 7261 626c 6560 2069 7320  `reiterable` is 
+00026aa0: 6974 6572 6174 6564 206f 7665 722c 2069  iterated over, i
+00026ab0: 7420 7072 6f64 7563 6573 2074 6865 2073  t produces the s
+00026ac0: 616d 6520 7265 7375 6c74 732e 204e 6f74  ame results. Not
+00026ad0: 6520 7468 6174 2074 6865 2072 6573 756c  e that the resul
+00026ae0: 7420 6e65 6564 206e 6f74 2062 6520 6120  t need not be a 
+00026af0: 6072 6569 7465 7261 626c 6560 206f 626a  `reiterable` obj
+00026b00: 6563 7420 6966 2074 6865 2067 6976 656e  ect if the given
+00026b10: 2069 7465 7261 626c 6520 6973 2061 6c72   iterable is alr
+00026b20: 6561 6479 2072 6569 7465 7261 626c 652e  eady reiterable.
+00026b30: 2060 7265 6974 6572 6162 6c65 6020 7573   `reiterable` us
+00026b40: 6573 205b 6074 6565 605d 2823 7465 6529  es [`tee`](#tee)
+00026b50: 2075 6e64 6572 2074 6865 2068 6f6f 6420   under the hood 
+00026b60: 616e 6420 6074 6565 6020 6361 6e20 6265  and `tee` can be
+00026b70: 2075 7365 6420 696e 2069 7473 2070 6c61   used in its pla
+00026b80: 6365 2c20 7468 6f75 6768 2060 7265 6974  ce, though `reit
+00026b90: 6572 6162 6c65 6020 6973 2067 656e 6572  erable` is gener
+00026ba0: 616c 6c79 2072 6563 6f6d 6d65 6e64 6564  ally recommended
+00026bb0: 206f 7665 7220 6074 6565 602e 0d0a 0d0a   over `tee`.....
+00026bc0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+00026bd0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+00026be0: 6060 636f 636f 6e75 740d 0a64 6566 206c  ``coconut..def l
+00026bf0: 6973 745f 7479 7065 2878 7329 3a0d 0a20  ist_type(xs):.. 
+00026c00: 2020 206d 6174 6368 2072 6569 7465 7261     match reitera
+00026c10: 626c 6528 7873 293a 0d0a 2020 2020 2020  ble(xs):..      
+00026c20: 2020 6361 7365 205b 6673 742c 2073 6e64    case [fst, snd
+00026c30: 5d20 3a3a 2074 6169 6c3a 0d0a 2020 2020  ] :: tail:..    
+00026c40: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+00026c50: 6174 206c 6561 7374 2032 220d 0a20 2020  at least 2"..   
+00026c60: 2020 2020 2063 6173 6520 5b66 7374 5d20       case [fst] 
+00026c70: 3a3a 2074 6169 6c3a 0d0a 2020 2020 2020  :: tail:..      
+00026c80: 2020 2020 2020 7265 7475 726e 2022 6174        return "at
+00026c90: 206c 6561 7374 2031 220d 0a20 2020 2020   least 1"..     
+00026ca0: 2020 2063 6173 6520 287c 207c 293a 0d0a     case (| |):..
+00026cb0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00026cc0: 726e 2022 656d 7074 7922 0d0a 6060 600d  rn "empty"..```.
+00026cd0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+00026ce0: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+00026cf0: 6974 686f 7574 2061 206c 6f6e 6720 7365  ithout a long se
+00026d00: 7269 6573 206f 6620 6368 6563 6b73 2066  ries of checks f
+00026d10: 6f72 2065 6163 6820 606d 6174 6368 6020  or each `match` 
+00026d20: 7374 6174 656d 656e 742e 2053 6565 2074  statement. See t
+00026d30: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
+00026d40: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
+00026d50: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2323  syntax._....####
+00026d60: 2060 7374 6172 6d61 7060 0d0a 0d0a 2a2a   `starmap`....**
+00026d70: 7374 6172 6d61 702a 2a28 5f66 756e 6374  starmap**(_funct
+00026d80: 696f 6e5f 2c20 5f69 7465 7261 626c 655f  ion_, _iterable_
+00026d90: 290d 0a0d 0a43 6f63 6f6e 7574 2070 726f  )....Coconut pro
+00026da0: 7669 6465 7320 6120 6d6f 6469 6669 6564  vides a modified
+00026db0: 2076 6572 7369 6f6e 206f 6620 6069 7465   version of `ite
+00026dc0: 7274 6f6f 6c73 2e73 7461 726d 6170 6020  rtools.starmap` 
+00026dd0: 7468 6174 2073 7570 706f 7274 7320 6072  that supports `r
+00026de0: 6576 6572 7365 6460 2c20 6072 6570 7260  eversed`, `repr`
+00026df0: 2c20 6f70 7469 6d69 7a65 6420 6e6f 726d  , optimized norm
+00026e00: 616c 2028 616e 6420 6974 6572 6174 6f72  al (and iterator
+00026e10: 2920 736c 6963 696e 672c 2060 6c65 6e60  ) slicing, `len`
+00026e20: 2c20 616e 6420 6066 756e 6360 2f60 6974  , and `func`/`it
+00026e30: 6572 6020 6174 7472 6962 7574 6573 2e0d  er` attributes..
+00026e40: 0a0d 0a23 2323 2323 2050 7974 686f 6e20  ...##### Python 
+00026e50: 446f 6373 0d0a 0d0a 2a2a 7374 6172 6d61  Docs....**starma
+00026e60: 702a 2a28 5f66 756e 6374 696f 6e2c 2069  p**(_function, i
+00026e70: 7465 7261 626c 655f 290d 0a0d 0a4d 616b  terable_)....Mak
+00026e80: 6520 616e 2069 7465 7261 746f 7220 7468  e an iterator th
+00026e90: 6174 2063 6f6d 7075 7465 7320 7468 6520  at computes the 
+00026ea0: 6675 6e63 7469 6f6e 2075 7369 6e67 2061  function using a
+00026eb0: 7267 756d 656e 7473 206f 6274 6169 6e65  rguments obtaine
+00026ec0: 6420 6672 6f6d 2074 6865 2069 7465 7261  d from the itera
+00026ed0: 626c 652e 2055 7365 6420 696e 7374 6561  ble. Used instea
+00026ee0: 6420 6f66 2060 6d61 7028 2960 2077 6865  d of `map()` whe
+00026ef0: 6e20 6172 6775 6d65 6e74 2070 6172 616d  n argument param
+00026f00: 6574 6572 7320 6172 6520 616c 7265 6164  eters are alread
+00026f10: 7920 6772 6f75 7065 6420 696e 2074 7570  y grouped in tup
+00026f20: 6c65 7320 6672 6f6d 2061 2073 696e 676c  les from a singl
+00026f30: 6520 6974 6572 6162 6c65 2028 7468 6520  e iterable (the 
+00026f40: 6461 7461 2068 6173 2062 6565 6e20 2270  data has been "p
+00026f50: 7265 2d7a 6970 7065 6422 292e 2054 6865  re-zipped"). The
+00026f60: 2064 6966 6665 7265 6e63 6520 6265 7477   difference betw
+00026f70: 6565 6e20 606d 6170 2829 6020 616e 6420  een `map()` and 
+00026f80: 6073 7461 726d 6170 2829 6020 7061 7261  `starmap()` para
+00026f90: 6c6c 656c 7320 7468 6520 6469 7374 696e  llels the distin
+00026fa0: 6374 696f 6e20 6265 7477 6565 6e20 6066  ction between `f
+00026fb0: 756e 6374 696f 6e28 612c 6229 6020 616e  unction(a,b)` an
+00026fc0: 6420 6066 756e 6374 696f 6e28 2a63 2960  d `function(*c)`
+00026fd0: 2e20 526f 7567 686c 7920 6571 7569 7661  . Roughly equiva
+00026fe0: 6c65 6e74 2074 6f3a 0d0a 0d0a 6060 6063  lent to:....```c
+00026ff0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+00027000: 6566 2073 7461 726d 6170 2866 756e 6374  ef starmap(funct
+00027010: 696f 6e2c 2069 7465 7261 626c 6529 3a0d  ion, iterable):.
+00027020: 0a20 2020 2023 2073 7461 726d 6170 2870  .    # starmap(p
+00027030: 6f77 2c20 5b28 322c 3529 2c20 2833 2c32  ow, [(2,5), (3,2
+00027040: 292c 2028 3130 2c33 295d 2920 2d2d 3e20  ), (10,3)]) --> 
+00027050: 3332 2039 2031 3030 300d 0a20 2020 2066  32 9 1000..    f
+00027060: 6f72 2061 7267 7320 696e 2069 7465 7261  or args in itera
+00027070: 626c 653a 0d0a 2020 2020 2020 2020 7969  ble:..        yi
+00027080: 656c 6420 6675 6e63 7469 6f6e 282a 6172  eld function(*ar
+00027090: 6773 290d 0a60 6060 0d0a 0d0a 2323 2323  gs)..```....####
+000270a0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+000270b0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+000270c0: 636f 6e75 740d 0a72 616e 6765 2831 2c20  conut..range(1, 
+000270d0: 3529 207c 3e20 6d61 7024 2872 616e 6765  5) |> map$(range
+000270e0: 2920 7c3e 2073 7461 726d 6170 2428 7072  ) |> starmap$(pr
+000270f0: 696e 7429 207c 3e20 636f 6e73 756d 650d  int) |> consume.
+00027100: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00027110: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
+00027120: 7079 7468 6f6e 0d0a 696d 706f 7274 2069  python..import i
+00027130: 7465 7274 6f6f 6c73 2c20 636f 6c6c 6563  tertools, collec
+00027140: 7469 6f6e 730d 0a63 6f6c 6c65 6374 696f  tions..collectio
+00027150: 6e73 2e64 6571 7565 2869 7465 7274 6f6f  ns.deque(itertoo
+00027160: 6c73 2e73 7461 726d 6170 2870 7269 6e74  ls.starmap(print
+00027170: 2c20 6d61 7028 7261 6e67 652c 2072 616e  , map(range, ran
+00027180: 6765 2831 2c20 3529 2929 2c20 6d61 786c  ge(1, 5))), maxl
+00027190: 656e 3d30 290d 0a60 6060 0d0a 0d0a 2323  en=0)..```....##
+000271a0: 2323 2060 7a69 705f 6c6f 6e67 6573 7460  ## `zip_longest`
+000271b0: 0d0a 0d0a 2a2a 7a69 705c 5f6c 6f6e 6765  ....**zip\_longe
+000271c0: 7374 2a2a 282a 5f69 7465 7261 626c 6573  st**(*_iterables
+000271d0: 5f2c 205f 6669 6c6c 7661 6c75 655f 3d60  _, _fillvalue_=`
+000271e0: 4e6f 6e65 6029 0d0a 0d0a 436f 636f 6e75  None`)....Coconu
+000271f0: 7420 7072 6f76 6964 6573 2061 6e20 656e  t provides an en
+00027200: 6861 6e63 6564 2076 6572 7369 6f6e 206f  hanced version o
+00027210: 6620 6069 7465 7274 6f6f 6c73 2e7a 6970  f `itertools.zip
+00027220: 5f6c 6f6e 6765 7374 6020 6173 2061 2062  _longest` as a b
+00027230: 7569 6c74 2d69 6e20 756e 6465 7220 7468  uilt-in under th
+00027240: 6520 6e61 6d65 2060 7a69 705f 6c6f 6e67  e name `zip_long
+00027250: 6573 7460 2e20 607a 6970 5f6c 6f6e 6765  est`. `zip_longe
+00027260: 7374 6020 7375 7070 6f72 7473 2061 6c6c  st` supports all
+00027270: 2074 6865 2073 616d 6520 6665 6174 7572   the same featur
+00027280: 6573 2061 7320 436f 636f 6e75 7427 7320  es as Coconut's 
+00027290: 5b65 6e68 616e 6365 6420 7a69 705d 2823  [enhanced zip](#
+000272a0: 656e 6861 6e63 6564 2d62 7569 6c74 2d69  enhanced-built-i
+000272b0: 6e73 2920 6173 2077 656c 6c20 6173 2074  ns) as well as t
+000272c0: 6865 2061 6464 6974 696f 6e61 6c20 6174  he additional at
+000272d0: 7472 6962 7574 6520 6066 696c 6c76 616c  tribute `fillval
+000272e0: 7565 602e 0d0a 0d0a 2323 2323 2320 5079  ue`.....##### Py
+000272f0: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a7a  thon Docs....**z
+00027300: 6970 5c5f 6c6f 6e67 6573 742a 2a28 5f5c  ip\_longest**(_\
+00027310: 2a69 7465 7261 626c 6573 2c20 6669 6c6c  *iterables, fill
+00027320: 7661 6c75 653d 4e6f 6e65 5f29 0d0a 0d0a  value=None_)....
+00027330: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
+00027340: 2074 6861 7420 6167 6772 6567 6174 6573   that aggregates
+00027350: 2065 6c65 6d65 6e74 7320 6672 6f6d 2065   elements from e
+00027360: 6163 6820 6f66 2074 6865 2069 7465 7261  ach of the itera
+00027370: 626c 6573 2e20 4966 2074 6865 2069 7465  bles. If the ite
+00027380: 7261 626c 6573 2061 7265 206f 6620 756e  rables are of un
+00027390: 6576 656e 206c 656e 6774 682c 206d 6973  even length, mis
+000273a0: 7369 6e67 2076 616c 7565 7320 6172 6520  sing values are 
+000273b0: 6669 6c6c 6564 2d69 6e20 7769 7468 205f  filled-in with _
+000273c0: 6669 6c6c 7661 6c75 655f 2e20 4974 6572  fillvalue_. Iter
+000273d0: 6174 696f 6e20 636f 6e74 696e 7565 7320  ation continues 
+000273e0: 756e 7469 6c20 7468 6520 6c6f 6e67 6573  until the longes
+000273f0: 7420 6974 6572 6162 6c65 2069 7320 6578  t iterable is ex
+00027400: 6861 7573 7465 642e 2052 6f75 6768 6c79  hausted. Roughly
+00027410: 2065 7175 6976 616c 656e 7420 746f 3a0d   equivalent to:.
+00027420: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+00027430: 7468 6f6e 0d0a 6465 6620 7a69 705f 6c6f  thon..def zip_lo
+00027440: 6e67 6573 7428 2a61 7267 732c 2066 696c  ngest(*args, fil
+00027450: 6c76 616c 7565 3d4e 6f6e 6529 3a0d 0a20  lvalue=None):.. 
+00027460: 2020 2023 207a 6970 5f6c 6f6e 6765 7374     # zip_longest
+00027470: 2827 4142 4344 272c 2027 7879 272c 2066  ('ABCD', 'xy', f
+00027480: 696c 6c76 616c 7565 3d27 2d27 2920 2d2d  illvalue='-') --
+00027490: 3e20 4178 2042 7920 432d 2044 2d0d 0a20  > Ax By C- D-.. 
+000274a0: 2020 2069 7465 7261 746f 7273 203d 205b     iterators = [
+000274b0: 6974 6572 2869 7429 2066 6f72 2069 7420  iter(it) for it 
+000274c0: 696e 2061 7267 735d 0d0a 2020 2020 6e75  in args]..    nu
+000274d0: 6d5f 6163 7469 7665 203d 206c 656e 2869  m_active = len(i
+000274e0: 7465 7261 746f 7273 290d 0a20 2020 2069  terators)..    i
+000274f0: 6620 6e6f 7420 6e75 6d5f 6163 7469 7665  f not num_active
+00027500: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
+00027510: 6e0d 0a20 2020 2077 6869 6c65 2054 7275  n..    while Tru
+00027520: 653a 0d0a 2020 2020 2020 2020 7661 6c75  e:..        valu
+00027530: 6573 203d 205b 5d0d 0a20 2020 2020 2020  es = []..       
+00027540: 2066 6f72 2069 2c20 6974 2069 6e20 656e   for i, it in en
+00027550: 756d 6572 6174 6528 6974 6572 6174 6f72  umerate(iterator
+00027560: 7329 3a0d 0a20 2020 2020 2020 2020 2020  s):..           
+00027570: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00027580: 2020 2020 2020 2076 616c 7565 203d 206e         value = n
+00027590: 6578 7428 6974 290d 0a20 2020 2020 2020  ext(it)..       
+000275a0: 2020 2020 2065 7863 6570 7420 5374 6f70       except Stop
+000275b0: 4974 6572 6174 696f 6e3a 0d0a 2020 2020  Iteration:..    
+000275c0: 2020 2020 2020 2020 2020 2020 6e75 6d5f              num_
+000275d0: 6163 7469 7665 202d 3d20 310d 0a20 2020  active -= 1..   
+000275e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000275f0: 6e6f 7420 6e75 6d5f 6163 7469 7665 3a0d  not num_active:.
+00027600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027610: 2020 2020 2072 6574 7572 6e0d 0a20 2020       return..   
+00027620: 2020 2020 2020 2020 2020 2020 2069 7465               ite
+00027630: 7261 746f 7273 5b69 5d20 3d20 7265 7065  rators[i] = repe
+00027640: 6174 2866 696c 6c76 616c 7565 290d 0a20  at(fillvalue).. 
+00027650: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00027660: 616c 7565 203d 2066 696c 6c76 616c 7565  alue = fillvalue
+00027670: 0d0a 2020 2020 2020 2020 2020 2020 7661  ..            va
+00027680: 6c75 6573 2e61 7070 656e 6428 7661 6c75  lues.append(valu
+00027690: 6529 0d0a 2020 2020 2020 2020 7969 656c  e)..        yiel
+000276a0: 6420 7475 706c 6528 7661 6c75 6573 290d  d tuple(values).
+000276b0: 0a60 6060 0d0a 0d0a 4966 206f 6e65 206f  .```....If one o
+000276c0: 6620 7468 6520 6974 6572 6162 6c65 7320  f the iterables 
+000276d0: 6973 2070 6f74 656e 7469 616c 6c79 2069  is potentially i
+000276e0: 6e66 696e 6974 652c 2074 6865 6e20 7468  nfinite, then th
+000276f0: 6520 607a 6970 5f6c 6f6e 6765 7374 2829  e `zip_longest()
+00027700: 6020 6675 6e63 7469 6f6e 2073 686f 756c  ` function shoul
+00027710: 6420 6265 2077 7261 7070 6564 2077 6974  d be wrapped wit
+00027720: 6820 736f 6d65 7468 696e 6720 7468 6174  h something that
+00027730: 206c 696d 6974 7320 7468 6520 6e75 6d62   limits the numb
+00027740: 6572 206f 6620 6361 6c6c 7320 2866 6f72  er of calls (for
+00027750: 2065 7861 6d70 6c65 2069 7465 7261 746f   example iterato
+00027760: 7220 736c 6963 696e 6720 6f72 2060 7461  r slicing or `ta
+00027770: 6b65 7768 696c 6560 292e 2049 6620 6e6f  kewhile`). If no
+00027780: 7420 7370 6563 6966 6965 642c 205f 6669  t specified, _fi
+00027790: 6c6c 7661 6c75 655f 2064 6566 6175 6c74  llvalue_ default
+000277a0: 7320 746f 2060 4e6f 6e65 602e 0d0a 0d0a  s to `None`.....
+000277b0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+000277c0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+000277d0: 6060 636f 636f 6e75 740d 0a72 6573 756c  ``coconut..resul
+000277e0: 7420 3d20 7a69 705f 6c6f 6e67 6573 7428  t = zip_longest(
+000277f0: 7261 6e67 6528 3529 2c20 7261 6e67 6528  range(5), range(
+00027800: 3130 2929 0d0a 6060 600d 0a0d 0a2a 2a50  10))..```....**P
+00027810: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+00027820: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6d70  onut_python..imp
+00027830: 6f72 7420 6974 6572 746f 6f6c 730d 0a72  ort itertools..r
+00027840: 6573 756c 7420 3d20 6974 6572 746f 6f6c  esult = itertool
+00027850: 732e 7a69 705f 6c6f 6e67 6573 7428 7261  s.zip_longest(ra
+00027860: 6e67 6528 3529 2c20 7261 6e67 6528 3130  nge(5), range(10
+00027870: 2929 0d0a 6060 600d 0a0d 0a23 2323 2320  ))..```....#### 
+00027880: 6074 616b 6577 6869 6c65 600d 0a0d 0a2a  `takewhile`....*
+00027890: 2a74 616b 6577 6869 6c65 2a2a 285f 7072  *takewhile**(_pr
+000278a0: 6564 6963 6174 655f 2c20 5f69 7465 7261  edicate_, _itera
+000278b0: 626c 655f 2c20 2f29 0d0a 0d0a 436f 636f  ble_, /)....Coco
+000278c0: 6e75 7420 7072 6f76 6964 6573 2060 6974  nut provides `it
+000278d0: 6572 746f 6f6c 732e 7461 6b65 7768 696c  ertools.takewhil
+000278e0: 6560 2061 7320 6120 6275 696c 742d 696e  e` as a built-in
+000278f0: 2075 6e64 6572 2074 6865 206e 616d 6520   under the name 
+00027900: 6074 616b 6577 6869 6c65 602e 0d0a 0d0a  `takewhile`.....
+00027910: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
+00027920: 730d 0a0d 0a2a 2a74 616b 6577 6869 6c65  s....**takewhile
+00027930: 2a2a 285f 7072 6564 6963 6174 652c 2069  **(_predicate, i
+00027940: 7465 7261 626c 655f 290d 0a0d 0a4d 616b  terable_)....Mak
+00027950: 6520 616e 2069 7465 7261 746f 7220 7468  e an iterator th
+00027960: 6174 2072 6574 7572 6e73 2065 6c65 6d65  at returns eleme
+00027970: 6e74 7320 6672 6f6d 2074 6865 205f 6974  nts from the _it
+00027980: 6572 6162 6c65 5f20 6173 206c 6f6e 6720  erable_ as long 
+00027990: 6173 2074 6865 205f 7072 6564 6963 6174  as the _predicat
+000279a0: 655f 2069 7320 7472 7565 2e20 4571 7569  e_ is true. Equi
+000279b0: 7661 6c65 6e74 2074 6f3a 0d0a 6060 6063  valent to:..```c
+000279c0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+000279d0: 6566 2074 616b 6577 6869 6c65 2870 7265  ef takewhile(pre
+000279e0: 6469 6361 7465 2c20 6974 6572 6162 6c65  dicate, iterable
+000279f0: 293a 0d0a 2020 2020 2320 7461 6b65 7768  ):..    # takewh
+00027a00: 696c 6528 6c61 6d62 6461 2078 3a20 783c  ile(lambda x: x<
+00027a10: 352c 205b 312c 342c 362c 342c 315d 2920  5, [1,4,6,4,1]) 
+00027a20: 2d2d 3e20 3120 340d 0a20 2020 2066 6f72  --> 1 4..    for
+00027a30: 2078 2069 6e20 6974 6572 6162 6c65 3a0d   x in iterable:.
+00027a40: 0a20 2020 2020 2020 2069 6620 7072 6564  .        if pred
+00027a50: 6963 6174 6528 7829 3a0d 0a20 2020 2020  icate(x):..     
+00027a60: 2020 2020 2020 2079 6965 6c64 2078 0d0a         yield x..
+00027a70: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00027a80: 2020 2020 2020 2020 2020 2062 7265 616b             break
+00027a90: 0d0a 6060 600d 0a0d 0a23 2323 2323 2045  ..```....##### E
+00027aa0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+00027ab0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00027ac0: 7574 0d0a 6e65 6761 7469 7665 7320 3d20  ut..negatives = 
+00027ad0: 6e75 6d69 7465 7220 7c3e 2074 616b 6577  numiter |> takew
+00027ae0: 6869 6c65 2428 7820 2d3e 2078 203c 2030  hile$(x -> x < 0
+00027af0: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+00027b00: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+00027b10: 745f 7079 7468 6f6e 0d0a 696d 706f 7274  t_python..import
+00027b20: 2069 7465 7274 6f6f 6c73 0d0a 6e65 6761   itertools..nega
+00027b30: 7469 7665 7320 3d20 6974 6572 746f 6f6c  tives = itertool
+00027b40: 732e 7461 6b65 7768 696c 6528 6c61 6d62  s.takewhile(lamb
+00027b50: 6461 2078 3a20 7820 3c20 302c 206e 756d  da x: x < 0, num
+00027b60: 6974 6572 290d 0a60 6060 0d0a 0d0a 2323  iter)..```....##
+00027b70: 2323 2060 6472 6f70 7768 696c 6560 0d0a  ## `dropwhile`..
+00027b80: 0d0a 2a2a 6472 6f70 7768 696c 652a 2a28  ..**dropwhile**(
+00027b90: 5f70 7265 6469 6361 7465 5f2c 205f 6974  _predicate_, _it
+00027ba0: 6572 6162 6c65 5f2c 202f 290d 0a0d 0a43  erable_, /)....C
+00027bb0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+00027bc0: 6069 7465 7274 6f6f 6c73 2e64 726f 7077  `itertools.dropw
+00027bd0: 6869 6c65 6020 6173 2061 2062 7569 6c74  hile` as a built
+00027be0: 2d69 6e20 756e 6465 7220 7468 6520 6e61  -in under the na
+00027bf0: 6d65 2060 6472 6f70 7768 696c 6560 2e0d  me `dropwhile`..
+00027c00: 0a0d 0a23 2323 2323 2050 7974 686f 6e20  ...##### Python 
+00027c10: 446f 6373 0d0a 0d0a 2a2a 6472 6f70 7768  Docs....**dropwh
+00027c20: 696c 652a 2a28 5f70 7265 6469 6361 7465  ile**(_predicate
+00027c30: 2c20 6974 6572 6162 6c65 5f29 0d0a 0d0a  , iterable_)....
+00027c40: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
+00027c50: 2074 6861 7420 6472 6f70 7320 656c 656d   that drops elem
+00027c60: 656e 7473 2066 726f 6d20 7468 6520 5f69  ents from the _i
+00027c70: 7465 7261 626c 655f 2061 7320 6c6f 6e67  terable_ as long
+00027c80: 2061 7320 7468 6520 5f70 7265 6469 6361   as the _predica
+00027c90: 7465 5f20 6973 2074 7275 653b 2061 6674  te_ is true; aft
+00027ca0: 6572 7761 7264 732c 2072 6574 7572 6e73  erwards, returns
+00027cb0: 2065 7665 7279 2065 6c65 6d65 6e74 2e20   every element. 
+00027cc0: 4e6f 7465 3a20 7468 6520 6974 6572 6174  Note: the iterat
+00027cd0: 6f72 2064 6f65 7320 6e6f 7420 7072 6f64  or does not prod
+00027ce0: 7563 6520 616e 7920 6f75 7470 7574 2075  uce any output u
+00027cf0: 6e74 696c 2074 6865 2070 7265 6469 6361  ntil the predica
+00027d00: 7465 2066 6972 7374 2062 6563 6f6d 6573  te first becomes
+00027d10: 2066 616c 7365 2c20 736f 2069 7420 6d61   false, so it ma
+00027d20: 7920 6861 7665 2061 206c 656e 6774 6879  y have a lengthy
+00027d30: 2073 7461 7274 2d75 7020 7469 6d65 2e20   start-up time. 
+00027d40: 4571 7569 7661 6c65 6e74 2074 6f3a 0d0a  Equivalent to:..
+00027d50: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00027d60: 6e0d 0a64 6566 2064 726f 7077 6869 6c65  n..def dropwhile
+00027d70: 2870 7265 6469 6361 7465 2c20 6974 6572  (predicate, iter
+00027d80: 6162 6c65 293a 0d0a 2020 2020 2320 6472  able):..    # dr
+00027d90: 6f70 7768 696c 6528 6c61 6d62 6461 2078  opwhile(lambda x
+00027da0: 3a20 783c 352c 205b 312c 342c 362c 342c  : x<5, [1,4,6,4,
+00027db0: 315d 2920 2d2d 3e20 3620 3420 310d 0a20  1]) --> 6 4 1.. 
+00027dc0: 2020 2069 7465 7261 626c 6520 3d20 6974     iterable = it
+00027dd0: 6572 2869 7465 7261 626c 6529 0d0a 2020  er(iterable)..  
+00027de0: 2020 666f 7220 7820 696e 2069 7465 7261    for x in itera
+00027df0: 626c 653a 0d0a 2020 2020 2020 2020 6966  ble:..        if
+00027e00: 206e 6f74 2070 7265 6469 6361 7465 2878   not predicate(x
+00027e10: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+00027e20: 7969 656c 6420 780d 0a20 2020 2020 2020  yield x..       
+00027e30: 2020 2020 2062 7265 616b 0d0a 2020 2020       break..    
+00027e40: 666f 7220 7820 696e 2069 7465 7261 626c  for x in iterabl
+00027e50: 653a 0d0a 2020 2020 2020 2020 7969 656c  e:..        yiel
+00027e60: 6420 780d 0a60 6060 0d0a 0d0a 2323 2323  d x..```....####
+00027e70: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+00027e80: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+00027e90: 636f 6e75 740d 0a70 6f73 6974 6976 6573  conut..positives
+00027ea0: 203d 206e 756d 6974 6572 207c 3e20 6472   = numiter |> dr
+00027eb0: 6f70 7768 696c 6524 2878 202d 3e20 7820  opwhile$(x -> x 
+00027ec0: 3c20 3029 0d0a 6060 600d 0a0d 0a2a 2a50  < 0)..```....**P
+00027ed0: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+00027ee0: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6d70  onut_python..imp
+00027ef0: 6f72 7420 6974 6572 746f 6f6c 730d 0a70  ort itertools..p
+00027f00: 6f73 6974 6976 6573 203d 2069 7465 7274  ositives = itert
+00027f10: 6f6f 6c73 2e64 726f 7077 6869 6c65 286c  ools.dropwhile(l
+00027f20: 616d 6264 6120 783a 2078 203c 2030 2c20  ambda x: x < 0, 
+00027f30: 6e75 6d69 7465 7229 0d0a 6060 600d 0a0d  numiter)..```...
+00027f40: 0a23 2323 2320 6066 6c61 7474 656e 600d  .#### `flatten`.
+00027f50: 0a0d 0a2a 2a66 6c61 7474 656e 2a2a 285f  ...**flatten**(_
+00027f60: 6974 6572 6162 6c65 5f2c 205f 6c65 7665  iterable_, _leve
+00027f70: 6c73 5f3d 6031 6029 0d0a 0d0a 436f 636f  ls_=`1`)....Coco
+00027f80: 6e75 7420 7072 6f76 6964 6573 2061 6e20  nut provides an 
+00027f90: 656e 6861 6e63 6564 2076 6572 7369 6f6e  enhanced version
+00027fa0: 206f 6620 6069 7465 7274 6f6f 6c73 2e63   of `itertools.c
+00027fb0: 6861 696e 2e66 726f 6d5f 6974 6572 6162  hain.from_iterab
+00027fc0: 6c65 6020 6173 2061 2062 7569 6c74 2d69  le` as a built-i
+00027fd0: 6e20 756e 6465 7220 7468 6520 6e61 6d65  n under the name
+00027fe0: 2060 666c 6174 7465 6e60 2077 6974 6820   `flatten` with 
+00027ff0: 6164 6465 6420 7375 7070 6f72 7420 666f  added support fo
+00028000: 7220 6072 6576 6572 7365 6460 2c20 6072  r `reversed`, `r
+00028010: 6570 7260 2c20 6069 6e60 2c20 602e 636f  epr`, `in`, `.co
+00028020: 756e 7428 2960 2c20 602e 696e 6465 7828  unt()`, `.index(
+00028030: 2960 2c20 616e 6420 6066 6d61 7060 2e0d  )`, and `fmap`..
+00028040: 0a0d 0a42 7920 6465 6661 756c 742c 2060  ...By default, `
+00028050: 666c 6174 7465 6e60 206f 6e6c 7920 666c  flatten` only fl
+00028060: 6174 7465 6e73 2074 6865 2074 6f70 206c  attens the top l
+00028070: 6576 656c 206f 6620 7468 6520 6769 7665  evel of the give
+00028080: 6e20 6974 6572 6162 6c65 2f61 7272 6179  n iterable/array
+00028090: 2e20 4966 205f 6c65 7665 6c73 5f20 6973  . If _levels_ is
+000280a0: 2070 6173 7365 642c 2068 6f77 6576 6572   passed, however
+000280b0: 2c20 6974 2063 616e 2062 6520 7573 6564  , it can be used
+000280c0: 2074 6f20 636f 6e74 726f 6c20 7468 6520   to control the 
+000280d0: 6e75 6d62 6572 206f 6620 6c65 7665 6c73  number of levels
+000280e0: 2066 6c61 7474 656e 6564 2c20 7769 7468   flattened, with
+000280f0: 2060 3060 206d 6561 6e69 6e67 206e 6f20   `0` meaning no 
+00028100: 666c 6174 7465 6e69 6e67 2061 6e64 2060  flattening and `
+00028110: 4e6f 6e65 6020 666c 6174 7465 6e69 6e67  None` flattening
+00028120: 2061 7320 6d61 6e79 2069 7465 7261 626c   as many iterabl
+00028130: 6573 2061 7320 6172 6520 666f 756e 642e  es as are found.
+00028140: 204e 6f74 6520 7468 6174 2069 6620 5f6c   Note that if _l
+00028150: 6576 656c 735f 2069 7320 7365 7420 746f  evels_ is set to
+00028160: 2061 6e79 206e 6f6e 2d60 4e6f 6e65 6020   any non-`None` 
+00028170: 7661 6c75 652c 2074 6865 2066 6972 7374  value, the first
+00028180: 205f 6c65 7665 6c73 5f20 6c65 7665 6c73   _levels_ levels
+00028190: 206d 7573 7420 6265 2069 7465 7261 626c   must be iterabl
+000281a0: 6573 2c20 6f72 2065 6c73 6520 616e 2065  es, or else an e
+000281b0: 7272 6f72 2077 696c 6c20 6265 2072 6169  rror will be rai
+000281c0: 7365 642e 0d0a 0d0a 2323 2323 2320 5079  sed.....##### Py
+000281d0: 7468 6f6e 2044 6f63 730d 0a0d 0a63 6861  thon Docs....cha
+000281e0: 696e 2e2a 2a66 726f 6d5f 6974 6572 6162  in.**from_iterab
+000281f0: 6c65 2a2a 285f 6974 6572 6162 6c65 5f29  le**(_iterable_)
+00028200: 0d0a 0d0a 416c 7465 726e 6174 6520 636f  ....Alternate co
+00028210: 6e73 7472 7563 746f 7220 666f 7220 6063  nstructor for `c
+00028220: 6861 696e 2829 602e 2047 6574 7320 6368  hain()`. Gets ch
+00028230: 6169 6e65 6420 696e 7075 7473 2066 726f  ained inputs fro
+00028240: 6d20 6120 7369 6e67 6c65 2069 7465 7261  m a single itera
+00028250: 626c 6520 6172 6775 6d65 6e74 2074 6861  ble argument tha
+00028260: 7420 6973 2065 7661 6c75 6174 6564 206c  t is evaluated l
+00028270: 617a 696c 792e 2052 6f75 6768 6c79 2065  azily. Roughly e
+00028280: 7175 6976 616c 656e 7420 746f 3a0d 0a0d  quivalent to:...
+00028290: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+000282a0: 6f6e 0d0a 6465 6620 666c 6174 7465 6e28  on..def flatten(
+000282b0: 6974 6572 6162 6c65 7329 3a0d 0a20 2020  iterables):..   
+000282c0: 2023 2066 6c61 7474 656e 285b 2741 4243   # flatten(['ABC
+000282d0: 272c 2027 4445 4627 5d29 202d 2d3e 2041  ', 'DEF']) --> A
+000282e0: 2042 2043 2044 2045 2046 0d0a 2020 2020   B C D E F..    
+000282f0: 666f 7220 6974 2069 6e20 6974 6572 6162  for it in iterab
+00028300: 6c65 733a 0d0a 2020 2020 2020 2020 666f  les:..        fo
+00028310: 7220 656c 656d 656e 7420 696e 2069 743a  r element in it:
+00028320: 0d0a 2020 2020 2020 2020 2020 2020 7969  ..            yi
+00028330: 656c 6420 656c 656d 656e 740d 0a60 6060  eld element..```
+00028340: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00028350: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00028360: 2a0d 0a60 6060 636f 636f 6e75 740d 0a69  *..```coconut..i
+00028370: 7465 725f 6f66 5f69 7465 7273 203d 205b  ter_of_iters = [
+00028380: 5b31 2c20 325d 2c20 5b33 2c20 345d 5d0d  [1, 2], [3, 4]].
+00028390: 0a66 6c61 745f 6974 203d 2069 7465 725f  .flat_it = iter_
+000283a0: 6f66 5f69 7465 7273 207c 3e20 666c 6174  of_iters |> flat
+000283b0: 7465 6e20 7c3e 206c 6973 740d 0a60 6060  ten |> list..```
+000283c0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+000283d0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+000283e0: 6f6e 0d0a 6672 6f6d 2069 7465 7274 6f6f  on..from itertoo
+000283f0: 6c73 2069 6d70 6f72 7420 6368 6169 6e0d  ls import chain.
+00028400: 0a69 7465 725f 6f66 5f69 7465 7273 203d  .iter_of_iters =
+00028410: 205b 5b31 2c20 325d 2c20 5b33 2c20 345d   [[1, 2], [3, 4]
+00028420: 5d0d 0a66 6c61 745f 6974 203d 2069 7465  ]..flat_it = ite
+00028430: 725f 6f66 5f69 7465 7273 207c 3e20 6368  r_of_iters |> ch
+00028440: 6169 6e2e 6672 6f6d 5f69 7465 7261 626c  ain.from_iterabl
+00028450: 6520 7c3e 206c 6973 740d 0a60 6060 0d0a  e |> list..```..
+00028460: 0d0a 2323 2323 2060 7363 616e 600d 0a0d  ..#### `scan`...
+00028470: 0a2a 2a73 6361 6e2a 2a28 5f66 756e 6374  .**scan**(_funct
+00028480: 696f 6e5f 2c20 5f69 7465 7261 626c 655f  ion_, _iterable_
+00028490: 5b2c 205f 696e 6974 6961 6c5f 5d29 0d0a  [, _initial_])..
+000284a0: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+000284b0: 6573 2061 206d 6f64 6966 6965 6420 7665  es a modified ve
+000284c0: 7273 696f 6e20 6f66 2060 6974 6572 746f  rsion of `iterto
+000284d0: 6f6c 732e 6163 6375 6d75 6c61 7465 6020  ols.accumulate` 
+000284e0: 7769 7468 206f 7070 6f73 6974 6520 6172  with opposite ar
+000284f0: 6775 6d65 6e74 206f 7264 6572 2061 7320  gument order as 
+00028500: 6073 6361 6e60 2074 6861 7420 616c 736f  `scan` that also
+00028510: 2073 7570 706f 7274 7320 6072 6570 7260   supports `repr`
+00028520: 2c20 606c 656e 602c 2061 6e64 2060 6675  , `len`, and `fu
+00028530: 6e63 602f 6069 7465 7260 2f60 696e 6974  nc`/`iter`/`init
+00028540: 6961 6c60 2061 7474 7269 6275 7465 732e  ial` attributes.
+00028550: 2060 7363 616e 6020 776f 726b 7320 6578   `scan` works ex
+00028560: 6163 746c 7920 6c69 6b65 205b 6072 6564  actly like [`red
+00028570: 7563 6560 5d28 2372 6564 7563 6529 2c20  uce`](#reduce), 
+00028580: 6578 6365 7074 2074 6861 7420 696e 7374  except that inst
+00028590: 6561 6420 6f66 206f 6e6c 7920 7265 7475  ead of only retu
+000285a0: 726e 696e 6720 7468 6520 6c61 7374 2061  rning the last a
+000285b0: 6363 756d 756c 6174 6564 2076 616c 7565  ccumulated value
+000285c0: 2c20 6974 2072 6574 7572 6e73 2061 6e20  , it returns an 
+000285d0: 6974 6572 6174 6f72 206f 6620 616c 6c20  iterator of all 
+000285e0: 7468 6520 696e 7465 726d 6564 6961 7465  the intermediate
+000285f0: 2076 616c 7565 732e 0d0a 0d0a 2323 2323   values.....####
+00028600: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+00028610: 0a2a 2a73 6361 6e2a 2a28 5f66 756e 6374  .**scan**(_funct
+00028620: 696f 6e2c 2069 7465 7261 626c 655f 2a2a  ion, iterable_**
+00028630: 5b2a 2a5f 2c20 696e 6974 6961 6c5f 2a2a  [**_, initial_**
+00028640: 5d2a 2a29 0d0a 0d0a 4d61 6b65 2061 6e20  ]**)....Make an 
+00028650: 6974 6572 6174 6f72 2074 6861 7420 7265  iterator that re
+00028660: 7475 726e 7320 6163 6375 6d75 6c61 7465  turns accumulate
+00028670: 6420 7265 7375 6c74 7320 6f66 2073 6f6d  d results of som
+00028680: 6520 6675 6e63 7469 6f6e 206f 6620 7477  e function of tw
+00028690: 6f20 6172 6775 6d65 6e74 732e 2045 6c65  o arguments. Ele
+000286a0: 6d65 6e74 7320 6f66 2074 6865 2069 6e70  ments of the inp
+000286b0: 7574 2069 7465 7261 626c 6520 6d61 7920  ut iterable may 
+000286c0: 6265 2061 6e79 2074 7970 6520 7468 6174  be any type that
+000286d0: 2063 616e 2062 6520 6163 6365 7074 6564   can be accepted
+000286e0: 2061 7320 6172 6775 6d65 6e74 7320 746f   as arguments to
+000286f0: 205f 6675 6e63 7469 6f6e 5f2e 2028 466f   _function_. (Fo
+00028700: 7220 6578 616d 706c 652c 2077 6974 6820  r example, with 
+00028710: 7468 6520 6f70 6572 6174 696f 6e20 6f66  the operation of
+00028720: 2061 6464 6974 696f 6e2c 2065 6c65 6d65   addition, eleme
+00028730: 6e74 7320 6d61 7920 6265 2061 6e79 2061  nts may be any a
+00028740: 6464 6162 6c65 2074 7970 6520 696e 636c  ddable type incl
+00028750: 7564 696e 6720 4465 6369 6d61 6c20 6f72  uding Decimal or
+00028760: 2046 7261 6374 696f 6e2e 2920 4966 2074   Fraction.) If t
+00028770: 6865 2069 6e70 7574 2069 7465 7261 626c  he input iterabl
+00028780: 6520 6973 2065 6d70 7479 2c20 7468 6520  e is empty, the 
+00028790: 6f75 7470 7574 2069 7465 7261 626c 6520  output iterable 
+000287a0: 7769 6c6c 2061 6c73 6f20 6265 2065 6d70  will also be emp
+000287b0: 7479 2e0d 0a0d 0a49 6620 6e6f 205f 696e  ty.....If no _in
+000287c0: 6974 6961 6c5f 2069 7320 6769 7665 6e2c  itial_ is given,
+000287d0: 2072 6f75 6768 6c79 2065 7175 6976 616c   roughly equival
+000287e0: 656e 7420 746f 3a0d 0a60 6060 636f 636f  ent to:..```coco
+000287f0: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
+00028800: 7363 616e 2866 756e 6374 696f 6e2c 2069  scan(function, i
+00028810: 7465 7261 626c 6529 3a0d 0a20 2020 2027  terable):..    '
+00028820: 5265 7475 726e 2072 756e 6e69 6e67 2074  Return running t
+00028830: 6f74 616c 7327 0d0a 2020 2020 2320 7363  otals'..    # sc
+00028840: 616e 286f 7065 7261 746f 722e 6164 642c  an(operator.add,
+00028850: 205b 312c 322c 332c 342c 355d 2920 2d2d   [1,2,3,4,5]) --
+00028860: 3e20 3120 3320 3620 3130 2031 350d 0a20  > 1 3 6 10 15.. 
+00028870: 2020 2023 2073 6361 6e28 6f70 6572 6174     # scan(operat
+00028880: 6f72 2e6d 756c 2c20 5b31 2c32 2c33 2c34  or.mul, [1,2,3,4
+00028890: 2c35 5d29 202d 2d3e 2031 2032 2036 2032  ,5]) --> 1 2 6 2
+000288a0: 3420 3132 300d 0a20 2020 2069 7420 3d20  4 120..    it = 
+000288b0: 6974 6572 2869 7465 7261 626c 6529 0d0a  iter(iterable)..
+000288c0: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+000288d0: 2020 746f 7461 6c20 3d20 6e65 7874 2869    total = next(i
+000288e0: 7429 0d0a 2020 2020 6578 6365 7074 2053  t)..    except S
+000288f0: 746f 7049 7465 7261 7469 6f6e 3a0d 0a20  topIteration:.. 
+00028900: 2020 2020 2020 2072 6574 7572 6e0d 0a20         return.. 
+00028910: 2020 2079 6965 6c64 2074 6f74 616c 0d0a     yield total..
+00028920: 2020 2020 666f 7220 656c 656d 656e 7420      for element 
+00028930: 696e 2069 743a 0d0a 2020 2020 2020 2020  in it:..        
+00028940: 746f 7461 6c20 3d20 6675 6e63 7469 6f6e  total = function
+00028950: 2874 6f74 616c 2c20 656c 656d 656e 7429  (total, element)
+00028960: 0d0a 2020 2020 2020 2020 7969 656c 6420  ..        yield 
+00028970: 746f 7461 6c0d 0a60 6060 0d0a 0d0a 2323  total..```....##
+00028980: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+00028990: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+000289a0: 636f 636f 6e75 740d 0a69 6e70 7574 5f64  coconut..input_d
+000289b0: 6174 6120 3d20 5b33 2c20 342c 2036 2c20  ata = [3, 4, 6, 
+000289c0: 322c 2031 2c20 392c 2030 2c20 372c 2035  2, 1, 9, 0, 7, 5
+000289d0: 2c20 385d 0d0a 7275 6e6e 696e 675f 6d61  , 8]..running_ma
+000289e0: 7820 3d20 696e 7075 745f 6461 7461 207c  x = input_data |
+000289f0: 3e20 7363 616e 2428 6d61 7829 207c 3e20  > scan$(max) |> 
+00028a00: 6c69 7374 0d0a 6060 600d 0a0d 0a2a 2a50  list..```....**P
+00028a10: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+00028a20: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6e70  onut_python..inp
+00028a30: 7574 5f64 6174 6120 3d20 5b33 2c20 342c  ut_data = [3, 4,
+00028a40: 2036 2c20 322c 2031 2c20 392c 2030 2c20   6, 2, 1, 9, 0, 
+00028a50: 372c 2035 2c20 385d 0d0a 7275 6e6e 696e  7, 5, 8]..runnin
+00028a60: 675f 6d61 7820 3d20 5b5d 0d0a 6d61 785f  g_max = []..max_
+00028a70: 736f 5f66 6172 203d 2069 6e70 7574 5f64  so_far = input_d
+00028a80: 6174 615b 305d 0d0a 666f 7220 7820 696e  ata[0]..for x in
+00028a90: 2069 6e70 7574 5f64 6174 613a 0d0a 2020   input_data:..  
+00028aa0: 2020 6966 2078 203e 206d 6178 5f73 6f5f    if x > max_so_
+00028ab0: 6661 723a 0d0a 2020 2020 2020 2020 6d61  far:..        ma
+00028ac0: 785f 736f 5f66 6172 203d 2078 0d0a 2020  x_so_far = x..  
+00028ad0: 2020 7275 6e6e 696e 675f 6d61 782e 6170    running_max.ap
+00028ae0: 7065 6e64 2878 290d 0a60 6060 0d0a 0d0a  pend(x)..```....
+00028af0: 2323 2323 2060 636f 756e 7460 0d0a 0d0a  #### `count`....
+00028b00: 2a2a 636f 756e 742a 2a28 5f73 7461 7274  **count**(_start
+00028b10: 5f3d 6030 602c 205f 7374 6570 5f3d 6031  _=`0`, _step_=`1
+00028b20: 6029 0d0a 0d0a 436f 636f 6e75 7420 7072  `)....Coconut pr
+00028b30: 6f76 6964 6573 2061 206d 6f64 6966 6965  ovides a modifie
+00028b40: 6420 7665 7273 696f 6e20 6f66 2060 6974  d version of `it
+00028b50: 6572 746f 6f6c 732e 636f 756e 7460 2074  ertools.count` t
+00028b60: 6861 7420 7375 7070 6f72 7473 2060 696e  hat supports `in
+00028b70: 602c 206e 6f72 6d61 6c20 736c 6963 696e  `, normal slicin
+00028b80: 672c 206f 7074 696d 697a 6564 2069 7465  g, optimized ite
+00028b90: 7261 746f 7220 736c 6963 696e 672c 2074  rator slicing, t
+00028ba0: 6865 2073 7461 6e64 6172 6420 6063 6f75  he standard `cou
+00028bb0: 6e74 6020 616e 6420 6069 6e64 6578 6020  nt` and `index` 
+00028bc0: 7365 7175 656e 6365 206d 6574 686f 6473  sequence methods
+00028bd0: 2c20 6072 6570 7260 2c20 616e 6420 6073  , `repr`, and `s
+00028be0: 7461 7274 602f 6073 7465 7060 2061 7474  tart`/`step` att
+00028bf0: 7269 6275 7465 7320 6173 2061 2062 7569  ributes as a bui
+00028c00: 6c74 2d69 6e20 756e 6465 7220 7468 6520  lt-in under the 
+00028c10: 6e61 6d65 2060 636f 756e 7460 2e0d 0a0d  name `count`....
+00028c20: 0a41 6464 6974 696f 6e61 6c6c 792c 2069  .Additionally, i
+00028c30: 6620 7468 6520 5f73 7465 705f 2070 6172  f the _step_ par
+00028c40: 616d 6574 6572 2069 7320 7365 7420 746f  ameter is set to
+00028c50: 2060 4e6f 6e65 602c 2060 636f 756e 7460   `None`, `count`
+00028c60: 2077 696c 6c20 6265 6861 7665 206c 696b   will behave lik
+00028c70: 6520 6069 7465 7274 6f6f 6c73 2e72 6570  e `itertools.rep
+00028c80: 6561 7460 2069 6e73 7465 6164 2e0d 0a0d  eat` instead....
+00028c90: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
+00028ca0: 6373 0d0a 0d0a 2a2a 636f 756e 742a 2a28  cs....**count**(
+00028cb0: 5f73 7461 7274 3d30 2c20 7374 6570 3d31  _start=0, step=1
+00028cc0: 5f29 0d0a 0d0a 4d61 6b65 2061 6e20 6974  _)....Make an it
+00028cd0: 6572 6174 6f72 2074 6861 7420 7265 7475  erator that retu
+00028ce0: 726e 7320 6576 656e 6c79 2073 7061 6365  rns evenly space
+00028cf0: 6420 7661 6c75 6573 2073 7461 7274 696e  d values startin
+00028d00: 6720 7769 7468 206e 756d 6265 7220 5f73  g with number _s
+00028d10: 7461 7274 5f2e 204f 6674 656e 2075 7365  tart_. Often use
+00028d20: 6420 6173 2061 6e20 6172 6775 6d65 6e74  d as an argument
+00028d30: 2074 6f20 606d 6170 2829 6020 746f 2067   to `map()` to g
+00028d40: 656e 6572 6174 6520 636f 6e73 6563 7574  enerate consecut
+00028d50: 6976 6520 6461 7461 2070 6f69 6e74 732e  ive data points.
+00028d60: 2041 6c73 6f2c 2075 7365 6420 7769 7468   Also, used with
+00028d70: 2060 7a69 7028 2960 2074 6f20 6164 6420   `zip()` to add 
+00028d80: 7365 7175 656e 6365 206e 756d 6265 7273  sequence numbers
+00028d90: 2e20 526f 7567 686c 7920 6571 7569 7661  . Roughly equiva
+00028da0: 6c65 6e74 2074 6f3a 0d0a 6060 6063 6f63  lent to:..```coc
+00028db0: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
+00028dc0: 2063 6f75 6e74 2873 7461 7274 3d30 2c20   count(start=0, 
+00028dd0: 7374 6570 3d31 293a 0d0a 2020 2020 2320  step=1):..    # 
+00028de0: 636f 756e 7428 3130 2920 2d2d 3e20 3130  count(10) --> 10
+00028df0: 2031 3120 3132 2031 3320 3134 202e 2e2e   11 12 13 14 ...
+00028e00: 0d0a 2020 2020 2320 636f 756e 7428 322e  ..    # count(2.
+00028e10: 352c 2030 2e35 2920 2d3e 2032 2e35 2033  5, 0.5) -> 2.5 3
+00028e20: 2e30 2033 2e35 202e 2e2e 0d0a 2020 2020  .0 3.5 .....    
+00028e30: 6e20 3d20 7374 6172 740d 0a20 2020 2077  n = start..    w
+00028e40: 6869 6c65 2054 7275 653a 0d0a 2020 2020  hile True:..    
+00028e50: 2020 2020 7969 656c 6420 6e0d 0a20 2020      yield n..   
+00028e60: 2020 2020 2069 6620 7374 6570 3a0d 0a20       if step:.. 
+00028e70: 2020 2020 2020 2020 206e 202b 3d20 7374           n += st
+00028e80: 6570 0d0a 6060 600d 0a0d 0a23 2323 2323  ep..```....#####
+00028e90: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00028ea0: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+00028eb0: 6f6e 7574 0d0a 636f 756e 7428 2924 5b31  onut..count()$[1
+00028ec0: 302a 2a31 3030 5d20 7c3e 2070 7269 6e74  0**100] |> print
+00028ed0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+00028ee0: 6e3a 2a2a 0d0a 5f43 616e 2774 2062 6520  n:**.._Can't be 
+00028ef0: 646f 6e65 2071 7569 636b 6c79 2077 6974  done quickly wit
+00028f00: 686f 7574 2043 6f63 6f6e 7574 2773 2069  hout Coconut's i
+00028f10: 7465 7261 746f 7220 736c 6963 696e 672c  terator slicing,
+00028f20: 2077 6869 6368 2072 6571 7569 7265 7320   which requires 
+00028f30: 6d61 6e79 2063 6f6d 706c 6963 6174 6564  many complicated
+00028f40: 2070 6965 6365 732e 2054 6865 206e 6563   pieces. The nec
+00028f50: 6573 7361 7279 2064 6566 696e 6974 696f  essary definitio
+00028f60: 6e73 2069 6e20 5079 7468 6f6e 2063 616e  ns in Python can
+00028f70: 2062 6520 666f 756e 6420 696e 2074 6865   be found in the
+00028f80: 2043 6f63 6f6e 7574 2068 6561 6465 722e   Coconut header.
+00028f90: 5f0d 0a0d 0a23 2323 2320 6063 7963 6c65  _....#### `cycle
+00028fa0: 600d 0a0d 0a2a 2a63 7963 6c65 2a2a 285f  `....**cycle**(_
+00028fb0: 6974 6572 6162 6c65 5f2c 205f 7469 6d65  iterable_, _time
+00028fc0: 735f 3d60 4e6f 6e65 6029 0d0a 0d0a 436f  s_=`None`)....Co
+00028fd0: 636f 6e75 7427 7320 6063 7963 6c65 6020  conut's `cycle` 
+00028fe0: 6973 2061 206d 6f64 6966 6965 6420 7665  is a modified ve
+00028ff0: 7273 696f 6e20 6f66 2060 6974 6572 746f  rsion of `iterto
+00029000: 6f6c 732e 6379 636c 6560 2077 6974 6820  ols.cycle` with 
+00029010: 6120 6074 696d 6573 6020 7061 7261 6d65  a `times` parame
+00029020: 7465 7220 7468 6174 2063 6f6e 7472 6f6c  ter that control
+00029030: 7320 7468 6520 6e75 6d62 6572 206f 6620  s the number of 
+00029040: 7469 6d65 7320 746f 2063 7963 6c65 2074  times to cycle t
+00029050: 6872 6f75 6768 205f 6974 6572 6162 6c65  hrough _iterable
+00029060: 5f20 6265 666f 7265 2073 746f 7070 696e  _ before stoppin
+00029070: 672e 2060 6379 636c 6560 2061 6c73 6f20  g. `cycle` also 
+00029080: 7375 7070 6f72 7473 2060 696e 602c 2073  supports `in`, s
+00029090: 6c69 6369 6e67 2c20 606c 656e 602c 2060  licing, `len`, `
+000290a0: 7265 7665 7273 6564 602c 2060 2e63 6f75  reversed`, `.cou
+000290b0: 6e74 2829 602c 2060 2e69 6e64 6578 2829  nt()`, `.index()
+000290c0: 602c 2061 6e64 2060 7265 7072 602e 0d0a  `, and `repr`...
+000290d0: 0d0a 2323 2323 2320 5079 7468 6f6e 2044  ..##### Python D
+000290e0: 6f63 730d 0a0d 0a2a 2a63 7963 6c65 2a2a  ocs....**cycle**
+000290f0: 285f 6974 6572 6162 6c65 5f29 0d0a 0d0a  (_iterable_)....
+00029100: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
+00029110: 2072 6574 7572 6e69 6e67 2065 6c65 6d65   returning eleme
+00029120: 6e74 7320 6672 6f6d 2074 6865 2069 7465  nts from the ite
+00029130: 7261 626c 6520 616e 6420 7361 7669 6e67  rable and saving
+00029140: 2061 2063 6f70 7920 6f66 2065 6163 682e   a copy of each.
+00029150: 2057 6865 6e20 7468 6520 6974 6572 6162   When the iterab
+00029160: 6c65 2069 7320 6578 6861 7573 7465 642c  le is exhausted,
+00029170: 2072 6574 7572 6e20 656c 656d 656e 7473   return elements
+00029180: 2066 726f 6d20 7468 6520 7361 7665 6420   from the saved 
+00029190: 636f 7079 2e20 5265 7065 6174 7320 696e  copy. Repeats in
+000291a0: 6465 6669 6e69 7465 6c79 2e20 526f 7567  definitely. Roug
+000291b0: 686c 7920 6571 7569 7661 6c65 6e74 2074  hly equivalent t
+000291c0: 6f3a 0d0a 0d0a 6060 6063 6f63 6f6e 7574  o:....```coconut
+000291d0: 5f70 7974 686f 6e0d 0a64 6566 2063 7963  _python..def cyc
+000291e0: 6c65 2869 7465 7261 626c 6529 3a0d 0a20  le(iterable):.. 
+000291f0: 2020 2023 2063 7963 6c65 2827 4142 4344     # cycle('ABCD
+00029200: 2729 202d 2d3e 2041 2042 2043 2044 2041  ') --> A B C D A
+00029210: 2042 2043 2044 2041 2042 2043 2044 202e   B C D A B C D .
+00029220: 2e2e 0d0a 2020 2020 7361 7665 6420 3d20  ....    saved = 
+00029230: 5b5d 0d0a 2020 2020 666f 7220 656c 656d  []..    for elem
+00029240: 656e 7420 696e 2069 7465 7261 626c 653a  ent in iterable:
+00029250: 0d0a 2020 2020 2020 2020 7969 656c 6420  ..        yield 
+00029260: 656c 656d 656e 740d 0a20 2020 2020 2020  element..       
+00029270: 2073 6176 6564 2e61 7070 656e 6428 656c   saved.append(el
+00029280: 656d 656e 7429 0d0a 2020 2020 7768 696c  ement)..    whil
+00029290: 6520 7361 7665 643a 0d0a 2020 2020 2020  e saved:..      
+000292a0: 2020 666f 7220 656c 656d 656e 7420 696e    for element in
+000292b0: 2073 6176 6564 3a0d 0a20 2020 2020 2020   saved:..       
+000292c0: 2020 2020 2020 2079 6965 6c64 2065 6c65         yield ele
+000292d0: 6d65 6e74 0d0a 6060 600d 0a0d 0a4e 6f74  ment..```....Not
+000292e0: 652c 2074 6869 7320 6d65 6d62 6572 206f  e, this member o
+000292f0: 6620 7468 6520 746f 6f6c 6b69 7420 6d61  f the toolkit ma
+00029300: 7920 7265 7175 6972 6520 7369 676e 6966  y require signif
+00029310: 6963 616e 7420 6175 7869 6c69 6172 7920  icant auxiliary 
+00029320: 7374 6f72 6167 6520 2864 6570 656e 6469  storage (dependi
+00029330: 6e67 206f 6e20 7468 6520 6c65 6e67 7468  ng on the length
+00029340: 206f 6620 7468 6520 6974 6572 6162 6c65   of the iterable
+00029350: 292e 0d0a 0d0a 2323 2323 2320 4578 616d  ).....##### Exam
+00029360: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+00029370: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+00029380: 0a63 7963 6c65 2872 616e 6765 2832 292c  .cycle(range(2),
+00029390: 2032 2920 7c3e 206c 6973 7420 7c3e 2070   2) |> list |> p
+000293a0: 7269 6e74 0d0a 6060 600d 0a0d 0a2a 2a50  rint..```....**P
+000293b0: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+000293c0: 6f6e 7574 5f70 7974 686f 6e0d 0a66 726f  onut_python..fro
+000293d0: 6d20 6974 6572 746f 6f6c 7320 696d 706f  m itertools impo
+000293e0: 7274 2063 7963 6c65 2c20 6973 6c69 6365  rt cycle, islice
+000293f0: 0d0a 7072 696e 7428 6c69 7374 2869 736c  ..print(list(isl
+00029400: 6963 6528 6379 636c 6528 7261 6e67 6528  ice(cycle(range(
+00029410: 3229 292c 2034 2929 290d 0a60 6060 0d0a  2)), 4)))..```..
+00029420: 0d0a 2323 2323 2060 6361 7274 6573 6961  ..#### `cartesia
+00029430: 6e5f 7072 6f64 7563 7460 0d0a 0d0a 2a2a  n_product`....**
+00029440: 6361 7274 6573 6961 6e5c 5f70 726f 6475  cartesian\_produ
+00029450: 6374 2a2a 282a 5f69 7465 7261 626c 6573  ct**(*_iterables
+00029460: 5f2c 205f 7265 7065 6174 5f3d 6031 6029  _, _repeat_=`1`)
+00029470: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
+00029480: 6964 6573 2061 6e20 656e 6861 6e63 6564  ides an enhanced
+00029490: 2076 6572 7369 6f6e 206f 6620 6069 7465   version of `ite
+000294a0: 7274 6f6f 6c73 2e70 726f 6475 6374 6020  rtools.product` 
+000294b0: 6173 2061 2062 7569 6c74 2d69 6e20 756e  as a built-in un
+000294c0: 6465 7220 7468 6520 6e61 6d65 2060 6361  der the name `ca
+000294d0: 7274 6573 6961 6e5f 7072 6f64 7563 7460  rtesian_product`
+000294e0: 2077 6974 6820 6164 6465 6420 7375 7070   with added supp
+000294f0: 6f72 7420 666f 7220 606c 656e 602c 2060  ort for `len`, `
+00029500: 7265 7072 602c 2060 696e 602c 2060 2e63  repr`, `in`, `.c
+00029510: 6f75 6e74 2829 602c 2061 6e64 2060 666d  ount()`, and `fm
+00029520: 6170 602e 0d0a 0d0a 4164 6469 7469 6f6e  ap`.....Addition
+00029530: 616c 6c79 2c20 6063 6172 7465 7369 616e  ally, `cartesian
+00029540: 5f70 726f 6475 6374 6020 696e 636c 7564  _product` includ
+00029550: 6573 2073 7065 6369 616c 2073 7570 706f  es special suppo
+00029560: 7274 2066 6f72 205b 606e 756d 7079 605d  rt for [`numpy`]
+00029570: 2823 6e75 6d70 792d 696e 7465 6772 6174  (#numpy-integrat
+00029580: 696f 6e29 206f 626a 6563 7473 2c20 696e  ion) objects, in
+00029590: 2077 6869 6368 2063 6173 6520 6120 6d75   which case a mu
+000295a0: 6c74 6964 696d 656e 7369 6f6e 616c 2061  ltidimensional a
+000295b0: 7272 6179 2069 7320 7265 7475 726e 6564  rray is returned
+000295c0: 2069 6e73 7465 6164 206f 6620 616e 2069   instead of an i
+000295d0: 7465 7261 746f 722e 0d0a 0d0a 2323 2323  terator.....####
+000295e0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+000295f0: 0a2a 2a63 6172 7465 7369 616e 5c5f 7072  .**cartesian\_pr
+00029600: 6f64 7563 742a 2a28 5f5c 2a69 7465 7261  oduct**(_\*itera
+00029610: 626c 6573 2c20 7265 7065 6174 3d31 5f29  bles, repeat=1_)
+00029620: 0d0a 0d0a 4361 7274 6573 6961 6e20 7072  ....Cartesian pr
+00029630: 6f64 7563 7420 6f66 2069 6e70 7574 2069  oduct of input i
+00029640: 7465 7261 626c 6573 2e0d 0a0d 0a52 6f75  terables.....Rou
+00029650: 6768 6c79 2065 7175 6976 616c 656e 7420  ghly equivalent 
+00029660: 746f 206e 6573 7465 6420 666f 722d 6c6f  to nested for-lo
+00029670: 6f70 7320 696e 2061 2067 656e 6572 6174  ops in a generat
+00029680: 6f72 2065 7870 7265 7373 696f 6e2e 2046  or expression. F
+00029690: 6f72 2065 7861 6d70 6c65 2c20 6063 6172  or example, `car
+000296a0: 7465 7369 616e 5f70 726f 6475 6374 2841  tesian_product(A
+000296b0: 2c20 4229 6020 7265 7475 726e 7320 7468  , B)` returns th
+000296c0: 6520 7361 6d65 2061 7320 6028 2878 2c79  e same as `((x,y
+000296d0: 2920 666f 7220 7820 696e 2041 2066 6f72  ) for x in A for
+000296e0: 2079 2069 6e20 4229 602e 0d0a 0d0a 5468   y in B)`.....Th
+000296f0: 6520 6e65 7374 6564 206c 6f6f 7073 2063  e nested loops c
+00029700: 7963 6c65 206c 696b 6520 616e 206f 646f  ycle like an odo
+00029710: 6d65 7465 7220 7769 7468 2074 6865 2072  meter with the r
+00029720: 6967 6874 6d6f 7374 2065 6c65 6d65 6e74  ightmost element
+00029730: 2061 6476 616e 6369 6e67 206f 6e20 6576   advancing on ev
+00029740: 6572 7920 6974 6572 6174 696f 6e2e 2054  ery iteration. T
+00029750: 6869 7320 7061 7474 6572 6e20 6372 6561  his pattern crea
+00029760: 7465 7320 6120 6c65 7869 636f 6772 6170  tes a lexicograp
+00029770: 6869 6320 6f72 6465 7269 6e67 2073 6f20  hic ordering so 
+00029780: 7468 6174 2069 6620 7468 6520 696e 7075  that if the inpu
+00029790: 74e2 8099 7320 6974 6572 6162 6c65 7320  t...s iterables 
+000297a0: 6172 6520 736f 7274 6564 2c20 7468 6520  are sorted, the 
+000297b0: 7072 6f64 7563 7420 7475 706c 6573 2061  product tuples a
+000297c0: 7265 2065 6d69 7474 6564 2069 6e20 736f  re emitted in so
+000297d0: 7274 6564 206f 7264 6572 2e0d 0a0d 0a54  rted order.....T
+000297e0: 6f20 636f 6d70 7574 6520 7468 6520 7072  o compute the pr
+000297f0: 6f64 7563 7420 6f66 2061 6e20 6974 6572  oduct of an iter
+00029800: 6162 6c65 2077 6974 6820 6974 7365 6c66  able with itself
+00029810: 2c20 7370 6563 6966 7920 7468 6520 6e75  , specify the nu
+00029820: 6d62 6572 206f 6620 7265 7065 7469 7469  mber of repetiti
+00029830: 6f6e 7320 7769 7468 2074 6865 206f 7074  ons with the opt
+00029840: 696f 6e61 6c20 7265 7065 6174 206b 6579  ional repeat key
+00029850: 776f 7264 2061 7267 756d 656e 742e 2046  word argument. F
+00029860: 6f72 2065 7861 6d70 6c65 2c20 6070 726f  or example, `pro
+00029870: 6475 6374 2841 2c20 7265 7065 6174 3d34  duct(A, repeat=4
+00029880: 2960 206d 6561 6e73 2074 6865 2073 616d  )` means the sam
+00029890: 6520 6173 2060 6361 7274 6573 6961 6e5f  e as `cartesian_
+000298a0: 7072 6f64 7563 7428 412c 2041 2c20 412c  product(A, A, A,
+000298b0: 2041 2960 2e0d 0a0d 0a54 6869 7320 6675   A)`.....This fu
+000298c0: 6e63 7469 6f6e 2069 7320 726f 7567 686c  nction is roughl
+000298d0: 7920 6571 7569 7661 6c65 6e74 2074 6f20  y equivalent to 
+000298e0: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
+000298f0: 6465 2c20 6578 6365 7074 2074 6861 7420  de, except that 
+00029900: 7468 6520 6163 7475 616c 2069 6d70 6c65  the actual imple
+00029910: 6d65 6e74 6174 696f 6e20 646f 6573 206e  mentation does n
+00029920: 6f74 2062 7569 6c64 2075 7020 696e 7465  ot build up inte
+00029930: 726d 6564 6961 7465 2072 6573 756c 7473  rmediate results
+00029940: 2069 6e20 6d65 6d6f 7279 3a0d 0a0d 0a60   in memory:....`
+00029950: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+00029960: 0d0a 6465 6620 6361 7274 6573 6961 6e5f  ..def cartesian_
+00029970: 7072 6f64 7563 7428 2a61 7267 732c 2072  product(*args, r
+00029980: 6570 6561 743d 3129 3a0d 0a20 2020 2023  epeat=1):..    #
+00029990: 2070 726f 6475 6374 2827 4142 4344 272c   product('ABCD',
+000299a0: 2027 7879 2729 202d 2d3e 2041 7820 4179   'xy') --> Ax Ay
+000299b0: 2042 7820 4279 2043 7820 4379 2044 7820   Bx By Cx Cy Dx 
+000299c0: 4479 0d0a 2020 2020 2320 7072 6f64 7563  Dy..    # produc
+000299d0: 7428 7261 6e67 6528 3229 2c20 7265 7065  t(range(2), repe
+000299e0: 6174 3d33 2920 2d2d 3e20 3030 3020 3030  at=3) --> 000 00
+000299f0: 3120 3031 3020 3031 3120 3130 3020 3130  1 010 011 100 10
+00029a00: 3120 3131 3020 3131 310d 0a20 2020 2070  1 110 111..    p
+00029a10: 6f6f 6c73 203d 205b 7475 706c 6528 706f  ools = [tuple(po
+00029a20: 6f6c 2920 666f 7220 706f 6f6c 2069 6e20  ol) for pool in 
+00029a30: 6172 6773 5d20 2a20 7265 7065 6174 0d0a  args] * repeat..
+00029a40: 2020 2020 7265 7375 6c74 203d 205b 5b5d      result = [[]
+00029a50: 5d0d 0a20 2020 2066 6f72 2070 6f6f 6c20  ]..    for pool 
+00029a60: 696e 2070 6f6f 6c73 3a0d 0a20 2020 2020  in pools:..     
+00029a70: 2020 2072 6573 756c 7420 3d20 5b78 2b5b     result = [x+[
+00029a80: 795d 2066 6f72 2078 2069 6e20 7265 7375  y] for x in resu
+00029a90: 6c74 2066 6f72 2079 2069 6e20 706f 6f6c  lt for y in pool
+00029aa0: 5d0d 0a20 2020 2066 6f72 2070 726f 6420  ]..    for prod 
+00029ab0: 696e 2072 6573 756c 743a 0d0a 2020 2020  in result:..    
+00029ac0: 2020 2020 7969 656c 6420 7475 706c 6528      yield tuple(
+00029ad0: 7072 6f64 290d 0a60 6060 0d0a 0d0a 4265  prod)..```....Be
+00029ae0: 666f 7265 2060 6361 7274 6573 6961 6e5f  fore `cartesian_
+00029af0: 7072 6f64 7563 7428 2960 2072 756e 732c  product()` runs,
+00029b00: 2069 7420 636f 6d70 6c65 7465 6c79 2063   it completely c
+00029b10: 6f6e 7375 6d65 7320 7468 6520 696e 7075  onsumes the inpu
+00029b20: 7420 6974 6572 6162 6c65 732c 206b 6565  t iterables, kee
+00029b30: 7069 6e67 2070 6f6f 6c73 206f 6620 7661  ping pools of va
+00029b40: 6c75 6573 2069 6e20 6d65 6d6f 7279 2074  lues in memory t
+00029b50: 6f20 6765 6e65 7261 7465 2074 6865 2070  o generate the p
+00029b60: 726f 6475 6374 732e 2041 6363 6f72 6469  roducts. Accordi
+00029b70: 6e67 6c79 2c20 6974 2069 7320 6f6e 6c79  ngly, it is only
+00029b80: 2075 7365 6675 6c20 7769 7468 2066 696e   useful with fin
+00029b90: 6974 6520 696e 7075 7473 2e0d 0a0d 0a23  ite inputs.....#
+00029ba0: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+00029bb0: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+00029bc0: 6063 6f63 6f6e 7574 0d0a 7620 3d20 5b31  `coconut..v = [1
+00029bd0: 2c20 325d 0d0a 6173 7365 7274 2063 6172  , 2]..assert car
+00029be0: 7465 7369 616e 5f70 726f 6475 6374 2876  tesian_product(v
+00029bf0: 2c20 7629 207c 3e20 6c69 7374 203d 3d20  , v) |> list == 
+00029c00: 5b28 312c 2031 292c 2028 312c 2032 292c  [(1, 1), (1, 2),
+00029c10: 2028 322c 2031 292c 2028 322c 2032 295d   (2, 1), (2, 2)]
+00029c20: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+00029c30: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+00029c40: 5f70 7974 686f 6e0d 0a66 726f 6d20 6974  _python..from it
+00029c50: 6572 746f 6f6c 7320 696d 706f 7274 2070  ertools import p
+00029c60: 726f 6475 6374 0d0a 7620 3d20 5b31 2c20  roduct..v = [1, 
+00029c70: 325d 0d0a 6173 7365 7274 206c 6973 7428  2]..assert list(
+00029c80: 7072 6f64 7563 7428 762c 2076 2929 203d  product(v, v)) =
+00029c90: 3d20 5b28 312c 2031 292c 2028 312c 2032  = [(1, 1), (1, 2
+00029ca0: 292c 2028 322c 2031 292c 2028 322c 2032  ), (2, 1), (2, 2
+00029cb0: 295d 0d0a 6060 600d 0a0d 0a23 2323 2320  )]..```....#### 
+00029cc0: 606d 756c 7469 5f65 6e75 6d65 7261 7465  `multi_enumerate
+00029cd0: 600d 0a0d 0a2a 2a6d 756c 7469 5c5f 656e  `....**multi\_en
+00029ce0: 756d 6572 6174 652a 2a28 5f69 7465 7261  umerate**(_itera
+00029cf0: 626c 655f 290d 0a0d 0a43 6f63 6f6e 7574  ble_)....Coconut
+00029d00: 2773 2060 6d75 6c74 695f 656e 756d 6572  's `multi_enumer
+00029d10: 6174 6560 2065 6e75 6d65 7261 7465 7320  ate` enumerates 
+00029d20: 7468 726f 7567 6820 616e 2069 7465 7261  through an itera
+00029d30: 626c 6520 6f66 2069 7465 7261 626c 6573  ble of iterables
+00029d40: 2e20 606d 756c 7469 5f65 6e75 6d65 7261  . `multi_enumera
+00029d50: 7465 6020 776f 726b 7320 6c69 6b65 2065  te` works like e
+00029d60: 6e75 6d65 7261 7465 2c20 6275 7420 696e  numerate, but in
+00029d70: 6465 7865 7320 7468 726f 7567 6820 696e  dexes through in
+00029d80: 6e65 7220 6974 6572 6162 6c65 7320 616e  ner iterables an
+00029d90: 6420 7072 6f64 7563 6573 2061 2074 7570  d produces a tup
+00029da0: 6c65 2069 6e64 6578 2072 6570 7265 7365  le index represe
+00029db0: 6e74 696e 6720 7468 6520 696e 6465 7820  nting the index 
+00029dc0: 696e 2065 6163 6820 696e 6e65 7220 6974  in each inner it
+00029dd0: 6572 6162 6c65 2e20 5375 7070 6f72 7473  erable. Supports
+00029de0: 2069 6e64 6578 696e 672e 0d0a 0d0a 466f   indexing.....Fo
+00029df0: 7220 5b60 6e75 6d70 7960 5d28 236e 756d  r [`numpy`](#num
+00029e00: 7079 2d69 6e74 6567 7261 7469 6f6e 2920  py-integration) 
+00029e10: 6f62 6a65 6374 732c 2075 7365 7320 5b60  objects, uses [`
+00029e20: 6e70 2e6e 6469 7465 7260 5d28 6874 7470  np.nditer`](http
+00029e30: 733a 2f2f 6e75 6d70 792e 6f72 672f 646f  s://numpy.org/do
+00029e40: 632f 7374 6162 6c65 2f72 6566 6572 656e  c/stable/referen
+00029e50: 6365 2f67 656e 6572 6174 6564 2f6e 756d  ce/generated/num
+00029e60: 7079 2e6e 6469 7465 722e 6874 6d6c 2920  py.nditer.html) 
+00029e70: 756e 6465 7220 7468 6520 686f 6f64 2e20  under the hood. 
+00029e80: 416c 736f 2073 7570 706f 7274 7320 606c  Also supports `l
+00029e90: 656e 6020 666f 7220 5b60 6e75 6d70 7960  en` for [`numpy`
+00029ea0: 5d28 236e 756d 7079 2d69 6e74 6567 7261  ](#numpy-integra
+00029eb0: 7469 6f6e 2920 6172 7261 7973 2e0d 0a0d  tion) arrays....
+00029ec0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+00029ed0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+00029ee0: 6060 6063 6f63 6f6e 7574 5f70 7963 6f6e  ```coconut_pycon
+00029ef0: 0d0a 3e3e 3e20 5b31 2c20 323b 3b20 332c  ..>>> [1, 2;; 3,
+00029f00: 2034 5d20 7c3e 206d 756c 7469 5f65 6e75   4] |> multi_enu
+00029f10: 6d65 7261 7465 207c 3e20 6c69 7374 0d0a  merate |> list..
+00029f20: 5b28 2830 2c20 3029 2c20 3129 2c20 2828  [((0, 0), 1), ((
+00029f30: 302c 2031 292c 2032 292c 2028 2831 2c20  0, 1), 2), ((1, 
+00029f40: 3029 2c20 3329 2c20 2828 312c 2031 292c  0), 3), ((1, 1),
+00029f50: 2034 295d 0d0a 6060 600d 0a0d 0a2a 2a50   4)]..```....**P
+00029f60: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+00029f70: 6f6e 7574 5f70 7974 686f 6e0d 0a61 7272  onut_python..arr
+00029f80: 6179 203d 205b 5b31 2c20 325d 2c20 5b33  ay = [[1, 2], [3
+00029f90: 2c20 345d 5d0d 0a65 6e75 6d65 7261 7465  , 4]]..enumerate
+00029fa0: 645f 6172 7261 7920 3d20 5b5d 0d0a 666f  d_array = []..fo
+00029fb0: 7220 6920 696e 2072 616e 6765 286c 656e  r i in range(len
+00029fc0: 2861 7272 6179 2929 3a0d 0a20 2020 2066  (array)):..    f
+00029fd0: 6f72 206a 2069 6e20 7261 6e67 6528 6c65  or j in range(le
+00029fe0: 6e28 6172 7261 795b 695d 2929 3a0d 0a20  n(array[i])):.. 
+00029ff0: 2020 2020 2020 2065 6e75 6d65 7261 7465         enumerate
+0002a000: 645f 6172 7261 792e 6170 7065 6e64 2828  d_array.append((
+0002a010: 2869 2c20 6a29 2c20 6172 7261 795b 695d  (i, j), array[i]
+0002a020: 5b6a 5d29 290d 0a60 6060 0d0a 0d0a 2323  [j]))..```....##
+0002a030: 2323 2060 6772 6f75 7073 6f66 600d 0a0d  ## `groupsof`...
+0002a040: 0a2a 2a67 726f 7570 736f 662a 2a28 5f6e  .**groupsof**(_n
+0002a050: 5f2c 205f 6974 6572 6162 6c65 5f2c 205f  _, _iterable_, _
+0002a060: 6669 6c6c 7661 6c75 655f 3d60 2e2e 2e60  fillvalue_=`...`
+0002a070: 290d 0a0d 0a43 6f63 6f6e 7574 2070 726f  )....Coconut pro
+0002a080: 7669 6465 7320 7468 6520 6067 726f 7570  vides the `group
+0002a090: 736f 6660 2062 7569 6c74 2d69 6e20 746f  sof` built-in to
+0002a0a0: 2073 706c 6974 2061 6e20 6974 6572 6162   split an iterab
+0002a0b0: 6c65 2069 6e74 6f20 6772 6f75 7073 206f  le into groups o
+0002a0c0: 6620 6120 7370 6563 6966 6963 206c 656e  f a specific len
+0002a0d0: 6774 682e 2053 7065 6369 6669 6361 6c6c  gth. Specificall
+0002a0e0: 792c 2060 6772 6f75 7073 6f66 286e 2c20  y, `groupsof(n, 
+0002a0f0: 6974 6572 6162 6c65 2960 2077 696c 6c20  iterable)` will 
+0002a100: 7370 6c69 7420 6069 7465 7261 626c 6560  split `iterable`
+0002a110: 2069 6e74 6f20 7475 706c 6573 206f 6620   into tuples of 
+0002a120: 6c65 6e67 7468 2060 6e60 2c20 7769 7468  length `n`, with
+0002a130: 206f 6e6c 7920 7468 6520 6c61 7374 2074   only the last t
+0002a140: 7570 6c65 2070 6f74 656e 7469 616c 6c79  uple potentially
+0002a150: 206f 6620 7369 7a65 2060 3c20 6e60 2069   of size `< n` i
+0002a160: 6620 7468 6520 6c65 6e67 7468 206f 6620  f the length of 
+0002a170: 6069 7465 7261 626c 6560 2069 7320 6e6f  `iterable` is no
+0002a180: 7420 6469 7669 7369 626c 6520 6279 2060  t divisible by `
+0002a190: 6e60 2e20 4966 2074 6861 7420 6973 206e  n`. If that is n
+0002a1a0: 6f74 2074 6865 2064 6573 6972 6564 2062  ot the desired b
+0002a1b0: 6568 6176 696f 722c 205f 6669 6c6c 7661  ehavior, _fillva
+0002a1c0: 6c75 655f 2063 616e 2062 6520 7061 7373  lue_ can be pass
+0002a1d0: 6564 2061 6e64 2077 696c 6c20 6265 2075  ed and will be u
+0002a1e0: 7365 6420 746f 2070 6164 2074 6865 2065  sed to pad the e
+0002a1f0: 6e64 206f 6620 7468 6520 6c61 7374 2074  nd of the last t
+0002a200: 7570 6c65 2074 6f20 6c65 6e67 7468 2060  uple to length `
+0002a210: 6e60 2e0d 0a0d 0a41 6464 6974 696f 6e61  n`.....Additiona
+0002a220: 6c6c 792c 2060 6772 6f75 7073 6f66 6020  lly, `groupsof` 
+0002a230: 7375 7070 6f72 7473 2060 6c65 6e60 2077  supports `len` w
+0002a240: 6865 6e20 6069 7465 7261 626c 6560 2073  hen `iterable` s
+0002a250: 7570 706f 7274 7320 606c 656e 602e 0d0a  upports `len`...
+0002a260: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0002a270: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0002a280: 0a60 6060 636f 636f 6e75 740d 0a70 6169  .```coconut..pai
+0002a290: 7273 203d 2072 616e 6765 2831 2c20 3131  rs = range(1, 11
+0002a2a0: 2920 7c3e 2067 726f 7570 736f 6624 2832  ) |> groupsof$(2
+0002a2b0: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+0002a2c0: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0002a2d0: 745f 7079 7468 6f6e 0d0a 7061 6972 7320  t_python..pairs 
+0002a2e0: 3d20 5b5d 0d0a 6772 6f75 7020 3d20 5b5d  = []..group = []
+0002a2f0: 0d0a 666f 7220 6974 656d 2069 6e20 7261  ..for item in ra
+0002a300: 6e67 6528 312c 2031 3129 3a0d 0a20 2020  nge(1, 11):..   
+0002a310: 2067 726f 7570 2e61 7070 656e 6428 6974   group.append(it
+0002a320: 656d 290d 0a20 2020 2069 6620 6c65 6e28  em)..    if len(
+0002a330: 6772 6f75 7029 203d 3d20 323a 0d0a 2020  group) == 2:..  
+0002a340: 2020 2020 2020 7061 6972 732e 6170 7065        pairs.appe
+0002a350: 6e64 2874 7570 6c65 2867 726f 7570 2929  nd(tuple(group))
+0002a360: 0d0a 2020 2020 2020 2020 6772 6f75 7020  ..        group 
+0002a370: 3d20 5b5d 0d0a 6966 2067 726f 7570 3a0d  = []..if group:.
+0002a380: 0a20 2020 2070 6169 7273 2e61 7070 656e  .    pairs.appen
+0002a390: 6428 7475 706c 6528 6772 6f75 7029 290d  d(tuple(group)).
+0002a3a0: 0a60 6060 0d0a 0d0a 2323 2323 2060 7769  .```....#### `wi
+0002a3b0: 6e64 6f77 736f 6660 0d0a 0d0a 2a2a 7769  ndowsof`....**wi
+0002a3c0: 6e64 6f77 736f 662a 2a28 5f73 697a 655f  ndowsof**(_size_
+0002a3d0: 2c20 5f69 7465 7261 626c 655f 2c20 5f66  , _iterable_, _f
+0002a3e0: 696c 6c76 616c 7565 5f3d 602e 2e2e 602c  illvalue_=`...`,
+0002a3f0: 205f 7374 6570 5f3d 6031 6029 0d0a 0d0a   _step_=`1`)....
+0002a400: 6077 696e 646f 7773 6f66 6020 7072 6f64  `windowsof` prod
+0002a410: 7563 6573 2061 6e20 6974 6572 6162 6c65  uces an iterable
+0002a420: 2074 6861 7420 6566 6665 6374 6976 656c   that effectivel
+0002a430: 7920 6d69 6d69 6373 2061 2073 6c69 6469  y mimics a slidi
+0002a440: 6e67 2077 696e 646f 7720 6f76 6572 205f  ng window over _
+0002a450: 6974 6572 6162 6c65 5f20 6f66 2073 697a  iterable_ of siz
+0002a460: 6520 5f73 697a 655f 2e20 5f73 7465 705f  e _size_. _step_
+0002a470: 2064 6574 6572 6d69 6e65 7320 7468 6520   determines the 
+0002a480: 7370 6163 696e 6720 6265 7477 6565 6e20  spacing between 
+0002a490: 7769 6e64 6f77 736f 662e 0d0a 0d0a 4966  windowsof.....If
+0002a4a0: 205f 7369 7a65 5f20 6973 206c 6172 6765   _size_ is large
+0002a4b0: 7220 7468 616e 205f 6974 6572 6162 6c65  r than _iterable
+0002a4c0: 5f2c 2060 7769 6e64 6f77 736f 6660 2077  _, `windowsof` w
+0002a4d0: 696c 6c20 7072 6f64 7563 6520 616e 2065  ill produce an e
+0002a4e0: 6d70 7479 2069 7465 7261 626c 652e 2049  mpty iterable. I
+0002a4f0: 6620 7468 6174 2069 7320 6e6f 7420 7468  f that is not th
+0002a500: 6520 6465 7369 7265 6420 6265 6861 7669  e desired behavi
+0002a510: 6f72 2c20 5f66 696c 6c76 616c 7565 5f20  or, _fillvalue_ 
+0002a520: 6361 6e20 6265 2070 6173 7365 6420 616e  can be passed an
+0002a530: 6420 7769 6c6c 2062 6520 7573 6564 2069  d will be used i
+0002a540: 6e20 706c 6163 6520 6f66 206d 6973 7369  n place of missi
+0002a550: 6e67 2076 616c 7565 732e 2041 6c73 6f2c  ng values. Also,
+0002a560: 2069 6620 5f66 696c 6c76 616c 7565 5f20   if _fillvalue_ 
+0002a570: 6973 2070 6173 7365 6420 616e 6420 7468  is passed and th
+0002a580: 6520 6c65 6e67 7468 206f 6620 7468 6520  e length of the 
+0002a590: 5f69 7465 7261 626c 655f 2069 7320 6e6f  _iterable_ is no
+0002a5a0: 7420 6469 7669 7369 626c 6520 6279 205f  t divisible by _
+0002a5b0: 7374 6570 5f2c 205f 6669 6c6c 7661 6c75  step_, _fillvalu
+0002a5c0: 655f 2077 696c 6c20 6265 2075 7365 6420  e_ will be used 
+0002a5d0: 696e 2074 6861 7420 6361 7365 2074 6f20  in that case to 
+0002a5e0: 7061 6420 7468 6520 6c61 7374 2077 696e  pad the last win
+0002a5f0: 646f 7720 6173 2077 656c 6c2e 204e 6f74  dow as well. Not
+0002a600: 6520 7468 6174 205f 6669 6c6c 7661 6c75  e that _fillvalu
+0002a610: 655f 2077 696c 6c20 6f6e 6c79 2065 7665  e_ will only eve
+0002a620: 7220 6170 7065 6172 2069 6e20 7468 6520  r appear in the 
+0002a630: 6c61 7374 2077 696e 646f 772e 0d0a 0d0a  last window.....
+0002a640: 4164 6469 7469 6f6e 616c 6c79 2c20 6077  Additionally, `w
+0002a650: 696e 646f 7773 6f66 6020 7375 7070 6f72  indowsof` suppor
+0002a660: 7473 2060 6c65 6e60 2077 6865 6e20 6069  ts `len` when `i
+0002a670: 7465 7261 626c 6560 2073 7570 706f 7274  terable` support
+0002a680: 7320 606c 656e 602e 0d0a 0d0a 2323 2323  s `len`.....####
+0002a690: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0002a6a0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0002a6b0: 636f 6e75 740d 0a61 7373 6572 7420 2231  conut..assert "1
+0002a6c0: 3233 3435 2220 7c3e 2077 696e 646f 7773  2345" |> windows
+0002a6d0: 6f66 2428 3329 207c 3e20 6c69 7374 203d  of$(3) |> list =
+0002a6e0: 3d20 5b28 2231 222c 2022 3222 2c20 2233  = [("1", "2", "3
+0002a6f0: 2229 2c20 2822 3222 2c20 2233 222c 2022  "), ("2", "3", "
+0002a700: 3422 292c 2028 2233 222c 2022 3422 2c20  4"), ("3", "4", 
+0002a710: 2235 2229 5d0d 0a60 6060 0d0a 0d0a 2a2a  "5")]..```....**
+0002a720: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
+0002a730: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
+0002a740: 7420 7468 6520 6465 6669 6e69 7469 6f6e  t the definition
+0002a750: 206f 6620 6077 696e 646f 7773 6f66 603b   of `windowsof`;
+0002a760: 2073 6565 2074 6865 2063 6f6d 7069 6c65   see the compile
+0002a770: 6420 6865 6164 6572 2066 6f72 2074 6865  d header for the
+0002a780: 2066 756c 6c20 6465 6669 6e69 7469 6f6e   full definition
+0002a790: 2e5f 0d0a 0d0a 2323 2323 2060 636f 6c6c  ._....#### `coll
+0002a7a0: 6563 7462 7960 0d0a 0d0a 2a2a 636f 6c6c  ectby`....**coll
+0002a7b0: 6563 7462 792a 2a28 5f6b 6579 5c5f 6675  ectby**(_key\_fu
+0002a7c0: 6e63 5f2c 205f 6974 6572 6162 6c65 5f2c  nc_, _iterable_,
+0002a7d0: 205f 7661 6c75 655c 5f66 756e 635f 3d60   _value\_func_=`
+0002a7e0: 4e6f 6e65 602c 205f 7265 6475 6365 5c5f  None`, _reduce\_
+0002a7f0: 6675 6e63 5f3d 604e 6f6e 6560 290d 0a0d  func_=`None`)...
+0002a800: 0a60 636f 6c6c 6563 7462 7928 6b65 795f  .`collectby(key_
+0002a810: 6675 6e63 2c20 6974 6572 6162 6c65 2960  func, iterable)`
+0002a820: 2063 6f6c 6c65 6374 7320 7468 6520 6974   collects the it
+0002a830: 656d 7320 696e 2060 6974 6572 6162 6c65  ems in `iterable
+0002a840: 6020 696e 746f 2061 2064 6963 7469 6f6e  ` into a diction
+0002a850: 6172 7920 6f66 206c 6973 7473 206b 6579  ary of lists key
+0002a860: 6564 2062 7920 606b 6579 5f66 756e 6328  ed by `key_func(
+0002a870: 6974 656d 2960 2e0d 0a0d 0a49 6620 6076  item)`.....If `v
+0002a880: 616c 7565 5f66 756e 6360 2069 7320 7061  alue_func` is pa
+0002a890: 7373 6564 2c20 6063 6f6c 6c65 6374 6279  ssed, `collectby
+0002a8a0: 286b 6579 5f66 756e 632c 2069 7465 7261  (key_func, itera
+0002a8b0: 626c 652c 2076 616c 7565 5f66 756e 633d  ble, value_func=
+0002a8c0: 7661 6c75 655f 6675 6e63 2960 2069 6e73  value_func)` ins
+0002a8d0: 7465 6164 2063 6f6c 6c65 6374 7320 7661  tead collects va
+0002a8e0: 6c75 655f 6675 6e63 2869 7465 6d29 2069  lue_func(item) i
+0002a8f0: 6e74 6f20 6561 6368 206c 6973 7420 696e  nto each list in
+0002a900: 7374 6561 6420 6f66 2069 7465 6d2e 0d0a  stead of item...
+0002a910: 0d0a 4966 2060 7265 6475 6365 5f66 756e  ..If `reduce_fun
+0002a920: 6360 2069 7320 7061 7373 6564 2c20 6063  c` is passed, `c
+0002a930: 6f6c 6c65 6374 6279 286b 6579 5f66 756e  ollectby(key_fun
+0002a940: 632c 2069 7465 7261 626c 652c 2072 6564  c, iterable, red
+0002a950: 7563 655f 6675 6e63 3d72 6564 7563 655f  uce_func=reduce_
+0002a960: 6675 6e63 2960 2c20 696e 7374 6561 6420  func)`, instead 
+0002a970: 6f66 2063 6f6c 6c65 6374 696e 6720 7468  of collecting th
+0002a980: 6520 6974 656d 7320 696e 746f 206c 6973  e items into lis
+0002a990: 7473 2c20 7265 6475 6365 7320 6f76 6572  ts, reduces over
+0002a9a0: 2074 6865 2069 7465 6d73 206f 6620 6561   the items of ea
+0002a9b0: 6368 206b 6579 2077 6974 6820 7265 6475  ch key with redu
+0002a9c0: 6365 5f66 756e 632c 2065 6666 6563 7469  ce_func, effecti
+0002a9d0: 7665 6c79 2069 6d70 6c65 6d65 6e74 696e  vely implementin
+0002a9e0: 6720 6120 4d61 7052 6564 7563 6520 6f70  g a MapReduce op
+0002a9f0: 6572 6174 696f 6e2e 0d0a 0d0a 6063 6f6c  eration.....`col
+0002aa00: 6c65 6374 6279 6020 6973 2065 6666 6563  lectby` is effec
+0002aa10: 7469 7665 6c79 2065 7175 6976 616c 656e  tively equivalen
+0002aa20: 7420 746f 3a0d 0a60 6060 636f 636f 6e75  t to:..```coconu
+0002aa30: 745f 7079 7468 6f6e 0d0a 6672 6f6d 2063  t_python..from c
+0002aa40: 6f6c 6c65 6374 696f 6e73 2069 6d70 6f72  ollections impor
+0002aa50: 7420 6465 6661 756c 7464 6963 740d 0a0d  t defaultdict...
+0002aa60: 0a64 6566 2063 6f6c 6c65 6374 6279 286b  .def collectby(k
+0002aa70: 6579 5f66 756e 632c 2069 7465 7261 626c  ey_func, iterabl
+0002aa80: 652c 2076 616c 7565 5f66 756e 633d 6964  e, value_func=id
+0002aa90: 656e 742c 2072 6564 7563 655f 6675 6e63  ent, reduce_func
+0002aaa0: 3d4e 6f6e 6529 3a0d 0a20 2020 2063 6f6c  =None):..    col
+0002aab0: 6c65 6374 696f 6e20 3d20 6465 6661 756c  lection = defaul
+0002aac0: 7464 6963 7428 6c69 7374 2920 6966 2072  tdict(list) if r
+0002aad0: 6564 7563 655f 6675 6e63 2069 7320 4e6f  educe_func is No
+0002aae0: 6e65 2065 6c73 6520 7b7d 0d0a 2020 2020  ne else {}..    
+0002aaf0: 666f 7220 6974 656d 2069 6e20 6974 6572  for item in iter
+0002ab00: 6162 6c65 3a0d 0a20 2020 2020 2020 206b  able:..        k
+0002ab10: 6579 203d 206b 6579 5f66 756e 6328 6974  ey = key_func(it
+0002ab20: 656d 290d 0a20 2020 2020 2020 2076 616c  em)..        val
+0002ab30: 7565 203d 2076 616c 7565 5f66 756e 6328  ue = value_func(
+0002ab40: 6974 656d 290d 0a20 2020 2020 2020 2069  item)..        i
+0002ab50: 6620 7265 6475 6365 5f66 756e 6320 6973  f reduce_func is
+0002ab60: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+0002ab70: 2020 2020 636f 6c6c 6563 7469 6f6e 5b6b      collection[k
+0002ab80: 6579 5d2e 6170 7065 6e64 2876 616c 7565  ey].append(value
+0002ab90: 290d 0a20 2020 2020 2020 2065 6c73 653a  )..        else:
+0002aba0: 0d0a 2020 2020 2020 2020 2020 2020 6f6c  ..            ol
+0002abb0: 645f 7661 6c75 6520 3d20 636f 6c6c 6563  d_value = collec
+0002abc0: 7469 6f6e 2e67 6574 286b 6579 2c20 7365  tion.get(key, se
+0002abd0: 6e74 696e 656c 290d 0a20 2020 2020 2020  ntinel)..       
+0002abe0: 2020 2020 2069 6620 6f6c 645f 7661 6c75       if old_valu
+0002abf0: 6520 6973 206e 6f74 2073 656e 7469 6e65  e is not sentine
+0002ac00: 6c3a 0d0a 2020 2020 2020 2020 2020 2020  l:..            
+0002ac10: 2020 2020 7661 6c75 6520 3d20 7265 6475      value = redu
+0002ac20: 6365 5f66 756e 6328 6f6c 645f 7661 6c75  ce_func(old_valu
+0002ac30: 652c 2076 616c 7565 290d 0a20 2020 2020  e, value)..     
+0002ac40: 2020 2020 2020 2063 6f6c 6c65 6374 696f         collectio
+0002ac50: 6e5b 6b65 795d 203d 2076 616c 7565 0d0a  n[key] = value..
+0002ac60: 2020 2020 7265 7475 726e 2063 6f6c 6c65      return colle
+0002ac70: 6374 696f 6e0d 0a60 6060 0d0a 0d0a 6063  ction..```....`c
+0002ac80: 6f6c 6c65 6374 6279 6020 6973 2073 696d  ollectby` is sim
+0002ac90: 696c 6172 2074 6f20 5b60 6974 6572 746f  ilar to [`iterto
+0002aca0: 6f6c 732e 6772 6f75 7062 7960 5d28 6874  ols.groupby`](ht
+0002acb0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+0002acc0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+0002acd0: 6974 6572 746f 6f6c 732e 6874 6d6c 2369  itertools.html#i
+0002ace0: 7465 7274 6f6f 6c73 2e67 726f 7570 6279  tertools.groupby
+0002acf0: 2920 6578 6365 7074 2074 6861 7420 6063  ) except that `c
+0002ad00: 6f6c 6c65 6374 6279 6020 6167 6772 6567  ollectby` aggreg
+0002ad10: 6174 6573 2063 6f6d 6d6f 6e20 656c 656d  ates common elem
+0002ad20: 656e 7473 2072 6567 6172 646c 6573 7320  ents regardless 
+0002ad30: 6f66 2074 6865 6972 206f 7264 6572 2069  of their order i
+0002ad40: 6e20 7468 6520 696e 7075 7420 6974 6572  n the input iter
+0002ad50: 6162 6c65 2c20 7768 6572 6561 7320 6067  able, whereas `g
+0002ad60: 726f 7570 6279 6020 6f6e 6c79 2061 6767  roupby` only agg
+0002ad70: 7265 6761 7465 7320 636f 6d6d 6f6e 2065  regates common e
+0002ad80: 6c65 6d65 6e74 7320 7468 6174 2061 7265  lements that are
+0002ad90: 2061 646a 6163 656e 7420 696e 2074 6865   adjacent in the
+0002ada0: 2069 6e70 7574 2069 7465 7261 626c 652e   input iterable.
+0002adb0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+0002adc0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+0002add0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a75  *..```coconut..u
+0002ade0: 7365 725f 6261 6c61 6e63 6573 203d 2028  ser_balances = (
+0002adf0: 0d0a 2020 2020 6261 6c61 6e63 655f 6461  ..    balance_da
+0002ae00: 7461 0d0a 2020 2020 7c3e 2063 6f6c 6c65  ta..    |> colle
+0002ae10: 6374 6279 2428 2e75 7365 722c 2076 616c  ctby$(.user, val
+0002ae20: 7565 5f66 756e 633d 2e62 616c 616e 6365  ue_func=.balance
+0002ae30: 2c20 7265 6475 6365 5f66 756e 633d 282b  , reduce_func=(+
+0002ae40: 2929 0d0a 290d 0a60 6060 0d0a 0d0a 2a2a  ))..)..```....**
+0002ae50: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+0002ae60: 636f 6e75 745f 7079 7468 6f6e 0d0a 6672  conut_python..fr
+0002ae70: 6f6d 2063 6f6c 6c65 6374 696f 6e73 2069  om collections i
+0002ae80: 6d70 6f72 7420 6465 6661 756c 7464 6963  mport defaultdic
+0002ae90: 740d 0a0d 0a75 7365 725f 6261 6c61 6e63  t....user_balanc
+0002aea0: 6573 203d 2064 6566 6175 6c74 6469 6374  es = defaultdict
+0002aeb0: 2869 6e74 290d 0a66 6f72 2069 7465 6d20  (int)..for item 
+0002aec0: 696e 2062 616c 616e 6365 5f64 6174 613a  in balance_data:
+0002aed0: 0d0a 2020 2020 7573 6572 5f62 616c 616e  ..    user_balan
+0002aee0: 6365 735b 6974 656d 2e75 7365 725d 202b  ces[item.user] +
+0002aef0: 3d20 6974 656d 2e62 616c 616e 6365 0d0a  = item.balance..
+0002af00: 6060 600d 0a0d 0a23 2323 2320 6061 6c6c  ```....#### `all
+0002af10: 5f65 7175 616c 600d 0a0d 0a2a 2a61 6c6c  _equal`....**all
+0002af20: 5c5f 6571 7561 6c2a 2a28 5f69 7465 7261  \_equal**(_itera
+0002af30: 626c 655f 290d 0a0d 0a43 6f63 6f6e 7574  ble_)....Coconut
+0002af40: 2773 2060 616c 6c5f 6571 7561 6c60 2062  's `all_equal` b
+0002af50: 7569 6c74 2d69 6e20 7461 6b65 7320 696e  uilt-in takes in
+0002af60: 2061 6e20 6974 6572 6162 6c65 2061 6e64   an iterable and
+0002af70: 2064 6574 6572 6d69 6e65 7320 7768 6574   determines whet
+0002af80: 6865 7220 616c 6c20 6f66 2069 7473 2065  her all of its e
+0002af90: 6c65 6d65 6e74 7320 6172 6520 6571 7561  lements are equa
+0002afa0: 6c20 746f 2065 6163 6820 6f74 6865 722e  l to each other.
+0002afb0: 2060 616c 6c5f 6571 7561 6c60 2061 7373   `all_equal` ass
+0002afc0: 756d 6573 2074 7261 6e73 6974 6976 6974  umes transitivit
+0002afd0: 7920 6f66 2065 7175 616c 6974 7920 616e  y of equality an
+0002afe0: 6420 7468 6174 2060 213d 6020 6973 2074  d that `!=` is t
+0002aff0: 6865 206e 6567 6174 696f 6e20 6f66 2060  he negation of `
+0002b000: 3d3d 602e 2053 7065 6369 616c 2073 7570  ==`. Special sup
+0002b010: 706f 7274 2069 7320 7072 6f76 6964 6564  port is provided
+0002b020: 2066 6f72 205b 606e 756d 7079 605d 2823   for [`numpy`](#
+0002b030: 6e75 6d70 792d 696e 7465 6772 6174 696f  numpy-integratio
+0002b040: 6e29 206f 626a 6563 7473 2e0d 0a0d 0a23  n) objects.....#
+0002b050: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+0002b060: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+0002b070: 6063 6f63 6f6e 7574 0d0a 616c 6c5f 6571  `coconut..all_eq
+0002b080: 7561 6c28 5b31 2c20 312c 2031 5d29 0d0a  ual([1, 1, 1])..
+0002b090: 616c 6c5f 6571 7561 6c28 5b31 2c20 312c  all_equal([1, 1,
+0002b0a0: 2032 5d29 0d0a 6060 600d 0a0d 0a2a 2a50   2])..```....**P
+0002b0b0: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+0002b0c0: 6f6e 7574 5f70 7974 686f 6e0d 0a73 656e  onut_python..sen
+0002b0d0: 7469 6e65 6c20 3d20 6f62 6a65 6374 2829  tinel = object()
+0002b0e0: 0d0a 6465 6620 616c 6c5f 6571 7561 6c28  ..def all_equal(
+0002b0f0: 6974 6572 6162 6c65 293a 0d0a 2020 2020  iterable):..    
+0002b100: 6669 7273 745f 6974 656d 203d 2073 656e  first_item = sen
+0002b110: 7469 6e65 6c0d 0a20 2020 2066 6f72 2069  tinel..    for i
+0002b120: 7465 6d20 696e 2069 7465 7261 626c 653a  tem in iterable:
+0002b130: 0d0a 2020 2020 2020 2020 6966 2066 6972  ..        if fir
+0002b140: 7374 5f69 7465 6d20 6973 2073 656e 7469  st_item is senti
+0002b150: 6e65 6c3a 0d0a 2020 2020 2020 2020 2020  nel:..          
+0002b160: 2020 6669 7273 745f 6974 656d 203d 2069    first_item = i
+0002b170: 7465 6d0d 0a20 2020 2020 2020 2065 6c69  tem..        eli
+0002b180: 6620 6669 7273 745f 6974 656d 2021 3d20  f first_item != 
+0002b190: 6974 656d 3a0d 0a20 2020 2020 2020 2020  item:..         
+0002b1a0: 2020 2072 6574 7572 6e20 4661 6c73 650d     return False.
+0002b1b0: 0a20 2020 2072 6574 7572 6e20 5472 7565  .    return True
+0002b1c0: 0d0a 616c 6c5f 6571 7561 6c28 5b31 2c20  ..all_equal([1, 
+0002b1d0: 312c 2031 5d29 0d0a 616c 6c5f 6571 7561  1, 1])..all_equa
+0002b1e0: 6c28 5b31 2c20 312c 2032 5d29 0d0a 6060  l([1, 1, 2])..``
+0002b1f0: 600d 0a0d 0a23 2323 2320 6070 6172 616c  `....#### `paral
+0002b200: 6c65 6c5f 6d61 7060 0d0a 0d0a 2a2a 7061  lel_map`....**pa
+0002b210: 7261 6c6c 656c 5c5f 6d61 702a 2a28 5f66  rallel\_map**(_f
+0002b220: 756e 6374 696f 6e5f 2c20 2a5f 6974 6572  unction_, *_iter
+0002b230: 6162 6c65 735f 2c20 2a2c 205f 6368 756e  ables_, *, _chun
+0002b240: 6b73 697a 655f 3d60 3160 2c20 5f73 7472  ksize_=`1`, _str
+0002b250: 6963 745f 3d60 4661 6c73 6560 290d 0a0d  ict_=`False`)...
+0002b260: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
+0002b270: 7320 6120 7061 7261 6c6c 656c 2076 6572  s a parallel ver
+0002b280: 7369 6f6e 206f 6620 606d 6170 6020 756e  sion of `map` un
+0002b290: 6465 7220 7468 6520 6e61 6d65 2060 7061  der the name `pa
+0002b2a0: 7261 6c6c 656c 5f6d 6170 602e 2060 7061  rallel_map`. `pa
+0002b2b0: 7261 6c6c 656c 5f6d 6170 6020 6d61 6b65  rallel_map` make
+0002b2c0: 7320 7573 6520 6f66 206d 756c 7469 706c  s use of multipl
+0002b2d0: 6520 7072 6f63 6573 7365 732c 2061 6e64  e processes, and
+0002b2e0: 2069 7320 7468 6572 6566 6f72 6520 6d75   is therefore mu
+0002b2f0: 6368 2066 6173 7465 7220 7468 616e 2060  ch faster than `
+0002b300: 6d61 7060 2066 6f72 2043 5055 2d62 6f75  map` for CPU-bou
+0002b310: 6e64 2074 6173 6b73 2e20 6070 6172 616c  nd tasks. `paral
+0002b320: 6c65 6c5f 6d61 7060 206e 6576 6572 206c  lel_map` never l
+0002b330: 6f61 6473 2074 6865 2065 6e74 6972 6520  oads the entire 
+0002b340: 696e 7075 7420 6974 6572 6174 6f72 2069  input iterator i
+0002b350: 6e74 6f20 6d65 6d6f 7279 2c20 7468 6f75  nto memory, thou
+0002b360: 6768 2069 7420 646f 6573 2063 6f6e 7375  gh it does consu
+0002b370: 6d65 2074 6865 2065 6e74 6972 6520 696e  me the entire in
+0002b380: 7075 7420 6974 6572 6174 6f72 2061 7320  put iterator as 
+0002b390: 736f 6f6e 2061 7320 6120 7369 6e67 6c65  soon as a single
+0002b3a0: 206f 7574 7075 7420 6973 2072 6571 7565   output is reque
+0002b3b0: 7374 6564 2e20 4966 2061 6e79 2065 7863  sted. If any exc
+0002b3c0: 6570 7469 6f6e 7320 6172 6520 7261 6973  eptions are rais
+0002b3d0: 6564 2069 6e73 6964 6520 6f66 2060 7061  ed inside of `pa
+0002b3e0: 7261 6c6c 656c 5f6d 6170 602c 2061 2074  rallel_map`, a t
+0002b3f0: 7261 6365 6261 636b 2077 696c 6c20 6265  raceback will be
+0002b400: 2070 7269 6e74 6564 2061 7320 736f 6f6e   printed as soon
+0002b410: 2061 7320 7468 6579 2061 7265 2065 6e63   as they are enc
+0002b420: 6f75 6e74 6572 6564 2e0d 0a0d 0a42 6563  ountered.....Bec
+0002b430: 6175 7365 2060 7061 7261 6c6c 656c 5f6d  ause `parallel_m
+0002b440: 6170 6020 7573 6573 206d 756c 7469 706c  ap` uses multipl
+0002b450: 6520 7072 6f63 6573 7365 7320 666f 7220  e processes for 
+0002b460: 6974 7320 6578 6563 7574 696f 6e2c 2069  its execution, i
+0002b470: 7420 6973 206e 6563 6573 7361 7279 2074  t is necessary t
+0002b480: 6861 7420 616c 6c20 6f66 2069 7473 2061  hat all of its a
+0002b490: 7267 756d 656e 7473 2062 6520 7069 636b  rguments be pick
+0002b4a0: 6c65 6162 6c65 2e20 4f6e 6c79 206f 626a  leable. Only obj
+0002b4b0: 6563 7473 2064 6566 696e 6564 2061 7420  ects defined at 
+0002b4c0: 7468 6520 6d6f 6475 6c65 206c 6576 656c  the module level
+0002b4d0: 2c20 616e 6420 6e6f 7420 6c61 6d62 6461  , and not lambda
+0002b4e0: 732c 206f 626a 6563 7473 2064 6566 696e  s, objects defin
+0002b4f0: 6564 2069 6e73 6964 6520 6f66 2061 2066  ed inside of a f
+0002b500: 756e 6374 696f 6e2c 206f 7220 6f62 6a65  unction, or obje
+0002b510: 6374 7320 6465 6669 6e65 6420 696e 7369  cts defined insi
+0002b520: 6465 206f 6620 7468 6520 696e 7465 7270  de of the interp
+0002b530: 7265 7465 722c 2061 7265 2070 6963 6b6c  reter, are pickl
+0002b540: 6561 626c 652e 2046 7572 7468 6572 6d6f  eable. Furthermo
+0002b550: 7265 2c20 6f6e 2057 696e 646f 7773 2c20  re, on Windows, 
+0002b560: 6974 2069 7320 6e65 6365 7373 6172 7920  it is necessary 
+0002b570: 7468 6174 2061 6c6c 2063 616c 6c73 2074  that all calls t
+0002b580: 6f20 6070 6172 616c 6c65 6c5f 6d61 7060  o `parallel_map`
+0002b590: 206f 6363 7572 2069 6e73 6964 6520 6f66   occur inside of
+0002b5a0: 2061 6e20 6069 6620 5f5f 6e61 6d65 5f5f   an `if __name__
+0002b5b0: 203d 3d20 225f 5f6d 6169 6e5f 5f22 6020   == "__main__"` 
+0002b5c0: 6775 6172 642e 0d0a 0d0a 6070 6172 616c  guard.....`paral
+0002b5d0: 6c65 6c5f 6d61 7060 2073 7570 706f 7274  lel_map` support
+0002b5e0: 7320 6120 6063 6875 6e6b 7369 7a65 6020  s a `chunksize` 
+0002b5f0: 6172 6775 6d65 6e74 2c20 7768 6963 6820  argument, which 
+0002b600: 6465 7465 726d 696e 6573 2068 6f77 206d  determines how m
+0002b610: 616e 7920 6974 656d 7320 6172 6520 7061  any items are pa
+0002b620: 7373 6564 2074 6f20 6561 6368 2070 726f  ssed to each pro
+0002b630: 6365 7373 2061 7420 6120 7469 6d65 2e20  cess at a time. 
+0002b640: 4c61 7267 6572 2076 616c 7565 7320 6f66  Larger values of
+0002b650: 205f 6368 756e 6b73 697a 655f 2061 7265   _chunksize_ are
+0002b660: 2072 6563 6f6d 6d65 6e64 6564 2077 6865   recommended whe
+0002b670: 6e20 6465 616c 696e 6720 7769 7468 2076  n dealing with v
+0002b680: 6572 7920 6c6f 6e67 2069 7465 7261 626c  ery long iterabl
+0002b690: 6573 2e20 4164 6469 7469 6f6e 616c 6c79  es. Additionally
+0002b6a0: 2c20 696e 2074 6865 206d 756c 7469 2d69  , in the multi-i
+0002b6b0: 7465 7261 626c 6520 6361 7365 2c20 5f73  terable case, _s
+0002b6c0: 7472 6963 745f 2063 616e 2062 6520 7365  trict_ can be se
+0002b6d0: 7420 746f 2060 5472 7565 6020 746f 2065  t to `True` to e
+0002b6e0: 6e73 7572 6520 7468 6174 2061 6c6c 2069  nsure that all i
+0002b6f0: 7465 7261 626c 6573 2061 7265 2074 6865  terables are the
+0002b700: 2073 616d 6520 6c65 6e67 7468 2e0d 0a0d   same length....
+0002b710: 0a49 6620 6d75 6c74 6970 6c65 2073 6571  .If multiple seq
+0002b720: 7565 6e74 6961 6c20 6361 6c6c 7320 746f  uential calls to
+0002b730: 2060 7061 7261 6c6c 656c 5f6d 6170 6020   `parallel_map` 
+0002b740: 6e65 6564 2074 6f20 6265 206d 6164 652c  need to be made,
+0002b750: 2069 7420 6973 2068 6967 686c 7920 7265   it is highly re
+0002b760: 636f 6d6d 656e 6465 6420 7468 6174 2074  commended that t
+0002b770: 6865 7920 6265 2064 6f6e 6520 696e 7369  hey be done insi
+0002b780: 6465 206f 6620 6120 6077 6974 6820 7061  de of a `with pa
+0002b790: 7261 6c6c 656c 5f6d 6170 2e6d 756c 7469  rallel_map.multi
+0002b7a0: 706c 655f 7365 7175 656e 7469 616c 5f63  ple_sequential_c
+0002b7b0: 616c 6c73 2829 3a60 2062 6c6f 636b 2c20  alls():` block, 
+0002b7c0: 7768 6963 6820 7769 6c6c 2063 6175 7365  which will cause
+0002b7d0: 2074 6865 2064 6966 6665 7265 6e74 2063   the different c
+0002b7e0: 616c 6c73 2074 6f20 7573 6520 7468 6520  alls to use the 
+0002b7f0: 7361 6d65 2070 726f 6365 7373 2070 6f6f  same process poo
+0002b800: 6c20 616e 6420 7265 7375 6c74 2069 6e20  l and result in 
+0002b810: 6070 6172 616c 6c65 6c5f 6d61 7060 2069  `parallel_map` i
+0002b820: 6d6d 6564 6961 7465 6c79 2072 6574 7572  mmediately retur
+0002b830: 6e69 6e67 2061 206c 6973 7420 7261 7468  ning a list rath
+0002b840: 6572 2074 6861 6e20 6120 6070 6172 616c  er than a `paral
+0002b850: 6c65 6c5f 6d61 7060 206f 626a 6563 742e  lel_map` object.
+0002b860: 2049 6620 6d75 6c74 6970 6c65 2073 6571   If multiple seq
+0002b870: 7565 6e74 6961 6c20 6361 6c6c 7320 6172  uential calls ar
+0002b880: 6520 6e65 6365 7373 6172 7920 616e 6420  e necessary and 
+0002b890: 7468 6520 6c61 7a69 6e65 7373 206f 6620  the laziness of 
+0002b8a0: 7061 7261 6c6c 656c 5f6d 6170 2069 7320  parallel_map is 
+0002b8b0: 7265 7175 6972 6564 2c20 7468 656e 2074  required, then t
+0002b8c0: 6865 2060 7061 7261 6c6c 656c 5f6d 6170  he `parallel_map
+0002b8d0: 6020 6f62 6a65 6374 7320 7368 6f75 6c64  ` objects should
+0002b8e0: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
+0002b8f0: 6265 666f 7265 2074 6865 2060 6d75 6c74  before the `mult
+0002b900: 6970 6c65 5f73 6571 7565 6e74 6961 6c5f  iple_sequential_
+0002b910: 6361 6c6c 7360 2062 6c6f 636b 2061 6e64  calls` block and
+0002b920: 2074 6865 6e20 6f6e 6c79 2069 7465 7261   then only itera
+0002b930: 7465 6420 6f76 6572 206f 6e63 6520 696e  ted over once in
+0002b940: 7369 6465 2074 6865 2062 6c6f 636b 2e0d  side the block..
+0002b950: 0a0d 0a60 7061 7261 6c6c 656c 5f6d 6170  ...`parallel_map
+0002b960: 2e6d 756c 7469 706c 655f 7365 7175 656e  .multiple_sequen
+0002b970: 7469 616c 5f63 616c 6c73 6020 616c 736f  tial_calls` also
+0002b980: 2073 7570 706f 7274 7320 6120 606d 6178   supports a `max
+0002b990: 5f77 6f72 6b65 7273 6020 6172 6775 6d65  _workers` argume
+0002b9a0: 6e74 2074 6f20 7365 7420 7468 6520 6e75  nt to set the nu
+0002b9b0: 6d62 6572 206f 6620 7072 6f63 6573 7365  mber of processe
+0002b9c0: 732e 0d0a 0d0a 2323 2323 2320 5079 7468  s.....##### Pyth
+0002b9d0: 6f6e 2044 6f63 730d 0a0d 0a2a 2a70 6172  on Docs....**par
+0002b9e0: 616c 6c65 6c5f 6d61 702a 2a28 5f66 756e  allel_map**(_fun
+0002b9f0: 632c 205c 2a69 7465 7261 626c 6573 5f2c  c, \*iterables_,
+0002ba00: 205f 6368 756e 6b73 697a 655f 3d60 3160   _chunksize_=`1`
+0002ba10: 290d 0a0d 0a45 7175 6976 616c 656e 7420  )....Equivalent 
+0002ba20: 746f 2060 6d61 7028 6675 6e63 2c20 2a69  to `map(func, *i
+0002ba30: 7465 7261 626c 6573 2960 2065 7863 6570  terables)` excep
+0002ba40: 7420 5f66 756e 635f 2069 7320 6578 6563  t _func_ is exec
+0002ba50: 7574 6564 2061 7379 6e63 6872 6f6e 6f75  uted asynchronou
+0002ba60: 736c 7920 616e 6420 7365 7665 7261 6c20  sly and several 
+0002ba70: 6361 6c6c 7320 746f 205f 6675 6e63 5f20  calls to _func_ 
+0002ba80: 6d61 7920 6265 206d 6164 6520 636f 6e63  may be made conc
+0002ba90: 7572 7265 6e74 6c79 2e20 4966 2061 2063  urrently. If a c
+0002baa0: 616c 6c20 7261 6973 6573 2061 6e20 6578  all raises an ex
+0002bab0: 6365 7074 696f 6e2c 2074 6865 6e20 7468  ception, then th
+0002bac0: 6174 2065 7863 6570 7469 6f6e 2077 696c  at exception wil
+0002bad0: 6c20 6265 2072 6169 7365 6420 7768 656e  l be raised when
+0002bae0: 2069 7473 2076 616c 7565 2069 7320 7265   its value is re
+0002baf0: 7472 6965 7665 6420 6672 6f6d 2074 6865  trieved from the
+0002bb00: 2069 7465 7261 746f 722e 0d0a 0d0a 6070   iterator.....`p
+0002bb10: 6172 616c 6c65 6c5f 6d61 7060 2063 686f  arallel_map` cho
+0002bb20: 7073 2074 6865 2069 7465 7261 626c 6520  ps the iterable 
+0002bb30: 696e 746f 2061 206e 756d 6265 7220 6f66  into a number of
+0002bb40: 2063 6875 6e6b 7320 7768 6963 6820 6974   chunks which it
+0002bb50: 2073 7562 6d69 7473 2074 6f20 7468 6520   submits to the 
+0002bb60: 7072 6f63 6573 7320 706f 6f6c 2061 7320  process pool as 
+0002bb70: 7365 7061 7261 7465 2074 6173 6b73 2e20  separate tasks. 
+0002bb80: 5468 6520 2861 7070 726f 7869 6d61 7465  The (approximate
+0002bb90: 2920 7369 7a65 206f 6620 7468 6573 6520  ) size of these 
+0002bba0: 6368 756e 6b73 2063 616e 2062 6520 7370  chunks can be sp
+0002bbb0: 6563 6966 6965 6420 6279 2073 6574 7469  ecified by setti
+0002bbc0: 6e67 205f 6368 756e 6b73 697a 655f 2074  ng _chunksize_ t
+0002bbd0: 6f20 6120 706f 7369 7469 7665 2069 6e74  o a positive int
+0002bbe0: 6567 6572 2e20 466f 7220 7665 7279 206c  eger. For very l
+0002bbf0: 6f6e 6720 6974 6572 6162 6c65 7320 7573  ong iterables us
+0002bc00: 696e 6720 6120 6c61 7267 6520 7661 6c75  ing a large valu
+0002bc10: 6520 666f 7220 5f63 6875 6e6b 7369 7a65  e for _chunksize
+0002bc20: 5f20 6361 6e20 6d61 6b65 2074 6865 206a  _ can make the j
+0002bc30: 6f62 2063 6f6d 706c 6574 6520 2a2a 6d75  ob complete **mu
+0002bc40: 6368 2a2a 2066 6173 7465 7220 7468 616e  ch** faster than
+0002bc50: 2075 7369 6e67 2074 6865 2064 6566 6175   using the defau
+0002bc60: 6c74 2076 616c 7565 206f 6620 6031 602e  lt value of `1`.
+0002bc70: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+0002bc80: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+0002bc90: 2a0d 0a60 6060 636f 636f 6e75 740d 0a70  *..```coconut..p
+0002bca0: 6172 616c 6c65 6c5f 6d61 7028 706f 7724  arallel_map(pow$
+0002bcb0: 2832 292c 2072 616e 6765 2831 3030 2929  (2), range(100))
+0002bcc0: 207c 3e20 6c69 7374 207c 3e20 7072 696e   |> list |> prin
+0002bcd0: 740d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  t..```....**Pyth
+0002bce0: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0002bcf0: 745f 7079 7468 6f6e 0d0a 696d 706f 7274  t_python..import
+0002bd00: 2066 756e 6374 6f6f 6c73 0d0a 6672 6f6d   functools..from
+0002bd10: 206d 756c 7469 7072 6f63 6573 7369 6e67   multiprocessing
+0002bd20: 2069 6d70 6f72 7420 506f 6f6c 0d0a 7769   import Pool..wi
+0002bd30: 7468 2050 6f6f 6c28 2920 6173 2070 6f6f  th Pool() as poo
+0002bd40: 6c3a 0d0a 2020 2020 7072 696e 7428 6c69  l:..    print(li
+0002bd50: 7374 2870 6f6f 6c2e 696d 6170 2866 756e  st(pool.imap(fun
+0002bd60: 6374 6f6f 6c73 2e70 6172 7469 616c 2870  ctools.partial(p
+0002bd70: 6f77 2c20 3229 2c20 7261 6e67 6528 3130  ow, 2), range(10
+0002bd80: 3029 2929 290d 0a60 6060 0d0a 0d0a 2323  0))))..```....##
+0002bd90: 2323 2060 636f 6e63 7572 7265 6e74 5f6d  ## `concurrent_m
+0002bda0: 6170 600d 0a0d 0a2a 2a63 6f6e 6375 7272  ap`....**concurr
+0002bdb0: 656e 745c 5f6d 6170 2a2a 285f 6675 6e63  ent\_map**(_func
+0002bdc0: 7469 6f6e 5f2c 202a 5f69 7465 7261 626c  tion_, *_iterabl
+0002bdd0: 6573 5f2c 202a 2c20 5f63 6875 6e6b 7369  es_, *, _chunksi
+0002bde0: 7a65 5f3d 6031 602c 205f 7374 7269 6374  ze_=`1`, _strict
+0002bdf0: 5f3d 6046 616c 7365 6029 0d0a 0d0a 436f  _=`False`)....Co
+0002be00: 636f 6e75 7420 7072 6f76 6964 6573 2061  conut provides a
+0002be10: 2063 6f6e 6375 7272 656e 7420 7665 7273   concurrent vers
+0002be20: 696f 6e20 6f66 205b 6070 6172 616c 6c65  ion of [`paralle
+0002be30: 6c5f 6d61 7060 5d28 2370 6172 616c 6c65  l_map`](#paralle
+0002be40: 6c5f 6d61 7029 2075 6e64 6572 2074 6865  l_map) under the
+0002be50: 206e 616d 6520 6063 6f6e 6375 7272 656e   name `concurren
+0002be60: 745f 6d61 7060 2e20 6063 6f6e 6375 7272  t_map`. `concurr
+0002be70: 656e 745f 6d61 7060 2062 6568 6176 6573  ent_map` behaves
+0002be80: 2069 6465 6e74 6963 616c 6c79 2074 6f20   identically to 
+0002be90: 6070 6172 616c 6c65 6c5f 6d61 7060 2028  `parallel_map` (
+0002bea0: 696e 636c 7564 696e 6720 7375 7070 6f72  including suppor
+0002beb0: 7420 666f 7220 6063 6f6e 6375 7272 656e  t for `concurren
+0002bec0: 745f 6d61 702e 6d75 6c74 6970 6c65 5f73  t_map.multiple_s
+0002bed0: 6571 7565 6e74 6961 6c5f 6361 6c6c 7360  equential_calls`
+0002bee0: 2920 6578 6365 7074 2074 6861 7420 6974  ) except that it
+0002bef0: 2075 7365 7320 6d75 6c74 6974 6872 6561   uses multithrea
+0002bf00: 6469 6e67 2069 6e73 7465 6164 206f 6620  ding instead of 
+0002bf10: 6d75 6c74 6970 726f 6365 7373 696e 672c  multiprocessing,
+0002bf20: 2061 6e64 2069 7320 7468 6572 6566 6f72   and is therefor
+0002bf30: 6520 7072 696d 6172 696c 7920 7573 6566  e primarily usef
+0002bf40: 756c 206f 6e6c 7920 666f 7220 494f 2d62  ul only for IO-b
+0002bf50: 6f75 6e64 2074 6173 6b73 2064 7565 2074  ound tasks due t
+0002bf60: 6f20 4350 7974 686f 6e27 7320 476c 6f62  o CPython's Glob
+0002bf70: 616c 2049 6e74 6572 7072 6574 6572 204c  al Interpreter L
+0002bf80: 6f63 6b2e 0d0a 0d0a 2323 2323 2320 5079  ock.....##### Py
+0002bf90: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a63  thon Docs....**c
+0002bfa0: 6f6e 6375 7272 656e 745f 6d61 702a 2a28  oncurrent_map**(
+0002bfb0: 5f66 756e 632c 205c 2a69 7465 7261 626c  _func, \*iterabl
+0002bfc0: 6573 5f2c 205f 6368 756e 6b73 697a 655f  es_, _chunksize_
+0002bfd0: 3d60 3160 290d 0a0d 0a45 7175 6976 616c  =`1`)....Equival
+0002bfe0: 656e 7420 746f 2060 6d61 7028 6675 6e63  ent to `map(func
+0002bff0: 2c20 2a69 7465 7261 626c 6573 2960 2065  , *iterables)` e
+0002c000: 7863 6570 7420 5f66 756e 635f 2069 7320  xcept _func_ is 
+0002c010: 6578 6563 7574 6564 2061 7379 6e63 6872  executed asynchr
+0002c020: 6f6e 6f75 736c 7920 616e 6420 7365 7665  onously and seve
+0002c030: 7261 6c20 6361 6c6c 7320 746f 205f 6675  ral calls to _fu
+0002c040: 6e63 5f20 6d61 7920 6265 206d 6164 6520  nc_ may be made 
+0002c050: 636f 6e63 7572 7265 6e74 6c79 2e20 4966  concurrently. If
+0002c060: 2061 2063 616c 6c20 7261 6973 6573 2061   a call raises a
+0002c070: 6e20 6578 6365 7074 696f 6e2c 2074 6865  n exception, the
+0002c080: 6e20 7468 6174 2065 7863 6570 7469 6f6e  n that exception
+0002c090: 2077 696c 6c20 6265 2072 6169 7365 6420   will be raised 
+0002c0a0: 7768 656e 2069 7473 2076 616c 7565 2069  when its value i
+0002c0b0: 7320 7265 7472 6965 7665 6420 6672 6f6d  s retrieved from
+0002c0c0: 2074 6865 2069 7465 7261 746f 722e 0d0a   the iterator...
+0002c0d0: 0d0a 6063 6f6e 6375 7272 656e 745f 6d61  ..`concurrent_ma
+0002c0e0: 7060 2063 686f 7073 2074 6865 2069 7465  p` chops the ite
+0002c0f0: 7261 626c 6520 696e 746f 2061 206e 756d  rable into a num
+0002c100: 6265 7220 6f66 2063 6875 6e6b 7320 7768  ber of chunks wh
+0002c110: 6963 6820 6974 2073 7562 6d69 7473 2074  ich it submits t
+0002c120: 6f20 7468 6520 7468 7265 6164 2070 6f6f  o the thread poo
+0002c130: 6c20 6173 2073 6570 6172 6174 6520 7461  l as separate ta
+0002c140: 736b 732e 2054 6865 2028 6170 7072 6f78  sks. The (approx
+0002c150: 696d 6174 6529 2073 697a 6520 6f66 2074  imate) size of t
+0002c160: 6865 7365 2063 6875 6e6b 7320 6361 6e20  hese chunks can 
+0002c170: 6265 2073 7065 6369 6669 6564 2062 7920  be specified by 
+0002c180: 7365 7474 696e 6720 5f63 6875 6e6b 7369  setting _chunksi
+0002c190: 7a65 5f20 746f 2061 2070 6f73 6974 6976  ze_ to a positiv
+0002c1a0: 6520 696e 7465 6765 722e 2046 6f72 2076  e integer. For v
+0002c1b0: 6572 7920 6c6f 6e67 2069 7465 7261 626c  ery long iterabl
+0002c1c0: 6573 2075 7369 6e67 2061 206c 6172 6765  es using a large
+0002c1d0: 2076 616c 7565 2066 6f72 205f 6368 756e   value for _chun
+0002c1e0: 6b73 697a 655f 2063 616e 206d 616b 6520  ksize_ can make 
+0002c1f0: 7468 6520 6a6f 6220 636f 6d70 6c65 7465  the job complete
+0002c200: 202a 2a6d 7563 682a 2a20 6661 7374 6572   **much** faster
+0002c210: 2074 6861 6e20 7573 696e 6720 7468 6520   than using the 
+0002c220: 6465 6661 756c 7420 7661 6c75 6520 6f66  default value of
+0002c230: 2060 3160 2e0d 0a0d 0a23 2323 2323 2045   `1`.....##### E
+0002c240: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+0002c250: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+0002c260: 7574 0d0a 636f 6e63 7572 7265 6e74 5f6d  ut..concurrent_m
+0002c270: 6170 2867 6574 5f64 6174 615f 666f 725f  ap(get_data_for_
+0002c280: 7573 6572 2c20 6765 745f 616c 6c5f 7573  user, get_all_us
+0002c290: 6572 7328 2929 207c 3e20 6c69 7374 207c  ers()) |> list |
+0002c2a0: 3e20 7072 696e 740d 0a60 6060 0d0a 0d0a  > print..```....
+0002c2b0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+0002c2c0: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+0002c2d0: 696d 706f 7274 2066 756e 6374 6f6f 6c73  import functools
+0002c2e0: 0d0a 696d 706f 7274 2063 6f6e 6375 7272  ..import concurr
+0002c2f0: 656e 742e 6675 7475 7265 730d 0a77 6974  ent.futures..wit
+0002c300: 6820 636f 6e63 7572 7265 6e74 2e66 7574  h concurrent.fut
+0002c310: 7572 6573 2e54 6872 6561 6450 6f6f 6c45  ures.ThreadPoolE
+0002c320: 7865 6375 746f 7228 2920 6173 2065 7865  xecutor() as exe
+0002c330: 6375 746f 723a 0d0a 2020 2020 7072 696e  cutor:..    prin
+0002c340: 7428 6c69 7374 2865 7865 6375 746f 722e  t(list(executor.
+0002c350: 6d61 7028 6765 745f 6461 7461 5f66 6f72  map(get_data_for
+0002c360: 5f75 7365 722c 2067 6574 5f61 6c6c 5f75  _user, get_all_u
+0002c370: 7365 7273 2829 2929 290d 0a60 6060 0d0a  sers())))..```..
+0002c380: 0d0a 2323 2323 2060 7465 6560 0d0a 0d0a  ..#### `tee`....
+0002c390: 2a2a 7465 652a 2a28 5f69 7465 7261 626c  **tee**(_iterabl
+0002c3a0: 655f 2c20 5f6e 5f3d 6032 6029 0d0a 0d0a  e_, _n_=`2`)....
+0002c3b0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+0002c3c0: 2061 6e20 6f70 7469 6d69 7a65 6420 7665   an optimized ve
+0002c3d0: 7273 696f 6e20 6f66 2060 6974 6572 746f  rsion of `iterto
+0002c3e0: 6f6c 732e 7465 6560 2061 7320 6120 6275  ols.tee` as a bu
+0002c3f0: 696c 742d 696e 2075 6e64 6572 2074 6865  ilt-in under the
+0002c400: 206e 616d 6520 6074 6565 602e 0d0a 0d0a   name `tee`.....
+0002c410: 5468 6f75 6768 2060 7465 6560 2069 7320  Though `tee` is 
+0002c420: 6e6f 7420 6465 7072 6563 6174 6564 2c20  not deprecated, 
+0002c430: 5b60 7265 6974 6572 6162 6c65 605d 2823  [`reiterable`](#
+0002c440: 7265 6974 6572 6162 6c65 2920 6973 2067  reiterable) is g
+0002c450: 656e 6572 616c 6c79 2072 6563 6f6d 6d65  enerally recomme
+0002c460: 6e64 6564 206f 7665 7220 6074 6565 602e  nded over `tee`.
+0002c470: 0d0a 0d0a 4375 7374 6f6d 2060 7465 6560  ....Custom `tee`
+0002c480: 2f60 7265 6974 6572 6162 6c65 6020 696d  /`reiterable` im
+0002c490: 706c 656d 656e 7461 7469 6f6e 7320 666f  plementations fo
+0002c4a0: 7220 6375 7374 6f6d 205b 436f 6e74 6169  r custom [Contai
+0002c4b0: 6e65 7273 2f43 6f6c 6c65 6374 696f 6e73  ners/Collections
+0002c4c0: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+0002c4d0: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+0002c4e0: 6172 792f 636f 6c6c 6563 7469 6f6e 732e  ary/collections.
+0002c4f0: 6162 632e 6874 6d6c 2920 7368 6f75 6c64  abc.html) should
+0002c500: 2062 6520 7075 7420 696e 2074 6865 2060   be put in the `
+0002c510: 5f5f 636f 7079 5f5f 6020 6d65 7468 6f64  __copy__` method
+0002c520: 2e20 4e6f 7465 2074 6861 7420 616c 6c20  . Note that all 
+0002c530: 5b53 6571 7565 6e63 6573 2f4d 6170 7069  [Sequences/Mappi
+0002c540: 6e67 732f 5365 7473 5d28 6874 7470 733a  ngs/Sets](https:
+0002c550: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
+0002c560: 672f 332f 6c69 6272 6172 792f 636f 6c6c  g/3/library/coll
+0002c570: 6563 7469 6f6e 732e 6162 632e 6874 6d6c  ections.abc.html
+0002c580: 2920 6172 6520 616c 7761 7973 2061 7373  ) are always ass
+0002c590: 756d 6564 2074 6f20 6265 2072 6569 7465  umed to be reite
+0002c5a0: 7261 626c 6520 6576 656e 2077 6974 686f  rable even witho
+0002c5b0: 7574 2063 616c 6c69 6e67 2060 5f5f 636f  ut calling `__co
+0002c5c0: 7079 5f5f 602e 0d0a 0d0a 2323 2323 2320  py__`.....##### 
+0002c5d0: 5079 7468 6f6e 2044 6f63 730d 0a0d 0a2a  Python Docs....*
+0002c5e0: 2a74 6565 2a2a 285f 6974 6572 6162 6c65  *tee**(_iterable
+0002c5f0: 2c20 6e3d 325f 290d 0a0d 0a52 6574 7572  , n=2_)....Retur
+0002c600: 6e20 5f6e 5f20 696e 6465 7065 6e64 656e  n _n_ independen
+0002c610: 7420 6974 6572 6174 6f72 7320 6672 6f6d  t iterators from
+0002c620: 2061 2073 696e 676c 6520 6974 6572 6162   a single iterab
+0002c630: 6c65 2e20 4571 7569 7661 6c65 6e74 2074  le. Equivalent t
+0002c640: 6f3a 0d0a 6060 6063 6f63 6f6e 7574 5f70  o:..```coconut_p
+0002c650: 7974 686f 6e0d 0a64 6566 2074 6565 2869  ython..def tee(i
+0002c660: 7465 7261 626c 652c 206e 3d32 293a 0d0a  terable, n=2):..
+0002c670: 2020 2020 6974 203d 2069 7465 7228 6974      it = iter(it
+0002c680: 6572 6162 6c65 290d 0a20 2020 2064 6571  erable)..    deq
+0002c690: 7565 7320 3d20 5b63 6f6c 6c65 6374 696f  ues = [collectio
+0002c6a0: 6e73 2e64 6571 7565 2829 2066 6f72 2069  ns.deque() for i
+0002c6b0: 2069 6e20 7261 6e67 6528 6e29 5d0d 0a20   in range(n)].. 
+0002c6c0: 2020 2064 6566 2067 656e 286d 7964 6571     def gen(mydeq
+0002c6d0: 7565 293a 0d0a 2020 2020 2020 2020 7768  ue):..        wh
+0002c6e0: 696c 6520 5472 7565 3a0d 0a20 2020 2020  ile True:..     
+0002c6f0: 2020 2020 2020 2069 6620 6e6f 7420 6d79         if not my
+0002c700: 6465 7175 653a 2020 2020 2020 2020 2020  deque:          
+0002c710: 2020 2023 2077 6865 6e20 7468 6520 6c6f     # when the lo
+0002c720: 6361 6c20 6465 7175 6520 6973 2065 6d70  cal deque is emp
+0002c730: 7479 0d0a 2020 2020 2020 2020 2020 2020  ty..            
+0002c740: 2020 2020 6e65 7776 616c 203d 206e 6578      newval = nex
+0002c750: 7428 6974 2920 2020 2020 2020 2320 6665  t(it)       # fe
+0002c760: 7463 6820 6120 6e65 7720 7661 6c75 6520  tch a new value 
+0002c770: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
+0002c780: 2020 2020 2066 6f72 2064 2069 6e20 6465       for d in de
+0002c790: 7175 6573 3a20 2020 2020 2020 2023 206c  ques:        # l
+0002c7a0: 6f61 6420 6974 2074 6f20 616c 6c20 7468  oad it to all th
+0002c7b0: 6520 6465 7175 6573 0d0a 2020 2020 2020  e deques..      
+0002c7c0: 2020 2020 2020 2020 2020 2020 2020 642e                d.
+0002c7d0: 6170 7065 6e64 286e 6577 7661 6c29 0d0a  append(newval)..
+0002c7e0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+0002c7f0: 6420 6d79 6465 7175 652e 706f 706c 6566  d mydeque.poplef
+0002c800: 7428 290d 0a20 2020 2072 6574 7572 6e20  t()..    return 
+0002c810: 7475 706c 6528 6765 6e28 6429 2066 6f72  tuple(gen(d) for
+0002c820: 2064 2069 6e20 6465 7175 6573 290d 0a60   d in deques)..`
+0002c830: 6060 0d0a 4f6e 6365 2060 7465 6528 2960  ``..Once `tee()`
+0002c840: 2068 6173 206d 6164 6520 6120 7370 6c69   has made a spli
+0002c850: 742c 2074 6865 206f 7269 6769 6e61 6c20  t, the original 
+0002c860: 5f69 7465 7261 626c 655f 2073 686f 756c  _iterable_ shoul
+0002c870: 6420 6e6f 7420 6265 2075 7365 6420 616e  d not be used an
+0002c880: 7977 6865 7265 2065 6c73 653b 206f 7468  ywhere else; oth
+0002c890: 6572 7769 7365 2c20 7468 6520 5f69 7465  erwise, the _ite
+0002c8a0: 7261 626c 655f 2063 6f75 6c64 2067 6574  rable_ could get
+0002c8b0: 2061 6476 616e 6365 6420 7769 7468 6f75   advanced withou
+0002c8c0: 7420 7468 6520 7465 6520 6f62 6a65 6374  t the tee object
+0002c8d0: 7320 6265 696e 6720 696e 666f 726d 6564  s being informed
+0002c8e0: 2e0d 0a0d 0a54 6869 7320 6974 6572 746f  .....This iterto
+0002c8f0: 6f6c 206d 6179 2072 6571 7569 7265 2073  ol may require s
+0002c900: 6967 6e69 6669 6361 6e74 2061 7578 696c  ignificant auxil
+0002c910: 6961 7279 2073 746f 7261 6765 2028 6465  iary storage (de
+0002c920: 7065 6e64 696e 6720 6f6e 2068 6f77 206d  pending on how m
+0002c930: 7563 6820 7465 6d70 6f72 6172 7920 6461  uch temporary da
+0002c940: 7461 206e 6565 6473 2074 6f20 6265 2073  ta needs to be s
+0002c950: 746f 7265 6429 2e20 496e 2067 656e 6572  tored). In gener
+0002c960: 616c 2c20 6966 206f 6e65 2069 7465 7261  al, if one itera
+0002c970: 746f 7220 7573 6573 206d 6f73 7420 6f72  tor uses most or
+0002c980: 2061 6c6c 206f 6620 7468 6520 6461 7461   all of the data
+0002c990: 2062 6566 6f72 6520 616e 6f74 6865 7220   before another 
+0002c9a0: 6974 6572 6174 6f72 2073 7461 7274 732c  iterator starts,
+0002c9b0: 2069 7420 6973 2066 6173 7465 7220 746f   it is faster to
+0002c9c0: 2075 7365 2060 6c69 7374 2829 6020 696e   use `list()` in
+0002c9d0: 7374 6561 6420 6f66 2060 7465 6528 2960  stead of `tee()`
+0002c9e0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0002c9f0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0002ca00: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0002ca10: 6f72 6967 696e 616c 2c20 7465 6d70 203d  original, temp =
+0002ca20: 2074 6565 286f 7269 6769 6e61 6c29 0d0a   tee(original)..
+0002ca30: 736c 6963 6564 203d 2074 656d 7024 5b35  sliced = temp$[5
+0002ca40: 3a5d 0d0a 6060 600d 0a0d 0a2a 2a50 7974  :]..```....**Pyt
+0002ca50: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
+0002ca60: 7574 5f70 7974 686f 6e0d 0a69 6d70 6f72  ut_python..impor
+0002ca70: 7420 6974 6572 746f 6f6c 730d 0a6f 7269  t itertools..ori
+0002ca80: 6769 6e61 6c2c 2074 656d 7020 3d20 6974  ginal, temp = it
+0002ca90: 6572 746f 6f6c 732e 7465 6528 6f72 6967  ertools.tee(orig
+0002caa0: 696e 616c 290d 0a73 6c69 6365 6420 3d20  inal)..sliced = 
+0002cab0: 6974 6572 746f 6f6c 732e 6973 6c69 6365  itertools.islice
+0002cac0: 2874 656d 702c 2035 2c20 4e6f 6e65 290d  (temp, 5, None).
+0002cad0: 0a60 6060 0d0a 0d0a 2323 2323 2060 636f  .```....#### `co
+0002cae0: 6e73 756d 6560 0d0a 0d0a 2a2a 636f 6e73  nsume`....**cons
+0002caf0: 756d 652a 2a28 5f69 7465 7261 626c 655f  ume**(_iterable_
+0002cb00: 2c20 5f6b 6565 705c 5f6c 6173 745f 3d60  , _keep\_last_=`
+0002cb10: 3060 290d 0a0d 0a43 6f63 6f6e 7574 2070  0`)....Coconut p
+0002cb20: 726f 7669 6465 7320 7468 6520 6063 6f6e  rovides the `con
+0002cb30: 7375 6d65 6020 6675 6e63 7469 6f6e 2074  sume` function t
+0002cb40: 6f20 6566 6669 6369 656e 746c 7920 6578  o efficiently ex
+0002cb50: 6861 7573 7420 616e 2069 7465 7261 746f  haust an iterato
+0002cb60: 7220 616e 6420 7468 7573 2070 6572 666f  r and thus perfo
+0002cb70: 726d 2061 6e79 206c 617a 7920 6576 616c  rm any lazy eval
+0002cb80: 7561 7469 6f6e 2063 6f6e 7461 696e 6564  uation contained
+0002cb90: 2077 6974 6869 6e20 6974 2e20 6063 6f6e   within it. `con
+0002cba0: 7375 6d65 6020 7461 6b65 7320 6f6e 6520  sume` takes one 
+0002cbb0: 6f70 7469 6f6e 616c 2061 7267 756d 656e  optional argumen
+0002cbc0: 742c 2060 6b65 6570 5f6c 6173 7460 2c20  t, `keep_last`, 
+0002cbd0: 7468 6174 2064 6566 6175 6c74 7320 746f  that defaults to
+0002cbe0: 2030 2061 6e64 2073 7065 6369 6669 6573   0 and specifies
+0002cbf0: 2068 6f77 206d 616e 792c 2069 6620 616e   how many, if an
+0002cc00: 792c 2069 7465 6d73 2066 726f 6d20 7468  y, items from th
+0002cc10: 6520 656e 6420 746f 2072 6574 7572 6e20  e end to return 
+0002cc20: 6173 2061 2073 6571 7565 6e63 6520 2860  as a sequence (`
+0002cc30: 4e6f 6e65 6020 7769 6c6c 206b 6565 7020  None` will keep 
+0002cc40: 616c 6c20 656c 656d 656e 7473 292e 0d0a  all elements)...
+0002cc50: 0d0a 4571 7569 7661 6c65 6e74 2074 6f3a  ..Equivalent to:
+0002cc60: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6465  ..```coconut..de
+0002cc70: 6620 636f 6e73 756d 6528 6974 6572 6162  f consume(iterab
+0002cc80: 6c65 2c20 6b65 6570 5f6c 6173 743d 3029  le, keep_last=0)
+0002cc90: 3a0d 0a20 2020 2022 2222 4675 6c6c 7920  :..    """Fully 
+0002cca0: 6578 6861 7573 7420 6974 6572 6162 6c65  exhaust iterable
+0002ccb0: 2061 6e64 2072 6574 7572 6e20 7468 6520   and return the 
+0002ccc0: 6c61 7374 206b 6565 705f 6c61 7374 2065  last keep_last e
+0002ccd0: 6c65 6d65 6e74 732e 2222 220d 0a20 2020  lements."""..   
+0002cce0: 2072 6574 7572 6e20 636f 6c6c 6563 7469   return collecti
+0002ccf0: 6f6e 732e 6465 7175 6528 6974 6572 6162  ons.deque(iterab
+0002cd00: 6c65 2c20 6d61 786c 656e 3d6b 6565 705f  le, maxlen=keep_
+0002cd10: 6c61 7374 2920 2023 2066 6173 7465 7374  last)  # fastest
+0002cd20: 2077 6179 2074 6f20 6578 6861 7573 7420   way to exhaust 
+0002cd30: 616e 2069 7465 7261 746f 720d 0a60 6060  an iterator..```
+0002cd40: 0d0a 0d0a 2323 2323 2320 5261 7469 6f6e  ....##### Ration
+0002cd50: 616c 650d 0a0d 0a49 6e20 7468 6520 7072  ale....In the pr
+0002cd60: 6f63 6573 7320 6f66 206c 617a 696c 7920  ocess of lazily 
+0002cd70: 6170 706c 7969 6e67 206f 7065 7261 7469  applying operati
+0002cd80: 6f6e 7320 746f 2069 7465 7261 746f 7273  ons to iterators
+0002cd90: 2c20 6576 656e 7475 616c 6c79 2061 2070  , eventually a p
+0002cda0: 6f69 6e74 2069 7320 7265 6163 6865 6420  oint is reached 
+0002cdb0: 7768 6572 6520 6576 616c 7561 7469 6f6e  where evaluation
+0002cdc0: 206f 6620 7468 6520 6974 6572 6174 6f72   of the iterator
+0002cdd0: 2069 7320 6e65 6365 7373 6172 792e 2054   is necessary. T
+0002cde0: 6f20 646f 2074 6869 7320 6566 6669 6369  o do this effici
+0002cdf0: 656e 746c 792c 2043 6f63 6f6e 7574 2070  ently, Coconut p
+0002ce00: 726f 7669 6465 7320 7468 6520 6063 6f6e  rovides the `con
+0002ce10: 7375 6d65 6020 6675 6e63 7469 6f6e 2c20  sume` function, 
+0002ce20: 7768 6963 6820 7769 6c6c 2066 756c 6c79  which will fully
+0002ce30: 2065 7868 6175 7374 2074 6865 2069 7465   exhaust the ite
+0002ce40: 7261 746f 7220 6769 7665 6e20 746f 2069  rator given to i
+0002ce50: 742e 0d0a 0d0a 2323 2323 2320 4578 616d  t.....##### Exam
+0002ce60: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0002ce70: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0002ce80: 0a72 616e 6765 2831 3029 207c 3e20 6d61  .range(10) |> ma
+0002ce90: 7024 2828 7829 202d 3e20 782a 2a32 2920  p$((x) -> x**2) 
+0002cea0: 7c3e 206d 6170 2428 7072 696e 7429 207c  |> map$(print) |
+0002ceb0: 3e20 636f 6e73 756d 650d 0a60 6060 0d0a  > consume..```..
+0002cec0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
+0002ced0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0002cee0: 0d0a 636f 6c6c 6563 7469 6f6e 732e 6465  ..collections.de
+0002cef0: 7175 6528 6d61 7028 7072 696e 742c 206d  que(map(print, m
+0002cf00: 6170 286c 616d 6264 6120 783a 2078 2a2a  ap(lambda x: x**
+0002cf10: 322c 2072 616e 6765 2831 3029 2929 2c20  2, range(10))), 
+0002cf20: 6d61 786c 656e 3d30 290d 0a60 6060 0d0a  maxlen=0)..```..
+0002cf30: 0d0a 2323 2320 5479 7069 6e67 2d53 7065  ..### Typing-Spe
+0002cf40: 6369 6669 6320 4275 696c 742d 496e 730d  cific Built-Ins.
+0002cf50: 0a0d 0a60 6060 7b63 6f6e 7465 6e74 737d  ...```{contents}
+0002cf60: 0d0a 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64  ..---..local:..d
+0002cf70: 6570 7468 3a20 310d 0a2d 2d2d 0d0a 6060  epth: 1..---..``
+0002cf80: 600d 0a0d 0a23 2323 2320 6054 5950 455f  `....#### `TYPE_
+0002cf90: 4348 4543 4b49 4e47 600d 0a0d 0a54 6865  CHECKING`....The
+0002cfa0: 2060 5459 5045 5f43 4845 434b 494e 4760   `TYPE_CHECKING`
+0002cfb0: 2076 6172 6961 626c 6520 6973 2073 6574   variable is set
+0002cfc0: 2074 6f20 6046 616c 7365 6020 6174 2072   to `False` at r
+0002cfd0: 756e 7469 6d65 2061 6e64 2060 5472 7565  untime and `True
+0002cfe0: 6020 6475 7269 6e67 2074 7970 655f 6368  ` during type_ch
+0002cff0: 6563 6b69 6e67 2c20 616c 6c6f 7769 6e67  ecking, allowing
+0002d000: 2079 6f75 2074 6f20 7072 6576 656e 7420   you to prevent 
+0002d010: 796f 7572 2060 7479 7069 6e67 6020 696d  your `typing` im
+0002d020: 706f 7274 7320 616e 6420 6054 7970 6556  ports and `TypeV
+0002d030: 6172 6020 6465 6669 6e69 7469 6f6e 7320  ar` definitions 
+0002d040: 6672 6f6d 2062 6569 6e67 2065 7865 6375  from being execu
+0002d050: 7465 6420 6174 2072 756e 7469 6d65 2e20  ted at runtime. 
+0002d060: 4279 2077 7261 7070 696e 6720 796f 7572  By wrapping your
+0002d070: 2060 7479 7069 6e67 6020 696d 706f 7274   `typing` import
+0002d080: 7320 696e 2061 6e20 6069 6620 5459 5045  s in an `if TYPE
+0002d090: 5f43 4845 434b 494e 473a 6020 626c 6f63  _CHECKING:` bloc
+0002d0a0: 6b2c 2079 6f75 2063 616e 2065 7665 6e20  k, you can even 
+0002d0b0: 7573 6520 7468 6520 5b60 7479 7069 6e67  use the [`typing
+0002d0c0: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+0002d0d0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+0002d0e0: 7261 7279 2f74 7970 696e 672e 6874 6d6c  rary/typing.html
+0002d0f0: 2920 6d6f 6475 6c65 206f 6e20 5079 7468  ) module on Pyth
+0002d100: 6f6e 2076 6572 7369 6f6e 7320 7468 6174  on versions that
+0002d110: 2064 6f6e 2774 206e 6174 6976 656c 7920   don't natively 
+0002d120: 7375 7070 6f72 7420 6974 2e20 4675 7274  support it. Furt
+0002d130: 6865 726d 6f72 652c 2060 5459 5045 5f43  hermore, `TYPE_C
+0002d140: 4845 434b 494e 4760 2063 616e 2061 6c73  HECKING` can als
+0002d150: 6f20 6265 2075 7365 6420 746f 2068 6964  o be used to hid
+0002d160: 6520 636f 6465 2074 6861 7420 6973 206d  e code that is m
+0002d170: 6973 7479 7065 6420 6279 2064 6566 6175  istyped by defau
+0002d180: 6c74 2e0d 0a0d 0a23 2323 2323 2050 7974  lt.....##### Pyt
+0002d190: 686f 6e20 446f 6373 0d0a 0d0a 4120 7370  hon Docs....A sp
+0002d1a0: 6563 6961 6c20 636f 6e73 7461 6e74 2074  ecial constant t
+0002d1b0: 6861 7420 6973 2061 7373 756d 6564 2074  hat is assumed t
+0002d1c0: 6f20 6265 2060 5472 7565 6020 6279 2033  o be `True` by 3
+0002d1d0: 7264 2070 6172 7479 2073 7461 7469 6320  rd party static 
+0002d1e0: 7479 7065 2063 6865 636b 6572 732e 2049  type checkers. I
+0002d1f0: 7420 6973 2060 4661 6c73 6560 2061 7420  t is `False` at 
+0002d200: 7275 6e74 696d 652e 2055 7361 6765 3a0d  runtime. Usage:.
+0002d210: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0002d220: 6f6e 0d0a 6966 2054 5950 455f 4348 4543  on..if TYPE_CHEC
+0002d230: 4b49 4e47 3a0d 0a20 2020 2069 6d70 6f72  KING:..    impor
+0002d240: 7420 6578 7065 6e73 6976 655f 6d6f 640d  t expensive_mod.
+0002d250: 0a0d 0a64 6566 2066 756e 2861 7267 3a20  ...def fun(arg: 
+0002d260: 6578 7065 6e73 6976 655f 6d6f 642e 536f  expensive_mod.So
+0002d270: 6d65 5479 7065 2920 2d3e 204e 6f6e 653a  meType) -> None:
+0002d280: 0d0a 2020 2020 6c6f 6361 6c5f 7661 723a  ..    local_var:
+0002d290: 2065 7870 656e 7369 7665 5f6d 6f64 2e41   expensive_mod.A
+0002d2a0: 6e6f 7468 6572 5479 7065 203d 206f 7468  notherType = oth
+0002d2b0: 6572 5f66 756e 2829 0d0a 6060 600d 0a0d  er_fun()..```...
+0002d2c0: 0a23 2323 2323 2045 7861 6d70 6c65 730d  .##### Examples.
+0002d2d0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0002d2e0: 0a60 6060 636f 636f 6e75 740d 0a69 6620  .```coconut..if 
+0002d2f0: 5459 5045 5f43 4845 434b 494e 473a 0d0a  TYPE_CHECKING:..
+0002d300: 2020 2020 6672 6f6d 2074 7970 696e 6720      from typing 
+0002d310: 696d 706f 7274 204c 6973 740d 0a78 3a20  import List..x: 
+0002d320: 4c69 7374 5b73 7472 5d20 3d20 5b22 6122  List[str] = ["a"
+0002d330: 2c20 2262 225d 0d0a 6060 600d 0a0d 0a60  , "b"]..```....`
+0002d340: 6060 636f 636f 6e75 740d 0a69 6620 5459  ``coconut..if TY
+0002d350: 5045 5f43 4845 434b 494e 473a 0d0a 2020  PE_CHECKING:..  
+0002d360: 2020 6465 6620 6661 6374 6f72 6961 6c28    def factorial(
+0002d370: 6e3a 2069 6e74 2920 2d3e 2069 6e74 3a20  n: int) -> int: 
+0002d380: 2e2e 2e0d 0a65 6c73 653a 0d0a 2020 2020  .....else:..    
+0002d390: 6465 6620 6661 6374 6f72 6961 6c28 3029  def factorial(0)
+0002d3a0: 203d 2031 0d0a 2020 2020 6164 6470 6174   = 1..    addpat
+0002d3b0: 7465 726e 2064 6566 2066 6163 746f 7269  tern def factori
+0002d3c0: 616c 286e 2920 3d20 6e20 2a20 6661 6374  al(n) = n * fact
+0002d3d0: 6f72 6961 6c28 6e2d 3129 0d0a 6060 600d  orial(n-1)..```.
+0002d3e0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+0002d3f0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0002d400: 6e0d 0a74 7279 3a0d 0a20 2020 2066 726f  n..try:..    fro
+0002d410: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
+0002d420: 5459 5045 5f43 4845 434b 494e 470d 0a65  TYPE_CHECKING..e
+0002d430: 7863 6570 7420 496d 706f 7274 4572 726f  xcept ImportErro
+0002d440: 723a 0d0a 2020 2020 5459 5045 5f43 4845  r:..    TYPE_CHE
+0002d450: 434b 494e 4720 3d20 4661 6c73 650d 0a0d  CKING = False...
+0002d460: 0a69 6620 5459 5045 5f43 4845 434b 494e  .if TYPE_CHECKIN
+0002d470: 473a 0d0a 2020 2020 6672 6f6d 2074 7970  G:..    from typ
+0002d480: 696e 6720 696d 706f 7274 204c 6973 740d  ing import List.
+0002d490: 0a78 3a20 4c69 7374 5b73 7472 5d20 3d20  .x: List[str] = 
+0002d4a0: 5b22 6122 2c20 2262 225d 0d0a 6060 600d  ["a", "b"]..```.
+0002d4b0: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+0002d4c0: 7468 6f6e 0d0a 7472 793a 0d0a 2020 2020  thon..try:..    
+0002d4d0: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
+0002d4e0: 7274 2054 5950 455f 4348 4543 4b49 4e47  rt TYPE_CHECKING
+0002d4f0: 0d0a 6578 6365 7074 2049 6d70 6f72 7445  ..except ImportE
+0002d500: 7272 6f72 3a0d 0a20 2020 2054 5950 455f  rror:..    TYPE_
+0002d510: 4348 4543 4b49 4e47 203d 2046 616c 7365  CHECKING = False
+0002d520: 0d0a 0d0a 6966 2054 5950 455f 4348 4543  ....if TYPE_CHEC
+0002d530: 4b49 4e47 3a0d 0a20 2020 2064 6566 2066  KING:..    def f
+0002d540: 6163 746f 7269 616c 286e 3a20 696e 7429  actorial(n: int)
+0002d550: 202d 3e20 696e 743a 202e 2e2e 0d0a 656c   -> int: .....el
+0002d560: 7365 3a0d 0a20 2020 2064 6566 2066 6163  se:..    def fac
+0002d570: 746f 7269 616c 286e 293a 0d0a 2020 2020  torial(n):..    
+0002d580: 2020 2020 6966 206e 203d 3d20 303a 0d0a      if n == 0:..
+0002d590: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0002d5a0: 726e 2031 0d0a 2020 2020 2020 2020 656c  rn 1..        el
+0002d5b0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0002d5c0: 2072 6574 7572 6e20 6e20 2a20 6661 6374   return n * fact
+0002d5d0: 6f72 6961 6c28 6e2d 3129 0d0a 6060 600d  orial(n-1)..```.
+0002d5e0: 0a0d 0a23 2323 2320 6072 6576 6561 6c5f  ...#### `reveal_
+0002d5f0: 7479 7065 6020 616e 6420 6072 6576 6561  type` and `revea
+0002d600: 6c5f 6c6f 6361 6c73 600d 0a0d 0a57 6865  l_locals`....Whe
+0002d610: 6e20 7573 696e 6720 4d79 5079 2c20 6072  n using MyPy, `r
+0002d620: 6576 6561 6c5f 7479 7065 283c 6578 7072  eveal_type(<expr
+0002d630: 3e29 6020 7769 6c6c 2063 6175 7365 204d  >)` will cause M
+0002d640: 7950 7920 746f 2070 7269 6e74 2074 6865  yPy to print the
+0002d650: 2074 7970 6520 6f66 2060 3c65 7870 723e   type of `<expr>
+0002d660: 6020 616e 6420 6072 6576 6561 6c5f 6c6f  ` and `reveal_lo
+0002d670: 6361 6c73 2829 6020 7769 6c6c 2063 6175  cals()` will cau
+0002d680: 7365 204d 7950 7920 746f 2070 7269 6e74  se MyPy to print
+0002d690: 2074 6865 2074 7970 6573 206f 6620 7468   the types of th
+0002d6a0: 6520 6375 7272 656e 7420 606c 6f63 616c  e current `local
+0002d6b0: 7328 2960 2e20 4174 2072 756e 7469 6d65  s()`. At runtime
+0002d6c0: 2c20 6072 6576 6561 6c5f 7479 7065 2878  , `reveal_type(x
+0002d6d0: 2960 2069 7320 616c 7761 7973 2074 6865  )` is always the
+0002d6e0: 2069 6465 6e74 6974 7920 6675 6e63 7469   identity functi
+0002d6f0: 6f6e 2061 6e64 2060 7265 7665 616c 5f6c  on and `reveal_l
+0002d700: 6f63 616c 7328 2960 2061 6c77 6179 7320  ocals()` always 
+0002d710: 7265 7475 726e 7320 604e 6f6e 6560 2e20  returns `None`. 
+0002d720: 5365 6520 5b74 6865 204d 7950 7920 646f  See [the MyPy do
+0002d730: 6375 6d65 6e74 6174 696f 6e5d 2868 7474  cumentation](htt
+0002d740: 7073 3a2f 2f6d 7970 792e 7265 6164 7468  ps://mypy.readth
+0002d750: 6564 6f63 732e 696f 2f65 6e2f 7374 6162  edocs.io/en/stab
+0002d760: 6c65 2f63 6f6d 6d6f 6e5f 6973 7375 6573  le/common_issues
+0002d770: 2e68 746d 6c23 7265 7665 616c 2d74 7970  .html#reveal-typ
+0002d780: 6529 2066 6f72 206d 6f72 6520 696e 666f  e) for more info
+0002d790: 726d 6174 696f 6e2e 0d0a 0d0a 2323 2323  rmation.....####
+0002d7a0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0002d7b0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0002d7c0: 636f 6e75 745f 7079 636f 6e0d 0a3e 2063  conut_pycon..> c
+0002d7d0: 6f63 6f6e 7574 202d 2d6d 7970 790d 0a43  oconut --mypy..C
+0002d7e0: 6f63 6f6e 7574 2049 6e74 6572 7072 6574  oconut Interpret
+0002d7f0: 6572 2076 582e 582e 583a 0d0a 2865 6e74  er vX.X.X:..(ent
+0002d800: 6572 2027 6578 6974 2829 2720 6f72 2070  er 'exit()' or p
+0002d810: 7265 7373 2043 7472 6c2d 4420 746f 2065  ress Ctrl-D to e
+0002d820: 6e64 290d 0a3e 3e3e 2072 6576 6561 6c5f  nd)..>>> reveal_
+0002d830: 7479 7065 2866 6d61 7029 0d0a 3c66 756e  type(fmap)..<fun
+0002d840: 6374 696f 6e20 666d 6170 2061 7420 3078  ction fmap at 0x
+0002d850: 3030 3030 3032 3339 4230 3645 3230 3430  00000239B06E2040
+0002d860: 3e0d 0a3c 7374 7269 6e67 3e3a 3137 3a20  >..<string>:17: 
+0002d870: 6e6f 7465 3a20 5265 7665 616c 6564 2074  note: Revealed t
+0002d880: 7970 6520 6973 2027 6465 6620 5b5f 542c  ype is 'def [_T,
+0002d890: 205f 555d 2028 6675 6e63 3a20 6465 6620   _U] (func: def 
+0002d8a0: 285f 5460 2d31 2920 2d3e 205f 5560 2d32  (_T`-1) -> _U`-2
+0002d8b0: 2c20 6f62 6a3a 2074 7970 696e 672e 4974  , obj: typing.It
+0002d8c0: 6572 6162 6c65 5b5f 5460 2d31 5d29 202d  erable[_T`-1]) -
+0002d8d0: 3e20 7479 7069 6e67 2e49 7465 7261 626c  > typing.Iterabl
+0002d8e0: 655b 5f55 602d 325d 270d 0a3e 3e3e 0d0a  e[_U`-2]'..>>>..
+0002d8f0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e2a  ```....**Python*
+0002d900: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
+0002d910: 7468 6f6e 0d0a 7472 793a 0d0a 2020 2020  thon..try:..    
+0002d920: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
+0002d930: 7274 2054 5950 455f 4348 4543 4b49 4e47  rt TYPE_CHECKING
+0002d940: 0d0a 6578 6365 7074 2049 6d70 6f72 7445  ..except ImportE
+0002d950: 7272 6f72 3a0d 0a20 2020 2054 5950 455f  rror:..    TYPE_
+0002d960: 4348 4543 4b49 4e47 203d 2046 616c 7365  CHECKING = False
+0002d970: 0d0a 0d0a 6966 206e 6f74 2054 5950 455f  ....if not TYPE_
+0002d980: 4348 4543 4b49 4e47 3a0d 0a20 2020 2064  CHECKING:..    d
+0002d990: 6566 2072 6576 6561 6c5f 7479 7065 2878  ef reveal_type(x
+0002d9a0: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
+0002d9b0: 726e 2078 0d0a 0d0a 6672 6f6d 2063 6f63  rn x....from coc
+0002d9c0: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
+0002d9d0: 2069 6d70 6f72 7420 666d 6170 0d0a 7265   import fmap..re
+0002d9e0: 7665 616c 5f74 7970 6528 666d 6170 290d  veal_type(fmap).
+0002d9f0: 0a60 6060 0d0a 0d0a 2323 2043 6f63 6f6e  .```....## Cocon
+0002da00: 7574 2041 5049 0d0a 0d0a 6060 607b 636f  ut API....```{co
+0002da10: 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f  ntents}..---..lo
+0002da20: 6361 6c3a 0d0a 6465 7074 683a 2032 0d0a  cal:..depth: 2..
+0002da30: 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323 2320  ---..```....### 
+0002da40: 6063 6f63 6f6e 7574 2e65 6d62 6564 600d  `coconut.embed`.
+0002da50: 0a0d 0a2a 2a63 6f63 6f6e 7574 2e65 6d62  ...**coconut.emb
+0002da60: 6564 2a2a 285f 6b65 726e 656c 5f3d 604e  ed**(_kernel_=`N
+0002da70: 6f6e 6560 2c20 5f64 6570 7468 5f3d 6030  one`, _depth_=`0
+0002da80: 602c 205c 2a5c 2a5f 6b77 6172 6773 5f29  `, \*\*_kwargs_)
+0002da90: 0d0a 0d0a 4966 205f 6b65 726e 656c 5f3d  ....If _kernel_=
+0002daa0: 6046 616c 7365 6020 2864 6566 6175 6c74  `False` (default
+0002dab0: 292c 2065 6d62 6564 7320 6120 436f 636f  ), embeds a Coco
+0002dac0: 6e75 7420 4a75 7079 7465 7220 636f 6e73  nut Jupyter cons
+0002dad0: 6f6c 6520 696e 6974 6961 6c69 7a65 6420  ole initialized 
+0002dae0: 6672 6f6d 2074 6865 2063 7572 7265 6e74  from the current
+0002daf0: 206c 6f63 616c 206e 616d 6573 7061 6365   local namespace
+0002db00: 2e20 4966 205f 6b65 726e 656c 5f3d 6054  . If _kernel_=`T
+0002db10: 7275 6560 2c20 6c61 756e 6368 6573 2061  rue`, launches a
+0002db20: 2043 6f63 6f6e 7574 204a 7570 7974 6572   Coconut Jupyter
+0002db30: 206b 6572 6e65 6c20 696e 6974 6961 6c69   kernel initiali
+0002db40: 7a65 6420 6672 6f6d 2074 6865 206c 6f63  zed from the loc
+0002db50: 616c 206e 616d 6573 7061 6365 2074 6861  al namespace tha
+0002db60: 7420 6361 6e20 7468 656e 2062 6520 6174  t can then be at
+0002db70: 7461 6368 6564 2074 6f2e 2054 6865 205f  tached to. The _
+0002db80: 6465 7074 685f 2069 6e64 6963 6174 6573  depth_ indicates
+0002db90: 2068 6f77 206d 616e 7920 6164 6469 7469   how many additi
+0002dba0: 6f6e 616c 2063 616c 6c20 6672 616d 6573  onal call frames
+0002dbb0: 2074 6f20 6967 6e6f 7265 2e20 5f6b 7761   to ignore. _kwa
+0002dbc0: 7267 735f 2061 7265 2061 7320 696e 205b  rgs_ are as in [
+0002dbd0: 4950 7974 686f 6e2e 656d 6265 645d 2868  IPython.embed](h
+0002dbe0: 7474 7073 3a2f 2f69 7079 7468 6f6e 2e72  ttps://ipython.r
+0002dbf0: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
+0002dc00: 2f73 7461 626c 652f 6170 692f 6765 6e65  /stable/api/gene
+0002dc10: 7261 7465 642f 4950 7974 686f 6e2e 7465  rated/IPython.te
+0002dc20: 726d 696e 616c 2e65 6d62 6564 2e68 746d  rminal.embed.htm
+0002dc30: 6c23 4950 7974 686f 6e2e 7465 726d 696e  l#IPython.termin
+0002dc40: 616c 2e65 6d62 6564 2e65 6d62 6564 2920  al.embed.embed) 
+0002dc50: 6f72 205b 4950 7974 686f 6e2e 656d 6265  or [IPython.embe
+0002dc60: 645f 6b65 726e 656c 5d28 6874 7470 733a  d_kernel](https:
+0002dc70: 2f2f 6970 7974 686f 6e2e 7265 6164 7468  //ipython.readth
+0002dc80: 6564 6f63 732e 696f 2f65 6e2f 7374 6162  edocs.io/en/stab
+0002dc90: 6c65 2f61 7069 2f67 656e 6572 6174 6564  le/api/generated
+0002dca0: 2f49 5079 7468 6f6e 2e68 746d 6c23 4950  /IPython.html#IP
+0002dcb0: 7974 686f 6e2e 656d 6265 645f 6b65 726e  ython.embed_kern
+0002dcc0: 656c 2920 6261 7365 6420 6f6e 205f 6b65  el) based on _ke
+0002dcd0: 726e 656c 5f2e 0d0a 0d0a 5265 636f 6d6d  rnel_.....Recomm
+0002dce0: 656e 6465 6420 7573 6167 6520 6973 2061  ended usage is a
+0002dcf0: 7320 6120 6465 6275 6767 696e 6720 746f  s a debugging to
+0002dd00: 6f6c 2c20 7768 6572 6520 7468 6520 636f  ol, where the co
+0002dd10: 6465 2060 6672 6f6d 2063 6f63 6f6e 7574  de `from coconut
+0002dd20: 2069 6d70 6f72 7420 656d 6265 643b 2065   import embed; e
+0002dd30: 6d62 6564 2829 6020 6361 6e20 6265 2069  mbed()` can be i
+0002dd40: 6e73 6572 7465 6420 746f 206c 6175 6e63  nserted to launc
+0002dd50: 6820 616e 2069 6e74 6572 6163 7469 7665  h an interactive
+0002dd60: 2043 6f63 6f6e 7574 2073 6865 6c6c 2069   Coconut shell i
+0002dd70: 6e69 7469 616c 697a 6564 2066 726f 6d20  nitialized from 
+0002dd80: 7468 6174 2070 6f69 6e74 2e0d 0a0d 0a23  that point.....#
+0002dd90: 2323 2041 7574 6f6d 6174 6963 2043 6f6d  ## Automatic Com
+0002dda0: 7069 6c61 7469 6f6e 0d0a 0d0a 4966 2079  pilation....If y
+0002ddb0: 6f75 2064 6f6e 2774 2063 6172 6520 6162  ou don't care ab
+0002ddc0: 6f75 7420 7468 6520 6578 6163 7420 636f  out the exact co
+0002ddd0: 6d70 696c 6174 696f 6e20 7061 7261 6d65  mpilation parame
+0002dde0: 7465 7273 2079 6f75 2077 616e 7420 746f  ters you want to
+0002ddf0: 2075 7365 2c20 6175 746f 6d61 7469 6320   use, automatic 
+0002de00: 636f 6d70 696c 6174 696f 6e20 6c65 7473  compilation lets
+0002de10: 2043 6f63 6f6e 7574 2074 616b 6520 6361   Coconut take ca
+0002de20: 7265 206f 6620 6576 6572 7974 6869 6e67  re of everything
+0002de30: 2066 6f72 2079 6f75 2e20 4175 746f 6d61   for you. Automa
+0002de40: 7469 6320 636f 6d70 696c 6174 696f 6e20  tic compilation 
+0002de50: 6361 6e20 6265 2065 6e61 626c 6564 2065  can be enabled e
+0002de60: 6974 6865 7220 6279 2069 6d70 6f72 7469  ither by importi
+0002de70: 6e67 205b 6063 6f63 6f6e 7574 2e63 6f6e  ng [`coconut.con
+0002de80: 7665 6e69 656e 6365 605d 2823 636f 636f  venience`](#coco
+0002de90: 6e75 742d 636f 6e76 656e 6965 6e63 6529  nut-convenience)
+0002dea0: 2062 6566 6f72 6520 796f 7520 696d 706f   before you impo
+0002deb0: 7274 2061 6e79 7468 696e 6720 656c 7365  rt anything else
+0002dec0: 2c20 6f72 2062 7920 7275 6e6e 696e 6720  , or by running 
+0002ded0: 6063 6f63 6f6e 7574 202d 2d73 6974 652d  `coconut --site-
+0002dee0: 696e 7374 616c 6c60 2e20 4f6e 6365 2061  install`. Once a
+0002def0: 7574 6f6d 6174 6963 2063 6f6d 7069 6c61  utomatic compila
+0002df00: 7469 6f6e 2069 7320 656e 6162 6c65 642c  tion is enabled,
+0002df10: 2043 6f63 6f6e 7574 2077 696c 6c20 6368   Coconut will ch
+0002df20: 6563 6b20 6561 6368 206f 6620 796f 7572  eck each of your
+0002df30: 2069 6d70 6f72 7473 2074 6f20 7365 6520   imports to see 
+0002df40: 6966 2079 6f75 2061 7265 2061 7474 656d  if you are attem
+0002df50: 7074 696e 6720 746f 2069 6d70 6f72 7420  pting to import 
+0002df60: 6120 602e 636f 636f 6020 6669 6c65 2061  a `.coco` file a
+0002df70: 6e64 2c20 6966 2073 6f2c 2061 7574 6f6d  nd, if so, autom
+0002df80: 6174 6963 616c 6c79 2063 6f6d 7069 6c65  atically compile
+0002df90: 2069 7420 666f 7220 796f 752e 204e 6f74   it for you. Not
+0002dfa0: 6520 7468 6174 2c20 666f 7220 436f 636f  e that, for Coco
+0002dfb0: 6e75 7420 746f 206b 6e6f 7720 7768 6174  nut to know what
+0002dfc0: 2066 696c 6520 796f 7520 6172 6520 7472   file you are tr
+0002dfd0: 7969 6e67 2074 6f20 696d 706f 7274 2c20  ying to import, 
+0002dfe0: 6974 2077 696c 6c20 6e65 6564 2074 6f20  it will need to 
+0002dff0: 6265 2061 6363 6573 7369 626c 6520 7669  be accessible vi
+0002e000: 6120 6073 7973 2e70 6174 6860 2c20 6a75  a `sys.path`, ju
+0002e010: 7374 206c 696b 6520 6120 6e6f 726d 616c  st like a normal
+0002e020: 2069 6d70 6f72 742e 0d0a 0d0a 4175 746f   import.....Auto
+0002e030: 6d61 7469 6320 636f 6d70 696c 6174 696f  matic compilatio
+0002e040: 6e20 616c 7761 7973 2063 6f6d 7069 6c65  n always compile
+0002e050: 7320 6d6f 6475 6c65 7320 616e 6420 7061  s modules and pa
+0002e060: 636b 6167 6573 2069 6e2d 706c 6163 652c  ckages in-place,
+0002e070: 2061 6e64 2061 6c77 6179 7320 7573 6573   and always uses
+0002e080: 2060 2d2d 7461 7267 6574 2073 7973 602e   `--target sys`.
+0002e090: 2041 7574 6f6d 6174 6963 2063 6f6d 7069   Automatic compi
+0002e0a0: 6c61 7469 6f6e 2069 7320 616c 7761 7973  lation is always
+0002e0b0: 2061 7661 696c 6162 6c65 2069 6e20 7468   available in th
+0002e0c0: 6520 436f 636f 6e75 7420 696e 7465 7270  e Coconut interp
+0002e0d0: 7265 7465 722c 2061 6e64 2c20 6966 2075  reter, and, if u
+0002e0e0: 7369 6e67 2074 6865 2043 6f63 6f6e 7574  sing the Coconut
+0002e0f0: 2069 6e74 6572 7072 6574 6572 2c20 6120   interpreter, a 
+0002e100: 6072 656c 6f61 6460 2062 7569 6c74 2d69  `reload` built-i
+0002e110: 6e20 6973 2070 726f 7669 6465 6420 746f  n is provided to
+0002e120: 2065 6173 696c 7920 7265 6c6f 6164 2069   easily reload i
+0002e130: 6d70 6f72 7465 6420 6d6f 6475 6c65 732e  mported modules.
+0002e140: 2041 6464 6974 696f 6e61 6c6c 792c 2074   Additionally, t
+0002e150: 6865 2069 6e74 6572 7072 6574 6572 2061  he interpreter a
+0002e160: 6c77 6179 7320 616c 6c6f 7773 2069 6d70  lways allows imp
+0002e170: 6f72 7469 6e67 2066 726f 6d20 7468 6520  orting from the 
+0002e180: 6375 7272 656e 7420 776f 726b 696e 6720  current working 
+0002e190: 6469 7265 6374 6f72 792c 206c 6574 7469  directory, letti
+0002e1a0: 6e67 2079 6f75 2065 6173 696c 7920 636f  ng you easily co
+0002e1b0: 6d70 696c 6520 616e 6420 706c 6179 2061  mpile and play a
+0002e1c0: 726f 756e 6420 7769 7468 2061 2060 2e63  round with a `.c
+0002e1d0: 6f63 6f60 2066 696c 6520 7369 6d70 6c79  oco` file simply
+0002e1e0: 2062 7920 7275 6e6e 696e 6720 7468 6520   by running the 
+0002e1f0: 436f 636f 6e75 7420 696e 7465 7270 7265  Coconut interpre
+0002e200: 7465 7220 616e 6420 696d 706f 7274 696e  ter and importin
+0002e210: 6720 6974 2e0d 0a0d 0a23 2323 2043 6f63  g it.....### Coc
+0002e220: 6f6e 7574 2045 6e63 6f64 696e 670d 0a0d  onut Encoding...
+0002e230: 0a57 6869 6c65 2061 7574 6f6d 6174 6963  .While automatic
+0002e240: 2063 6f6d 7069 6c61 7469 6f6e 2069 7320   compilation is 
+0002e250: 7468 6520 7072 6566 6572 7265 6420 6d65  the preferred me
+0002e260: 7468 6f64 2066 6f72 2064 796e 616d 6963  thod for dynamic
+0002e270: 616c 6c79 2063 6f6d 7069 6c69 6e67 2043  ally compiling C
+0002e280: 6f63 6f6e 7574 2066 696c 6573 2c20 6173  oconut files, as
+0002e290: 2069 7420 6361 6368 6573 2074 6865 2063   it caches the c
+0002e2a0: 6f6d 7069 6c65 6420 636f 6465 2061 7320  ompiled code as 
+0002e2b0: 6120 602e 7079 6020 6669 6c65 2074 6f20  a `.py` file to 
+0002e2c0: 7072 6576 656e 7420 7265 636f 6d70 696c  prevent recompil
+0002e2d0: 6174 696f 6e2c 2043 6f63 6f6e 7574 2061  ation, Coconut a
+0002e2e0: 6c73 6f20 7375 7070 6f72 7473 2061 2073  lso supports a s
+0002e2f0: 7065 6369 616c 0d0a 6060 6063 6f63 6f6e  pecial..```cocon
+0002e300: 7574 0d0a 2320 636f 6469 6e67 3a20 636f  ut..# coding: co
+0002e310: 636f 6e75 740d 0a60 6060 0d0a 6465 636c  conut..```..decl
+0002e320: 6172 6174 696f 6e20 7768 6963 6820 6361  aration which ca
+0002e330: 6e20 6265 2061 6464 6564 2074 6f20 602e  n be added to `.
+0002e340: 7079 6020 6669 6c65 7320 746f 2068 6176  py` files to hav
+0002e350: 6520 7468 656d 2074 7265 6174 6564 2061  e them treated a
+0002e360: 7320 436f 636f 6e75 7420 6669 6c65 7320  s Coconut files 
+0002e370: 696e 7374 6561 642e 2054 6f20 7573 6520  instead. To use 
+0002e380: 7375 6368 2061 2063 6f64 696e 6720 6465  such a coding de
+0002e390: 636c 6172 6174 696f 6e2c 2079 6f75 276c  claration, you'l
+0002e3a0: 6c20 6e65 6564 2074 6f20 6569 7468 6572  l need to either
+0002e3b0: 2072 756e 2060 636f 636f 6e75 7420 2d2d   run `coconut --
+0002e3c0: 7369 7465 2d69 6e73 7461 6c6c 6020 6f72  site-install` or
+0002e3d0: 2060 696d 706f 7274 2063 6f63 6f6e 7574   `import coconut
+0002e3e0: 2e63 6f6e 7665 6e69 656e 6365 6020 6174  .convenience` at
+0002e3f0: 2073 6f6d 6520 706f 696e 7420 6265 666f   some point befo
+0002e400: 7265 2079 6f75 2066 6972 7374 2061 7474  re you first att
+0002e410: 656d 7074 2074 6f20 696d 706f 7274 2061  empt to import a
+0002e420: 2066 696c 6520 7769 7468 2061 2060 2320   file with a `# 
+0002e430: 636f 6469 6e67 3a20 636f 636f 6e75 7460  coding: coconut`
+0002e440: 2064 6563 6c61 7261 7469 6f6e 2e20 4c69   declaration. Li
+0002e450: 6b65 2061 7574 6f6d 6174 6963 2063 6f6d  ke automatic com
+0002e460: 7069 6c61 7469 6f6e 2c20 636f 6d70 696c  pilation, compil
+0002e470: 6174 696f 6e20 6973 2061 6c77 6179 7320  ation is always 
+0002e480: 646f 6e65 2077 6974 6820 602d 2d74 6172  done with `--tar
+0002e490: 6765 7420 7379 7360 2061 6e64 2069 7320  get sys` and is 
+0002e4a0: 616c 7761 7973 2061 7661 696c 6162 6c65  always available
+0002e4b0: 2066 726f 6d20 7468 6520 436f 636f 6e75   from the Coconu
+0002e4c0: 7420 696e 7465 7270 7265 7465 722e 0d0a  t interpreter...
+0002e4d0: 0d0a 2323 2320 6063 6f63 6f6e 7574 2e63  ..### `coconut.c
+0002e4e0: 6f6e 7665 6e69 656e 6365 600d 0a0d 0a49  onvenience`....I
+0002e4f0: 6e20 6164 6469 7469 6f6e 2074 6f20 656e  n addition to en
+0002e500: 6162 6c69 6e67 2061 7574 6f6d 6174 6963  abling automatic
+0002e510: 2063 6f6d 7069 6c61 7469 6f6e 2c20 6063   compilation, `c
+0002e520: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
+0002e530: 6365 6020 6361 6e20 616c 736f 2062 6520  ce` can also be 
+0002e540: 7573 6564 2074 6f20 6361 6c6c 2074 6865  used to call the
+0002e550: 2043 6f63 6f6e 7574 2063 6f6d 7069 6c65   Coconut compile
+0002e560: 7220 6672 6f6d 2063 6f64 6520 696e 7374  r from code inst
+0002e570: 6561 6420 6f66 2066 726f 6d20 7468 6520  ead of from the 
+0002e580: 636f 6d6d 616e 6420 6c69 6e65 2e20 5365  command line. Se
+0002e590: 6520 6265 6c6f 7720 666f 7220 7370 6563  e below for spec
+0002e5a0: 6966 6963 6174 696f 6e73 206f 6620 7468  ifications of th
+0002e5b0: 6520 6469 6666 6572 656e 7420 636f 6e76  e different conv
+0002e5c0: 656e 6965 6e63 6520 6675 6e63 7469 6f6e  enience function
+0002e5d0: 732e 0d0a 0d0a 2323 2323 2060 6765 745f  s.....#### `get_
+0002e5e0: 7374 6174 6560 0d0a 0d0a 2a2a 636f 636f  state`....**coco
+0002e5f0: 6e75 742e 636f 6e76 656e 6965 6e63 652e  nut.convenience.
+0002e600: 6765 745c 5f73 7461 7465 2a2a 285f 7374  get\_state**(_st
+0002e610: 6174 655f 3d60 4e6f 6e65 6029 0d0a 0d0a  ate_=`None`)....
+0002e620: 4765 7473 2061 2073 7461 7465 206f 626a  Gets a state obj
+0002e630: 6563 7420 7768 6963 6820 7374 6f72 6573  ect which stores
+0002e640: 2074 6865 2063 7572 7265 6e74 2063 6f6d   the current com
+0002e650: 7069 6c61 7469 6f6e 2070 6172 616d 6574  pilation paramet
+0002e660: 6572 732e 2053 7461 7465 206f 626a 6563  ers. State objec
+0002e670: 7473 2063 616e 2062 6520 636f 6e66 6967  ts can be config
+0002e680: 7572 6564 2077 6974 6820 5b2a 2a73 6574  ured with [**set
+0002e690: 7570 2a2a 5d28 2373 6574 7570 2920 6f72  up**](#setup) or
+0002e6a0: 205b 2a2a 636d 642a 2a5d 2823 636d 6429   [**cmd**](#cmd)
+0002e6b0: 2061 6e64 2074 6865 6e20 7573 6564 2069   and then used i
+0002e6c0: 6e20 5b2a 2a70 6172 7365 2a2a 5d28 2370  n [**parse**](#p
+0002e6d0: 6172 7365 2920 6f72 205b 2a2a 636f 636f  arse) or [**coco
+0002e6e0: 6e75 745c 5f65 7661 6c2a 2a5d 2823 636f  nut\_eval**](#co
+0002e6f0: 636f 6e75 745f 6576 616c 292e 0d0a 0d0a  conut_eval).....
+0002e700: 4966 205f 7374 6174 655f 2069 7320 604e  If _state_ is `N
+0002e710: 6f6e 6560 2c20 6765 7473 2061 206e 6577  one`, gets a new
+0002e720: 2073 7461 7465 206f 626a 6563 742c 2077   state object, w
+0002e730: 6865 7265 6173 2069 6620 5f73 7461 7465  hereas if _state
+0002e740: 5f20 6973 2060 4661 6c73 6560 2c20 7468  _ is `False`, th
+0002e750: 6520 676c 6f62 616c 2073 7461 7465 206f  e global state o
+0002e760: 626a 6563 7420 6973 2072 6574 7572 6e65  bject is returne
+0002e770: 642e 0d0a 0d0a 2323 2323 2060 7061 7273  d.....#### `pars
+0002e780: 6560 0d0a 0d0a 2a2a 636f 636f 6e75 742e  e`....**coconut.
+0002e790: 636f 6e76 656e 6965 6e63 652e 7061 7273  convenience.pars
+0002e7a0: 652a 2a28 5f63 6f64 655f 3d60 2222 602c  e**(_code_=`""`,
+0002e7b0: 205f 6d6f 6465 5f3d 6022 7379 7322 602c   _mode_=`"sys"`,
+0002e7c0: 205f 7374 6174 655f 3d60 4661 6c73 6560   _state_=`False`
+0002e7d0: 2c20 5f6b 6565 705c 5f69 6e74 6572 6e61  , _keep\_interna
+0002e7e0: 6c5c 5f73 7461 7465 5f3d 604e 6f6e 6560  l\_state_=`None`
+0002e7f0: 290d 0a0d 0a4c 696b 656c 7920 7468 6520  )....Likely the 
+0002e800: 6d6f 7374 2075 7365 6675 6c20 6f66 2074  most useful of t
+0002e810: 6865 2063 6f6e 7665 6e69 656e 6365 2066  he convenience f
+0002e820: 756e 6374 696f 6e73 2c20 6070 6172 7365  unctions, `parse
+0002e830: 6020 7461 6b65 7320 436f 636f 6e75 7420  ` takes Coconut 
+0002e840: 636f 6465 2061 7320 696e 7075 7420 616e  code as input an
+0002e850: 6420 6f75 7470 7574 7320 7468 6520 6571  d outputs the eq
+0002e860: 7569 7661 6c65 6e74 2063 6f6d 7069 6c65  uivalent compile
+0002e870: 6420 5079 7468 6f6e 2063 6f64 652e 205f  d Python code. _
+0002e880: 6d6f 6465 5f20 6973 2075 7365 6420 746f  mode_ is used to
+0002e890: 2069 6e64 6963 6174 6520 7468 6520 636f   indicate the co
+0002e8a0: 6e74 6578 7420 666f 7220 7468 6520 7061  ntext for the pa
+0002e8b0: 7273 696e 6720 616e 6420 5f73 7461 7465  rsing and _state
+0002e8c0: 5f20 6973 2074 6865 2073 7461 7465 206f  _ is the state o
+0002e8d0: 626a 6563 7420 7374 6f72 696e 6720 7468  bject storing th
+0002e8e0: 6520 636f 6d70 696c 6174 696f 6e20 7061  e compilation pa
+0002e8f0: 7261 6d65 7465 7273 2074 6f20 7573 6520  rameters to use 
+0002e900: 6173 206f 6274 6169 6e65 6420 6672 6f6d  as obtained from
+0002e910: 205b 2a2a 6765 745f 7374 6174 652a 2a5d   [**get_state**]
+0002e920: 2823 6765 745f 7374 6174 6529 2028 6966  (#get_state) (if
+0002e930: 2060 4661 6c73 6560 2c20 7573 6573 2074   `False`, uses t
+0002e940: 6865 2067 6c6f 6261 6c20 7374 6174 6520  he global state 
+0002e950: 6f62 6a65 6374 292e 205f 6b65 6570 5c5f  object). _keep\_
+0002e960: 696e 7465 726e 616c 5c5f 7374 6174 655f  internal\_state_
+0002e970: 2064 6574 6572 6d69 6e65 7320 7768 6574   determines whet
+0002e980: 6865 7220 7468 6520 7374 6174 6520 6f62  her the state ob
+0002e990: 6a65 6374 2077 696c 6c20 6b65 6570 2069  ject will keep i
+0002e9a0: 6e74 6572 6e61 6c20 7374 6174 6520 2873  nternal state (s
+0002e9b0: 7563 6820 6173 2077 6861 7420 5b63 7573  uch as what [cus
+0002e9c0: 746f 6d20 6f70 6572 6174 6f72 735d 2823  tom operators](#
+0002e9d0: 6375 7374 6f6d 2d6f 7065 7261 746f 7273  custom-operators
+0002e9e0: 2920 6861 7665 2062 6565 6e20 6465 636c  ) have been decl
+0002e9f0: 6172 6564 29e2 8094 6966 2060 4e6f 6e65  ared)...if `None
+0002ea00: 602c 2069 6e74 6572 6e61 6c20 7374 6174  `, internal stat
+0002ea10: 6520 7769 6c6c 2062 6520 6b65 7074 2069  e will be kept i
+0002ea20: 6666 2079 6f75 2061 7265 206e 6f74 2075  ff you are not u
+0002ea30: 7369 6e67 2074 6865 2067 6c6f 6261 6c20  sing the global 
+0002ea40: 5f73 7461 7465 5f2e 0d0a 0d0a 4966 205f  _state_.....If _
+0002ea50: 636f 6465 5f20 6973 206e 6f74 2070 6173  code_ is not pas
+0002ea60: 7365 642c 2060 7061 7273 6560 2077 696c  sed, `parse` wil
+0002ea70: 6c20 6f75 7470 7574 206a 7573 7420 7468  l output just th
+0002ea80: 6520 6769 7665 6e20 5f6d 6f64 655f 2773  e given _mode_'s
+0002ea90: 2068 6561 6465 722c 2077 6869 6368 2063   header, which c
+0002eaa0: 616e 2062 6520 6578 6563 7574 6564 2074  an be executed t
+0002eab0: 6f20 7365 7420 7570 2061 6e20 6578 6563  o set up an exec
+0002eac0: 7574 696f 6e20 656e 7669 726f 6e6d 656e  ution environmen
+0002ead0: 7420 696e 2077 6869 6368 2066 7574 7572  t in which futur
+0002eae0: 6520 636f 6465 2063 616e 2062 6520 7061  e code can be pa
+0002eaf0: 7273 6564 2061 6e64 2065 7865 6375 7465  rsed and execute
+0002eb00: 6420 7769 7468 6f75 7420 6120 6865 6164  d without a head
+0002eb10: 6572 2e0d 0a0d 0a45 6163 6820 5f6d 6f64  er.....Each _mod
+0002eb20: 655f 2068 6173 2074 776f 2063 6f6d 706f  e_ has two compo
+0002eb30: 6e65 6e74 733a 2077 6861 7420 7061 7273  nents: what pars
+0002eb40: 6572 2069 7420 7573 6573 2c20 616e 6420  er it uses, and 
+0002eb50: 7768 6174 2068 6561 6465 7220 6974 2070  what header it p
+0002eb60: 7265 7065 6e64 732e 2054 6865 2070 6172  repends. The par
+0002eb70: 7365 7220 6465 7465 726d 696e 6573 2077  ser determines w
+0002eb80: 6861 7420 436f 636f 6e75 7420 636f 6465  hat Coconut code
+0002eb90: 2069 7320 616c 6c6f 7765 6420 6173 2069   is allowed as i
+0002eba0: 6e70 7574 2c20 616e 6420 7468 6520 6865  nput, and the he
+0002ebb0: 6164 6572 2064 6574 6572 6d69 6e65 7320  ader determines 
+0002ebc0: 686f 7720 7468 6520 636f 6d70 696c 6564  how the compiled
+0002ebd0: 2050 7974 686f 6e20 6361 6e20 6265 2075   Python can be u
+0002ebe0: 7365 642e 2050 6f73 7369 626c 6520 7661  sed. Possible va
+0002ebf0: 6c75 6573 206f 6620 5f6d 6f64 655f 2061  lues of _mode_ a
+0002ec00: 7265 3a0d 0a0d 0a2d 2060 2273 7973 2260  re:....- `"sys"`
+0002ec10: 3a20 2874 6865 2064 6566 6175 6c74 290d  : (the default).
+0002ec20: 0a20 2020 202b 2070 6172 7365 723a 2066  .    + parser: f
+0002ec30: 696c 650d 0a20 2020 2020 2020 202a 2054  ile..        * T
+0002ec40: 6865 2066 696c 6520 7061 7273 6572 2063  he file parser c
+0002ec50: 616e 2070 6172 7365 2061 6e79 2043 6f63  an parse any Coc
+0002ec60: 6f6e 7574 2063 6f64 652e 0d0a 2020 2020  onut code...    
+0002ec70: 2b20 6865 6164 6572 3a20 7379 730d 0a20  + header: sys.. 
+0002ec80: 2020 2020 2020 202a 2054 6869 7320 6865         * This he
+0002ec90: 6164 6572 2069 6d70 6f72 7473 205b 6063  ader imports [`c
+0002eca0: 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e 7574  oconut.__coconut
+0002ecb0: 5f5f 605d 2823 636f 636f 6e75 742d 636f  __`](#coconut-co
+0002ecc0: 636f 6e75 7429 2074 6f20 6163 6365 7373  conut) to access
+0002ecd0: 2074 6865 206e 6563 6573 7361 7279 2043   the necessary C
+0002ece0: 6f63 6f6e 7574 206f 626a 6563 7473 2e0d  oconut objects..
+0002ecf0: 0a2d 2060 2265 7865 6322 603a 0d0a 2020  .- `"exec"`:..  
+0002ed00: 2020 2b20 7061 7273 6572 3a20 6669 6c65    + parser: file
+0002ed10: 0d0a 2020 2020 2b20 6865 6164 6572 3a20  ..    + header: 
+0002ed20: 6578 6563 0d0a 2020 2020 2020 2020 2a20  exec..        * 
+0002ed30: 5768 656e 2070 6173 7365 6420 746f 2060  When passed to `
+0002ed40: 6578 6563 6020 6174 2074 6865 2067 6c6f  exec` at the glo
+0002ed50: 6261 6c20 6c65 7665 6c2c 2074 6869 7320  bal level, this 
+0002ed60: 6865 6164 6572 2077 696c 6c20 6372 6561  header will crea
+0002ed70: 7465 2061 6c6c 2074 6865 206e 6563 6573  te all the neces
+0002ed80: 7361 7279 2043 6f63 6f6e 7574 206f 626a  sary Coconut obj
+0002ed90: 6563 7473 2069 7473 656c 6620 696e 7374  ects itself inst
+0002eda0: 6561 6420 6f66 2069 6d70 6f72 7469 6e67  ead of importing
+0002edb0: 2074 6865 6d2e 0d0a 2d20 6022 6669 6c65   them...- `"file
+0002edc0: 2260 3a0d 0a20 2020 202b 2070 6172 7365  "`:..    + parse
+0002edd0: 723a 2066 696c 650d 0a20 2020 202b 2068  r: file..    + h
+0002ede0: 6561 6465 723a 2066 696c 650d 0a20 2020  eader: file..   
+0002edf0: 2020 2020 202a 2054 6869 7320 6865 6164       * This head
+0002ee00: 6572 2069 7320 6d65 616e 7420 746f 2062  er is meant to b
+0002ee10: 6520 7772 6974 7465 6e20 746f 2061 2060  e written to a `
+0002ee20: 2d2d 7374 616e 6461 6c6f 6e65 6020 6669  --standalone` fi
+0002ee30: 6c65 2061 6e64 2073 686f 756c 6420 6e6f  le and should no
+0002ee40: 7420 6265 2070 6173 7365 6420 746f 2060  t be passed to `
+0002ee50: 6578 6563 602e 0d0a 2d20 6022 7061 636b  exec`...- `"pack
+0002ee60: 6167 6522 603a 0d0a 2020 2020 2b20 7061  age"`:..    + pa
+0002ee70: 7273 6572 3a20 6669 6c65 0d0a 2020 2020  rser: file..    
+0002ee80: 2b20 6865 6164 6572 3a20 7061 636b 6167  + header: packag
+0002ee90: 650d 0a20 2020 2020 2020 202a 2054 6869  e..        * Thi
+0002eea0: 7320 6865 6164 6572 2069 7320 6d65 616e  s header is mean
+0002eeb0: 7420 746f 2062 6520 7772 6974 7465 6e20  t to be written 
+0002eec0: 746f 2061 2060 2d2d 7061 636b 6167 6560  to a `--package`
+0002eed0: 2066 696c 6520 616e 6420 7368 6f75 6c64   file and should
+0002eee0: 206e 6f74 2062 6520 7061 7373 6564 2074   not be passed t
+0002eef0: 6f20 6065 7865 6360 2e0d 0a2d 2060 2262  o `exec`...- `"b
+0002ef00: 6c6f 636b 2260 3a0d 0a20 2020 202b 2070  lock"`:..    + p
+0002ef10: 6172 7365 723a 2066 696c 650d 0a20 2020  arser: file..   
+0002ef20: 202b 2068 6561 6465 723a 206e 6f6e 650d   + header: none.
+0002ef30: 0a20 2020 2020 2020 202a 204e 6f20 6865  .        * No he
+0002ef40: 6164 6572 2069 7320 696e 636c 7564 6564  ader is included
+0002ef50: 2c20 7468 7573 2074 6869 7320 6361 6e20  , thus this can 
+0002ef60: 6f6e 6c79 2062 6520 7061 7373 6564 2074  only be passed t
+0002ef70: 6f20 6065 7865 6360 2069 6620 636f 6465  o `exec` if code
+0002ef80: 2077 6974 6820 6120 6865 6164 6572 2068   with a header h
+0002ef90: 6173 2061 6c72 6561 6479 2062 6565 6e20  as already been 
+0002efa0: 6578 6563 7574 6564 2061 7420 7468 6520  executed at the 
+0002efb0: 676c 6f62 616c 206c 6576 656c 2e0d 0a2d  global level...-
+0002efc0: 2060 2273 696e 676c 6522 603a 0d0a 2020   `"single"`:..  
+0002efd0: 2020 2b20 7061 7273 6572 3a20 7369 6e67    + parser: sing
+0002efe0: 6c65 0d0a 2020 2020 2020 2020 2a20 4361  le..        * Ca
+0002eff0: 6e20 6f6e 6c79 2070 6172 7365 206f 6e65  n only parse one
+0002f000: 206c 696e 6520 6f66 2043 6f63 6f6e 7574   line of Coconut
+0002f010: 2063 6f64 652e 0d0a 2020 2020 2b20 6865   code...    + he
+0002f020: 6164 6572 3a20 6e6f 6e65 0d0a 2d20 6022  ader: none..- `"
+0002f030: 6576 616c 2260 3a0d 0a20 2020 202b 2070  eval"`:..    + p
+0002f040: 6172 7365 723a 2065 7661 6c0d 0a20 2020  arser: eval..   
+0002f050: 2020 2020 202a 2043 616e 206f 6e6c 7920       * Can only 
+0002f060: 7061 7273 6520 6120 436f 636f 6e75 7420  parse a Coconut 
+0002f070: 6578 7072 6573 7369 6f6e 2c20 6e6f 7420  expression, not 
+0002f080: 6120 7374 6174 656d 656e 742e 0d0a 2020  a statement...  
+0002f090: 2020 2b20 6865 6164 6572 3a20 6e6f 6e65    + header: none
+0002f0a0: 0d0a 2d20 6022 6c65 6e69 656e 7422 603a  ..- `"lenient"`:
+0002f0b0: 0d0a 2020 2020 2b20 7061 7273 6572 3a20  ..    + parser: 
+0002f0c0: 6c65 6e69 656e 740d 0a20 2020 2020 2020  lenient..       
+0002f0d0: 202a 2043 616e 2070 6172 7365 2061 6e79   * Can parse any
+0002f0e0: 2043 6f63 6f6e 7574 2063 6f64 652c 2061   Coconut code, a
+0002f0f0: 6c6c 6f77 7320 6c65 6164 696e 6720 7768  llows leading wh
+0002f100: 6974 6573 7061 6365 2c20 616e 6420 6861  itespace, and ha
+0002f110: 7320 6e6f 2074 7261 696c 696e 6720 6e65  s no trailing ne
+0002f120: 776c 696e 652e 0d0a 2020 2020 2b20 6865  wline...    + he
+0002f130: 6164 6572 3a20 6e6f 6e65 0d0a 2d20 6022  ader: none..- `"
+0002f140: 786f 6e73 6822 603a 0d0a 2020 2020 2b20  xonsh"`:..    + 
+0002f150: 7061 7273 6572 3a20 786f 6e73 680d 0a20  parser: xonsh.. 
+0002f160: 2020 2020 2020 202a 2050 6172 7365 7320         * Parses 
+0002f170: 436f 636f 6e75 7420 5b60 786f 6e73 6860  Coconut [`xonsh`
+0002f180: 5d28 6874 7470 733a 2f2f 786f 6e2e 7368  ](https://xon.sh
+0002f190: 2920 636f 6465 2066 6f72 2075 7365 2069  ) code for use i
+0002f1a0: 6e20 5b43 6f63 6f6e 7574 2773 2060 786f  n [Coconut's `xo
+0002f1b0: 6e73 6860 2073 7570 706f 7274 5d28 2378  nsh` support](#x
+0002f1c0: 6f6e 7368 2d73 7570 706f 7274 292e 0d0a  onsh-support)...
+0002f1d0: 2020 2020 2b20 6865 6164 6572 3a20 6e6f      + header: no
+0002f1e0: 6e65 0d0a 0d0a 2323 2323 2320 4578 616d  ne....##### Exam
+0002f1f0: 706c 650d 0a0d 0a60 6060 636f 636f 6e75  ple....```coconu
+0002f200: 745f 7079 7468 6f6e 0d0a 6672 6f6d 2063  t_python..from c
+0002f210: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
+0002f220: 6365 2069 6d70 6f72 7420 7061 7273 650d  ce import parse.
+0002f230: 0a65 7865 6328 7061 7273 6528 2929 0d0a  .exec(parse())..
+0002f240: 7768 696c 6520 5472 7565 3a0d 0a20 2020  while True:..   
+0002f250: 2065 7865 6328 7061 7273 6528 696e 7075   exec(parse(inpu
+0002f260: 7428 292c 206d 6f64 653d 2262 6c6f 636b  t(), mode="block
+0002f270: 2229 290d 0a60 6060 0d0a 0d0a 2323 2323  "))..```....####
+0002f280: 2060 7365 7475 7060 0d0a 0d0a 2a2a 636f   `setup`....**co
+0002f290: 636f 6e75 742e 636f 6e76 656e 6965 6e63  conut.convenienc
+0002f2a0: 652e 7365 7475 702a 2a28 5f74 6172 6765  e.setup**(_targe
+0002f2b0: 745f 3d60 4e6f 6e65 602c 205f 7374 7269  t_=`None`, _stri
+0002f2c0: 6374 5f3d 6046 616c 7365 602c 205f 6d69  ct_=`False`, _mi
+0002f2d0: 6e69 6679 5f3d 6046 616c 7365 602c 205f  nify_=`False`, _
+0002f2e0: 6c69 6e65 5c5f 6e75 6d62 6572 735f 3d60  line\_numbers_=`
+0002f2f0: 4661 6c73 6560 2c20 5f6b 6565 705c 5f6c  False`, _keep\_l
+0002f300: 696e 6573 5f3d 6046 616c 7365 602c 205f  ines_=`False`, _
+0002f310: 6e6f 5c5f 7463 6f5f 3d60 4661 6c73 6560  no\_tco_=`False`
+0002f320: 2c20 5f6e 6f5c 5f77 7261 705f 3d60 4661  , _no\_wrap_=`Fa
+0002f330: 6c73 6560 2c20 2a2c 205f 7374 6174 655f  lse`, *, _state_
+0002f340: 3d60 4661 6c73 6560 290d 0a0d 0a60 7365  =`False`)....`se
+0002f350: 7475 7060 2063 616e 2062 6520 7573 6564  tup` can be used
+0002f360: 2074 6f20 7365 7420 7570 2074 6865 2067   to set up the g
+0002f370: 6976 656e 2073 7461 7465 206f 626a 6563  iven state objec
+0002f380: 7420 7769 7468 2074 6865 2067 6976 656e  t with the given
+0002f390: 2063 6f6d 6d61 6e64 2d6c 696e 6520 666c   command-line fl
+0002f3a0: 6167 732e 2049 6620 5f73 7461 7465 5f20  ags. If _state_ 
+0002f3b0: 6973 2060 4661 6c73 6560 2c20 7468 6520  is `False`, the 
+0002f3c0: 676c 6f62 616c 2073 7461 7465 206f 626a  global state obj
+0002f3d0: 6563 7420 6973 2075 7365 642e 0d0a 0d0a  ect is used.....
+0002f3e0: 5468 6520 706f 7373 6962 6c65 2076 616c  The possible val
+0002f3f0: 7565 7320 666f 7220 6561 6368 2066 6c61  ues for each fla
+0002f400: 6720 6172 6775 6d65 6e74 2061 7265 3a0d  g argument are:.
+0002f410: 0a0d 0a2d 205f 7461 7267 6574 5f3a 2060  ...- _target_: `
+0002f420: 4e6f 6e65 6020 2864 6566 6175 6c74 292c  None` (default),
+0002f430: 206f 7220 616e 7920 5b61 6c6c 6f77 6162   or any [allowab
+0002f440: 6c65 2074 6172 6765 745d 2823 616c 6c6f  le target](#allo
+0002f450: 7761 626c 652d 7461 7267 6574 7329 0d0a  wable-targets)..
+0002f460: 2d20 5f73 7472 6963 745f 3a20 6046 616c  - _strict_: `Fal
+0002f470: 7365 6020 2864 6566 6175 6c74 2920 6f72  se` (default) or
+0002f480: 2060 5472 7565 600d 0a2d 205f 6d69 6e69   `True`..- _mini
+0002f490: 6679 5f3a 2060 4661 6c73 6560 2028 6465  fy_: `False` (de
+0002f4a0: 6661 756c 7429 206f 7220 6054 7275 6560  fault) or `True`
+0002f4b0: 0d0a 2d20 5f6c 696e 655c 5f6e 756d 6265  ..- _line\_numbe
+0002f4c0: 7273 5f3a 2060 4661 6c73 6560 2028 6465  rs_: `False` (de
+0002f4d0: 6661 756c 7429 206f 7220 6054 7275 6560  fault) or `True`
+0002f4e0: 0d0a 2d20 5f6b 6565 705c 5f6c 696e 6573  ..- _keep\_lines
+0002f4f0: 5f3a 2060 4661 6c73 6560 2028 6465 6661  _: `False` (defa
+0002f500: 756c 7429 206f 7220 6054 7275 6560 0d0a  ult) or `True`..
+0002f510: 2d20 5f6e 6f5c 5f74 636f 5f3a 2060 4661  - _no\_tco_: `Fa
+0002f520: 6c73 6560 2028 6465 6661 756c 7429 206f  lse` (default) o
+0002f530: 7220 6054 7275 6560 0d0a 2d20 5f6e 6f5c  r `True`..- _no\
+0002f540: 5f77 7261 705f 3a20 6046 616c 7365 6020  _wrap_: `False` 
+0002f550: 2864 6566 6175 6c74 2920 6f72 2060 5472  (default) or `Tr
+0002f560: 7565 600d 0a0d 0a23 2323 2320 6063 6d64  ue`....#### `cmd
+0002f570: 600d 0a0d 0a2a 2a63 6f63 6f6e 7574 2e63  `....**coconut.c
+0002f580: 6f6e 7665 6e69 656e 6365 2e63 6d64 2a2a  onvenience.cmd**
+0002f590: 285f 6172 6773 5f3d 604e 6f6e 6560 2c20  (_args_=`None`, 
+0002f5a0: 2a2c 205f 6172 6776 5f3d 604e 6f6e 6560  *, _argv_=`None`
+0002f5b0: 2c20 5f69 6e74 6572 6163 745f 3d60 4661  , _interact_=`Fa
+0002f5c0: 6c73 6560 2c20 5f64 6566 6175 6c74 5c5f  lse`, _default\_
+0002f5d0: 7461 7267 6574 5f3d 604e 6f6e 6560 2c20  target_=`None`, 
+0002f5e0: 5f73 7461 7465 5f3d 6046 616c 7365 6029  _state_=`False`)
+0002f5f0: 0d0a 0d0a 4578 6563 7574 6573 2074 6865  ....Executes the
+0002f600: 2067 6976 656e 205f 6172 6773 5f20 6173   given _args_ as
+0002f610: 2069 6620 7468 6579 2077 6572 6520 6665   if they were fe
+0002f620: 6420 746f 2060 636f 636f 6e75 7460 206f  d to `coconut` o
+0002f630: 6e20 7468 6520 636f 6d6d 616e 642d 6c69  n the command-li
+0002f640: 6e65 2c20 7769 7468 2074 6865 2065 7863  ne, with the exc
+0002f650: 6570 7469 6f6e 2074 6861 7420 756e 6c65  eption that unle
+0002f660: 7373 205f 696e 7465 7261 6374 5f20 6973  ss _interact_ is
+0002f670: 2074 7275 6520 6f72 2060 2d69 6020 6973   true or `-i` is
+0002f680: 2070 6173 7365 642c 2074 6865 2069 6e74   passed, the int
+0002f690: 6572 7072 6574 6572 2077 696c 6c20 6e6f  erpreter will no
+0002f6a0: 7420 6265 2073 7461 7274 6564 2e20 4164  t be started. Ad
+0002f6b0: 6469 7469 6f6e 616c 6c79 2c20 5f61 7267  ditionally, _arg
+0002f6c0: 765f 2063 616e 2062 6520 7573 6564 2074  v_ can be used t
+0002f6d0: 6f20 7061 7373 2069 6e20 6172 6775 6d65  o pass in argume
+0002f6e0: 6e74 7320 6173 2069 6e20 602d 2d61 7267  nts as in `--arg
+0002f6f0: 7660 2061 6e64 205f 6465 6661 756c 745c  v` and _default\
+0002f700: 5f74 6172 6765 745f 2063 616e 2062 6520  _target_ can be 
+0002f710: 7573 6564 2074 6f20 7365 7420 7468 6520  used to set the 
+0002f720: 6465 6661 756c 7420 602d 2d74 6172 6765  default `--targe
+0002f730: 7460 2e0d 0a0d 0a48 6173 2074 6865 2073  t`.....Has the s
+0002f740: 616d 6520 6566 6665 6374 206f 6620 7365  ame effect of se
+0002f750: 7474 696e 6720 7468 6520 636f 6d6d 616e  tting the comman
+0002f760: 642d 6c69 6e65 2066 6c61 6773 206f 6e20  d-line flags on 
+0002f770: 7468 6520 6769 7665 6e20 5f73 7461 7465  the given _state
+0002f780: 5f20 6f62 6a65 6374 2061 7320 6073 6574  _ object as `set
+0002f790: 7570 6020 2877 6974 6820 7468 6520 676c  up` (with the gl
+0002f7a0: 6f62 616c 2060 7374 6174 6560 206f 626a  obal `state` obj
+0002f7b0: 6563 7420 7573 6564 2077 6865 6e20 5f73  ect used when _s
+0002f7c0: 7461 7465 5f20 6973 2060 4661 6c73 6560  tate_ is `False`
+0002f7d0: 292e 0d0a 0d0a 2323 2323 2060 636f 636f  ).....#### `coco
+0002f7e0: 6e75 745f 6576 616c 600d 0a0d 0a2a 2a63  nut_eval`....**c
+0002f7f0: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
+0002f800: 6365 2e63 6f63 6f6e 7574 5f65 7661 6c2a  ce.coconut_eval*
+0002f810: 2a28 5f65 7870 7265 7373 696f 6e5f 2c20  *(_expression_, 
+0002f820: 5f67 6c6f 6261 6c73 5f3d 604e 6f6e 6560  _globals_=`None`
+0002f830: 2c20 5f6c 6f63 616c 735f 3d60 4e6f 6e65  , _locals_=`None
+0002f840: 602c 205f 7374 6174 655f 3d60 4661 6c73  `, _state_=`Fals
+0002f850: 6560 2c20 5f6b 6565 705c 5f69 6e74 6572  e`, _keep\_inter
+0002f860: 6e61 6c5c 5f73 7461 7465 5f3d 604e 6f6e  nal\_state_=`Non
+0002f870: 6560 290d 0a0d 0a56 6572 7369 6f6e 206f  e`)....Version o
+0002f880: 6620 5b60 6576 616c 605d 2868 7474 7073  f [`eval`](https
+0002f890: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+0002f8a0: 7267 2f33 2f6c 6962 7261 7279 2f66 756e  rg/3/library/fun
+0002f8b0: 6374 696f 6e73 2e68 746d 6c23 6576 616c  ctions.html#eval
+0002f8c0: 2920 7768 6963 6820 6361 6e20 6576 616c  ) which can eval
+0002f8d0: 7561 7465 2043 6f63 6f6e 7574 2063 6f64  uate Coconut cod
+0002f8e0: 652e 0d0a 0d0a 2323 2323 2060 7665 7273  e.....#### `vers
+0002f8f0: 696f 6e60 0d0a 0d0a 2a2a 636f 636f 6e75  ion`....**coconu
+0002f900: 742e 636f 6e76 656e 6965 6e63 652e 7665  t.convenience.ve
+0002f910: 7273 696f 6e2a 2a28 2a2a 5b2a 2a5f 7768  rsion**(**[**_wh
+0002f920: 6963 685f 2a2a 5d2a 2a29 0d0a 0d0a 5265  ich_**]**)....Re
+0002f930: 7472 6965 7665 7320 6120 7374 7269 6e67  trieves a string
+0002f940: 2063 6f6e 7461 696e 696e 6720 696e 666f   containing info
+0002f950: 726d 6174 696f 6e20 6162 6f75 7420 7468  rmation about th
+0002f960: 6520 436f 636f 6e75 7420 7665 7273 696f  e Coconut versio
+0002f970: 6e2e 2054 6865 206f 7074 696f 6e61 6c20  n. The optional 
+0002f980: 6172 6775 6d65 6e74 205f 7768 6963 685f  argument _which_
+0002f990: 2069 7320 7468 6520 7479 7065 206f 6620   is the type of 
+0002f9a0: 7665 7273 696f 6e20 696e 666f 726d 6174  version informat
+0002f9b0: 696f 6e20 6465 7369 7265 642e 2050 6f73  ion desired. Pos
+0002f9c0: 7369 626c 6520 7661 6c75 6573 206f 6620  sible values of 
+0002f9d0: 5f77 6869 6368 5f20 6172 653a 0d0a 0d0a  _which_ are:....
+0002f9e0: 2d20 6022 6e75 6d22 603a 2074 6865 206e  - `"num"`: the n
+0002f9f0: 756d 6572 6963 616c 2076 6572 7369 6f6e  umerical version
+0002fa00: 2028 7468 6520 6465 6661 756c 7429 0d0a   (the default)..
+0002fa10: 2d20 6022 6e61 6d65 2260 3a20 7468 6520  - `"name"`: the 
+0002fa20: 7665 7273 696f 6e20 636f 6465 6e61 6d65  version codename
+0002fa30: 0d0a 2d20 6022 7370 6563 2260 3a20 7468  ..- `"spec"`: th
+0002fa40: 6520 6e75 6d65 7269 6361 6c20 7665 7273  e numerical vers
+0002fa50: 696f 6e20 7769 7468 2074 6865 2063 6f64  ion with the cod
+0002fa60: 656e 616d 6520 6174 7461 6368 6564 0d0a  ename attached..
+0002fa70: 2d20 6022 7461 6722 603a 2074 6865 2076  - `"tag"`: the v
+0002fa80: 6572 7369 6f6e 2074 6167 2075 7365 6420  ersion tag used 
+0002fa90: 696e 2047 6974 4875 6220 616e 6420 646f  in GitHub and do
+0002faa0: 6375 6d65 6e74 6174 696f 6e20 5552 4c73  cumentation URLs
+0002fab0: 0d0a 2d20 6022 2d76 2260 3a20 7468 6520  ..- `"-v"`: the 
+0002fac0: 6675 6c6c 2073 7472 696e 6720 7072 696e  full string prin
+0002fad0: 7465 6420 6279 2060 636f 636f 6e75 7420  ted by `coconut 
+0002fae0: 2d76 600d 0a0d 0a23 2323 2320 6061 7574  -v`....#### `aut
+0002faf0: 6f5f 636f 6d70 696c 6174 696f 6e60 0d0a  o_compilation`..
+0002fb00: 0d0a 2a2a 636f 636f 6e75 742e 636f 6e76  ..**coconut.conv
+0002fb10: 656e 6965 6e63 652e 6175 746f 5f63 6f6d  enience.auto_com
+0002fb20: 7069 6c61 7469 6f6e 2a2a 285f 6f6e 5f3d  pilation**(_on_=
+0002fb30: 6054 7275 6560 290d 0a0d 0a54 7572 6e73  `True`)....Turns
+0002fb40: 205b 6175 746f 6d61 7469 6320 636f 6d70   [automatic comp
+0002fb50: 696c 6174 696f 6e5d 2823 6175 746f 6d61  ilation](#automa
+0002fb60: 7469 632d 636f 6d70 696c 6174 696f 6e29  tic-compilation)
+0002fb70: 206f 6e20 6f72 206f 6666 2e20 5468 6973   on or off. This
+0002fb80: 2066 756e 6374 696f 6e20 6973 2063 616c   function is cal
+0002fb90: 6c65 6420 6175 746f 6d61 7469 6361 6c6c  led automaticall
+0002fba0: 7920 7768 656e 2060 636f 636f 6e75 742e  y when `coconut.
+0002fbb0: 636f 6e76 656e 6965 6e63 6560 2069 7320  convenience` is 
+0002fbc0: 696d 706f 7274 6564 2e0d 0a0d 0a23 2323  imported.....###
+0002fbd0: 2320 6075 7365 5f63 6f63 6f6e 7574 5f62  # `use_coconut_b
+0002fbe0: 7265 616b 706f 696e 7460 0d0a 0d0a 2a2a  reakpoint`....**
+0002fbf0: 636f 636f 6e75 742e 636f 6e76 656e 6965  coconut.convenie
+0002fc00: 6e63 652e 7573 655f 636f 636f 6e75 745f  nce.use_coconut_
+0002fc10: 6272 6561 6b70 6f69 6e74 2a2a 285f 6f6e  breakpoint**(_on
+0002fc20: 5f3d 6054 7275 6560 290d 0a0d 0a53 7769  _=`True`)....Swi
+0002fc30: 7463 6865 7320 7468 6520 5b60 6272 6561  tches the [`brea
+0002fc40: 6b70 6f69 6e74 6020 6275 696c 742d 696e  kpoint` built-in
+0002fc50: 5d28 6874 7470 733a 2f2f 7777 772e 7079  ](https://www.py
+0002fc60: 7468 6f6e 2e6f 7267 2f64 6576 2f70 6570  thon.org/dev/pep
+0002fc70: 732f 7065 702d 3035 3533 2f29 2077 6869  s/pep-0553/) whi
+0002fc80: 6368 2043 6f63 6f6e 7574 206d 616b 6573  ch Coconut makes
+0002fc90: 2075 6e69 7665 7273 616c 6c79 2061 7661   universally ava
+0002fca0: 696c 6162 6c65 2074 6f20 7573 6520 5b60  ilable to use [`
+0002fcb0: 636f 636f 6e75 742e 656d 6265 6460 5d28  coconut.embed`](
+0002fcc0: 2363 6f63 6f6e 7574 2d65 6d62 6564 2920  #coconut-embed) 
+0002fcd0: 696e 7374 6561 6420 6f66 205b 6070 6462  instead of [`pdb
+0002fce0: 2e73 6574 5f74 7261 6365 605d 2868 7474  .set_trace`](htt
+0002fcf0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+0002fd00: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f70  .org/3/library/p
+0002fd10: 6462 2e68 746d 6c23 7064 622e 7365 745f  db.html#pdb.set_
+0002fd20: 7472 6163 6529 2028 6f72 2075 6e64 6f65  trace) (or undoe
+0002fd30: 7320 7468 6174 2073 7769 7463 6820 6966  s that switch if
+0002fd40: 2060 6f6e 3d46 616c 7365 6029 2e20 5468   `on=False`). Th
+0002fd50: 6973 2066 756e 6374 696f 6e20 6973 2063  is function is c
+0002fd60: 616c 6c65 6420 6175 746f 6d61 7469 6361  alled automatica
+0002fd70: 6c6c 7920 7768 656e 2060 636f 636f 6e75  lly when `coconu
+0002fd80: 742e 636f 6e76 656e 6965 6e63 6560 2069  t.convenience` i
+0002fd90: 7320 696d 706f 7274 6564 2e0d 0a0d 0a23  s imported.....#
+0002fda0: 2323 2320 6043 6f63 6f6e 7574 4578 6365  ### `CoconutExce
+0002fdb0: 7074 696f 6e60 0d0a 0d0a 4966 2061 6e20  ption`....If an 
+0002fdc0: 6572 726f 7220 6973 2065 6e63 6f75 6e74  error is encount
+0002fdd0: 6572 6564 2069 6e20 6120 636f 6e76 656e  ered in a conven
+0002fde0: 6965 6e63 6520 6675 6e63 7469 6f6e 2c20  ience function, 
+0002fdf0: 6120 6043 6f63 6f6e 7574 4578 6365 7074  a `CoconutExcept
+0002fe00: 696f 6e60 2069 6e73 7461 6e63 6520 6d61  ion` instance ma
+0002fe10: 7920 6265 2072 6169 7365 642e 2060 636f  y be raised. `co
+0002fe20: 636f 6e75 742e 636f 6e76 656e 6965 6e63  conut.convenienc
+0002fe30: 652e 436f 636f 6e75 7445 7863 6570 7469  e.CoconutExcepti
+0002fe40: 6f6e 6020 6973 2070 726f 7669 6465 6420  on` is provided 
+0002fe50: 746f 2061 6c6c 6f77 2063 6174 6368 696e  to allow catchin
+0002fe60: 6720 7375 6368 2065 7272 6f72 732e 0d0a  g such errors...
+0002fe70: 0d0a 2323 2320 6063 6f63 6f6e 7574 2e5f  ..### `coconut._
+0002fe80: 5f63 6f63 6f6e 7574 5f5f 600d 0a0d 0a49  _coconut__`....I
+0002fe90: 7420 6973 2073 6f6d 6574 696d 6573 2075  t is sometimes u
+0002fea0: 7365 6675 6c20 746f 2062 6520 6162 6c65  seful to be able
+0002feb0: 2074 6f20 6163 6365 7373 2043 6f63 6f6e   to access Cocon
+0002fec0: 7574 2062 7569 6c74 2d69 6e73 2066 726f  ut built-ins fro
+0002fed0: 6d20 7075 7265 2050 7974 686f 6e2e 2054  m pure Python. T
+0002fee0: 6f20 6163 636f 6d70 6c69 7368 2074 6869  o accomplish thi
+0002fef0: 732c 2043 6f63 6f6e 7574 2070 726f 7669  s, Coconut provi
+0002ff00: 6465 7320 6063 6f63 6f6e 7574 2e5f 5f63  des `coconut.__c
+0002ff10: 6f63 6f6e 7574 5f5f 602c 2077 6869 6368  oconut__`, which
+0002ff20: 2062 6568 6176 6573 2065 7861 6374 6c79   behaves exactly
+0002ff30: 206c 696b 6520 7468 6520 605f 5f63 6f63   like the `__coc
+0002ff40: 6f6e 7574 5f5f 2e70 7960 2068 6561 6465  onut__.py` heade
+0002ff50: 7220 6669 6c65 2069 6e63 6c75 6465 6420  r file included 
+0002ff60: 7768 656e 2043 6f63 6f6e 7574 2069 7320  when Coconut is 
+0002ff70: 636f 6d70 696c 6564 2069 6e20 7061 636b  compiled in pack
+0002ff80: 6167 6520 6d6f 6465 2e0d 0a0d 0a41 6c6c  age mode.....All
+0002ff90: 2043 6f63 6f6e 7574 2062 7569 6c74 2d69   Coconut built-i
+0002ffa0: 6e73 2061 7265 2061 6363 6573 7369 626c  ns are accessibl
+0002ffb0: 6520 6672 6f6d 2060 636f 636f 6e75 742e  e from `coconut.
+0002ffc0: 5f5f 636f 636f 6e75 745f 5f60 2e20 5468  __coconut__`. Th
+0002ffd0: 6520 7265 636f 6d6d 656e 6465 6420 7761  e recommended wa
+0002ffe0: 7920 746f 2069 6d70 6f72 7420 7468 656d  y to import them
+0002fff0: 2069 7320 746f 2075 7365 2060 6672 6f6d   is to use `from
+00030000: 2063 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e   coconut.__cocon
+00030010: 7574 5f5f 2069 6d70 6f72 7460 2061 6e64  ut__ import` and
+00030020: 2069 6d70 6f72 7420 7768 6174 6576 6572   import whatever
+00030030: 2062 7569 6c74 2d69 6e73 2079 6f75 276c   built-ins you'l
+00030040: 6c20 6265 2075 7369 6e67 2e0d 0a0d 0a23  l be using.....#
+00030050: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+00030060: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00030070: 6e0d 0a66 726f 6d20 636f 636f 6e75 742e  n..from coconut.
+00030080: 5f5f 636f 636f 6e75 745f 5f20 696d 706f  __coconut__ impo
+00030090: 7274 2070 6172 616c 6c65 6c5f 6d61 700d  rt parallel_map.
+000300a0: 0a60 6060 0d0a                           .```..
```

### Comparing `coconut-2.2.0/FAQ.md` & `coconut-3.0.0/FAQ.md`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/HELP.md` & `coconut-3.0.0/HELP.md`

 * *Files 0% similar despite different names*

```diff
@@ -1128,15 +1128,14 @@
 
 ### Implicit Partials
 
 Another useful Coconut feature is implicit partials. Coconut supports a number of different "incomplete" expressions that will evaluate to a function that takes in the part necessary to complete them, that is, an implicit partial application function. The different allowable expressions are:
 ```coconut
 .attr
 .method(args)
-obj.
 func$
 seq[]
 iter$[]
 .[slice]
 .$[slice]
 ```
```

### Comparing `coconut-2.2.0/LICENSE.txt` & `coconut-3.0.0/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/PKG-INFO` & `coconut-3.0.0/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,17 +1,16 @@
 Metadata-Version: 2.1
 Name: coconut
-Version: 2.2.0
+Version: 3.0.0
 Summary: Simple, elegant, Pythonic functional programming.
 Home-page: http://coconut-lang.org
 Author: Evan Hubinger
 Author-email: evanjhub@gmail.com
 License: Apache 2.0
-Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,py_chr,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,async,await,data,match,case,cases,where,addpattern,then,operator,type,
-Platform: UNKNOWN
+Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,py_chr,py_dict,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,data,match,case,cases,where,addpattern,then,operator,type,copyclosure,
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Intended Audience :: Developers
 Classifier: Topic :: Software Development
 Classifier: Topic :: Software Development :: Code Generators
 Classifier: Topic :: Software Development :: Compilers
 Classifier: Topic :: Software Development :: Interpreters
@@ -39,15 +38,14 @@
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 Classifier: Framework :: IPython
 Classifier: Framework :: Jupyter
 Classifier: Typing :: Typed
 Provides-Extra: kernel
 Provides-Extra: watch
-Provides-Extra: jobs
 Provides-Extra: mypy
 Provides-Extra: backports
 Provides-Extra: xonsh
 Provides-Extra: jupyter
 Provides-Extra: all
 Provides-Extra: ipython
 Provides-Extra: docs
@@ -133,9 +131,7 @@
 Support Coconut by becoming a sponsor. Your logo will show up here with a link to your website. `Become a sponsor`__.
 
 .. image:: https://opencollective.com/XX/sponsor/0/avatar.svg
     :target: https://opencollective.com/coconut/sponsor/0/website
 
 __ Sponsor_
 .. _Sponsor: https://opencollective.com/coconut#sponsor
-
-
```

### Comparing `coconut-2.2.0/README.rst` & `coconut-3.0.0/README.rst`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/__coconut__/__init__.py` & `coconut-3.0.0/__coconut__/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/__coconut__/__init__.pyi` & `coconut-3.0.0/__coconut__/__init__.pyi`

 * *Files 5% similar despite different names*

```diff
@@ -4,44 +4,17 @@
 
 """
 Author: Evan Hubinger
 License: Apache 2.0
 Description: MyPy stub file for __coconut__.py.
 """
 
-# -----------------------------------------------------------------------------------------------------------------------
-# IMPORTS:
-# -----------------------------------------------------------------------------------------------------------------------
-
 import sys
 import typing as _t
 
-if sys.version_info >= (3, 11):
-    from typing import dataclass_transform as _dataclass_transform
-else:
-    try:
-        from typing_extensions import dataclass_transform as _dataclass_transform
-    except ImportError:
-        dataclass_transform = ...
-
-import _coconut as __coconut  # we mock _coconut as a package since mypy doesn't handle namespace classes very well
-_coconut = __coconut
-
-if sys.version_info >= (3, 2):
-    from functools import lru_cache as _lru_cache
-else:
-    from backports.functools_lru_cache import lru_cache as _lru_cache  # `pip install -U coconut[mypy]` to fix errors on this line
-    _coconut.functools.lru_cache = _lru_cache  # type: ignore
-
-if sys.version_info >= (3, 7):
-    from dataclasses import dataclass as _dataclass
-else:
-    @_dataclass_transform()
-    def _dataclass(cls: type[_T], **kwargs: _t.Any) -> type[_T]: ...
-
 # -----------------------------------------------------------------------------------------------------------------------
 # TYPE VARS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 _Callable = _t.Callable[..., _t.Any]
 _Iterable = _t.Iterable[_t.Any]
 _Tuple = _t.Tuple[_t.Any, ...]
@@ -78,14 +51,48 @@
 _T_iter_func = _t.TypeVar("_T_iter_func", bound=_t.Callable[..., _Iterable])
 
 _P = _t.ParamSpec("_P")
 
 class _SupportsIndex(_t.Protocol):
     def __index__(self) -> int: ...
 
+
+# -----------------------------------------------------------------------------------------------------------------------
+# IMPORTS:
+# -----------------------------------------------------------------------------------------------------------------------
+
+if sys.version_info >= (3, 11):
+    from typing import dataclass_transform as _dataclass_transform
+else:
+    try:
+        from typing_extensions import dataclass_transform as _dataclass_transform
+    except ImportError:
+        dataclass_transform = ...
+
+import _coconut as __coconut  # we mock _coconut as a package since mypy doesn't handle namespace classes very well
+_coconut = __coconut
+
+if sys.version_info >= (3, 2):
+    from functools import lru_cache as _lru_cache
+else:
+    from backports.functools_lru_cache import lru_cache as _lru_cache  # `pip install -U coconut[mypy]` to fix errors on this line
+    _coconut.functools.lru_cache = _lru_cache  # type: ignore
+
+if sys.version_info >= (3, 7):
+    from dataclasses import dataclass as _dataclass
+else:
+    @_dataclass_transform()
+    def _dataclass(cls: t_coype[_T], **kwargs: _t.Any) -> type[_T]: ...
+
+try:
+    from typing_extensions import deprecated as _deprecated  # type: ignore
+except ImportError:
+    def _deprecated(message: _t.Text) -> _t.Callable[[_T], _T]: ...  # type: ignore
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # STUB:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if sys.version_info < (3,):
     from future_builtins import *
     from io import open
@@ -122,14 +129,15 @@
     _coconut_exec = exec
 
 if sys.version_info < (3, 7):
     def breakpoint(*args: _t.Any, **kwargs: _t.Any) -> _t.Any: ...
 
 
 py_chr = chr
+py_dict = dict
 py_hex = hex
 py_input = input
 py_int = int
 py_map = map
 py_object = object
 py_oct = oct
 py_open = open
@@ -206,15 +214,15 @@
 def _coconut_get_function_match_error() -> _t.Type[MatchError]: ...
 
 
 def _coconut_tco(func: _Tfunc) -> _Tfunc:
     return func
 
 
-# any changes here should also be made to safe_call below
+# any changes here should also be made to safe_call and call_or_coefficient below
 @_t.overload
 def call(
     _func: _t.Callable[[_T], _U],
     _x: _T,
 ) -> _U: ...
 @_t.overload
 def call(
@@ -300,14 +308,15 @@
     def __iter__(self) -> _t.Iterator[_T | BaseException | None]: ...
     @_t.overload
     def __getitem__(self, index: _SupportsIndex) -> _T | BaseException | None: ...
     @_t.overload
     def __getitem__(self, index: slice) -> _t.Tuple[_T | BaseException | None, ...]: ...
     def and_then(self, func: _t.Callable[[_T], Expected[_U]]) -> Expected[_U]: ...
     def join(self: Expected[Expected[_T]]) -> Expected[_T]: ...
+    def map_error(self, func: _t.Callable[[BaseException], BaseException]) -> Expected[_T]: ...
     def or_else(self, func: _t.Callable[[BaseException], Expected[_U]]) -> Expected[_T | _U]: ...
     def result_or(self, default: _U) -> _T | _U: ...
     def result_or_else(self, func: _t.Callable[[BaseException], _U]) -> _T | _U: ...
     def unwrap(self) -> _T: ...
 
 _coconut_Expected = Expected
 
@@ -359,14 +368,66 @@
 def safe_call(
     _func: _t.Callable[..., _T],
     *args: _t.Any,
     **kwargs: _t.Any,
 ) -> Expected[_T]: ...
 
 
+# based on call above
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[[_T], _U],
+    _x: _T,
+) -> _U: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[[_T, _U], _V],
+    _x: _T,
+    _y: _U,
+) -> _V: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[[_T, _U, _V], _W],
+    _x: _T,
+    _y: _U,
+    _z: _V,
+) -> _W: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[_t.Concatenate[_T, _P], _U],
+    _x: _T,
+    *args: _t.Any,
+) -> _U: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[_t.Concatenate[_T, _U, _P], _V],
+    _x: _T,
+    _y: _U,
+    *args: _t.Any,
+) -> _V: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[_t.Concatenate[_T, _U, _V, _P], _W],
+    _x: _T,
+    _y: _U,
+    _z: _V,
+    *args: _t.Any,
+) -> _W: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _t.Callable[..., _T],
+    *args: _t.Any,
+) -> _T: ...
+@_t.overload
+def _coconut_call_or_coefficient(
+    _func: _T,
+    *args: _T,
+) -> _T: ...
+
+
 def recursive_iterator(func: _T_iter_func) -> _T_iter_func:
     return func
 
 
 try:
     from typing_extensions import override as _override  # type: ignore
     override = _override
@@ -408,14 +469,15 @@
 ) -> _t.Callable[..., _T | _U]: ...
 @_t.overload
 def addpattern(
     base_func: _Callable,
     *add_funcs: _Callable,
     allow_any_func: bool=False,
 ) -> _t.Callable[..., _t.Any]: ...
+
 _coconut_addpattern = prepattern = addpattern
 
 
 def _coconut_mark_as_match(func: _Tfunc) -> _Tfunc:
     return func
 
 
@@ -808,14 +870,18 @@
 def _coconut_bool_or(a: None, b: _T) -> _T: ...
 @_t.overload
 def _coconut_bool_or(a: _t.Literal[False], b: _T) -> _T: ...
 @_t.overload
 def _coconut_bool_or(a: _T, b: _U) -> _t.Union[_T, _U]: ...
 
 
+def _coconut_in(a: _T, b: _t.Sequence[_T]) -> bool: ...
+_coconut_not_in = _coconut_in
+
+
 @_t.overload
 def _coconut_none_coalesce(a: _T, b: None) -> _T: ...
 @_t.overload
 def _coconut_none_coalesce(a: None, b: _T) -> _T: ...
 @_t.overload
 def _coconut_none_coalesce(a: _T, b: _U) -> _t.Union[_T, _U]: ...
 
@@ -953,14 +1019,15 @@
     def count(self, elem: _T) -> int: ...
     def index(self, elem: _T) -> int: ...
     def __fmap__(self, func: _t.Callable[[_T], _U]) -> flatten[_U]: ...
 _coconut_flatten = flatten
 
 
 def makedata(data_type: _t.Type[_T], *args: _t.Any) -> _T: ...
+@_deprecated("use makedata instead")
 def datamaker(data_type: _t.Type[_T]) -> _t.Callable[..., _T]:
     return _coconut.functools.partial(makedata, data_type)
 
 
 def consume(
     iterable: _t.Iterable[_T],
     keep_last: _t.Optional[int] = ...,
@@ -981,18 +1048,18 @@
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Tuple[_T, ...]) -> _t.Tuple[_U, ...]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Iterator[_T]) -> _t.Iterator[_U]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Set[_T]) -> _t.Set[_U]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.AsyncIterable[_T]) -> _t.AsyncIterable[_U]: ...
-@_t.overload
-def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U]) -> _t.Dict[_V, _W]: ...
-@_t.overload
-def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U]) -> _t.Mapping[_V, _W]: ...
+# @_t.overload
+# def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U]) -> _t.Dict[_V, _W]: ...
+# @_t.overload
+# def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U]) -> _t.Mapping[_V, _W]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T, _U], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U], starmap_over_mappings: _t.Literal[True]) -> _t.Dict[_V, _W]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T, _U], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U], starmap_over_mappings: _t.Literal[True]) -> _t.Mapping[_V, _W]: ...
 
 
 def _coconut_handle_cls_kwargs(**kwargs: _t.Dict[_t.Text, _t.Any]) -> _t.Callable[[_T], _T]: ...
@@ -1038,24 +1105,24 @@
 # lift(_T -> _W)
 class _coconut_lifted_1(_t.Generic[_T, _W]):
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
     ) -> _t.Callable[_P, _W]: ...
     # @_t.overload
     # def __call__(
@@ -1072,26 +1139,26 @@
 class _coconut_lifted_2(_t.Generic[_T, _U, _W]):
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     #     _h: _t.Callable[[_X], _U],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-        _h: _t.Callable[[_X, _Y], _U],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-        _h: _t.Callable[[_X, _Y, _Z], _U],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    #     _h: _t.Callable[[_X, _Y], _U],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    #     _h: _t.Callable[[_X, _Y, _Z], _U],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
         _h: _t.Callable[_P, _U],
     ) -> _t.Callable[_P, _W]: ...
     # @_t.overload
@@ -1112,28 +1179,28 @@
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     #     _h: _t.Callable[[_X], _U],
     #     _i: _t.Callable[[_X], _V],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-        _h: _t.Callable[[_X, _Y], _U],
-        _i: _t.Callable[[_X, _Y], _V],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-        _h: _t.Callable[[_X, _Y, _Z], _U],
-        _i: _t.Callable[[_X, _Y, _Z], _V],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    #     _h: _t.Callable[[_X, _Y], _U],
+    #     _i: _t.Callable[[_X, _Y], _V],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    #     _h: _t.Callable[[_X, _Y, _Z], _U],
+    #     _i: _t.Callable[[_X, _Y, _Z], _V],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
         _h: _t.Callable[_P, _U],
         _i: _t.Callable[_P, _V],
     ) -> _t.Callable[_P, _W]: ...
@@ -1263,7 +1330,66 @@
 def _coconut_multi_dim_arr(
     arrs: _t.Tuple[_T, ...],
     dim: _t.Literal[2],
 ) -> _t.Sequence[_t.Sequence[_T]]: ...
 
 @_t.overload
 def _coconut_multi_dim_arr(arrs: _Tuple, dim: int) -> _Sequence: ...
+
+
+class _coconut_SupportsAdd(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __add__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMinus(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __sub__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+    def __neg__(self: _Tco) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMul(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __mul__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsPow(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __pow__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsTruediv(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __truediv__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsFloordiv(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __floordiv__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMod(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __mod__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsAnd(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __and__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsXor(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __xor__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsOr(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __or__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsLshift(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __lshift__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsRshift(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __rshift__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMatmul(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __matmul__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsInv(_t.Protocol, _t.Generic[_Tco, _Vco]):
+    def __invert__(self: _Tco) -> _Vco:
+        raise NotImplementedError
```

### Comparing `coconut-2.2.0/_coconut/__init__.py` & `coconut-3.0.0/_coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/_coconut/__init__.pyi` & `coconut-3.0.0/_coconut/__init__.pyi`

 * *Files 16% similar despite different names*

```diff
@@ -56,40 +56,54 @@
     import numpy.typing as _npt  # type: ignore
 except ImportError:
     _numpy = ...
     _npt = ...
 else:
     _abc.Sequence.register(_numpy.ndarray)
 
+# -----------------------------------------------------------------------------------------------------------------------
+# TYPING:
+# -----------------------------------------------------------------------------------------------------------------------
+
+typing = _t
+
+from typing_extensions import TypeVar
+typing.TypeVar = TypeVar  # type: ignore
+
+if sys.version_info < (3, 8):
+    try:
+        from typing_extensions import Protocol
+    except ImportError:
+        Protocol = ...  # type: ignore
+    typing.Protocol = Protocol  # type: ignore
+
 if sys.version_info < (3, 10):
     try:
         from typing_extensions import TypeAlias, ParamSpec, Concatenate
     except ImportError:
-        TypeAlias = ...
-        ParamSpec = ...
-    typing.TypeAlias = TypeAlias
-    typing.ParamSpec = ParamSpec
-    typing.Concatenate = Concatenate
-
+        TypeAlias = ...  # type: ignore
+        ParamSpec = ...  # type: ignore
+        Concatenate = ...  # type: ignore
+    typing.TypeAlias = TypeAlias  # type: ignore
+    typing.ParamSpec = ParamSpec  # type: ignore
+    typing.Concatenate = Concatenate  # type: ignore
 
 if sys.version_info < (3, 11):
     try:
         from typing_extensions import TypeVarTuple, Unpack
     except ImportError:
-        TypeVarTuple = ...
-        Unpack = ...
-    typing.TypeVarTuple = TypeVarTuple
-    typing.Unpack = Unpack
+        TypeVarTuple = ...  # type: ignore
+        Unpack = ...  # type: ignore
+    typing.TypeVarTuple = TypeVarTuple  # type: ignore
+    typing.Unpack = Unpack  # type: ignore
 
 # -----------------------------------------------------------------------------------------------------------------------
 # STUB:
 # -----------------------------------------------------------------------------------------------------------------------
 
-typing = _t
-
 collections = _collections
 copy = _copy
 functools = _functools
 types = _types
 itertools = _itertools
 operator = _operator
 threading = _threading
@@ -104,21 +118,24 @@
 copyreg = _copyreg
 asyncio = _asyncio
 pickle = _pickle
 if sys.version_info >= (2, 7):
     OrderedDict = collections.OrderedDict
 else:
     OrderedDict = dict
+
 abc = _abc
 abc.Sequence.register(collections.deque)
+
 numpy = _numpy
 npt = _npt  # Fake, like typing
 zip_longest = _zip_longest
 
 numpy_modules: _t.Any = ...
+pandas_numpy_modules: _t.Any = ...
 jax_numpy_modules: _t.Any = ...
 tee_type: _t.Any = ...
 reiterables: _t.Any = ...
 
 Ellipsis = Ellipsis
 NotImplemented = NotImplemented
 NotImplementedError = NotImplementedError
@@ -130,14 +147,15 @@
 NameError = NameError
 TypeError = TypeError
 ValueError = ValueError
 StopIteration = StopIteration
 RuntimeError = RuntimeError
 callable = callable
 classmethod = classmethod
+complex = complex
 all = all
 any = any
 bool = bool
 bytes = bytes
 dict = dict
 enumerate = enumerate
 filter = filter
@@ -150,14 +168,15 @@
 int = int
 isinstance = isinstance
 issubclass = issubclass
 iter = iter
 len: _t.Callable[..., int] = ...  # pattern-matching needs an untyped _coconut.len to avoid type errors
 list = list
 locals = locals
+globals = globals
 map = map
 min = min
 max = max
 next = next
 object = object
 print = print
 property = property
```

### Comparing `coconut-2.2.0/coconut/__coconut__.py` & `coconut-3.0.0/coconut/__coconut__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/__init__.py` & `coconut-3.0.0/coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/__init__.pyi` & `coconut-3.0.0/coconut/__init__.pyi`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/__main__.py` & `coconut-3.0.0/coconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/_pyparsing.py` & `coconut-3.0.0/coconut/_pyparsing.py`

 * *Files 2% similar despite different names*

```diff
@@ -24,25 +24,27 @@
 import traceback
 import functools
 import inspect
 from warnings import warn
 from collections import defaultdict
 
 from coconut.constants import (
-    PURE_PYTHON,
     PYPY,
+    PURE_PYTHON,
     use_fast_pyparsing_reprs,
     use_packrat_parser,
     packrat_cache_size,
     default_whitespace_chars,
     varchars,
     min_versions,
     pure_python_env_var,
     enable_pyparsing_warnings,
     use_left_recursion_if_available,
+    get_bool_env_var,
+    use_computation_graph_env_var,
 )
 from coconut.util import get_clock_time  # NOQA
 from coconut.util import (
     ver_str_to_tuple,
     ver_tuple_to_str,
     get_next_version,
 )
@@ -117,17 +119,20 @@
 
 if MODERN_PYPARSING:
     warn(
         "This version of Coconut is not built for pyparsing v3; some syntax features WILL NOT WORK"
         + " (run either '{python} -m pip install cPyparsing<{max_ver}' or '{python} -m pip install pyparsing<{max_ver}' to fix)".format(python=sys.executable, max_ver=max_ver_str),
     )
 
-USE_COMPUTATION_GRAPH = (
-    not MODERN_PYPARSING  # not yet supported
-    and not PYPY  # experimentally determined
+USE_COMPUTATION_GRAPH = get_bool_env_var(
+    use_computation_graph_env_var,
+    default=(
+        not MODERN_PYPARSING  # not yet supported
+        and not PYPY  # experimentally determined
+    ),
 )
 
 if enable_pyparsing_warnings:
     if MODERN_PYPARSING:
         _pyparsing.enable_all_warnings()
     else:
         _pyparsing._enable_all_warnings()
```

### Comparing `coconut-2.2.0/coconut/command/__init__.py` & `coconut-3.0.0/coconut/command/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/command/cli.py` & `coconut-3.0.0/coconut/command/cli.py`

 * *Files 4% similar despite different names*

```diff
@@ -30,14 +30,15 @@
     style_env_var,
     default_style,
     vi_mode_env_var,
     prompt_vi_mode,
     prompt_histfile,
     home_env_var,
     py_version_str,
+    default_jobs,
 )
 
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSION:
 # -----------------------------------------------------------------------------------------------------------------------
 
 cli_version = "Version " + VERSION_STR + " running on Python " + py_version_str + " and " + PYPARSING_INFO
@@ -162,15 +163,15 @@
 arguments.add_argument(
     "--no-tco", "--notco",
     action="store_true",
     help="disable tail call optimization",
 )
 
 arguments.add_argument(
-    "--no-wrap", "--nowrap",
+    "--no-wrap-types", "--nowraptypes",
     action="store_true",
     help="disable wrapping type annotations in strings and turn off 'from __future__ import annotations' behavior",
 )
 
 arguments.add_argument(
     "-c", "--code",
     metavar="code",
@@ -178,15 +179,15 @@
     help="run Coconut passed in as a string (can also be piped into stdin)",
 )
 
 arguments.add_argument(
     "-j", "--jobs",
     metavar="processes",
     type=str,
-    help="number of additional processes to use (defaults to 0) (pass 'sys' to use machine default)",
+    help="number of additional processes to use (defaults to " + ascii(default_jobs) + ") (0 is no additional processes; 'sys' uses machine default)",
 )
 
 arguments.add_argument(
     "-f", "--force",
     action="store_true",
     help="force re-compilation even when source code and compilation parameters haven't changed",
 )
@@ -251,15 +252,22 @@
     help="enable vi mode in the interpreter (currently set to " + ascii(prompt_vi_mode) + ") (can be modified by setting " + vi_mode_env_var + " environment variable)",
 )
 
 arguments.add_argument(
     "--recursion-limit", "--recursionlimit",
     metavar="limit",
     type=int,
-    help="set maximum recursion depth in compiler (defaults to " + str(default_recursion_limit) + ")",
+    help="set maximum recursion depth in compiler (defaults to " + ascii(default_recursion_limit) + ") (when increasing --recursion-limit, you may also need to increase --stack-size)",
+)
+
+arguments.add_argument(
+    "--stack-size", "--stacksize",
+    metavar="kbs",
+    type=int,
+    help="run the compiler in a separate thread with the given stack size in kilobytes",
 )
 
 arguments.add_argument(
     "--site-install", "--siteinstall",
     action="store_true",
     help="set up coconut.convenience to be imported on Python start",
 )
```

### Comparing `coconut-2.2.0/coconut/command/command.py` & `coconut-3.0.0/coconut/command/command.py`

 * *Files 6% similar despite different names*

```diff
@@ -62,14 +62,16 @@
     mypy_silent_non_err_prefixes,
     mypy_silent_err_prefixes,
     mypy_err_infixes,
     mypy_install_arg,
     mypy_builtin_regex,
     coconut_pth_file,
     error_color_code,
+    jupyter_console_commands,
+    default_jobs,
 )
 from coconut.util import (
     univ_open,
     ver_tuple_to_str,
     install_custom_kernel,
     get_clock_time,
     first_import_time,
@@ -89,14 +91,15 @@
     is_special_dir,
     launch_documentation,
     launch_tutorial,
     stdin_readable,
     set_recursion_limit,
     can_parse,
     invert_mypy_arg,
+    run_with_stack_size,
 )
 from coconut.compiler.util import (
     should_indent,
     get_target_info_smart,
 )
 from coconut.compiler.header import gethash
 from coconut.compiler.grammar import set_grammar_names
@@ -106,26 +109,33 @@
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class Command(object):
     """Coconut command-line interface."""
     comp = None  # current coconut.compiler.Compiler
-    show = False  # corresponds to --display flag
     runner = None  # the current Runner
-    jobs = 0  # corresponds to --jobs flag
     executor = None  # runs --jobs
     exit_code = 0  # exit status to return
     errmsg = None  # error message to display
+
+    show = False  # corresponds to --display flag
+    jobs = 0  # corresponds to --jobs flag
     mypy_args = None  # corresponds to --mypy flag
     argv_args = None  # corresponds to --argv flag
+    stack_size = 0  # corresponds to --stack-size flag
+
+    _prompt = None
 
-    def __init__(self):
-        """Create the CLI."""
-        self.prompt = Prompt()
+    @property
+    def prompt(self):
+        """Delay creation of a Prompt() until it's needed."""
+        if self._prompt is None:
+            self._prompt = Prompt()
+        return self._prompt
 
     def start(self, run=False):
         """Endpoint for coconut and coconut-run."""
         if run:
             args, argv = [], []
             # for coconut-run, all args beyond the source file should be wrapped in an --argv
             for i in range(1, len(sys.argv)):
@@ -140,29 +150,37 @@
                     args.append(run_arg)
             self.cmd(args, argv=argv)
         else:
             self.cmd()
 
     def cmd(self, args=None, argv=None, interact=True, default_target=None):
         """Process command-line arguments."""
-        if args is None:
-            parsed_args = arguments.parse_args()
-        else:
-            parsed_args = arguments.parse_args(args)
-        if argv is not None:
-            if parsed_args.argv is not None:
-                raise CoconutException("cannot pass --argv/--args when using coconut-run (coconut-run interprets any arguments after the source file as --argv/--args)")
-            parsed_args.argv = argv
-        if parsed_args.target is None:
-            parsed_args.target = default_target
-        self.exit_code = 0
         with self.handling_exceptions():
-            self.use_args(parsed_args, interact, original_args=args)
+            if args is None:
+                parsed_args = arguments.parse_args()
+            else:
+                parsed_args = arguments.parse_args(args)
+            if argv is not None:
+                if parsed_args.argv is not None:
+                    raise CoconutException("cannot pass --argv/--args when using coconut-run (coconut-run interprets any arguments after the source file as --argv/--args)")
+                parsed_args.argv = argv
+            if parsed_args.target is None:
+                parsed_args.target = default_target
+            self.exit_code = 0
+            self.stack_size = parsed_args.stack_size
+            self.run_with_stack_size(self.execute_args, parsed_args, interact, original_args=args)
         self.exit_on_error()
 
+    def run_with_stack_size(self, func, *args, **kwargs):
+        """Execute func with the correct stack size."""
+        if self.stack_size:
+            return run_with_stack_size(self.stack_size, func, *args, **kwargs)
+        else:
+            return func(*args, **kwargs)
+
     def setup(self, *args, **kwargs):
         """Set parameters for the compiler."""
         if self.comp is None:
             self.comp = Compiler(*args, **kwargs)
         else:
             self.comp.setup(*args, **kwargs)
 
@@ -178,167 +196,170 @@
                 #  listeners see the error
                 logger.show("Coconut exiting with error: " + self.errmsg, color=error_color_code)
                 self.errmsg = None
             if self.using_jobs:
                 kill_children()
             sys.exit(self.exit_code)
 
-    def use_args(self, args, interact=True, original_args=None):
+    def execute_args(self, args, interact=True, original_args=None):
         """Handle command-line arguments."""
-        # fix args
-        if not DEVELOP:
-            args.trace = args.profile = False
-
-        # set up logger
-        logger.quiet, logger.verbose, logger.tracing = args.quiet, args.verbose, args.trace
-        if args.verbose or args.trace or args.profile:
-            set_grammar_names()
-        if args.trace or args.profile:
-            unset_fast_pyparsing_reprs()
-        if args.profile:
-            collect_timing_info()
-        logger.enable_colors()
-
-        logger.log(cli_version)
-        if original_args is not None:
-            logger.log("Directly passed args:", original_args)
-        logger.log("Parsed args:", args)
-
-        # validate general command args
-        if args.mypy is not None and args.line_numbers:
-            logger.warn("extraneous --line-numbers argument passed; --mypy implies --line-numbers")
-        if args.site_install and args.site_uninstall:
-            raise CoconutException("cannot --site-install and --site-uninstall simultaneously")
-        for and_args in getattr(args, "and") or []:
-            if len(and_args) > 2:
-                raise CoconutException(
-                    "--and accepts at most two arguments, source and dest ({n} given: {args!r})".format(
-                        n=len(and_args),
-                        args=and_args,
-                    ),
-                )
+        with self.handling_exceptions():
+            # fix args
+            if not DEVELOP:
+                args.trace = args.profile = False
+
+            # set up logger
+            logger.quiet, logger.verbose, logger.tracing = args.quiet, args.verbose, args.trace
+            if args.verbose or args.trace or args.profile:
+                set_grammar_names()
+            if args.trace or args.profile:
+                unset_fast_pyparsing_reprs()
+            if args.profile:
+                collect_timing_info()
+            logger.enable_colors()
+
+            logger.log(cli_version)
+            if original_args is not None:
+                logger.log("Directly passed args:", original_args)
+            logger.log("Parsed args:", args)
+
+            # validate general command args
+            if args.stack_size and args.stack_size % 4 != 0:
+                logger.warn("--stack-size should generally be a multiple of 4, not {stack_size} (to support 4 KB pages)".format(stack_size=args.stack_size))
+            if args.mypy is not None and args.line_numbers:
+                logger.warn("extraneous --line-numbers argument passed; --mypy implies --line-numbers")
+            if args.site_install and args.site_uninstall:
+                raise CoconutException("cannot --site-install and --site-uninstall simultaneously")
+            for and_args in getattr(args, "and") or []:
+                if len(and_args) > 2:
+                    raise CoconutException(
+                        "--and accepts at most two arguments, source and dest ({n} given: {args!r})".format(
+                            n=len(and_args),
+                            args=and_args,
+                        ),
+                    )
 
-        # process general command args
-        if args.recursion_limit is not None:
-            set_recursion_limit(args.recursion_limit)
-        if args.jobs is not None:
-            self.set_jobs(args.jobs)
-        if args.display:
-            self.show = True
-        if args.style is not None:
-            self.prompt.set_style(args.style)
-        if args.history_file is not None:
-            self.prompt.set_history_file(args.history_file)
-        if args.vi_mode:
-            self.prompt.vi_mode = True
-        if args.docs:
-            launch_documentation()
-        if args.tutorial:
-            launch_tutorial()
-        if args.site_uninstall:
-            self.site_uninstall()
-        if args.site_install:
-            self.site_install()
-        if args.argv is not None:
-            self.argv_args = list(args.argv)
-
-        # additional validation after processing
-        if args.profile and self.jobs != 0:
-            raise CoconutException("--profile incompatible with --jobs {jobs}".format(jobs=args.jobs))
-
-        # process general compiler args
-        self.setup(
-            target=args.target,
-            strict=args.strict,
-            minify=args.minify,
-            line_numbers=args.line_numbers or args.mypy is not None,
-            keep_lines=args.keep_lines,
-            no_tco=args.no_tco,
-            no_wrap=args.no_wrap,
-        )
+            # process general command args
+            self.set_jobs(args.jobs, args.profile)
+            if args.recursion_limit is not None:
+                set_recursion_limit(args.recursion_limit)
+            if args.display:
+                self.show = True
+            if args.style is not None:
+                self.prompt.set_style(args.style)
+            if args.history_file is not None:
+                self.prompt.set_history_file(args.history_file)
+            if args.vi_mode:
+                self.prompt.vi_mode = True
+            if args.docs:
+                launch_documentation()
+            if args.tutorial:
+                launch_tutorial()
+            if args.site_uninstall:
+                self.site_uninstall()
+            if args.site_install:
+                self.site_install()
+            if args.argv is not None:
+                self.argv_args = list(args.argv)
+
+            # process general compiler args
+            self.setup(
+                target=args.target,
+                strict=args.strict,
+                minify=args.minify,
+                line_numbers=args.line_numbers or args.mypy is not None,
+                keep_lines=args.keep_lines,
+                no_tco=args.no_tco,
+                no_wrap=args.no_wrap_types,
+            )
 
-        # process mypy args and print timing info (must come after compiler setup)
-        if args.mypy is not None:
-            self.set_mypy_args(args.mypy)
-        logger.log("Grammar init time: " + str(self.comp.grammar_init_time) + " secs / Total init time: " + str(get_clock_time() - first_import_time) + " secs")
-
-        if args.source is not None:
-            # warnings if source is given
-            if args.interact and args.run:
-                logger.warn("extraneous --run argument passed; --interact implies --run")
-            if args.package and self.mypy:
-                logger.warn("extraneous --package argument passed; --mypy implies --package")
-
-            # errors if source is given
-            if args.standalone and args.package:
-                raise CoconutException("cannot compile as both --package and --standalone")
-            if args.standalone and self.mypy:
-                raise CoconutException("cannot compile as both --package (implied by --mypy) and --standalone")
-            if args.no_write and self.mypy:
-                raise CoconutException("cannot compile with --no-write when using --mypy")
-
-            # process all source, dest pairs
-            src_dest_package_triples = [
-                self.process_source_dest(src, dst, args)
-                for src, dst in (
-                    [(args.source, args.dest)]
-                    + (getattr(args, "and") or [])
-                )
-            ]
+            # process mypy args and print timing info (must come after compiler setup)
+            if args.mypy is not None:
+                self.set_mypy_args(args.mypy)
+            logger.log("Grammar init time: " + str(self.comp.grammar_init_time) + " secs / Total init time: " + str(get_clock_time() - first_import_time) + " secs")
+
+            if args.source is not None:
+                # warnings if source is given
+                if args.interact and args.run:
+                    logger.warn("extraneous --run argument passed; --interact implies --run")
+                if args.package and self.mypy:
+                    logger.warn("extraneous --package argument passed; --mypy implies --package")
+
+                # errors if source is given
+                if args.standalone and args.package:
+                    raise CoconutException("cannot compile as both --package and --standalone")
+                if args.standalone and self.mypy:
+                    raise CoconutException("cannot compile as both --package (implied by --mypy) and --standalone")
+                if args.no_write and self.mypy:
+                    raise CoconutException("cannot compile with --no-write when using --mypy")
+
+                # process all source, dest pairs
+                src_dest_package_triples = [
+                    self.process_source_dest(src, dst, args)
+                    for src, dst in (
+                        [(args.source, args.dest)]
+                        + (getattr(args, "and") or [])
+                    )
+                ]
 
-            # do compilation
-            with self.running_jobs(exit_on_error=not args.watch):
-                filepaths = []
-                for source, dest, package in src_dest_package_triples:
-                    filepaths += self.compile_path(source, dest, package, run=args.run or args.interact, force=args.force)
-            self.run_mypy(filepaths)
-
-        # validate args if no source is given
-        elif (
-            args.run
-            or args.no_write
-            or args.force
-            or args.package
-            or args.standalone
-            or args.watch
-        ):
-            raise CoconutException("a source file/folder must be specified when options that depend on the source are enabled")
-        elif getattr(args, "and"):
-            raise CoconutException("--and should only be used for extra source/dest pairs, not the first source/dest pair")
-
-        # handle extra cli tasks
-        if args.code is not None:
-            self.execute(self.parse_block(args.code))
-        got_stdin = False
-        if args.jupyter is not None:
-            self.start_jupyter(args.jupyter)
-        elif stdin_readable():
-            logger.log("Reading piped input from stdin...")
-            self.execute(self.parse_block(sys.stdin.read()))
-            got_stdin = True
-        if args.interact or (
-            interact and not (
-                got_stdin
-                or args.source
-                or args.code
-                or args.tutorial
-                or args.docs
+                # disable jobs if we know we're only compiling one file
+                if len(src_dest_package_triples) <= 1 and not any(package for _, _, package in src_dest_package_triples):
+                    self.disable_jobs()
+
+                # do compilation
+                with self.running_jobs(exit_on_error=not args.watch):
+                    filepaths = []
+                    for source, dest, package in src_dest_package_triples:
+                        filepaths += self.compile_path(source, dest, package, run=args.run or args.interact, force=args.force)
+                self.run_mypy(filepaths)
+
+            # validate args if no source is given
+            elif (
+                args.run
+                or args.no_write
+                or args.force
+                or args.package
+                or args.standalone
                 or args.watch
-                or args.site_uninstall
-                or args.site_install
-                or args.jupyter is not None
-                or args.mypy == [mypy_install_arg]
-            )
-        ):
-            self.start_prompt()
-        if args.watch:
-            # src_dest_package_triples is always available here
-            self.watch(src_dest_package_triples, args.run, args.force)
-        if args.profile:
-            print_timing_info()
+                or args.jobs
+            ):
+                raise CoconutException("a source file/folder must be specified when options that depend on the source are enabled")
+            elif getattr(args, "and"):
+                raise CoconutException("--and should only be used for extra source/dest pairs, not the first source/dest pair")
+
+            # handle extra cli tasks
+            if args.code is not None:
+                self.execute(self.parse_block(args.code))
+            got_stdin = False
+            if args.jupyter is not None:
+                self.start_jupyter(args.jupyter)
+            elif stdin_readable():
+                logger.log("Reading piped input from stdin...")
+                self.execute(self.parse_block(sys.stdin.read()))
+                got_stdin = True
+            if args.interact or (
+                interact and not (
+                    got_stdin
+                    or args.source
+                    or args.code
+                    or args.tutorial
+                    or args.docs
+                    or args.watch
+                    or args.site_uninstall
+                    or args.site_install
+                    or args.jupyter is not None
+                    or args.mypy == [mypy_install_arg]
+                )
+            ):
+                self.start_prompt()
+            if args.watch:
+                # src_dest_package_triples is always available here
+                self.watch(src_dest_package_triples, args.run, args.force)
+            if args.profile:
+                print_timing_info()
 
     def process_source_dest(self, source, dest, args):
         """Determine the correct source, dest, package mode to use for the given source, dest, and args."""
         # determine source
         processed_source = fixpath(source)
 
         # validate args
@@ -404,15 +425,17 @@
                 with handling_broken_process_pool():
                     yield
             else:
                 yield
         except SystemExit as err:
             self.register_exit_code(err.code)
         except BaseException as err:
-            if isinstance(err, CoconutException):
+            if isinstance(err, GeneratorExit):
+                raise
+            elif isinstance(err, CoconutException):
                 logger.print_exc()
             elif not isinstance(err, KeyboardInterrupt):
                 logger.print_exc()
                 logger.printerr(report_this_text)
             self.register_exit_code(err=err)
 
     def compile_path(self, path, write=True, package=True, **kwargs):
@@ -525,17 +548,17 @@
                 if run:
                     if destpath is None:
                         self.execute(compiled, path=codepath, allow_show=False)
                     else:
                         self.execute_file(destpath, argv_source_path=codepath)
 
             if package is True:
-                self.submit_comp_job(codepath, callback, "parse_package", code, package_level=package_level)
+                self.submit_comp_job(codepath, callback, "parse_package", code, package_level=package_level, filename=os.path.basename(codepath))
             elif package is False:
-                self.submit_comp_job(codepath, callback, "parse_file", code)
+                self.submit_comp_job(codepath, callback, "parse_file", code, filename=os.path.basename(codepath))
             else:
                 raise CoconutInternalException("invalid value for package", package)
 
     def get_package_level(self, codepath):
         """Get the relative level to the base directory of the package."""
         package_level = -1
         check_dir = os.path.dirname(os.path.abspath(codepath))
@@ -570,48 +593,67 @@
             with self.handling_exceptions():
                 callback(getattr(self.comp, method)(*args, **kwargs))
         else:
             path = showpath(path)
             with logger.in_path(path):  # pickle the compiler in the path context
                 future = self.executor.submit(multiprocess_wrapper(self.comp, method), *args, **kwargs)
 
-            def callback_wrapper(completed_future):
-                """Ensures that all errors are always caught, since errors raised in a callback won't be propagated."""
-                with logger.in_path(path):  # handle errors in the path context
-                    with self.handling_exceptions():
-                        result = completed_future.result()
-                        callback(result)
-            future.add_done_callback(callback_wrapper)
+                def callback_wrapper(completed_future):
+                    """Ensures that all errors are always caught, since errors raised in a callback won't be propagated."""
+                    with logger.in_path(path):  # handle errors in the path context
+                        with self.handling_exceptions():
+                            result = completed_future.result()
+                            callback(result)
+                future.add_done_callback(callback_wrapper)
 
-    def set_jobs(self, jobs):
+    def set_jobs(self, jobs, profile=False):
         """Set --jobs."""
-        if jobs == "sys":
-            self.jobs = None
+        if jobs in (None, "sys"):
+            self.jobs = jobs
         else:
             try:
                 jobs = int(jobs)
             except ValueError:
                 jobs = -1  # will raise error below
             if jobs < 0:
                 raise CoconutException("--jobs must be an integer >= 0 or 'sys'")
             self.jobs = jobs
+        logger.log("Jobs:", self.jobs)
+        if profile and self.jobs != 0:
+            raise CoconutException("--profile incompatible with --jobs {jobs}".format(jobs=jobs))
+
+    def disable_jobs(self):
+        """Disables use of --jobs."""
+        if self.jobs not in (0, 1, None):
+            logger.warn("got --jobs {jobs} but only compiling one file; disabling --jobs".format(jobs=self.jobs))
+        self.jobs = 0
+        logger.log("Jobs:", self.jobs)
+
+    def get_max_workers(self):
+        """Get the max_workers to use for creating ProcessPoolExecutor."""
+        jobs = self.jobs if self.jobs is not None else default_jobs
+        if jobs == "sys":
+            return None
+        else:
+            return jobs
 
     @property
     def using_jobs(self):
         """Determine whether or not multiprocessing is being used."""
-        return self.jobs is None or self.jobs > 1
+        max_workers = self.get_max_workers()
+        return max_workers is None or max_workers > 1
 
     @contextmanager
     def running_jobs(self, exit_on_error=True):
         """Initialize multiprocessing."""
         with self.handling_exceptions():
             if self.using_jobs:
                 from concurrent.futures import ProcessPoolExecutor
                 try:
-                    with ProcessPoolExecutor(self.jobs) as self.executor:
+                    with ProcessPoolExecutor(self.get_max_workers()) as self.executor:
                         yield
                 finally:
                     self.executor = None
             else:
                 yield
         if exit_on_error:
             self.exit_on_error()
@@ -794,15 +836,18 @@
             for line, is_err in mypy_run(args):
                 line = line.rstrip()
                 logger.log("[MyPy:{std}]".format(std="err" if is_err else "out"), line)
                 if line.startswith(mypy_silent_err_prefixes):
                     if code is None:  # file
                         logger.printerr(line)
                         self.register_exit_code(errmsg="MyPy error")
-                elif not line.startswith(mypy_silent_non_err_prefixes):
+                elif line.startswith(mypy_silent_non_err_prefixes):
+                    if code is None:  # file
+                        logger.print("MyPy", line)
+                else:
                     if code is None:  # file
                         logger.printerr(line)
                         if any(infix in line for infix in mypy_err_infixes):
                             self.register_exit_code(errmsg="MyPy error")
                     if line not in self.mypy_errs:
                         if code is not None:  # interpreter
                             logger.printerr(line)
@@ -919,18 +964,17 @@
                 else:
                     kernel = "coconut_py" + ver
                 if kernel not in kernel_list:
                     newly_installed_kernels += self.install_default_jupyter_kernels(jupyter, kernel_list)
                 logger.warn("could not find {name!r} kernel; using {kernel!r} kernel instead".format(name=icoconut_custom_kernel_name, kernel=kernel))
 
             # pass the kernel to the console or otherwise just launch Jupyter now that we know our kernel is available
-            if args[0] == "console":
-                run_args = jupyter + ["console", "--kernel", kernel] + args[1:]
-            else:
-                run_args = jupyter + args
+            if args[0] in jupyter_console_commands:
+                args += ["--kernel", kernel]
+            run_args = jupyter + args
 
         if newly_installed_kernels:
             logger.show_sig("Successfully installed Jupyter kernels: '" + "', '".join(newly_installed_kernels) + "'")
 
         # run the Jupyter command
         if run_args is not None:
             self.register_exit_code(run_cmd(run_args, raise_errs=False), errmsg="Jupyter error")
```

### Comparing `coconut-2.2.0/coconut/command/command.pyi` & `coconut-3.0.0/coconut/command/command.pyi`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/command/mypy.py` & `coconut-3.0.0/coconut/command/mypy.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/command/util.py` & `coconut-3.0.0/coconut/command/util.py`

 * *Files 4% similar despite different names*

```diff
@@ -19,14 +19,15 @@
 
 from coconut.root import *  # NOQA
 
 import sys
 import os
 import subprocess
 import shutil
+import threading
 from select import select
 from contextlib import contextmanager
 from functools import partial
 if PY2:
     import __builtin__ as builtins
 else:
     import builtins
@@ -69,14 +70,17 @@
     minimum_recursion_limit,
     oserror_retcode,
     base_stub_dir,
     installed_stub_dir,
     interpreter_uses_auto_compilation,
     interpreter_uses_coconut_breakpoint,
     interpreter_compiler_var,
+    must_use_specific_target_builtins,
+    kilobyte,
+    min_stack_size_kbs,
 )
 
 if PY26:
     import imp
 else:
     import runpy
 try:
@@ -212,25 +216,25 @@
         yield
     else:
         from concurrent.futures.process import BrokenProcessPool
         try:
             yield
         except BrokenProcessPool:
             logger.log_exc()
-            raise BaseCoconutException("broken process pool")
+            raise BaseCoconutException("broken process pool (if this is due to a stack overflow, you may be able to fix by re-running with a larger '--stack-size', otherwise try disabling multiprocessing with '--jobs 0')")
 
 
 def kill_children():
     """Terminate all child processes."""
     try:
         import psutil
     except ImportError:
         logger.warn(
             "missing psutil; --jobs may not properly terminate",
-            extra="run '{python} -m pip install coconut[jobs]' to fix".format(python=sys.executable),
+            extra="run '{python} -m pip install psutil' to fix".format(python=sys.executable),
         )
     else:
         parent = psutil.Process()
         children = parent.children(recursive=True)
         while children:
             for child in children:
                 try:
@@ -421,14 +425,28 @@
         return "--allow-" + arg[len("--disallow-"):]
     elif arg.startswith("--"):
         return "--no-" + arg[len("--"):]
     else:
         return None
 
 
+def run_with_stack_size(stack_kbs, func, *args, **kwargs):
+    """Run the given function with a stack of the given size in KBs."""
+    if stack_kbs < min_stack_size_kbs:
+        raise CoconutException("--stack-size must be at least " + str(min_stack_size_kbs) + " KB")
+    old_stack_size = threading.stack_size(stack_kbs * kilobyte)
+    out = []
+    thread = threading.Thread(target=lambda *args, **kwargs: out.append(func(*args, **kwargs)), args=args, kwargs=kwargs)
+    thread.start()
+    thread.join()
+    logger.log("Stack size used:", old_stack_size, "->", stack_kbs * kilobyte)
+    internal_assert(len(out) == 1, "invalid threading results", out)
+    return out[0]
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # CLASSES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Prompt(object):
     """Manages prompting for code on the command line."""
     # config options
@@ -564,15 +582,15 @@
         if self.stored is not None:
             self.stored.append(line)
 
     def fix_pickle(self):
         """Fix pickling of Coconut header objects."""
         from coconut import __coconut__  # this is expensive, so only do it here
         for var in self.vars:
-            if not var.startswith("__") and var in dir(__coconut__):
+            if not var.startswith("__") and var in dir(__coconut__) and var not in must_use_specific_target_builtins:
                 cur_val = self.vars[var]
                 static_val = getattr(__coconut__, var)
                 if getattr(cur_val, "__doc__", None) == getattr(static_val, "__doc__", None):
                     self.vars[var] = static_val
 
     @contextmanager
     def handling_errors(self, all_errors_exit=False):
@@ -645,25 +663,30 @@
             return self.stored[-1]
 
 
 class multiprocess_wrapper(pickleable_obj):
     """Wrapper for a method that needs to be multiprocessed."""
     __slots__ = ("base", "method", "rec_limit", "logger", "argv")
 
-    def __init__(self, base, method, _rec_limit=None, _logger=None, _argv=None):
+    def __init__(self, base, method, stack_size=None, _rec_limit=None, _logger=None, _argv=None):
         """Create new multiprocessable method."""
         self.base = base
         self.method = method
+        self.stack_size = stack_size
         self.rec_limit = sys.getrecursionlimit() if _rec_limit is None else _rec_limit
         self.logger = logger.copy() if _logger is None else _logger
         self.argv = sys.argv if _argv is None else _argv
 
     def __reduce__(self):
         """Pickle for transfer across processes."""
-        return (self.__class__, (self.base, self.method, self.rec_limit, self.logger, self.argv))
+        return (self.__class__, (self.base, self.method, self.stack_size, self.rec_limit, self.logger, self.argv))
 
     def __call__(self, *args, **kwargs):
         """Call the method."""
         sys.setrecursionlimit(self.rec_limit)
         logger.copy_from(self.logger)
         sys.argv = self.argv
-        return getattr(self.base, self.method)(*args, **kwargs)
+        func = getattr(self.base, self.method)
+        if self.stack_size:
+            return run_with_stack_size(self.stack_size, func, args, kwargs)
+        else:
+            return func(*args, **kwargs)
```

### Comparing `coconut-2.2.0/coconut/command/watch.py` & `coconut-3.0.0/coconut/command/watch.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/compiler/__init__.py` & `coconut-3.0.0/coconut/compiler/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/compiler/compiler.py` & `coconut-3.0.0/coconut/compiler/compiler.py`

 * *Files 5% similar despite different names*

```diff
@@ -82,23 +82,25 @@
     all_keywords,
     reserved_compiler_symbols,
     delimiter_symbols,
     reserved_command_symbols,
     streamline_grammar_for_len,
     all_builtins,
     in_place_op_funcs,
+    match_first_arg_var,
 )
 from coconut.util import (
     pickleable_obj,
     checksum,
     clip,
     logical_lines,
     clean,
     get_target_info,
     get_clock_time,
+    get_name,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutSyntaxError,
     CoconutParseError,
     CoconutStyleError,
     CoconutTargetError,
@@ -138,31 +140,31 @@
     split_trailing_indent,
     split_leading_trailing_indent,
     match_in,
     transform,
     parse,
     all_matches,
     get_target_info_smart,
-    split_leading_comment,
+    split_leading_comments,
     compile_regex,
     append_it,
     interleaved_join,
     handle_indentation,
     Wrap,
     tuple_str_of,
     join_args,
     parse_where,
     get_highest_parse_loc,
     literal_eval,
     should_trim_arity,
     rem_and_count_indents,
     normalize_indent_markers,
     try_parse,
+    does_parse,
     prep_grammar,
-    split_leading_whitespace,
     ordered,
     tuple_str_of_str,
     dict_to_str,
     close_char_for,
 )
 from coconut.compiler.header import (
     minify_header,
@@ -171,14 +173,21 @@
 
 # end: IMPORTS
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
+match_func_paramdef = "{match_first_arg_var}=_coconut_sentinel, *{match_to_args_var}, **{match_to_kwargs_var}".format(
+    match_first_arg_var=match_first_arg_var,
+    match_to_args_var=match_to_args_var,
+    match_to_kwargs_var=match_to_kwargs_var,
+)
+
+
 def set_to_tuple(tokens):
     """Converts set literal tokens to tuples."""
     internal_assert(len(tokens) == 1, "invalid set maker tokens", tokens)
     if "list" in tokens or "comp" in tokens or "testlist_star_expr" in tokens:
         return "(" + tokens[0] + ")"
     elif "test" in tokens:
         return "(" + tokens[0] + ",)"
@@ -351,14 +360,66 @@
         else:
             args_list.append(name + "=" + default)
     if dubstar_arg is not None:
         args_list.append("**" + dubstar_arg)
     return ", ".join(args_list)
 
 
+def split_star_expr_tokens(tokens, is_dict=False):
+    """Split testlist_star_expr or dict_literal tokens."""
+    groups = [[]]
+    has_star = False
+    has_comma = False
+    for tok_grp in tokens:
+        if tok_grp == ",":
+            has_comma = True
+        elif len(tok_grp) == 1:
+            internal_assert(not is_dict, "found non-star non-pair item in dict literal", tok_grp)
+            groups[-1].append(tok_grp[0])
+        elif len(tok_grp) == 2:
+            internal_assert(not tok_grp[0].lstrip("*"), "invalid star expr item signifier", tok_grp[0])
+            has_star = True
+            groups.append(tok_grp[1])
+            groups.append([])
+        elif len(tok_grp) == 3:
+            internal_assert(is_dict, "found dict key-value pair in non-dict tokens", tok_grp)
+            k, c, v = tok_grp
+            internal_assert(c == ":", "invalid colon in dict literal item", c)
+            groups[-1].append((k, v))
+        else:
+            raise CoconutInternalException("invalid testlist_star_expr tokens", tokens)
+    if not groups[-1]:
+        groups.pop()
+    return groups, has_star, has_comma
+
+
+def join_dict_group(group, as_tuples=False):
+    """Join group from split_star_expr_tokens$(is_dict=True)."""
+    items = []
+    for k, v in group:
+        if as_tuples:
+            items.append("(" + k + ", " + v + ")")
+        else:
+            items.append(k + ": " + v)
+    if as_tuples:
+        return tuple_str_of(items, add_parens=False)
+    else:
+        return ", ".join(items)
+
+
+def call_decorators(decorators, func_name):
+    """Convert decorators into function calls on func_name."""
+    out = func_name
+    for decorator in reversed(decorators.splitlines()):
+        internal_assert(decorator.startswith("@"), "invalid decorator", decorator)
+        base_decorator = rem_comment(decorator[1:])
+        out = "(" + base_decorator + ")(" + out + ")"
+    return out
+
+
 # end: UTILITIES
 # -----------------------------------------------------------------------------------------------------------------------
 # COMPILER:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class Compiler(Grammar, pickleable_obj):
@@ -371,14 +432,15 @@
         lambda self: self.str_proc,
         lambda self: self.passthrough_proc,
         lambda self: self.operator_proc,
         lambda self: self.ind_proc,
     ]
 
     reformatprocs = [
+        # deferred_code_proc must come first
         lambda self: self.deferred_code_proc,
         lambda self: self.reind_proc,
         lambda self: self.endline_repl,
         lambda self: partial(self.base_passthrough_repl, wrap_char="\\"),
         lambda self: self.str_repl,
     ]
     postprocs = reformatprocs + [
@@ -386,21 +448,25 @@
         lambda self: self.polish,
     ]
 
     def __init__(self, *args, **kwargs):
         """Creates a new compiler with the given parsing parameters."""
         self.setup(*args, **kwargs)
 
-    # changes here should be reflected in the stub for coconut.convenience.setup
+    # changes here should be reflected in __reduce__ and in the stub for coconut.convenience.setup
     def setup(self, target=None, strict=False, minify=False, line_numbers=False, keep_lines=False, no_tco=False, no_wrap=False):
         """Initializes parsing parameters."""
         if target is None:
             target = ""
         else:
-            target = str(target).replace(".", "")
+            target = str(target)
+        if len(target) > 1 and target[1] == ".":
+            target = target[:1] + target[2:]
+        if "." in target:
+            raise CoconutException("target Python version must be major.minor, not major.minor.micro")
         if target == "sys":
             target = sys_target
         if target in pseudo_targets:
             target = pseudo_targets[target]
         if target not in targets:
             raise CoconutException(
                 "unsupported target Python version " + repr(target),
@@ -446,53 +512,61 @@
                 ).encode(default_encoding),
             ),
         )
 
     temp_var_counts = None
     operators = None
 
-    def reset(self, keep_state=False):
-        """Resets references."""
+    def reset(self, keep_state=False, filename=None):
+        """Reset references.
+
+        IMPORTANT: When adding anything here, consider whether it should also be added to inner_environment.
+        """
+        self.filename = filename
         self.indchar = None
         self.comments = {}
+        self.wrapped_type_ignore = None
         self.refs = []
         self.skips = []
         self.docstring = ""
         # need to keep temp_var_counts in interpreter to avoid overwriting typevars
         if self.temp_var_counts is None or not keep_state:
             self.temp_var_counts = defaultdict(int)
         self.parsing_context = defaultdict(list)
-        self.add_code_before = {}
-        self.add_code_before_regexes = {}
-        self.add_code_before_replacements = {}
         self.unused_imports = defaultdict(list)
         self.kept_lines = []
         self.num_lines = 0
         self.disable_name_check = False
         if self.operators is None or not keep_state:
             self.operators = []
             self.operator_repl_table = []
+        self.add_code_before = {}
+        self.add_code_before_regexes = {}
+        self.add_code_before_replacements = {}
+        self.add_code_before_ignore_names = {}
 
     @contextmanager
     def inner_environment(self):
         """Set up compiler to evaluate inner expressions."""
         line_numbers, self.line_numbers = self.line_numbers, False
         keep_lines, self.keep_lines = self.keep_lines, False
         comments, self.comments = self.comments, {}
+        wrapped_type_ignore, self.wrapped_type_ignore = self.wrapped_type_ignore, None
         skips, self.skips = self.skips, []
         docstring, self.docstring = self.docstring, ""
         parsing_context, self.parsing_context = self.parsing_context, defaultdict(list)
         kept_lines, self.kept_lines = self.kept_lines, []
         num_lines, self.num_lines = self.num_lines, 0
         try:
             yield
         finally:
             self.line_numbers = line_numbers
             self.keep_lines = keep_lines
             self.comments = comments
+            self.wrapped_type_ignore = wrapped_type_ignore
             self.skips = skips
             self.docstring = docstring
             self.parsing_context = parsing_context
             self.kept_lines = kept_lines
             self.num_lines = num_lines
 
     def current_parsing_context(self, name, default=None):
@@ -598,24 +672,29 @@
         cls.classname <<= trace_attach(cls.name_ref, cls.method("name_handle", assign=True, classname=True), greedy=True)
 
         # abnormally named handlers
         cls.moduledoc_item <<= trace_attach(cls.moduledoc, cls.method("set_moduledoc"))
         cls.endline <<= attach(cls.endline_ref, cls.method("endline_handle"))
         cls.normal_pipe_expr <<= trace_attach(cls.normal_pipe_expr_tokens, cls.method("pipe_handle"))
         cls.return_typedef <<= trace_attach(cls.return_typedef_ref, cls.method("typedef_handle"))
+        cls.power_in_impl_call <<= trace_attach(cls.power, cls.method("power_in_impl_call_check"))
 
         # handle all atom + trailers constructs with item_handle
         cls.trailer_atom <<= trace_attach(cls.trailer_atom_ref, cls.method("item_handle"))
         cls.no_partial_trailer_atom <<= trace_attach(cls.no_partial_trailer_atom_ref, cls.method("item_handle"))
         cls.simple_assign <<= trace_attach(cls.simple_assign_ref, cls.method("item_handle"))
 
         # handle all string atoms with string_atom_handle
         cls.string_atom <<= trace_attach(cls.string_atom_ref, cls.method("string_atom_handle"))
         cls.f_string_atom <<= trace_attach(cls.f_string_atom_ref, cls.method("string_atom_handle"))
 
+        # handle all keyword funcdefs with keyword_funcdef_handle
+        cls.keyword_funcdef <<= trace_attach(cls.keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+        cls.async_keyword_funcdef <<= trace_attach(cls.async_keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+
         # standard handlers of the form name <<= trace_attach(name_tokens, method("name_handle")) (implies name_tokens is reused)
         cls.function_call <<= trace_attach(cls.function_call_tokens, cls.method("function_call_handle"))
         cls.testlist_star_namedexpr <<= trace_attach(cls.testlist_star_namedexpr_tokens, cls.method("testlist_star_expr_handle"))
         cls.ellipsis <<= trace_attach(cls.ellipsis_tokens, cls.method("ellipsis_handle"))
         cls.f_string <<= trace_attach(cls.f_string_tokens, cls.method("f_string_handle"))
 
         # standard handlers of the form name <<= trace_attach(name_ref, method("name_handle"))
@@ -645,14 +724,16 @@
         cls.list_expr <<= trace_attach(cls.list_expr_ref, cls.method("list_expr_handle"))
         cls.dict_literal <<= trace_attach(cls.dict_literal_ref, cls.method("dict_literal_handle"))
         cls.new_testlist_star_expr <<= trace_attach(cls.new_testlist_star_expr_ref, cls.method("new_testlist_star_expr_handle"))
         cls.anon_namedtuple <<= trace_attach(cls.anon_namedtuple_ref, cls.method("anon_namedtuple_handle"))
         cls.base_match_for_stmt <<= trace_attach(cls.base_match_for_stmt_ref, cls.method("base_match_for_stmt_handle"))
         cls.unsafe_typedef_tuple <<= trace_attach(cls.unsafe_typedef_tuple_ref, cls.method("unsafe_typedef_tuple_handle"))
         cls.funcname_typeparams <<= trace_attach(cls.funcname_typeparams_ref, cls.method("funcname_typeparams_handle"))
+        cls.impl_call <<= trace_attach(cls.impl_call_ref, cls.method("impl_call_handle"))
+        cls.protocol_intersect_expr <<= trace_attach(cls.protocol_intersect_expr_ref, cls.method("protocol_intersect_expr_handle"))
 
         # these handlers just do strict/target checking
         cls.u_string <<= trace_attach(cls.u_string_ref, cls.method("u_string_check"))
         cls.nonlocal_stmt <<= trace_attach(cls.nonlocal_stmt_ref, cls.method("nonlocal_check"))
         cls.star_assign_item <<= trace_attach(cls.star_assign_item_ref, cls.method("star_assign_item_check"))
         cls.classic_lambdef <<= trace_attach(cls.classic_lambdef_ref, cls.method("lambdef_check"))
         cls.star_sep_arg <<= trace_attach(cls.star_sep_arg_ref, cls.method("star_sep_check"))
@@ -693,28 +774,38 @@
             elif adj_ln + need_unskipped < i:
                 break
             else:
                 need_unskipped -= i - adj_ln - 1
                 adj_ln = i
         return adj_ln + need_unskipped
 
+    def reformat_post_deferred_code_proc(self, snip):
+        """Do post-processing that comes after deferred_code_proc."""
+        return self.apply_procs(self.reformatprocs[1:], snip, reformatting=True, log=False)
+
     def reformat(self, snip, *indices, **kwargs):
         """Post process a preprocessed snippet."""
         internal_assert("ignore_errors" in kwargs, "reformat() missing required keyword argument: 'ignore_errors'")
         if not indices:
             with self.complain_on_err():
                 return self.apply_procs(self.reformatprocs, snip, reformatting=True, log=False, **kwargs)
             return snip
         else:
             internal_assert(kwargs.get("ignore_errors", False), "cannot reformat with indices and ignore_errors=False")
             return (
                 (self.reformat(snip, **kwargs),)
                 + tuple(len(self.reformat(snip[:index], **kwargs)) for index in indices)
             )
 
+    def reformat_without_adding_code_before(self, code, **kwargs):
+        """Reformats without adding code before and instead returns what would have been added."""
+        got_code_to_add_before = {}
+        reformatted_code = self.reformat(code, put_code_to_add_before_in=got_code_to_add_before, **kwargs)
+        return reformatted_code, tuple(got_code_to_add_before.keys()), got_code_to_add_before.values()
+
     def literal_eval(self, code):
         """Version of ast.literal_eval that reformats first."""
         return literal_eval(self.reformat(code, ignore_errors=False))
 
     def eval_now(self, code):
         """Reformat and evaluate a code snippet and return code for the result."""
         try:
@@ -748,14 +839,15 @@
 
     @contextmanager
     def complain_on_err(self):
         """Complain about any parsing-related errors raised inside."""
         try:
             yield
         except ParseBaseException as err:
+            # don't reformat, since we might have gotten here because reformat failed
             complain(self.make_parse_err(err, reformat=False, include_ln=False))
         except CoconutException as err:
             complain(err)
 
     def remove_strs(self, inputstring):
         """Remove strings/comments from the given input."""
         with self.complain_on_err():
@@ -815,34 +907,34 @@
         else:
             out = "\\\\"
         out += self.add_ref("passthrough", text) + unwrapper
         if not multiline:
             out += "\n"
         return out
 
-    def wrap_comment(self, text, reformat=True):
+    def wrap_comment(self, text):
         """Wrap a comment."""
-        if reformat:
-            whitespace, base_comment = split_leading_whitespace(text)
-            text = whitespace + self.reformat(base_comment, ignore_errors=False)
         return "#" + self.add_ref("comment", text) + unwrapper
 
     def wrap_error(self, error):
         """Create a symbol that will raise the given error in postprocessing."""
         return errwrapper + self.add_ref("error", error) + unwrapper
 
     def raise_or_wrap_error(self, error):
         """Raise if USE_COMPUTATION_GRAPH else wrap."""
         if USE_COMPUTATION_GRAPH:
             raise error
         else:
             return self.wrap_error(error)
 
     def type_ignore_comment(self):
-        return self.wrap_comment(" type: ignore", reformat=False)
+        """Get a "type: ignore" comment."""
+        if self.wrapped_type_ignore is None:
+            self.wrapped_type_ignore = self.wrap_comment(" type: ignore")
+        return self.wrapped_type_ignore
 
     def wrap_line_number(self, ln):
         """Wrap a line number."""
         return lnwrapper + str(ln) + unwrapper
 
     def wrap_loc(self, original, loc):
         """Wrap a location."""
@@ -856,21 +948,26 @@
             inputstring = proc(inputstring, **kwargs)
             if log:
                 logger.log_tag(getattr(proc, "__name__", proc), inputstring, multiline=True)
         return inputstring
 
     def pre(self, inputstring, **kwargs):
         """Perform pre-processing."""
+        log = kwargs.get("log", True)
         out = self.apply_procs(self.preprocs, str(inputstring), **kwargs)
-        logger.log_tag("skips", self.skips)
+        if log:
+            logger.log_tag("skips", self.skips)
         return out
 
     def post(self, result, **kwargs):
         """Perform post-processing."""
         internal_assert(isinstance(result, str), "got non-string parse result", result)
+        log = kwargs.get("log", True)
+        if log:
+            logger.log_tag("before post-processing", result, multiline=True)
         return self.apply_procs(self.postprocs, result, **kwargs)
 
     def getheader(self, which, use_hash=None, polish=True):
         """Get a formatted header."""
         header = getheader(
             which,
             use_hash=use_hash,
@@ -934,15 +1031,15 @@
 
         # reformat the snippet and fix error locations to match
         if reformat:
             snippet, loc_in_snip, endpt_in_snip = self.reformat(snippet, loc_in_snip, endpt_in_snip, ignore_errors=True)
 
         if extra is not None:
             kwargs["extra"] = extra
-        return errtype(message, snippet, loc_in_snip, ln, endpoint=endpt_in_snip, **kwargs)
+        return errtype(message, snippet, loc_in_snip, ln, endpoint=endpt_in_snip, filename=self.filename, **kwargs)
 
     def make_syntax_err(self, err, original):
         """Make a CoconutSyntaxError from a CoconutDeferredSyntaxError."""
         msg, loc = err.args
         return self.make_err(CoconutSyntaxError, msg, original, loc, endpoint=True)
 
     def make_parse_err(self, err, msg=None, include_ln=True, **kwargs):
@@ -976,29 +1073,29 @@
         with self.inner_environment():
             self.streamline(parser, inputstring)
             pre_procd = self.pre(inputstring, **preargs)
             parsed = parse(parser, pre_procd)
             return self.post(parsed, **postargs)
 
     @contextmanager
-    def parsing(self, keep_state=False):
+    def parsing(self, keep_state=False, filename=None):
         """Acquire the lock and reset the parser."""
         with self.lock:
-            self.reset(keep_state)
+            self.reset(keep_state, filename)
             self.current_compiler[0] = self
             yield
 
     def streamline(self, grammar, inputstring=""):
         """Streamline the given grammar for the given inputstring."""
         if streamline_grammar_for_len is not None and len(inputstring) >= streamline_grammar_for_len:
             start_time = get_clock_time()
             prep_grammar(grammar, streamline=True)
             logger.log_lambda(
                 lambda: "Streamlined {grammar} in {time} seconds (streamlined due to receiving input of length {length}).".format(
-                    grammar=grammar.name,
+                    grammar=get_name(grammar),
                     time=get_clock_time() - start_time,
                     length=len(inputstring),
                 ),
             )
         else:
             logger.log("No streamlining done for input of length {length}.".format(length=len(inputstring)))
 
@@ -1013,34 +1110,35 @@
                     if not self.noqa_regex.search(comment):
                         self.strict_err_or_warn(
                             "found unused import " + repr(self.reformat(name, ignore_errors=True)) + " (add '# NOQA' to suppress)",
                             original,
                             loc,
                         )
 
-    def parse(self, inputstring, parser, preargs, postargs, streamline=True, keep_state=False):
+    def parse(self, inputstring, parser, preargs, postargs, streamline=True, keep_state=False, filename=None):
         """Use the parser to parse the inputstring with appropriate setup and teardown."""
-        with self.parsing(keep_state):
+        with self.parsing(keep_state, filename):
             if streamline:
                 self.streamline(parser, inputstring)
             with logger.gather_parsing_stats():
                 pre_procd = None
                 try:
                     pre_procd = self.pre(inputstring, keep_state=keep_state, **preargs)
                     parsed = parse(parser, pre_procd, inner=False)
                     out = self.post(parsed, keep_state=keep_state, **postargs)
                 except ParseBaseException as err:
                     raise self.make_parse_err(err)
                 except CoconutDeferredSyntaxError as err:
                     internal_assert(pre_procd is not None, "invalid deferred syntax error in pre-processing", err)
                     raise self.make_syntax_err(err, pre_procd)
+                # RuntimeError, not RecursionError, for Python < 3.5
                 except RuntimeError as err:
                     raise CoconutException(
                         str(err), extra="try again with --recursion-limit greater than the current "
-                        + str(sys.getrecursionlimit()),
+                        + str(sys.getrecursionlimit()) + " (you may also need to increase --stack-size)",
                     )
             self.run_final_checks(pre_procd, keep_state)
         return out
 
 # end: COMPILER
 # -----------------------------------------------------------------------------------------------------------------------
 # PROCESSORS:
@@ -1080,15 +1178,15 @@
             except IndexError:
                 internal_assert(x == len(inputstring), "invalid index in str_proc", (inputstring, x))
                 c = "\n"
 
             if hold is not None:
                 if len(hold) == 1:  # hold == [_comment]
                     if c == "\n":
-                        out.append(self.wrap_comment(hold[_comment], reformat=False) + c)
+                        out += [self.wrap_comment(hold[_comment]), c]
                         hold = None
                     else:
                         hold[_comment] += c
                 elif hold[_stop] is not None:
                     if c == "\\":
                         hold[_contents] += hold[_stop] + c
                         hold[_stop] = None
@@ -1144,17 +1242,17 @@
                 found = c
             else:
                 out.append(c)
             x += 1
 
         if hold is not None or found is not None:
             raise self.make_err(CoconutSyntaxError, "unclosed string", inputstring, x, reformat=False)
-        else:
-            self.set_skips(skips)
-            return "".join(out)
+
+        self.set_skips(skips)
+        return "".join(out)
 
     def passthrough_proc(self, inputstring, **kwargs):
         """Process python passthroughs."""
         out = []
         found = None  # store of characters that might be the start of a passthrough
         hold = None  # the contents of the passthrough so far
         count = None  # current parenthetical level (num closes - num opens)
@@ -1183,15 +1281,15 @@
                     multiline = False
                 elif c == "(":
                     found = ""
                     hold = ")"
                     count = -1
                     multiline = True
                 else:
-                    out.append("\\" + c)
+                    out += ["\\", c]
                     found = None
             elif c == "\\":
                 found = True
             else:
                 out.append(c)
 
         if hold is not None or found is not None:
@@ -1246,33 +1344,33 @@
                     compile_regex(r"\(\s*" + re.escape(op) + r"\s*\)"),
                     None,
                     "(" + op_name + ")",
                 ))
                 any_delimiter = r"|".join(re.escape(sym) for sym in delimiter_symbols)
                 self.operator_repl_table.append((
                     compile_regex(r"(^|\s|(?<!\\)\b|" + any_delimiter + r")" + re.escape(op) + r"(?=\s|\b|$|" + any_delimiter + r")"),
-                    1,
+                    "prepend group 1",
                     "`" + op_name + "`",
                 ))
 
             if op_name is None:
                 new_line = raw_line
                 for repl, repl_type, repl_to in self.operator_repl_table:
                     if repl_type is None:
                         def sub_func(match):
                             return repl_to
-                    elif repl_type == 1:
+                    elif repl_type == "prepend group 1":
                         def sub_func(match):
                             return match.group(1) + repl_to
                     else:
                         raise CoconutInternalException("invalid operator_repl_table repl_type", repl_type)
                     new_line = repl.sub(sub_func, new_line)
                 out.append(new_line)
             elif imp_from is not None:
-                out.append("from " + imp_from + " import " + op_name + "\n")
+                out += ["from ", imp_from, " import ", op_name, "\n"]
             else:
                 skips = addskip(skips, self.adjust(ln))
 
         self.set_skips(skips)
         return "".join(out)
 
     def leading_whitespace(self, inputstring):
@@ -1377,44 +1475,54 @@
     @property
     def tabideal(self):
         """Local tabideal."""
         return 1 if self.minify else tabideal
 
     def reind_proc(self, inputstring, ignore_errors=False, **kwargs):
         """Add back indentation."""
-        out = []
+        out_lines = []
         level = 0
 
         next_line_is_fake = False
         for line in inputstring.splitlines(True):
             is_fake = next_line_is_fake
             next_line_is_fake = line.endswith("\f") and line.rstrip("\f") == line.rstrip()
 
             line, comment = split_comment(line.strip())
 
             indent, line = split_leading_indent(line)
             level += ind_change(indent)
+            if level < 0:
+                if not ignore_errors:
+                    logger.log_lambda(lambda: "failed to reindent:\n" + repr(inputstring) + "\nat line:\n" + line)
+                    complain("negative indentation level: " + repr(level))
+                level = 0
 
             if line:
                 line = " " * self.tabideal * (level + int(is_fake)) + line
 
             line, indent = split_trailing_indent(line)
             level += ind_change(indent)
 
             # handle indentation markers interleaved with comment/endline markers
             comment, change_in_level = rem_and_count_indents(comment)
             level += change_in_level
+            if level < 0:
+                if not ignore_errors:
+                    logger.log_lambda(lambda: "failed to reindent:\n" + repr(inputstring) + "\nat line:\n" + line)
+                    complain("negative interleaved indentation level: " + repr(level))
+                level = 0
 
             line = (line + comment).rstrip()
-            out.append(line)
+            out_lines.append(line)
 
         if not ignore_errors and level != 0:
-            logger.log_lambda(lambda: "failed to reindent:\n" + "\n".join(out))
-            complain(CoconutInternalException("non-zero final indentation level ", level))
-        return "\n".join(out)
+            logger.log_lambda(lambda: "failed to reindent:\n" + inputstring)
+            complain("non-zero final indentation level: " + repr(level))
+        return "\n".join(out_lines)
 
     def ln_comment(self, ln):
         """Get an end line comment."""
         # CoconutInternalExceptions should always be caught and complained here
         if self.keep_lines:
             internal_assert(
                 # keep this as a lambda to prevent it from breaking release builds
@@ -1442,19 +1550,19 @@
             if self.minify:
                 comment = str(ln)
             else:
                 comment = str(ln) + " (line in Coconut source)"
         else:
             return ""
 
-        return self.wrap_comment(comment, reformat=False)
+        return self.wrap_comment(comment)
 
     def endline_repl(self, inputstring, reformatting=False, ignore_errors=False, **kwargs):
         """Add end of line comments."""
-        out = []
+        out_lines = []
         ln = 1  # line number in pre-processed original
         for line in logical_lines(inputstring):
             add_one_to_ln = False
             try:
 
                 # extract line number information
                 lnwrapper_split = line.split(lnwrapper)
@@ -1476,49 +1584,53 @@
                 if not reformatting and line.rstrip() and not line.lstrip().startswith("#"):
                     line += self.ln_comment(src_ln)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
 
-            out.append(line)
+            out_lines.append(line)
             if add_one_to_ln and ln <= self.num_lines - 1:
                 ln += 1
-        return "\n".join(out)
+        return "\n".join(out_lines)
 
     def base_passthrough_repl(self, inputstring, wrap_char, ignore_errors=False, **kwargs):
         """Add back passthroughs."""
+        # this gets called a lot but passthroughs are rare, so short-circuit if we know there are none
+        if wrap_char not in inputstring:
+            return inputstring
+
         out = []
         index = None
         for c in append_it(inputstring, None):
             try:
 
                 if index is not None:
                     if c is not None and c in nums:
                         index += c
                     elif c == unwrapper and index:
                         ref = self.get_ref("passthrough", index)
                         out.append(ref)
                         index = None
                     elif c != wrap_char or index:
-                        out.append(wrap_char + index)
+                        out += [wrap_char, index]
                         if c is not None:
                             out.append(c)
                         index = None
                 elif c is not None:
                     if c == wrap_char:
                         index = ""
                     else:
                         out.append(c)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
                 if index is not None:
-                    out.append(wrap_char + index)
+                    out += [wrap_char, index]
                     index = None
                 if c is not None:
                     out.append(c)
 
         return "".join(out)
 
     def str_repl(self, inputstring, ignore_errors=False, **kwargs):
@@ -1535,24 +1647,24 @@
                         comment += c
                     elif c == unwrapper and comment:
                         ref = self.get_ref("comment", comment)
                         if out and not out[-1].endswith("\n"):
                             out[-1] = out[-1].rstrip(" ")
                             if not self.minify:
                                 out[-1] += "  "  # put two spaces before comment
-                        out.append("#" + ref)
+                        out += ["#", ref]
                         comment = None
                     else:
                         raise CoconutInternalException("invalid comment marker in", getline(i, inputstring))
                 elif string is not None:
                     if c is not None and c in nums:
                         string += c
                     elif c == unwrapper and string:
                         text, strchar = self.get_ref("str", string)
-                        out.append(strchar + text + strchar)
+                        out += [strchar, text, strchar]
                         string = None
                     else:
                         raise CoconutInternalException("invalid string marker in", getline(i, inputstring))
                 elif c is not None:
                     if c == "#":
                         comment = ""
                     elif c == strwrapper:
@@ -1561,18 +1673,18 @@
                         out.append(c)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
                 if comment is not None:
                     internal_assert(string is None, "invalid detection of string and comment markers in", inputstring)
-                    out.append("#" + comment)
+                    out += ["#", comment]
                     comment = None
                 if string is not None:
-                    out.append(strwrapper + string)
+                    out += [strwrapper, string]
                     string = None
                 if c is not None:
                     out.append(c)
 
         return "".join(out)
 
     def split_docstring(self, block):
@@ -1588,15 +1700,16 @@
         return None, block
 
     def tre_return(self, func_name, func_args, func_store, mock_var=None):
         """Generate grammar element that matches a string which is just a TRE return statement."""
         def tre_return_handle(loc, tokens):
             args = ", ".join(tokens)
 
-            # we have to use func_name not func_store here since we use this when we fail to verify that func_name is func_store
+            # we have to use func_name not func_store here since we use
+            #  this when we fail to verify that func_name is func_store
             if self.no_tco:
                 tco_recurse = "return " + func_name + "(" + args + ")"
             else:
                 tco_recurse = "return _coconut_tail_call(" + func_name + (", " + args if args else "") + ")"
 
             if not func_args or func_args == args:
                 tre_recurse = "continue"
@@ -1605,29 +1718,30 @@
             else:
                 tre_recurse = tuple_str_of_str(func_args) + " = " + mock_var + "(" + args + ")" + "\ncontinue"
 
             tre_check_var = self.get_temp_var("tre_check")
             return handle_indentation(
                 """
 try:
-    {tre_check_var} = {func_name} is {func_store}
+    {tre_check_var} = {func_name} is {func_store} {type_ignore}
 except _coconut.NameError:
     {tre_check_var} = False
 if {tre_check_var}:
     {tre_recurse}
 else:
     {tco_recurse}
                 """,
                 add_newline=True,
             ).format(
                 tre_check_var=tre_check_var,
                 func_name=func_name,
                 func_store=func_store,
                 tre_recurse=tre_recurse,
                 tco_recurse=tco_recurse,
+                type_ignore=self.type_ignore_comment(),
             )
         return attach(
             self.get_tre_return_grammar(func_name),
             tre_return_handle,
             greedy=True,
         )
 
@@ -1765,26 +1879,33 @@
 
         func_code = "".join(lines)
         return func_code, tco, tre
 
     def proc_funcdef(self, original, loc, decorators, funcdef, is_async, in_method, is_stmt_lambda):
         """Determines if TCO or TRE can be done and if so does it,
         handles dotted function names, and universalizes async functions."""
-        # process tokens
         raw_lines = list(logical_lines(funcdef, True))
         def_stmt = raw_lines.pop(0)
+        out = []
 
-        # detect addpattern functions
-        if def_stmt.startswith("addpattern def"):
-            def_stmt = def_stmt[len("addpattern "):]
-            addpattern = True
-        elif def_stmt.startswith("def"):
-            addpattern = False
-        else:
-            raise CoconutInternalException("invalid function definition statement", funcdef)
+        # detect addpattern/copyclosure functions
+        addpattern = False
+        copyclosure = False
+        done = False
+        while not done:
+            if def_stmt.startswith("addpattern "):
+                def_stmt = def_stmt[len("addpattern "):]
+                addpattern = True
+            elif def_stmt.startswith("copyclosure "):
+                def_stmt = def_stmt[len("copyclosure "):]
+                copyclosure = True
+            elif def_stmt.startswith("def"):
+                done = True
+            else:
+                raise CoconutInternalException("invalid function definition statement", funcdef)
 
         # extract information about the function
         with self.complain_on_err():
             try:
                 split_func_tokens = parse(self.split_func, def_stmt)
 
                 self.internal_assert(len(split_func_tokens) == 2, original, loc, "invalid function definition splitting tokens", split_func_tokens)
@@ -1834,25 +1955,38 @@
         # handle dotted function definition
         undotted_name = None
         if func_name is not None and "." in func_name:
             undotted_name = func_name.rsplit(".", 1)[-1]
             def_name = self.get_temp_var(undotted_name)
 
         # detect pattern-matching functions
-        is_match_func = func_paramdef == "*{match_to_args_var}, **{match_to_kwargs_var}".format(
-            match_to_args_var=match_to_args_var,
-            match_to_kwargs_var=match_to_kwargs_var,
-        )
+        is_match_func = func_paramdef == match_func_paramdef
 
         # handle addpattern functions
         if addpattern:
             if func_name is None:
                 raise CoconutInternalException("could not find name in addpattern function definition", def_stmt)
             # binds most tightly, except for TCO
-            decorators += "@_coconut_addpattern(" + func_name + ")\n"
+            addpattern_decorator = self.get_temp_var("addpattern")
+            out.append(
+                handle_indentation(
+                    """
+try:
+    {addpattern_decorator} = _coconut_addpattern({func_name}) {type_ignore}
+except _coconut.NameError:
+    {addpattern_decorator} = lambda f: f
+                """,
+                    add_newline=True,
+                ).format(
+                    func_name=func_name,
+                    addpattern_decorator=addpattern_decorator,
+                    type_ignore=self.type_ignore_comment(),
+                ),
+            )
+            decorators += "@" + addpattern_decorator + "\n"
 
         # modify function definition to use def_name
         if def_name != func_name:
             def_stmt_pre_lparen, def_stmt_post_lparen = def_stmt.split("(", 1)
             def_stmt_def, def_stmt_name = def_stmt_pre_lparen.rsplit(" ", 1)
             def_stmt_name = def_stmt_name.replace(func_name, def_name)
             def_stmt = def_stmt_def + " " + def_stmt_name + "(" + def_stmt_post_lparen
@@ -1952,80 +2086,155 @@
                     ).format(
                         mock_var=mock_var,
                         mock_paramdef=mock_paramdef,
                         mock_body="\n".join(mock_body_lines),
                     )
 
                 # assemble tre'd function
-                comment, rest = split_leading_comment(func_code)
+                comment, rest = split_leading_comments(func_code)
                 indent, base, dedent = split_leading_trailing_indent(rest, 1)
                 base, base_dedent = split_trailing_indent(base)
                 docstring, base = self.split_docstring(base)
-                func_code = (
-                    comment + indent
-                    + (docstring + "\n" if docstring is not None else "")
-                    + mock_def
-                    + "while True:\n"
-                    + openindent + base + base_dedent
-                    + ("\n" if "\n" not in base_dedent else "") + "return None"
-                    + ("\n" if "\n" not in dedent else "") + closeindent + dedent
-                    + func_store + " = " + def_name + "\n"
-                )
+
+                func_code_out = [
+                    comment,
+                    indent,
+                ]
+                if docstring is not None:
+                    func_code_out += [docstring, "\n"]
+                func_code_out += [
+                    mock_def,
+                    "while True:\n",
+                    openindent,
+                    base, base_dedent,
+                ]
+                if "\n" not in base_dedent:
+                    func_code_out.append("\n")
+                func_code_out.append("return None")
+                if "\n" not in dedent:
+                    func_code_out.append("\n")
+                func_code_out += [
+                    closeindent, dedent,
+                    func_store, " = ", def_name, "\n",
+                ]
+                func_code = "".join(func_code_out)
 
             if tco:
                 decorators += "@_coconut_tco\n"  # binds most tightly (aside from below)
 
         # add attribute to mark pattern-matching functions
         if is_match_func:
             decorators += "@_coconut_mark_as_match\n"  # binds most tightly
 
         # handle dotted function definition
         if undotted_name is not None:
-            out = handle_indentation(
-                '''
-{decorators}{def_stmt}{func_code}
+            out.append(
+                handle_indentation(
+                    '''
+{def_stmt}{func_code}
 {def_name}.__name__ = _coconut_py_str("{undotted_name}")
 {temp_var} = _coconut.getattr({def_name}, "__qualname__", None)
 if {temp_var} is not None:
     {def_name}.__qualname__ = _coconut_py_str("{func_name}" if "." not in {temp_var} else {temp_var}.rsplit(".", 1)[0] + ".{func_name}")
-{func_name} = {def_name}
                 ''',
-                add_newline=True,
-            ).format(
-                def_name=def_name,
-                decorators=decorators,
-                def_stmt=def_stmt,
-                func_code=func_code,
-                func_name=func_name,
-                undotted_name=undotted_name,
-                temp_var=self.get_temp_var("qualname"),
+                    add_newline=True,
+                ).format(
+                    def_name=def_name,
+                    decorators=decorators,
+                    def_stmt=def_stmt,
+                    func_code=func_code,
+                    func_name=func_name,
+                    undotted_name=undotted_name,
+                    temp_var=self.get_temp_var("qualname"),
+                ),
             )
+            # decorating the function must come after __name__ has been set,
+            #  and if it's a copyclosure function, it has to happen outside the exec
+            if not copyclosure:
+                out += [func_name, " = ", call_decorators(decorators, def_name), "\n"]
+                decorators = ""
         else:
-            out = decorators + def_stmt + func_code
+            out += [decorators, def_stmt, func_code]
+            decorators = ""
 
-        return out
+        # handle copyclosure functions
+        if copyclosure:
+            vars_var = self.get_temp_var("func_vars")
+            func_from_vars = vars_var + '["' + def_name + '"]'
+            # for dotted copyclosure function definition, decoration was deferred until now
+            if decorators:
+                func_from_vars = call_decorators(decorators, func_from_vars)
+                decorators = ""
+            code = "".join(out)
+            out = [
+                handle_indentation(
+                    '''
+if _coconut.typing.TYPE_CHECKING:
+    {code}
+    {vars_var} = {{"{def_name}": {def_name}}}
+else:
+    {vars_var} = _coconut.globals().copy()
+    {vars_var}.update(_coconut.locals().copy())
+    _coconut_exec({code_str}, {vars_var})
+{func_name} = {func_from_vars}
+                ''',
+                    add_newline=True,
+                ).format(
+                    func_name=func_name,
+                    def_name=def_name,
+                    vars_var=vars_var,
+                    code=code,
+                    code_str=self.wrap_str_of(self.reformat_post_deferred_code_proc(code)),
+                    func_from_vars=func_from_vars,
+                ),
+            ]
 
-    def deferred_code_proc(self, inputstring, add_code_at_start=False, ignore_names=(), **kwargs):
-        """Process all forms of previously deferred code. All such deferred code needs to be handled here so we can properly handle nested deferred code."""
-        # compile add_code_before regexes
+        internal_assert(not decorators, "unhandled decorators", decorators)
+        return "".join(out)
+
+    def add_code_before_marker_with_replacement(self, replacement, add_code_before, add_spaces=True, ignore_names=None):
+        """Add code before a marker that will later be replaced."""
+        # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
+        temp_marker = self.get_temp_var("add_code_before_marker")
+
+        self.add_code_before[temp_marker] = add_code_before
+        self.add_code_before_replacements[temp_marker] = replacement
+        if ignore_names is not None:
+            self.add_code_before_ignore_names[temp_marker] = ignore_names
+        if add_spaces:
+            # if we're adding spaces, modify the regex to remove them later
+            self.add_code_before_regexes[temp_marker] = compile_regex(r"( |\b)%s( |\b)" % (temp_marker,))
+
+        return " " + temp_marker + " " if add_spaces else temp_marker
+
+    def compile_add_code_before_regexes(self):
+        """Compile all add_code_before regexes."""
         for name in self.add_code_before:
             if name not in self.add_code_before_regexes:
                 self.add_code_before_regexes[name] = compile_regex(r"\b%s\b" % (name,))
 
+    def deferred_code_proc(self, inputstring, add_code_at_start=False, ignore_names=(), ignore_errors=False, **kwargs):
+        """Process all forms of previously deferred code. All such deferred code needs to be handled here so we can properly handle nested deferred code."""
+        put_code_to_add_before_in = kwargs.get("put_code_to_add_before_in", None)  # keep put_code_to_add_before_in in kwargs
+        self.compile_add_code_before_regexes()
+
         out = []
         for raw_line in inputstring.splitlines(True):
             bef_ind, line, aft_ind = split_leading_trailing_indent(raw_line)
 
             # handle early passthroughs
             line = self.base_passthrough_repl(line, wrap_char=early_passthrough_wrapper, **kwargs)
 
             # look for deferred errors
-            if errwrapper in raw_line:
-                err_ref = raw_line.split(errwrapper, 1)[1].split(unwrapper, 1)[0]
-                raise self.get_ref("error", err_ref)
+            while errwrapper in raw_line:
+                pre_err_line, err_line = raw_line.split(errwrapper, 1)
+                err_ref, post_err_line = err_line.split(unwrapper, 1)
+                if not ignore_errors:
+                    raise self.get_ref("error", err_ref)
+                raw_line = pre_err_line + " " + post_err_line
 
             # look for functions
             if line.startswith(funcwrapper):
                 func_id = int(line[len(funcwrapper):])
                 original, loc, decorators, funcdef, is_async, in_method, is_stmt_lambda = self.get_ref("func", func_id)
 
                 # process inner code
@@ -2046,42 +2255,45 @@
                 out.append(bef_ind)
                 out.extend(pre_def_lines)
                 out.append(self.proc_funcdef(original, loc, decorators, "".join(post_def_lines), is_async, in_method, is_stmt_lambda))
                 out.append(aft_ind)
 
             # look for add_code_before regexes
             else:
+                inner_ignore_names = ignore_names
                 for name, raw_code in ordered(self.add_code_before.items()):
                     if name in ignore_names:
                         continue
 
                     regex = self.add_code_before_regexes[name]
-                    replacement = self.add_code_before_replacements.get(name)
+                    if regex.search(line):
 
-                    if replacement is None:
-                        saw_name = regex.search(line)
-                    else:
-                        line, saw_name = regex.subn(lambda match: replacement, line)
+                        # once a name is found, don't search for it again in the same line
+                        inner_ignore_names += (name,) + self.add_code_before_ignore_names.get(name, ())
 
-                    if saw_name:
-                        # process inner code
-                        code_to_add = self.deferred_code_proc(raw_code, ignore_names=ignore_names + (name,), **kwargs)
-
-                        # add code and update indents
-                        if add_code_at_start:
-                            out.insert(0, code_to_add + "\n")
-                        else:
-                            out.append(bef_ind)
-                            out.append(code_to_add)
-                            out.append("\n")
-                            bef_ind = ""
+                        # handle replacement
+                        replacement = self.add_code_before_replacements.get(name)
+                        if replacement is not None:
+                            replacement = self.deferred_code_proc(replacement, ignore_names=inner_ignore_names, **kwargs)
+                            line, _ = regex.subn(lambda match: replacement, line)
+
+                        if raw_code:
+                            # process inner code
+                            code_to_add = self.deferred_code_proc(raw_code, ignore_names=inner_ignore_names, **kwargs)
+
+                            # add code and update indents
+                            if put_code_to_add_before_in is not None:
+                                put_code_to_add_before_in[name] = code_to_add
+                            elif add_code_at_start:
+                                out.insert(0, code_to_add + "\n")
+                            else:
+                                out += [bef_ind, code_to_add, "\n"]
+                                bef_ind = ""
 
-                out.append(bef_ind)
-                out.append(line)
-                out.append(aft_ind)
+                out += [bef_ind, line, aft_ind]
 
         return "".join(out)
 
     def header_proc(self, inputstring, header="file", initial="initial", use_hash=None, **kwargs):
         """Add the header."""
         pre_header = self.getheader(initial, use_hash=use_hash, polish=False)
         main_header = self.getheader(header, polish=False)
@@ -2169,14 +2381,17 @@
                 arg, op = inner_toks
                 return "partial", (op, arg, "")
             elif "right partial" in inner_toks:
                 op, arg = inner_toks
                 return "right op partial", (op, arg)
             else:
                 raise CoconutInternalException("invalid op partial tokens in pipe_item", inner_toks)
+        elif "await" in tokens:
+            internal_assert(len(tokens) == 1 and tokens[0] == "await", "invalid await pipe item tokens", tokens)
+            return "await", []
         else:
             raise CoconutInternalException("invalid pipe item tokens", tokens)
 
     def pipe_handle(self, original, loc, tokens, **kwargs):
         """Process pipe calls."""
         self.internal_assert(set(kwargs) <= set(("top",)), original, loc, "unknown pipe_handle keyword arguments", kwargs)
         top = kwargs.get("top", True)
@@ -2195,14 +2410,16 @@
                 return "_coconut.functools.partial(" + join_args(split_item) + ")"
             elif name == "attrgetter":
                 return attrgetter_atom_handle(loc, item)
             elif name == "itemgetter":
                 return itemgetter_handle(item)
             elif name == "right op partial":
                 return partial_op_item_handle(item)
+            elif name == "await":
+                raise CoconutDeferredSyntaxError("await in pipe must have something piped into it", loc)
             else:
                 raise CoconutInternalException("invalid split pipe item", split_item)
 
         else:
             item, op = tokens.pop(), tokens.pop()
             direction, stars, none_aware = pipe_info(op)
             star_str = "*" * stars
@@ -2260,49 +2477,55 @@
                         out = fmtstr.format(x=out, args=args)
                     return out
                 elif name == "right op partial":
                     if stars:
                         raise CoconutDeferredSyntaxError("cannot star pipe into operator partial", loc)
                     op, arg = split_item
                     return "({op})({x}, {arg})".format(op=op, x=subexpr, arg=arg)
+                elif name == "await":
+                    internal_assert(not split_item, "invalid split await pipe item tokens", split_item)
+                    if stars:
+                        raise CoconutDeferredSyntaxError("cannot star pipe into await", loc)
+                    return self.await_expr_handle(original, loc, [subexpr])
                 else:
                     raise CoconutInternalException("invalid split pipe item", split_item)
 
             else:
                 raise CoconutInternalException("invalid pipe operator direction", direction)
 
-    def item_handle(self, loc, tokens):
+    def item_handle(self, original, loc, tokens):
         """Process trailers."""
         out = tokens.pop(0)
         for i, trailer in enumerate(tokens):
             if isinstance(trailer, str):
                 out += trailer
             elif len(trailer) == 1:
                 if trailer[0] == "$[]":
                     out = "_coconut.functools.partial(_coconut_iter_getitem, " + out + ")"
                 elif trailer[0] == "$":
                     out = "_coconut.functools.partial(_coconut.functools.partial, " + out + ")"
                 elif trailer[0] == "[]":
                     out = "_coconut.functools.partial(_coconut.operator.getitem, " + out + ")"
                 elif trailer[0] == ".":
+                    self.strict_err_or_warn("'obj.' as a shorthand for 'getattr$(obj)' is deprecated (just use the getattr partial)", original, loc)
                     out = "_coconut.functools.partial(_coconut.getattr, " + out + ")"
                 elif trailer[0] == "type:[]":
                     out = "_coconut.typing.Sequence[" + out + "]"
                 elif trailer[0] == "type:$[]":
                     out = "_coconut.typing.Iterable[" + out + "]"
                 elif trailer[0] == "type:?":
                     out = "_coconut.typing.Optional[" + out + "]"
                 elif trailer[0] == "?":
                     # short-circuit the rest of the evaluation
                     rest_of_trailers = tokens[i + 1:]
                     if len(rest_of_trailers) == 0:
                         raise CoconutDeferredSyntaxError("None-coalescing '?' must have something after it", loc)
                     not_none_tokens = [none_coalesce_var]
                     not_none_tokens.extend(rest_of_trailers)
-                    not_none_expr = self.item_handle(loc, not_none_tokens)
+                    not_none_expr = self.item_handle(original, loc, not_none_tokens)
                     # := changes meaning inside lambdas, so we must disallow it when wrapping
                     #  user expressions in lambdas (and naive string analysis is safe here)
                     if ":=" in not_none_expr:
                         raise CoconutDeferredSyntaxError("illegal assignment expression after a None-coalescing '?'", loc)
                     return "(lambda {x}: None if {x} is None else {rest})({inp})".format(
                         x=none_coalesce_var,
                         rest=not_none_expr,
@@ -2381,15 +2604,14 @@
 while True:
     try:
         yield _coconut.next({yield_from_var})
     except _coconut.StopIteration as {yield_err_var}:
         {ret_val_name} = {yield_err_var}.args[0] if _coconut.len({yield_err_var}.args) > 0 else None
         break
                 ''',
-                add_newline=True,
             ).format(
                 expr=expr,
                 yield_from_var=self.get_temp_var("yield_from"),
                 yield_err_var=self.get_temp_var("yield_err"),
                 ret_val_name=ret_val_name,
             )
             return ret_val_name
@@ -2401,15 +2623,15 @@
         endline, = tokens
         lines = endline.splitlines(True)
         if self.minify:
             lines = lines[0]
         out = []
         ln = lineno(loc, original)
         for endline in lines:
-            out.append(self.wrap_line_number(ln) + endline)
+            out += [self.wrap_line_number(ln), endline]
             ln += 1
         return "".join(out)
 
     def comment_handle(self, original, loc, tokens):
         """Store comment in comments."""
         comment_marker, = tokens
         ln = self.adjust(lineno(loc, original))
@@ -2528,31 +2750,36 @@
         else:
             raise CoconutInternalException("invalid pattern-matching tokens in data", match_tokens)
 
         check_var = self.get_temp_var("match_check")
         matcher = self.get_matcher(original, loc, check_var, name_list=[])
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
-        matcher.match_function(match_to_args_var, match_to_kwargs_var, pos_only_args, req_args + default_args, star_arg, kwd_only_args, dubstar_arg)
+        matcher.match_function(
+            pos_only_match_args=pos_only_args,
+            match_args=req_args + default_args,
+            star_arg=star_arg,
+            kwd_only_match_args=kwd_only_args,
+            dubstar_arg=dubstar_arg,
+        )
 
         if cond is not None:
             matcher.add_guard(cond)
 
         extra_stmts = handle_indentation(
             '''
-def __new__(_coconut_cls, *{match_to_args_var}, **{match_to_kwargs_var}):
+def __new__(_coconut_cls, {match_func_paramdef}):
     {check_var} = False
     {matching}
     {pattern_error}
     return _coconut.tuple.__new__(_coconut_cls, {arg_tuple})
             ''',
             add_newline=True,
         ).format(
-            match_to_args_var=match_to_args_var,
-            match_to_kwargs_var=match_to_kwargs_var,
+            match_func_paramdef=match_func_paramdef,
             check_var=check_var,
             matching=matcher.out(),
             pattern_error=self.pattern_error(original, loc, match_to_args_var, check_var, function_match_error_var),
             arg_tuple=tuple_str_of(matcher.name_list),
         )
 
         namedtuple_call = self.make_namedtuple_call(name, matcher.name_list)
@@ -2729,25 +2956,32 @@
     def assemble_data(self, decorators, name, namedtuple_call, inherit, extra_stmts, stmts, match_args, paramdefs=()):
         """Create a data class definition from the given components.
 
         IMPORTANT: Any changes to assemble_data must be reflected in the
         definition of Expected in header.py_template.
         """
         # create class
-        out = (
-            "".join(paramdefs)
-            + decorators
-            + "class " + name + "("
-            + namedtuple_call
-            + (", " + inherit if inherit is not None else "")
-            + (", " + self.get_generic_for_typevars() if paramdefs else "")
-            + (", _coconut.object" if not self.target.startswith("3") else "")
-            + "):\n"
-            + openindent
-        )
+        out = [
+            "".join(paramdefs),
+            decorators,
+            "class ",
+            name,
+            "(",
+            namedtuple_call,
+        ]
+        if inherit is not None:
+            out += [", ", inherit]
+        if paramdefs:
+            out += [", ", self.get_generic_for_typevars()]
+        if not self.target.startswith("3"):
+            out.append(", _coconut.object")
+        out += [
+            "):\n",
+            openindent,
+        ]
 
         # add universal statements
         all_extra_stmts = handle_indentation(
             """
 __slots__ = ()
 {is_data_var} = True
 __match_args__ = {match_args}
@@ -2766,39 +3000,39 @@
             match_args=tuple_str_of(match_args, add_quotes=True),
         )
         all_extra_stmts += extra_stmts
 
         # manage docstring
         rest = None
         if "simple" in stmts and len(stmts) == 1:
-            out += all_extra_stmts
+            out += [all_extra_stmts]
             rest = stmts[0]
         elif "docstring" in stmts and len(stmts) == 1:
-            out += stmts[0] + all_extra_stmts
+            out += [stmts[0], all_extra_stmts]
         elif "complex" in stmts and len(stmts) == 1:
-            out += all_extra_stmts
+            out += [all_extra_stmts]
             rest = "".join(stmts[0])
         elif "complex" in stmts and len(stmts) == 2:
-            out += stmts[0] + all_extra_stmts
+            out += [stmts[0], all_extra_stmts]
             rest = "".join(stmts[1])
         elif "empty" in stmts and len(stmts) == 1:
-            out += all_extra_stmts.rstrip() + stmts[0]
+            out += [all_extra_stmts.rstrip(), stmts[0]]
         else:
             raise CoconutInternalException("invalid inner data tokens", stmts)
 
         # create full data definition
         if rest is not None and rest != "pass\n":
-            out += rest
-        out += closeindent
+            out.append(rest)
+        out.append(closeindent)
 
         # add override detection
         if self.target_info < (3, 6):
-            out += "_coconut_call_set_names(" + name + ")\n"
+            out += ["_coconut_call_set_names(", name, ")\n"]
 
-        return out
+        return "".join(out)
 
     def anon_namedtuple_handle(self, tokens):
         """Handle anonymous named tuples."""
         names = []
         types = {}
         items = []
         for i, tok in enumerate(tokens):
@@ -2911,15 +3145,15 @@
                 stmts.extend(more_stmts)
             else:
                 old_imp, new_imp, version_check = paths
                 # we have to do this craziness to get mypy to statically handle the version check
                 stmts.append(
                     handle_indentation("""
 try:
-    {store_var} = sys
+    {store_var} = sys {type_ignore}
 except _coconut.NameError:
     {store_var} = _coconut_sentinel
 sys = _coconut_sys
 if sys.version_info >= {version_check}:
     {new_imp}
 else:
     {old_imp}
@@ -2927,14 +3161,15 @@
     sys = {store_var}
                 """).format(
                         store_var=self.get_temp_var("sys"),
                         version_check=version_check,
                         new_imp="\n".join(self.single_import(new_imp, imp_as)),
                         # should only type: ignore the old import
                         old_imp="\n".join(self.single_import(old_imp, imp_as, type_ignore=type_ignore)),
+                        type_ignore=self.type_ignore_comment(),
                     ),
                 )
         return "\n".join(stmts)
 
     def import_handle(self, original, loc, tokens):
         """Universalizes imports."""
         if len(tokens) == 1:
@@ -2958,28 +3193,34 @@
 
     def complex_raise_stmt_handle(self, tokens):
         """Process Python 3 raise from statement."""
         raise_expr, from_expr = tokens
         if self.target.startswith("3"):
             return "raise " + raise_expr + " from " + from_expr
         else:
-            raise_from_var = self.get_temp_var("raise_from")
-            return (
-                raise_from_var + " = " + raise_expr + "\n"
-                + raise_from_var + ".__cause__ = " + from_expr + "\n"
-                + "raise " + raise_from_var
+            return handle_indentation(
+                '''
+{raise_from_var} = {raise_expr}
+{raise_from_var}.__cause__ = {from_expr}
+raise {raise_from_var}
+                ''',
+            ).format(
+                raise_from_var=self.get_temp_var("raise_from"),
+                raise_expr=raise_expr,
+                from_expr=from_expr,
             )
 
     def dict_comp_handle(self, loc, tokens):
         """Process Python 2.7 dictionary comprehension."""
         key, val, comp = tokens
-        if self.target.startswith("3"):
+        # on < 3.9 have to use _coconut.dict since it's different than py_dict
+        if self.target_info >= (3, 9):
             return "{" + key + ": " + val + " " + comp + "}"
         else:
-            return "dict(((" + key + "), (" + val + ")) " + comp + ")"
+            return "_coconut.dict(((" + key + "), (" + val + ")) " + comp + ")"
 
     def pattern_error(self, original, loc, value_var, check_var, match_error_class='_coconut_MatchError'):
         """Construct a pattern-matching error message."""
         base_line = clean(self.reformat(getline(loc, original), ignore_errors=True)).strip()
         line_wrap = self.wrap_str_of(base_line)
         return handle_indentation(
             """
@@ -3016,17 +3257,23 @@
         if match_check_var is None:
             match_check_var = self.get_temp_var("match_check")
 
         matching = self.get_matcher(original, loc, match_check_var)
         matching.match(matches, match_to_var)
         if cond:
             matching.add_guard(cond)
-        return (
-            match_to_var + " = " + item + "\n"
-            + matching.build(stmts, invert=invert)
+        return handle_indentation(
+            '''
+{match_to_var} = {item}
+{match}
+            ''',
+        ).format(
+            match_to_var=match_to_var,
+            item=item,
+            match=matching.build(stmts, invert=invert),
         )
 
     def destructuring_stmt_handle(self, original, loc, tokens):
         """Process match assign blocks."""
         matches, item = tokens
         match_to_var = self.get_temp_var("match_to")
         match_check_var = self.get_temp_var("match_check")
@@ -3044,23 +3291,26 @@
         else:
             raise CoconutInternalException("invalid match function definition tokens", tokens)
 
         check_var = self.get_temp_var("match_check")
         matcher = self.get_matcher(original, loc, check_var)
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
-        matcher.match_function(match_to_args_var, match_to_kwargs_var, pos_only_args, req_args + default_args, star_arg, kwd_only_args, dubstar_arg)
+        matcher.match_function(
+            pos_only_match_args=pos_only_args,
+            match_args=req_args + default_args,
+            star_arg=star_arg,
+            kwd_only_match_args=kwd_only_args,
+            dubstar_arg=dubstar_arg,
+        )
 
         if cond is not None:
             matcher.add_guard(cond)
 
-        before_colon = (
-            "def " + func
-            + "(*" + match_to_args_var + ", **" + match_to_kwargs_var + ")"
-        )
+        before_colon = "def " + func + "(" + match_func_paramdef + ")"
         after_docstring = (
             openindent
             + check_var + " = False\n"
             + matcher.out()
             # we only include match_to_args_var here because match_to_kwargs_var is modified during matching
             + self.pattern_error(original, loc, match_to_args_var, check_var, function_match_error_var)
             # closeindent because the suite will have its own openindent/closeindent
@@ -3116,21 +3366,24 @@
             else:
                 raise CoconutInternalException("invalid set type", set_type)
         else:
             raise CoconutInternalException("invalid set literal tokens", tokens)
 
     def stmt_lambdef_handle(self, original, loc, tokens):
         """Process multi-line lambdef statements."""
-        kwds, params, stmts_toks = tokens
+        got_kwds, params, stmts_toks = tokens
 
         is_async = False
-        for kwd in kwds:
+        add_kwds = []
+        for kwd in got_kwds:
             if kwd == "async":
                 self.internal_assert(not is_async, original, loc, "duplicate stmt_lambdef async keyword", kwd)
                 is_async = True
+            elif kwd == "copyclosure":
+                add_kwds.append(kwd)
             else:
                 raise CoconutInternalException("invalid stmt_lambdef keyword", kwd)
 
         if len(stmts_toks) == 1:
             stmts, = stmts_toks
         elif len(stmts_toks) == 2:
             stmts, last = stmts_toks
@@ -3154,14 +3407,16 @@
             funcdef = (
                 before_colon
                 + ":\n"
                 + after_docstring
                 + body
             )
 
+        funcdef = " ".join(add_kwds + [funcdef])
+
         self.add_code_before[name] = self.decoratable_funcdef_stmt_handle(original, loc, [decorators, funcdef], is_async, is_stmt_lambda=True)
 
         return name
 
     def decoratable_funcdef_stmt_handle(self, original, loc, tokens, is_async=False, is_stmt_lambda=False):
         """Wraps the given function for later processing"""
         if len(tokens) == 1:
@@ -3190,95 +3445,125 @@
             return self.wrap_passthrough("(yield from " + await_expr + ")", early=True)
         else:
             # this yield is fine because we can detect the _coconut.asyncio.From
             return "(yield _coconut.asyncio.From(" + await_expr + "))"
 
     def unsafe_typedef_handle(self, tokens):
         """Process type annotations without a comma after them."""
-        return self.typedef_handle(tokens.asList() + [","])
+        # we add an empty string token to take the place of the comma,
+        #  but it should be empty so we don't actually put a comma in
+        return self.typedef_handle(tokens.asList() + [""])
+
+    def wrap_code_before(self, add_code_before_list):
+        """Wrap code to add before by putting it behind a TYPE_CHECKING check."""
+        if not add_code_before_list:
+            return ""
+        return "if _coconut.typing.TYPE_CHECKING:\n" + openindent + "\n".join(add_code_before_list) + closeindent
 
-    def wrap_typedef(self, typedef, for_py_typedef):
+    def wrap_typedef(self, typedef, for_py_typedef, duplicate=False):
         """Wrap a type definition in a string to defer it unless --no-wrap or __future__.annotations."""
         if self.no_wrap or for_py_typedef and self.target_info >= (3, 7):
             return typedef
         else:
-            return self.wrap_str_of(self.reformat(typedef, ignore_errors=False))
+            reformatted_typedef, ignore_names, add_code_before_list = self.reformat_without_adding_code_before(typedef, ignore_errors=False)
+            wrapped = self.wrap_str_of(reformatted_typedef)
+            if duplicate:
+                # duplicate means that the necessary add_code_before will already have been done
+                add_code_before = ""
+            else:
+                # since we're wrapping the typedef, also wrap the code to add before
+                add_code_before = self.wrap_code_before(add_code_before_list)
+            return self.add_code_before_marker_with_replacement(wrapped, add_code_before, ignore_names=ignore_names)
+
+    def wrap_type_comment(self, typedef, is_return=False, add_newline=False):
+        reformatted_typedef, ignore_names, add_code_before_list = self.reformat_without_adding_code_before(typedef, ignore_errors=False)
+        if is_return:
+            type_comment = " type: (...) -> " + reformatted_typedef
+        else:
+            type_comment = " type: " + reformatted_typedef
+        wrapped = self.wrap_comment(type_comment)
+        if add_newline:
+            wrapped += non_syntactic_newline
+        # since we're wrapping the typedef, also wrap the code to add before
+        add_code_before = self.wrap_code_before(add_code_before_list)
+        return self.add_code_before_marker_with_replacement(wrapped, add_code_before, ignore_names=ignore_names)
 
     def typedef_handle(self, tokens):
         """Process Python 3 type annotations."""
         if len(tokens) == 1:  # return typedef
+            typedef, = tokens
             if self.target.startswith("3"):
-                return " -> " + self.wrap_typedef(tokens[0], for_py_typedef=True) + ":"
+                return " -> " + self.wrap_typedef(typedef, for_py_typedef=True) + ":"
             else:
-                return ":\n" + self.wrap_comment(" type: (...) -> " + tokens[0])
+                return ":\n" + self.wrap_type_comment(typedef, is_return=True)
         else:  # argument typedef
             if len(tokens) == 3:
                 varname, typedef, comma = tokens
                 default = ""
             elif len(tokens) == 4:
                 varname, typedef, default, comma = tokens
             else:
                 raise CoconutInternalException("invalid type annotation tokens", tokens)
             if self.target.startswith("3"):
                 return varname + ": " + self.wrap_typedef(typedef, for_py_typedef=True) + default + comma
             else:
-                return varname + default + comma + self.wrap_passthrough(self.wrap_comment(" type: " + typedef) + non_syntactic_newline, early=True)
+                return varname + default + comma + self.wrap_type_comment(typedef, add_newline=True)
 
     def typed_assign_stmt_handle(self, tokens):
         """Process Python 3.6 variable type annotations."""
         if len(tokens) == 2:
             name, typedef = tokens
             value = None
         elif len(tokens) == 3:
             name, typedef, value = tokens
         else:
             raise CoconutInternalException("invalid variable type annotation tokens", tokens)
 
         if self.target_info >= (3, 6):
             return name + ": " + self.wrap_typedef(typedef, for_py_typedef=True) + ("" if value is None else " = " + value)
         else:
-            return handle_indentation('''
+            return handle_indentation(
+                '''
 {name} = {value}{comment}
 if "__annotations__" not in _coconut.locals():
-    __annotations__ = {{}}
+    __annotations__ = {{}} {type_ignore}
 __annotations__["{name}"] = {annotation}
-            ''').format(
+                ''',
+            ).format(
                 name=name,
                 value=(
                     value if value is not None
                     else "_coconut.typing.cast(_coconut.typing.Any, {ellipsis})".format(ellipsis=self.ellipsis_handle())
                 ),
-                comment=self.wrap_comment(" type: " + typedef),
-                annotation=self.wrap_typedef(typedef, for_py_typedef=False),
+                comment=self.wrap_type_comment(typedef),
+                annotation=self.wrap_typedef(typedef, for_py_typedef=False, duplicate=True),
+                type_ignore=self.type_ignore_comment(),
             )
 
     def funcname_typeparams_handle(self, tokens):
         """Handle function names with type parameters."""
         if len(tokens) == 1:
             name, = tokens
             return name
         else:
             name, paramdefs = tokens
-            # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
-            temp_marker = self.get_temp_var("type_param_func")
-            self.add_code_before[temp_marker] = "".join(paramdefs)
-            self.add_code_before_replacements[temp_marker] = name
-            return temp_marker
+            return self.add_code_before_marker_with_replacement(name, "".join(paramdefs), add_spaces=False)
 
     funcname_typeparams_handle.ignore_one_token = True
 
     def type_param_handle(self, original, loc, tokens):
         """Compile a type param into an assignment."""
         bounds = ""
+        kwargs = ""
         if "TypeVar" in tokens:
             TypeVarFunc = "TypeVar"
-            if len(tokens) == 1:
-                name, = tokens
+            if len(tokens) == 2:
+                name_loc, name = tokens
             else:
-                name, bound_op, bound = tokens
+                name_loc, name, bound_op, bound = tokens
                 if bound_op == "<=":
                     self.strict_err_or_warn(
                         "use of " + repr(bound_op) + " as a type parameter bound declaration operator is deprecated (Coconut style is to use '<:' operator)",
                         original,
                         loc,
                     )
                 elif bound_op == ":":
@@ -3286,36 +3571,48 @@
                         "found use of " + repr(bound_op) + " as a type parameter bound declaration operator (Coconut style is to use '<:' operator)",
                         original,
                         loc,
                     )
                 else:
                     self.internal_assert(bound_op == "<:", original, loc, "invalid type_param bound_op", bound_op)
                 bounds = ", bound=" + self.wrap_typedef(bound, for_py_typedef=False)
+            # uncomment this line whenever mypy adds support for infer_variance in TypeVar
+            #  (and remove the warning about it in the DOCS)
+            # kwargs = ", infer_variance=True"
         elif "TypeVarTuple" in tokens:
             TypeVarFunc = "TypeVarTuple"
-            name, = tokens
+            name_loc, name = tokens
         elif "ParamSpec" in tokens:
             TypeVarFunc = "ParamSpec"
-            name, = tokens
+            name_loc, name = tokens
         else:
             raise CoconutInternalException("invalid type_param tokens", tokens)
 
+        name_loc = int(name_loc)
+        internal_assert(name_loc == loc if TypeVarFunc == "TypeVar" else name_loc >= loc, "invalid name location for " + TypeVarFunc, (name_loc, loc, tokens))
+
         typevar_info = self.current_parsing_context("typevars")
         if typevar_info is not None:
-            if name in typevar_info["all_typevars"]:
-                raise CoconutDeferredSyntaxError("type variable {name!r} already defined", loc)
-            temp_name = self.get_temp_var("typevar_" + name)
-            typevar_info["all_typevars"][name] = temp_name
-            typevar_info["new_typevars"].append((TypeVarFunc, temp_name))
-            name = temp_name
+            # check to see if we already parsed this exact typevar, in which case just reuse the existing temp_name
+            if typevar_info["typevar_locs"].get(name, None) == name_loc:
+                name = typevar_info["all_typevars"][name]
+            else:
+                if name in typevar_info["all_typevars"]:
+                    raise CoconutDeferredSyntaxError("type variable {name!r} already defined".format(name=name), loc)
+                temp_name = self.get_temp_var("typevar_" + name)
+                typevar_info["all_typevars"][name] = temp_name
+                typevar_info["new_typevars"].append((TypeVarFunc, temp_name))
+                typevar_info["typevar_locs"][name] = name_loc
+                name = temp_name
 
-        return '{name} = _coconut.typing.{TypeVarFunc}("{name}"{bounds})\n'.format(
+        return '{name} = _coconut.typing.{TypeVarFunc}("{name}"{bounds}{kwargs})\n'.format(
             name=name,
             TypeVarFunc=TypeVarFunc,
             bounds=bounds,
+            kwargs=kwargs,
         )
 
     def get_generic_for_typevars(self):
         """Get the Generic instances for the current typevars."""
         typevar_info = self.current_parsing_context("typevars")
         internal_assert(typevar_info is not None, "get_generic_for_typevars called with no typevars")
         generics = []
@@ -3324,25 +3621,26 @@
                 generics.append(name)
             elif TypeVarFunc == "TypeVarTuple":
                 if self.target_info >= (3, 11):
                     generics.append("*" + name)
                 else:
                     generics.append("_coconut.typing.Unpack[" + name + "]")
             else:
-                raise CoconutInternalException("invalid TypeVarFunc", TypeVarFunc)
+                raise CoconutInternalException("invalid TypeVarFunc", TypeVarFunc, "(", name, ")")
         return "_coconut.typing.Generic[" + ", ".join(generics) + "]"
 
     @contextmanager
     def type_alias_stmt_manage(self, item=None, original=None, loc=None):
         """Manage the typevars parsing context."""
         typevars_stack = self.parsing_context["typevars"]
         prev_typevar_info = self.current_parsing_context("typevars")
         typevars_stack.append({
             "all_typevars": {} if prev_typevar_info is None else prev_typevar_info["all_typevars"].copy(),
             "new_typevars": [],
+            "typevar_locs": {},
         })
         try:
             yield
         finally:
             typevars_stack.pop()
 
     def type_alias_stmt_handle(self, tokens):
@@ -3545,38 +3843,17 @@
         """Handle Type | Type typedefs."""
         internal_assert(len(tokens) >= 2, "invalid union typedef tokens", tokens)
         if self.target_info >= (3, 10):
             return " | ".join(tokens)
         else:
             return "_coconut.typing.Union[" + ", ".join(tokens) + "]"
 
-    def split_star_expr_tokens(self, tokens):
-        """Split testlist_star_expr or dict_literal tokens."""
-        groups = [[]]
-        has_star = False
-        has_comma = False
-        for tok_grp in tokens:
-            if tok_grp == ",":
-                has_comma = True
-            elif len(tok_grp) == 1:
-                groups[-1].append(tok_grp[0])
-            elif len(tok_grp) == 2:
-                internal_assert(not tok_grp[0].lstrip("*"), "invalid star expr item signifier", tok_grp[0])
-                has_star = True
-                groups.append(tok_grp[1])
-                groups.append([])
-            else:
-                raise CoconutInternalException("invalid testlist_star_expr tokens", tokens)
-        if not groups[-1]:
-            groups.pop()
-        return groups, has_star, has_comma
-
     def testlist_star_expr_handle(self, original, loc, tokens, is_list=False):
         """Handle naked a, *b."""
-        groups, has_star, has_comma = self.split_star_expr_tokens(tokens)
+        groups, has_star, has_comma = split_star_expr_tokens(tokens)
         is_sequence = has_comma or is_list
 
         if not is_sequence and not has_star:
             self.internal_assert(len(groups) == 1 and len(groups[0]) == 1, original, loc, "invalid single-item testlist_star_expr tokens", tokens)
             out = groups[0][0]
 
         elif not has_star:
@@ -3615,43 +3892,52 @@
         else:
             return out  # the grammar wraps this in parens as needed
 
     def list_expr_handle(self, original, loc, tokens):
         """Handle non-comprehension list literals."""
         return self.testlist_star_expr_handle(original, loc, tokens, is_list=True)
 
+    def make_dict(self, tok_grp):
+        """Construct a dictionary literal out of the given group."""
+        # on < 3.9 have to use _coconut.dict since it's different than py_dict
+        if self.target_info >= (3, 9):
+            return "{" + join_dict_group(tok_grp) + "}"
+        else:
+            return "_coconut.dict((" + join_dict_group(tok_grp, as_tuples=True) + "))"
+
     def dict_literal_handle(self, tokens):
         """Handle {**d1, **d2}."""
         if not tokens:
-            return "{}"
+            # on < 3.9 have to use _coconut.dict since it's different than py_dict
+            return "{}" if self.target_info >= (3, 9) else "_coconut.dict()"
 
-        groups, has_star, _ = self.split_star_expr_tokens(tokens)
+        groups, has_star, _ = split_star_expr_tokens(tokens, is_dict=True)
 
         if not has_star:
             internal_assert(len(groups) == 1, "dict_literal group splitting failed on", tokens)
-            return "{" + ", ".join(groups[0]) + "}"
+            return self.make_dict(groups[0])
 
-        # naturally supported on 3.5+
-        elif self.target_info >= (3, 5):
+        # supported on 3.5, but only guaranteed to be ordered on 3.7
+        elif self.target_info >= (3, 7):
             to_literal = []
             for g in groups:
-                if isinstance(g, list):
-                    to_literal.extend(g)
-                else:
+                if not isinstance(g, list):
                     to_literal.append("**" + g)
+                elif g:
+                    to_literal.append(join_dict_group(g))
             return "{" + ", ".join(to_literal) + "}"
 
         # otherwise universalize
         else:
             to_merge = []
             for g in groups:
-                if isinstance(g, list):
-                    to_merge.append("{" + ", ".join(g) + "}")
-                else:
+                if not isinstance(g, list):
                     to_merge.append(g)
+                elif g:
+                    to_merge.append(self.make_dict(g))
             return "_coconut_dict_merge(" + ", ".join(to_merge) + ")"
 
     def new_testlist_star_expr_handle(self, tokens):
         """Handles new starred expressions that only started being allowed
         outside of parentheses in Python 3.9."""
         item, = tokens
         if (3, 5) <= self.target_info <= (3, 8):
@@ -3712,14 +3998,61 @@
             op, term = tokens[i:i + 2]
             if op == "@" and self.target_info < (3, 5):
                 out = ["_coconut_matmul(" + " ".join(out) + ", " + term + ")"]
             else:
                 out += [op, term]
         return " ".join(out)
 
+    def impl_call_handle(self, loc, tokens):
+        """Process implicit function application or coefficient syntax."""
+        internal_assert(len(tokens) >= 2, "invalid implicit call / coefficient tokens", tokens)
+        first_is_num = does_parse(self.number, tokens[0])
+        if first_is_num:
+            if does_parse(self.number, tokens[1]):
+                raise CoconutDeferredSyntaxError("multiplying two or more numeric literals with implicit coefficient syntax is prohibited", loc)
+            return "(" + " * ".join(tokens) + ")"
+        else:
+            return "_coconut_call_or_coefficient(" + ", ".join(tokens) + ")"
+
+    def keyword_funcdef_handle(self, tokens):
+        """Process function definitions with keywords in front."""
+        keywords, funcdef = tokens
+        for kwd in keywords:
+            if kwd == "yield":
+                funcdef += handle_indentation(
+                    """
+if False:
+    yield
+                    """,
+                    add_newline=True,
+                    extra_indent=1,
+                )
+            else:
+                # new keywords here must be replicated in def_regex and handled in proc_funcdef
+                internal_assert(kwd in ("addpattern", "copyclosure"), "unknown deferred funcdef keyword", kwd)
+                funcdef = kwd + " " + funcdef
+        return funcdef
+
+    def protocol_intersect_expr_handle(self, tokens):
+        if len(tokens) == 1:
+            return tokens[0]
+        internal_assert(len(tokens) >= 2, "invalid protocol intersection tokens", tokens)
+        protocol_var = self.get_temp_var("protocol_intersection")
+        self.add_code_before[protocol_var] = handle_indentation(
+            '''
+class {protocol_var}({tokens}, _coconut.typing.Protocol): pass
+            ''',
+        ).format(
+            protocol_var=protocol_var,
+            tokens=", ".join(tokens),
+        )
+        return protocol_var
+
+    protocol_intersect_expr_handle.ignore_one_token = True
+
 # end: HANDLERS
 # -----------------------------------------------------------------------------------------------------------------------
 # CHECKING HANDLERS:
 # -----------------------------------------------------------------------------------------------------------------------
 
     def check_strict(self, name, original, loc, tokens, only_warn=False, always_warn=False):
         """Check that syntax meets --strict requirements."""
@@ -3755,14 +4088,25 @@
         """Check for Python-3.10-style implicit dotted name match check."""
         return self.check_strict("Python-3.10-style dotted name in pattern-matching (Coconut style is to use '=={name}' not '{name}')".format(name=tokens[0]), original, loc, tokens)
 
     def match_check_equals_check(self, original, loc, tokens):
         """Check for old-style =item in pattern-matching."""
         return self.check_strict("deprecated equality-checking '=...' pattern; use '==...' instead", original, loc, tokens, always_warn=True)
 
+    def power_in_impl_call_check(self, original, loc, tokens):
+        """Check for exponentation in implicit function application / coefficient syntax."""
+        return self.check_strict(
+            "syntax with new behavior in Coconut v3; 'f x ** y' is now equivalent to 'f(x**y)' not 'f(x)**y'",
+            original,
+            loc,
+            tokens,
+            only_warn=True,
+            always_warn=True,
+        )
+
     def check_py(self, version, name, original, loc, tokens):
         """Check for Python-version-specific syntax."""
         self.internal_assert(len(tokens) == 1, original, loc, "invalid " + name + " tokens", tokens)
         version_info = get_target_info(version)
         if self.target_info < version_info:
             raise self.make_err(CoconutTargetError, "found Python " + ".".join(str(v) for v in version_info) + " " + name, original, loc, target=version)
         else:
@@ -3835,25 +4179,29 @@
         #  raise spurious errors if not using the computation graph
 
         if not escaped:
             typevar_info = self.current_parsing_context("typevars")
             if typevar_info is not None:
                 typevars = typevar_info["all_typevars"]
                 if name in typevars:
-                    if assign:
-                        return self.raise_or_wrap_error(
-                            self.make_err(
-                                CoconutSyntaxError,
-                                "cannot reassign type variable '{name}'".format(name=name),
-                                original,
-                                loc,
-                                extra="use explicit '\\{name}' syntax if intended".format(name=name),
-                            ),
-                        )
-                    return typevars[name]
+                    # if we're looking at the same position where the typevar was defined,
+                    #  then we shouldn't treat this as a typevar, since then it's either
+                    #  a reparse of a setname in a typevar, or not a typevar at all
+                    if typevar_info["typevar_locs"].get(name, None) != loc:
+                        if assign:
+                            return self.raise_or_wrap_error(
+                                self.make_err(
+                                    CoconutSyntaxError,
+                                    "cannot reassign type variable '{name}'".format(name=name),
+                                    original,
+                                    loc,
+                                    extra="use explicit '\\{name}' syntax if intended".format(name=name),
+                                ),
+                            )
+                        return typevars[name]
 
         if not assign:
             self.unused_imports.pop(name, None)
 
         if (
             assign
             and not escaped
@@ -3886,19 +4234,15 @@
                 )
             else:
                 return "_coconut_exec"
         elif not assign and name in super_names and not self.target.startswith("3"):
             if self.in_method:
                 cls_context = self.current_parsing_context("class")
                 enclosing_cls = cls_context["name_prefix"] + cls_context["name"]
-                # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
-                temp_marker = self.get_temp_var("super")
-                self.add_code_before[temp_marker] = "__class__ = " + enclosing_cls + "\n"
-                self.add_code_before_replacements[temp_marker] = name
-                return temp_marker
+                return self.add_code_before_marker_with_replacement(name, "__class__ = " + enclosing_cls + "\n", add_spaces=False)
             else:
                 return name
         elif not escaped and name.startswith(reserved_prefix) and name not in self.operators:
             return self.raise_or_wrap_error(
                 self.make_err(
                     CoconutSyntaxError,
                     "variable names cannot start with reserved prefix '{prefix}' (use explicit '\\{name}' syntax if intending to access Coconut internals)".format(prefix=reserved_prefix, name=name),
```

### Comparing `coconut-2.2.0/coconut/compiler/grammar.py` & `coconut-3.0.0/coconut/compiler/grammar.py`

 * *Files 6% similar despite different names*

```diff
@@ -25,14 +25,15 @@
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 from collections import defaultdict
 from contextlib import contextmanager
+from functools import partial
 
 from coconut._pyparsing import (
     CaselessLiteral,
     Forward,
     Group,
     Literal,
     OneOrMore,
@@ -50,14 +51,15 @@
     quotedString,
     restOfLine,
 )
 
 from coconut.util import (
     memoize,
     get_clock_time,
+    keydefaultdict,
 )
 from coconut.exceptions import (
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 from coconut.terminal import (
     trace,
@@ -72,14 +74,16 @@
     const_vars,
     reserved_vars,
     none_coalesce_var,
     func_var,
     untcoable_funcs,
     early_passthrough_wrapper,
     new_operators,
+    wildcard,
+    op_func_protocols,
 )
 from coconut.compiler.util import (
     combine,
     attach,
     fixto,
     addspace,
     condense,
@@ -91,29 +95,30 @@
     exprlist,
     disable_inside,
     disable_outside,
     final,
     split_trailing_indent,
     split_leading_indent,
     collapse_indents,
-    keyword,
+    base_keyword,
     match_in,
     disallow_keywords,
     regex_item,
     stores_loc_item,
     invalid_syntax,
     skip_to_in_line,
-    handle_indentation,
     labeled_group,
     any_keyword_in,
     any_char,
     tuple_str_of,
     any_len_perm,
+    any_len_perm_at_least_one,
     boundary,
     compile_regex,
+    always_match,
 )
 
 
 # end: IMPORTS
 # -----------------------------------------------------------------------------------------------------------------------
 # HELPERS:
 # -----------------------------------------------------------------------------------------------------------------------
@@ -464,29 +469,23 @@
     else:
         raise CoconutInternalException("invalid in-line nonlocal / global tokens", tokens)
 
 
 simple_kwd_assign_handle.ignore_one_token = True
 
 
-def compose_item_handle(tokens):
+def compose_expr_handle(tokens):
     """Process function composition."""
     if len(tokens) == 1:
         return tokens[0]
     internal_assert(len(tokens) >= 1, "invalid function composition tokens", tokens)
     return "_coconut_forward_compose(" + ", ".join(reversed(tokens)) + ")"
 
 
-compose_item_handle.ignore_one_token = True
-
-
-def impl_call_item_handle(tokens):
-    """Process implicit function application."""
-    internal_assert(len(tokens) > 1, "invalid implicit function application tokens", tokens)
-    return tokens[0] + "(" + ", ".join(tokens[1:]) + ")"
+compose_expr_handle.ignore_one_token = True
 
 
 def tco_return_handle(tokens):
     """Process tail-call-optimizable return statements."""
     internal_assert(len(tokens) >= 1, "invalid tail-call-optimizable return statement tokens", tokens)
     if len(tokens) == 1:
         return "return _coconut_tail_call(" + tokens[0] + ")"
@@ -523,36 +522,26 @@
     final_stmt, init_stmts = tokens
     return "".join(init_stmts) + final_stmt + "\n"
 
 
 def kwd_err_msg_handle(tokens):
     """Handle keyword parse error messages."""
     kwd, = tokens
-    return 'invalid use of the keyword "' + kwd + '"'
+    if kwd == "def":
+        return "invalid function definition"
+    else:
+        return 'invalid use of the keyword "' + kwd + '"'
 
 
 def alt_ternary_handle(tokens):
     """Handle if ... then ... else ternary operator."""
     cond, if_true, if_false = tokens
     return "{if_true} if {cond} else {if_false}".format(cond=cond, if_true=if_true, if_false=if_false)
 
 
-def yield_funcdef_handle(tokens):
-    """Handle yield def explicit generators."""
-    funcdef, = tokens
-    return funcdef + handle_indentation(
-        """
-if False:
-    yield
-        """,
-        add_newline=True,
-        extra_indent=1,
-    )
-
-
 def partial_op_item_handle(tokens):
     """Handle operator function implicit partials."""
     tok_grp, = tokens
     if "left partial" in tok_grp:
         arg, op = tok_grp
         return "_coconut.functools.partial(" + op + ", " + arg + ")"
     elif "right partial" in tok_grp:
@@ -599,14 +588,31 @@
     if not array_elems:
         raise CoconutDeferredSyntaxError("multidimensional array literal cannot be only separators", loc)
 
     # build multidimensional array
     return "_coconut_multi_dim_arr(" + tuple_str_of(array_elems) + ", " + str(sep_level) + ")"
 
 
+def typedef_op_item_handle(loc, tokens):
+    """Converts operator functions in type contexts into Protocols."""
+    op_name, = tokens
+    op_name = op_name.strip("_")
+    if op_name.startswith("coconut"):
+        op_name = op_name[len("coconut"):]
+    op_name = op_name.lstrip("._")
+    if op_name.startswith("operator."):
+        op_name = op_name[len("operator."):]
+
+    proto = op_func_protocols.get(op_name)
+    if proto is None:
+        raise CoconutDeferredSyntaxError("operator Protocol for " + repr(op_name) + " operator not supported", loc)
+
+    return proto
+
+
 # end: HANDLERS
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN GRAMMAR:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Grammar(object):
     """Coconut grammar specification."""
@@ -696,15 +702,16 @@
         | invalid_syntax("..**?>", "Coconut's None-aware forward keyword composition pipe is '..?**>', not '..**?>'")
     )
     comp_back_none_dubstar_pipe = (
         Literal("<**?..")
         | fixto(Literal("<**?\u2218"), "<**?..")
         | invalid_syntax("<?**..", "Coconut's None-aware backward keyword composition pipe is '<**?..', not '<?**..'")
     )
-    amp = Literal("&") | fixto(Literal("\u2227") | Literal("\u2229"), "&")
+    amp_colon = Literal("&:")
+    amp = ~amp_colon + Literal("&") | fixto(Literal("\u2227") | Literal("\u2229"), "&")
     caret = Literal("^") | fixto(Literal("\u22bb"), "^")
     unsafe_bar = ~Literal("|>") + ~Literal("|*") + Literal("|") | fixto(Literal("\u2228") | Literal("\u222a"), "|")
     bar = ~rbanana + unsafe_bar | invalid_syntax("\xa6", "invalid broken bar character", greedy=True)
     percent = Literal("%")
     dollar = Literal("$")
     lshift = Literal("<<") | fixto(Literal("\xab"), "<<")
     rshift = Literal(">>") | fixto(Literal("\xbb"), ">>")
@@ -714,27 +721,21 @@
     unsafe_backtick = Literal("`")
     dubbackslash = Literal("\\\\")
     backslash = ~dubbackslash + Literal("\\")
     dubquestion = Literal("??")
     questionmark = ~dubquestion + Literal("?")
     bang = ~Literal("!=") + Literal("!")
 
+    kwds = keydefaultdict(partial(base_keyword, explicit_prefix=colon))
+    keyword = kwds.__getitem__
+
     except_star_kwd = combine(keyword("except") + star)
-    except_kwd = ~except_star_kwd + keyword("except")
-    lambda_kwd = keyword("lambda") | fixto(keyword("\u03bb", explicit_prefix=colon), "lambda")
-    async_kwd = keyword("async", explicit_prefix=colon)
-    await_kwd = keyword("await", explicit_prefix=colon)
-    data_kwd = keyword("data", explicit_prefix=colon)
-    match_kwd = keyword("match", explicit_prefix=colon)
-    case_kwd = keyword("case", explicit_prefix=colon)
-    cases_kwd = keyword("cases", explicit_prefix=colon)
-    where_kwd = keyword("where", explicit_prefix=colon)
-    addpattern_kwd = keyword("addpattern", explicit_prefix=colon)
-    then_kwd = keyword("then", explicit_prefix=colon)
-    type_kwd = keyword("type", explicit_prefix=colon)
+    kwds["except"] = ~except_star_kwd + keyword("except")
+    kwds["lambda"] = keyword("lambda") | fixto(keyword("\u03bb"), "lambda")
+    kwds["operator"] = base_keyword("operator", explicit_prefix=colon, require_whitespace=True)
 
     ellipsis = Forward()
     ellipsis_tokens = Literal("...") | fixto(Literal("\u2026"), "...")
 
     lt = (
         ~Literal("<<")
         + ~Literal("<=")
@@ -804,24 +805,23 @@
     ) | integer
     sci_e = combine(CaselessLiteral("e") + Optional(plus | neg_minus))
     numitem = ~(Literal("0") + Word(nums + "_", exact=1)) + combine(basenum + Optional(sci_e + integer))
     imag_num = combine(numitem + imag_j)
     bin_num = combine(CaselessLiteral("0b") + Optional(underscore.suppress()) + binint)
     oct_num = combine(CaselessLiteral("0o") + Optional(underscore.suppress()) + octint)
     hex_num = combine(CaselessLiteral("0x") + Optional(underscore.suppress()) + hexint)
-    number = addspace(
-        (
-            bin_num
-            | oct_num
-            | hex_num
-            | imag_num
-            | numitem
-        )
-        + Optional(condense(dot + unsafe_name)),
+    number = (
+        bin_num
+        | oct_num
+        | hex_num
+        | imag_num
+        | numitem
     )
+    # make sure that this gets addspaced not condensed so it doesn't produce a SyntaxError
+    num_atom = addspace(number + Optional(condense(dot + unsafe_name)))
 
     moduledoc_item = Forward()
     unwrap = Literal(unwrapper)
     comment = Forward()
     comment_tokens = combine(pound + integer + unwrap)
     string_item = (
         combine(Literal(strwrapper) + integer + unwrap)
@@ -925,14 +925,23 @@
     dubstar_expr = Forward()
     comp_for = Forward()
     test_no_cond = Forward()
     infix_op = Forward()
     namedexpr_test = Forward()
     # for namedexpr locations only supported in Python 3.10
     new_namedexpr_test = Forward()
+    lambdef = Forward()
+
+    typedef = Forward()
+    typedef_default = Forward()
+    unsafe_typedef_default = Forward()
+    typedef_test = Forward()
+    typedef_tuple = Forward()
+    typedef_ellipsis = Forward()
+    typedef_op_item = Forward()
 
     negable_atom_item = condense(Optional(neg_minus) + atom_item)
 
     testlist = trace(itemlist(test, comma, suppress_trailing=False))
     testlist_has_comma = trace(addspace(OneOrMore(condense(test + comma)) + Optional(test)))
     new_namedexpr_testlist_has_comma = trace(addspace(OneOrMore(condense(new_namedexpr_test + comma)) + Optional(test)))
 
@@ -954,15 +963,16 @@
         test + colon.suppress() + test + comp_for
         | invalid_syntax(dubstar_expr + comp_for, "dict unpacking cannot be used in dict comprehension")
     ) + rbrace.suppress()
     dict_literal_ref = (
         lbrace.suppress()
         + Optional(
             tokenlist(
-                Group(addspace(condense(test + colon) + test)) | dubstar_expr,
+                Group(test + colon + test)
+                | dubstar_expr,
                 comma,
             ),
         )
         + rbrace.suppress()
     )
     test_expr = yield_expr | testlist_star_expr
 
@@ -1023,35 +1033,36 @@
         | fixto(gt, "_coconut.operator.gt")
         | fixto(eq, "_coconut.operator.eq")
         | fixto(le, "_coconut.operator.le")
         | fixto(ge, "_coconut.operator.ge")
         | fixto(ne, "_coconut.operator.ne")
         | fixto(tilde, "_coconut.operator.inv")
         | fixto(matrix_at, "_coconut_matmul")
+        | fixto(keyword("is") + keyword("not"), "_coconut.operator.is_not")
+        | fixto(keyword("not") + keyword("in"), "_coconut_not_in")
+
+        # must come after is not / not in
         | fixto(keyword("not"), "_coconut.operator.not_")
         | fixto(keyword("is"), "_coconut.operator.is_")
-        | fixto(keyword("in"), "_coconut.operator.contains")
+        | fixto(keyword("in"), "_coconut_in")
     )
     partialable_op = base_op_item | infix_op
     partial_op_item_tokens = (
         labeled_group(dot.suppress() + partialable_op + test_no_infix, "right partial")
         | labeled_group(test_no_infix + partialable_op + dot.suppress(), "left partial")
     )
     partial_op_item = attach(partial_op_item_tokens, partial_op_item_handle)
-    op_item = trace(partial_op_item | base_op_item)
+    op_item = trace(
+        typedef_op_item
+        | partial_op_item
+        | base_op_item,
+    )
 
     partial_op_atom_tokens = lparen.suppress() + partial_op_item_tokens + rparen.suppress()
 
-    typedef = Forward()
-    typedef_default = Forward()
-    unsafe_typedef_default = Forward()
-    typedef_test = Forward()
-    typedef_tuple = Forward()
-    typedef_ellipsis = Forward()
-
     # we include (var)arg_comma to ensure the pattern matches the whole arg
     arg_comma = comma | fixto(FollowedBy(rparen), "")
     setarg_comma = arg_comma | fixto(FollowedBy(colon), "")
     typedef_ref = setname + colon.suppress() + typedef_test + arg_comma
     default = condense(equals + test)
     unsafe_typedef_default_ref = setname + colon.suppress() + typedef_test + Optional(default)
     typedef_default_ref = unsafe_typedef_default_ref + arg_comma
@@ -1239,15 +1250,15 @@
 
     lazy_items = Optional(tokenlist(test, comma))
     lazy_list = attach(lbanana.suppress() + lazy_items + rbanana.suppress(), lazy_list_handle)
 
     known_atom = trace(
         keyword_atom
         | string_atom
-        | number
+        | num_atom
         | list_item
         | dict_comp
         | dict_literal
         | set_literal
         | set_letter_literal
         | lazy_list
         | typedef_ellipsis
@@ -1273,15 +1284,15 @@
         | invalid_syntax(dollar + questionmark, "'?' must come before '$' in None-coalescing partial application")
         | Group(dollar + ~lparen + ~lbrack)  # keep $ for item_handle
     )
     known_trailer = typedef_trailer | (
         Group(condense(dollar + lbrack) + subscriptgroup + rbrack.suppress())  # $[
         | Group(condense(dollar + lbrack + rbrack))  # $[]
         | Group(condense(lbrack + rbrack))  # []
-        | Group(dot + ~unsafe_name + ~lbrack)  # .
+        | Group(dot + ~unsafe_name + ~lbrack + ~dot)  # .
         | Group(questionmark)  # ?
     ) + ~questionmark
     partial_trailer = (
         Group(fixto(dollar, "$(") + function_call)  # $(
         | Group(fixto(dollar + lparen, "$(?") + questionmark_call_tokens) + rparen.suppress()  # $(?
     ) + ~questionmark
     partial_trailer_tokens = Group(dollar.suppress() + function_call_tokens)
@@ -1340,94 +1351,104 @@
 
     typed_assign_stmt = Forward()
     typed_assign_stmt_ref = simple_assign + colon.suppress() + typedef_test + Optional(equals.suppress() + test_expr)
     basic_stmt = trace(addspace(ZeroOrMore(assignlist + equals) + test_expr))
 
     type_param = Forward()
     type_param_bound_op = lt_colon | colon | le
+    type_var_name = stores_loc_item + setname
     type_param_ref = (
-        (setname + Optional(type_param_bound_op + typedef_test))("TypeVar")
-        | (star.suppress() + setname)("TypeVarTuple")
-        | (dubstar.suppress() + setname)("ParamSpec")
+        (type_var_name + Optional(type_param_bound_op + typedef_test))("TypeVar")
+        | (star.suppress() + type_var_name)("TypeVarTuple")
+        | (dubstar.suppress() + type_var_name)("ParamSpec")
     )
     type_params = Group(lbrack.suppress() + tokenlist(type_param, comma) + rbrack.suppress())
 
     type_alias_stmt = Forward()
-    type_alias_stmt_ref = type_kwd.suppress() + setname + Optional(type_params) + equals.suppress() + typedef_test
+    type_alias_stmt_ref = keyword("type").suppress() + setname + Optional(type_params) + equals.suppress() + typedef_test
+
+    await_expr = Forward()
+    await_expr_ref = keyword("await").suppress() + atom_item
+    await_item = await_expr | atom_item
 
-    impl_call_arg = disallow_keywords(reserved_vars) + (
+    factor = Forward()
+    unary = plus | neg_minus | tilde
+
+    power = condense(exp_dubstar + ZeroOrMore(unary) + await_item)
+    power_in_impl_call = Forward()
+
+    impl_call_arg = condense((
         keyword_atom
         | number
-        | dotted_refname
-    )
-    impl_call = attach(
+        | disallow_keywords(reserved_vars) + dotted_refname
+    ) + Optional(power_in_impl_call))
+    impl_call_item = condense(
         disallow_keywords(reserved_vars)
+        + ~any_string
         + atom_item
-        + OneOrMore(impl_call_arg),
-        impl_call_item_handle,
+        + Optional(power_in_impl_call),
     )
-    impl_call_item = (
-        atom_item + ~impl_call_arg
-        | impl_call
+    impl_call = Forward()
+    impl_call_ref = (
+        impl_call_item + OneOrMore(impl_call_arg)
     )
 
-    await_expr = Forward()
-    await_expr_ref = await_kwd.suppress() + impl_call_item
-    await_item = await_expr | impl_call_item
-
-    lambdef = Forward()
-
-    compose_item = attach(
-        tokenlist(
-            await_item,
-            dotdot + Optional(invalid_syntax(lambdef, "lambdas only allowed after composition pipe operators '..>' and '<..', not '..' (replace '..' with '<..' to fix)")),
-            allow_trailing=False,
-        ), compose_item_handle,
+    factor <<= condense(
+        ZeroOrMore(unary) + (
+            impl_call
+            | await_item + Optional(power)
+        ),
     )
 
-    factor = Forward()
-    unary = plus | neg_minus | tilde
-    power = trace(condense(compose_item + Optional(exp_dubstar + factor)))
-    factor <<= condense(ZeroOrMore(unary) + power)
-
     mulop = mul_star | div_slash | div_dubslash | percent | matrix_at
     addop = plus | sub_minus
     shift = lshift | rshift
 
     term = Forward()
     term_ref = tokenlist(factor, mulop, allow_trailing=False, suppress=False)
 
     # we condense all of these down, since Python handles the precedence, not Coconut
     # arith_expr = exprlist(term, addop)
     # shift_expr = exprlist(arith_expr, shift)
     # and_expr = exprlist(shift_expr, amp)
-    # xor_expr = exprlist(and_expr, caret)
-    xor_expr = exprlist(
+    and_expr = exprlist(
         term,
         addop
         | shift
-        | amp
-        | caret,
+        | amp,
     )
 
+    protocol_intersect_expr = Forward()
+    protocol_intersect_expr_ref = tokenlist(and_expr, amp_colon, allow_trailing=False)
+
+    xor_expr = exprlist(protocol_intersect_expr, caret)
+
     or_expr = typedef_or_expr | exprlist(xor_expr, bar)
 
     chain_expr = attach(tokenlist(or_expr, dubcolon, allow_trailing=False), chain_handle)
 
+    compose_expr = attach(
+        tokenlist(
+            chain_expr,
+            dotdot + Optional(invalid_syntax(lambdef, "lambdas only allowed after composition pipe operators '..>' and '<..', not '..' (replace '..' with '<..' to fix)")),
+            allow_trailing=False,
+        ), compose_expr_handle,
+    )
+
     infix_op <<= backtick.suppress() + test_no_infix + backtick.suppress()
     infix_expr = Forward()
     infix_item = attach(
-        Group(Optional(chain_expr))
+        Group(Optional(compose_expr))
         + OneOrMore(
-            infix_op + Group(Optional(lambdef | chain_expr)),
+            infix_op + Group(Optional(lambdef | compose_expr)),
         ),
         infix_handle,
     )
     infix_expr <<= (
-        chain_expr + ~backtick
+        compose_expr + ~backtick
         | infix_item
     )
 
     none_coalesce_expr = attach(tokenlist(infix_expr, dubquestion, allow_trailing=False), none_coalesce_handle)
 
     comp_pipe_op = (
         comp_pipe
@@ -1464,32 +1485,35 @@
         | none_dubstar_pipe
         | back_none_pipe
         | back_none_star_pipe
         | back_none_dubstar_pipe
     )
     pipe_item = (
         # we need the pipe_op since any of the atoms could otherwise be the start of an expression
-        labeled_group(attrgetter_atom_tokens, "attrgetter") + pipe_op
+        labeled_group(keyword("await"), "await") + pipe_op
+        | labeled_group(attrgetter_atom_tokens, "attrgetter") + pipe_op
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + pipe_op
         | labeled_group(partial_atom_tokens, "partial") + pipe_op
         | labeled_group(partial_op_atom_tokens, "op partial") + pipe_op
         # expr must come at end
         | labeled_group(comp_pipe_expr, "expr") + pipe_op
     )
     pipe_augassign_item = trace(
         # should match pipe_item but with pipe_op -> end_simple_stmt_item and no expr
-        labeled_group(attrgetter_atom_tokens, "attrgetter") + end_simple_stmt_item
+        labeled_group(keyword("await"), "await") + end_simple_stmt_item
+        | labeled_group(attrgetter_atom_tokens, "attrgetter") + end_simple_stmt_item
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + end_simple_stmt_item
         | labeled_group(partial_atom_tokens, "partial") + end_simple_stmt_item
         | labeled_group(partial_op_atom_tokens, "op partial") + end_simple_stmt_item,
     )
     last_pipe_item = Group(
         lambdef("expr")
         # we need longest here because there's no following pipe_op we can use as above
         | longest(
+            keyword("await")("await"),
             attrgetter_atom_tokens("attrgetter"),
             itemgetter_atom_tokens("itemgetter"),
             partial_atom_tokens("partial"),
             partial_op_atom_tokens("op partial"),
             comp_pipe_expr("expr"),
         ),
     )
@@ -1521,15 +1545,15 @@
     suite = Forward()
     nocolon_suite = Forward()
     base_suite = Forward()
 
     classic_lambdef = Forward()
     classic_lambdef_params = maybeparens(lparen, set_args_list, rparen)
     new_lambdef_params = lparen.suppress() + set_args_list + rparen.suppress() | setname
-    classic_lambdef_ref = addspace(lambda_kwd + condense(classic_lambdef_params + colon))
+    classic_lambdef_ref = addspace(keyword("lambda") + condense(classic_lambdef_params + colon))
     new_lambdef = attach(new_lambdef_params + arrow.suppress(), lambdef_handle)
     implicit_lambdef = fixto(arrow, "lambda _=None:")
     lambdef_base = classic_lambdef | new_lambdef | implicit_lambdef
 
     stmt_lambdef = Forward()
     match_guard = Optional(keyword("if").suppress() + namedexpr_test)
     closing_stmt = longest(new_testlist_star_expr("tests"), unsafe_simple_stmt_item)
@@ -1543,26 +1567,28 @@
     stmt_lambdef_body = Group(
         Group(OneOrMore(simple_stmt_item + semicolon.suppress())) + Optional(closing_stmt)
         | Group(ZeroOrMore(simple_stmt_item + semicolon.suppress())) + closing_stmt,
     )
     general_stmt_lambdef = (
         Group(
             any_len_perm(
-                async_kwd,
+                keyword("async"),
+                keyword("copyclosure"),
             ),
         ) + keyword("def").suppress()
         + stmt_lambdef_params
         + arrow.suppress()
         + stmt_lambdef_body
     )
     match_stmt_lambdef = (
         Group(
             any_len_perm(
-                match_kwd.suppress(),
-                async_kwd,
+                keyword("match").suppress(),
+                keyword("async"),
+                keyword("copyclosure"),
             ),
         ) + keyword("def").suppress()
         + stmt_lambdef_match_params
         + arrow.suppress()
         + stmt_lambdef_body
     )
     stmt_lambdef_ref = general_stmt_lambdef | match_stmt_lambdef
@@ -1578,15 +1604,15 @@
         Group(
             labeled_group(maybeparens(lparen, ellipsis_tokens, rparen), "ellipsis")
             | lparen.suppress() + Optional(tokenlist(typedef_callable_arg, comma)) + rparen.suppress()
             | labeled_group(negable_atom_item, "arg"),
         ),
     )
     unsafe_typedef_callable = attach(
-        Optional(async_kwd, default="")
+        Optional(keyword("async"), default="")
         + typedef_callable_params
         + arrow.suppress()
         + typedef_test,
         typedef_callable_handle,
     )
 
     unsafe_typedef_trailer = (  # use special type signifier for item_handle
@@ -1600,29 +1626,33 @@
 
     unsafe_typedef_tuple = Forward()
     # should mimic testlist_star_namedexpr but with require_sep=True
     unsafe_typedef_tuple_ref = tokenlist(Group(namedexpr_test) | star_expr, fixto(semicolon, ","), suppress=False, require_sep=True)
 
     unsafe_typedef_ellipsis = ellipsis_tokens
 
-    _typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis = disable_outside(
+    unsafe_typedef_op_item = attach(base_op_item, typedef_op_item_handle)
+
+    _typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis, _typedef_op_item = disable_outside(
         test,
         unsafe_typedef_callable,
         unsafe_typedef_trailer,
         unsafe_typedef_or_expr,
         unsafe_typedef_tuple,
         unsafe_typedef_ellipsis,
+        unsafe_typedef_op_item,
     )
     typedef_test <<= _typedef_test
     typedef_trailer <<= _typedef_trailer
     typedef_or_expr <<= _typedef_or_expr
     typedef_tuple <<= _typedef_tuple
     typedef_ellipsis <<= _typedef_ellipsis
+    typedef_op_item <<= _typedef_op_item
 
-    alt_ternary_expr = attach(keyword("if").suppress() + test_item + then_kwd.suppress() + test_item + keyword("else").suppress() + test, alt_ternary_handle)
+    alt_ternary_expr = attach(keyword("if").suppress() + test_item + keyword("then").suppress() + test_item + keyword("else").suppress() + test, alt_ternary_handle)
     test <<= (
         typedef_callable
         | lambdef
         | alt_ternary_expr
         | addspace(test_item + Optional(keyword("if") + test_item + keyword("else") + test))  # must come last since it includes plain test_item
     )
     test_no_cond <<= lambdef_no_cond | test_item
@@ -1665,15 +1695,15 @@
     async_comp_for = Forward()
     comp_iter = Forward()
     comp_it_item = (
         invalid_syntax(maybeparens(lparen, namedexpr, rparen), "PEP 572 disallows assignment expressions in comprehension iterable expressions")
         | test_item
     )
     base_comp_for = addspace(keyword("for") + assignlist + keyword("in") + comp_it_item + Optional(comp_iter))
-    async_comp_for_ref = addspace(async_kwd + base_comp_for)
+    async_comp_for_ref = addspace(keyword("async") + base_comp_for)
     comp_for <<= async_comp_for | base_comp_for
     comp_if = addspace(keyword("if") + test_no_cond + Optional(comp_iter))
     comp_iter <<= comp_for | comp_if
 
     return_stmt = addspace(keyword("return") - Optional(new_testlist_star_expr))
 
     complex_raise_stmt = Forward()
@@ -1776,18 +1806,24 @@
     match_const = condense(
         (eq | match_check_equals).suppress() + negable_atom_item
         | string_atom
         | complex_number
         | Optional(neg_minus) + number
         | match_dotted_name_const,
     )
+    empty_const = fixto(
+        lparen + rparen
+        | lbrack + rbrack
+        | set_letter + lbrace + rbrace,
+        "()",
+    )
 
-    matchlist_set = Group(Optional(tokenlist(match_const, comma)))
     match_pair = Group(match_const + colon.suppress() + match)
     matchlist_dict = Group(Optional(tokenlist(match_pair, comma)))
+    set_star = star.suppress() + (keyword(wildcard) | empty_const)
 
     matchlist_tuple_items = (
         match + OneOrMore(comma.suppress() + match) + Optional(comma.suppress())
         | match + comma.suppress()
     )
     matchlist_tuple = Group(Optional(matchlist_tuple_items))
     matchlist_list = Group(Optional(tokenlist(match, comma)))
@@ -1828,22 +1864,30 @@
     base_match = trace(
         Group(
             (negable_atom_item + arrow.suppress() + match)("view")
             | match_string
             | match_const("const")
             | (keyword_atom | keyword("is").suppress() + negable_atom_item)("is")
             | (keyword("in").suppress() + negable_atom_item)("in")
-            | (lbrace.suppress() + matchlist_dict + Optional(dubstar.suppress() + (setname | condense(lbrace + rbrace))) + rbrace.suppress())("dict")
-            | (Optional(set_s.suppress()) + lbrace.suppress() + matchlist_set + rbrace.suppress())("set")
             | iter_match
             | match_lazy("lazy")
             | sequence_match
             | star_match
             | (lparen.suppress() + match + rparen.suppress())("paren")
-            | (data_kwd.suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data")
+            | (lbrace.suppress() + matchlist_dict + Optional(dubstar.suppress() + (setname | condense(lbrace + rbrace)) + Optional(comma.suppress())) + rbrace.suppress())("dict")
+            | (
+                Group(Optional(set_letter))
+                + lbrace.suppress()
+                + (
+                    Group(tokenlist(match_const, comma, allow_trailing=False)) + Optional(comma.suppress() + set_star + Optional(comma.suppress()))
+                    | Group(always_match) + set_star + Optional(comma.suppress())
+                    | Group(Optional(tokenlist(match_const, comma)))
+                ) + rbrace.suppress()
+            )("set")
+            | (keyword("data").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data")
             | (keyword("class").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("class")
             | (dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data_or_class")
             | Optional(keyword("as").suppress()) + setname("var"),
         ),
     )
 
     matchlist_isinstance = base_match + OneOrMore(keyword("is").suppress() + negable_atom_item)
@@ -1872,53 +1916,55 @@
         | match
     )
 
     else_stmt = condense(keyword("else") - suite)
     full_suite = colon.suppress() - Group((newline.suppress() - indent.suppress() - OneOrMore(stmt) - dedent.suppress()) | simple_stmt)
     full_match = Forward()
     full_match_ref = (
-        match_kwd.suppress()
+        keyword("match").suppress()
         + many_match
         + addspace(Optional(keyword("not")) + keyword("in"))
-        - testlist_star_namedexpr
-        - match_guard
+        + testlist_star_namedexpr
+        + match_guard
+        # avoid match match-case blocks
+        + ~FollowedBy(colon + newline + indent + keyword("case"))
         - full_suite
     )
     match_stmt = trace(condense(full_match - Optional(else_stmt)))
 
     destructuring_stmt = Forward()
-    base_destructuring_stmt = Optional(match_kwd.suppress()) + many_match + equals.suppress() + test_expr
+    base_destructuring_stmt = Optional(keyword("match").suppress()) + many_match + equals.suppress() + test_expr
     destructuring_stmt_ref, match_dotted_name_const_ref = disable_inside(base_destructuring_stmt, must_be_dotted_name + ~lparen)
 
     # both syntaxes here must be kept the same except for the keywords
     case_match_co_syntax = trace(
         Group(
-            (match_kwd | case_kwd).suppress()
+            (keyword("match") | keyword("case")).suppress()
             + stores_loc_item
             + many_match
             + Optional(keyword("if").suppress() + namedexpr_test)
             - full_suite,
         ),
     )
     cases_stmt_co_syntax = (
-        (cases_kwd | case_kwd) + testlist_star_namedexpr + colon.suppress() + newline.suppress()
+        (keyword("cases") | keyword("case")) + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_co_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() + suite)
     )
     case_match_py_syntax = trace(
         Group(
-            case_kwd.suppress()
+            keyword("case").suppress()
             + stores_loc_item
             + many_match
             + Optional(keyword("if").suppress() + namedexpr_test)
             - full_suite,
         ),
     )
     cases_stmt_py_syntax = (
-        match_kwd + testlist_star_namedexpr + colon.suppress() + newline.suppress()
+        keyword("match") + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_py_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() - suite)
     )
     cases_stmt = Forward()
     cases_stmt_ref = cases_stmt_co_syntax | cases_stmt_py_syntax
 
     assert_stmt = addspace(
@@ -1935,31 +1981,31 @@
     )
     while_stmt = addspace(keyword("while") - condense(namedexpr_test - suite - Optional(else_stmt)))
 
     for_stmt = addspace(keyword("for") + assignlist + keyword("in") - condense(new_testlist_star_expr - suite - Optional(else_stmt)))
 
     base_match_for_stmt = Forward()
     base_match_for_stmt_ref = keyword("for").suppress() + many_match + keyword("in").suppress() - new_testlist_star_expr - colon.suppress() - condense(nocolon_suite - Optional(else_stmt))
-    match_for_stmt = Optional(match_kwd.suppress()) + base_match_for_stmt
+    match_for_stmt = Optional(keyword("match").suppress()) + base_match_for_stmt
 
     except_item = (
         testlist_has_comma("list")
         | test("test")
     ) - Optional(
         keyword("as").suppress() - setname,
     )
-    except_clause = attach(except_kwd + except_item, except_handle)
+    except_clause = attach(keyword("except") + except_item, except_handle)
     except_star_clause = Forward()
     except_star_clause_ref = attach(except_star_kwd + except_item, except_handle)
     try_stmt = condense(
         keyword("try") - suite + (
             keyword("finally") - suite
             | (
-                OneOrMore(except_clause - suite) - Optional(except_kwd - suite)
-                | except_kwd - suite
+                OneOrMore(except_clause - suite) - Optional(keyword("except") - suite)
+                | keyword("except") - suite
                 | OneOrMore(except_star_clause - suite)
             ) - Optional(else_stmt) - Optional(keyword("finally") - suite)
         ),
     )
 
     with_item = addspace(test + Optional(keyword("as") + base_assign_item))
     with_item_list = Group(maybeparens(lparen, tokenlist(with_item, comma), rparen))
@@ -2020,35 +2066,35 @@
             + end_func_colon
             - func_suite,
             join_match_funcdef,
         ),
     )
     match_def_modifiers = trace(
         any_len_perm(
-            match_kwd.suppress(),
-            # we don't suppress addpattern so its presence can be detected later
-            addpattern_kwd,
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
         ),
     )
     match_funcdef = addspace(match_def_modifiers + def_match_funcdef)
 
     where_stmt = attach(
         unsafe_simple_stmt_item
-        + where_kwd.suppress()
+        + keyword("where").suppress()
         - full_suite,
         where_handle,
     )
 
     implicit_return = (
         invalid_syntax(return_stmt, "expected expression but got return statement")
         | attach(new_testlist_star_expr, implicit_return_handle)
     )
     implicit_return_where = attach(
         implicit_return
-        + where_kwd.suppress()
+        + keyword("where").suppress()
         - full_suite,
         where_handle,
     )
     implicit_return_stmt = (
         condense(implicit_return + newline)
         | implicit_return_where
     )
@@ -2082,82 +2128,80 @@
                 join_match_funcdef,
             ),
         ),
     )
 
     async_stmt = Forward()
     async_stmt_ref = addspace(
-        async_kwd + (with_stmt | for_stmt | match_for_stmt)  # handles async [match] for
-        | match_kwd.suppress() + async_kwd + base_match_for_stmt,  # handles match async for
+        keyword("async") + (with_stmt | for_stmt | match_for_stmt)  # handles async [match] for
+        | keyword("match").suppress() + keyword("async") + base_match_for_stmt,  # handles match async for
     )
 
-    async_funcdef = async_kwd.suppress() + (funcdef | math_funcdef)
+    async_funcdef = keyword("async").suppress() + (funcdef | math_funcdef)
     async_match_funcdef = trace(
         addspace(
             any_len_perm(
-                match_kwd.suppress(),
-                # we don't suppress addpattern so its presence can be detected later
-                addpattern_kwd,
-                required=(async_kwd.suppress(),),
+                keyword("match").suppress(),
+                # addpattern is detected later
+                keyword("addpattern"),
+                required=(keyword("async").suppress(),),
             ) + (def_match_funcdef | math_match_funcdef),
         ),
     )
-    async_yield_funcdef = attach(
-        trace(
-            any_len_perm(
-                required=(
-                    async_kwd.suppress(),
-                    keyword("yield").suppress(),
-                ),
-            ) + (funcdef | math_funcdef),
-        ),
-        yield_funcdef_handle,
-    )
-    async_yield_match_funcdef = attach(
-        trace(
-            addspace(
-                any_len_perm(
-                    match_kwd.suppress(),
-                    # we don't suppress addpattern so its presence can be detected later
-                    addpattern_kwd,
-                    required=(
-                        async_kwd.suppress(),
-                        keyword("yield").suppress(),
-                    ),
-                ) + (def_match_funcdef | math_match_funcdef),
-            ),
-        ),
-        yield_funcdef_handle,
-    )
+
+    async_keyword_normal_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            required=(keyword("async").suppress(),),
+        ),
+    ) + (funcdef | math_funcdef)
+    async_keyword_match_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
+            required=(keyword("async").suppress(),),
+        ),
+    ) + (def_match_funcdef | math_match_funcdef)
+    async_keyword_funcdef = Forward()
+    async_keyword_funcdef_ref = async_keyword_normal_funcdef | async_keyword_match_funcdef
+
     async_funcdef_stmt = (
         async_funcdef
         | async_match_funcdef
-        | async_yield_funcdef
-        | async_yield_match_funcdef
+        | async_keyword_funcdef
     )
 
-    yield_normal_funcdef = keyword("yield").suppress() + (funcdef | math_funcdef)
-    yield_match_funcdef = trace(
-        addspace(
-            any_len_perm(
-                match_kwd.suppress(),
-                # we don't suppress addpattern so its presence can be detected later
-                addpattern_kwd,
-                required=(keyword("yield").suppress(),),
-            ) + (def_match_funcdef | math_match_funcdef),
-        ),
-    )
-    yield_funcdef = attach(yield_normal_funcdef | yield_match_funcdef, yield_funcdef_handle)
+    keyword_normal_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+        ),
+    ) + (funcdef | math_funcdef)
+    keyword_match_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
+        ),
+    ) + (def_match_funcdef | math_match_funcdef)
+    keyword_funcdef = Forward()
+    keyword_funcdef_ref = keyword_normal_funcdef | keyword_match_funcdef
 
     normal_funcdef_stmt = (
         funcdef
         | math_funcdef
         | math_match_funcdef
         | match_funcdef
-        | yield_funcdef
+        | keyword_funcdef
     )
 
     datadef = Forward()
     data_args = Group(
         Optional(
             lparen.suppress() + ZeroOrMore(
                 Group(
@@ -2177,31 +2221,31 @@
             (newline.suppress() + indent.suppress() + Optional(docstring) + Group(OneOrMore(stmt)) - dedent.suppress())("complex")
             | (newline.suppress() + indent.suppress() + docstring - dedent.suppress() | docstring)("docstring")
             | simple_stmt("simple")
         ) | newline("empty"),
     )
     datadef_ref = (
         Optional(decorators, default="")
-        + data_kwd.suppress()
+        + keyword("data").suppress()
         + classname
         + Optional(type_params, default=())
         + data_args
         + data_inherit
         + data_suite
     )
 
     match_datadef = Forward()
     match_data_args = lparen.suppress() + Group(
         match_args_list + match_guard,
     ) + rparen.suppress()
     # we don't support type_params here since we don't support types
     match_datadef_ref = (
         Optional(decorators, default="")
-        + Optional(match_kwd.suppress())
-        + data_kwd.suppress()
+        + Optional(keyword("match").suppress())
+        + keyword("data").suppress()
         + classname
         + match_data_args
         + data_inherit
         + data_suite
     )
 
     simple_decorator = condense(dotted_refname + Optional(function_call) + newline)("simple")
@@ -2319,15 +2363,15 @@
 # -----------------------------------------------------------------------------------------------------------------------
 
     # we don't need to include opens/closes here because those are explicitly disallowed
     existing_operator_regex = compile_regex(r"([.;\\]|([+-=@%^&|*:,/<>~]|\*\*|//|>>|<<)=?|!=|" + r"|".join(new_operators) + r")$")
 
     whitespace_regex = compile_regex(r"\s")
 
-    def_regex = compile_regex(r"((async|addpattern)\s+)*def\b")
+    def_regex = compile_regex(r"((async|addpattern|copyclosure)\s+)*def\b")
     yield_regex = compile_regex(r"\byield(?!\s+_coconut\.asyncio\.From)\b")
 
     tco_disable_regex = compile_regex(r"try\b|(async\s+)?(with\b|for\b)|while\b")
     return_regex = compile_regex(r"return\b")
 
     noqa_regex = compile_regex(r"\b[Nn][Oo][Qq][Aa]\b")
 
@@ -2340,18 +2384,18 @@
         | attach(parens, strip_parens_handle)
     )
 
     def get_tre_return_grammar(self, func_name):
         """The TRE return grammar is parameterized by the name of the function being optimized."""
         return (
             self.start_marker
-            + keyword("return").suppress()
+            + self.keyword("return").suppress()
             + maybeparens(
                 self.lparen,
-                keyword(func_name, explicit_prefix=False).suppress()
+                base_keyword(func_name).suppress()
                 + self.original_function_call_tokens,
                 self.rparen,
             ) + self.end_marker
         )
 
     tco_return = attach(
         start_marker
@@ -2392,20 +2436,20 @@
             parens
             | brackets
             | braces
             | lambdas
             | ~comma + ~rparen + ~equals + any_char,
         ),
     )
-    tfpdef_tokens = unsafe_name - Optional(colon.suppress() - rest_of_tfpdef.suppress())
-    tfpdef_default_tokens = tfpdef_tokens - Optional(equals.suppress() - rest_of_tfpdef)
+    tfpdef_tokens = unsafe_name - Optional(colon - rest_of_tfpdef).suppress()
+    tfpdef_default_tokens = tfpdef_tokens - Optional(equals - rest_of_tfpdef)
     type_comment = Optional(
-        comment_tokens.suppress()
-        | passthrough_item.suppress(),
-    )
+        comment_tokens
+        | passthrough_item,
+    ).suppress()
     parameters_tokens = Group(
         Optional(
             tokenlist(
                 Group(
                     dubstar - tfpdef_tokens
                     | star - Optional(tfpdef_tokens)
                     | slash
@@ -2420,26 +2464,26 @@
         start_marker
         - keyword("def").suppress()
         - unsafe_dotted_name
         - lparen.suppress() - parameters_tokens - rparen.suppress()
     )
 
     stores_scope = boundary + (
-        lambda_kwd
+        keyword("lambda")
         # match comprehensions but not for loops
         | ~indent + ~dedent + any_char + keyword("for") + unsafe_name + keyword("in")
     )
 
     just_a_string = start_marker + string_atom + end_marker
 
     end_of_line = end_marker | Literal("\n") | pound
 
     unsafe_equals = Literal("=")
 
-    kwd_err_msg = attach(any_keyword_in(keyword_vars), kwd_err_msg_handle)
+    kwd_err_msg = attach(any_keyword_in(keyword_vars + reserved_vars), kwd_err_msg_handle)
     parse_err_msg = (
         start_marker + (
             fixto(end_of_line, "misplaced newline (maybe missing ':')")
             | fixto(Optional(keyword("if") + skip_to_in_line(unsafe_equals)) + equals, "misplaced assignment (maybe should be '==')")
             | kwd_err_msg
         )
         | fixto(
@@ -2452,28 +2496,27 @@
         )
     )
 
     end_f_str_expr = start_marker + (bang | colon | rbrace)
 
     string_start = start_marker + quotedString
 
-    operator_kwd = keyword("operator", explicit_prefix=colon, require_whitespace=True)
     operator_stmt = (
         start_marker
-        + operator_kwd.suppress()
+        + keyword("operator").suppress()
         + restOfLine
     )
 
     unsafe_import_from_name = condense(ZeroOrMore(unsafe_dot) + unsafe_dotted_name | OneOrMore(unsafe_dot))
     from_import_operator = (
         start_marker
         + keyword("from").suppress()
         + unsafe_import_from_name
         + keyword("import").suppress()
-        + operator_kwd.suppress()
+        + keyword("operator").suppress()
         + restOfLine
     )
 
 # end: EXTRA GRAMMAR
 # -----------------------------------------------------------------------------------------------------------------------
 # TIMING, TRACING:
 # -----------------------------------------------------------------------------------------------------------------------
```

### Comparing `coconut-2.2.0/coconut/compiler/header.py` & `coconut-3.0.0/coconut/compiler/header.py`

 * *Files 6% similar despite different names*

```diff
@@ -18,25 +18,26 @@
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 import os.path
 from functools import partial
 
-from coconut.root import _indent
+from coconut.root import _indent, _get_root_header
 from coconut.exceptions import CoconutInternalException
 from coconut.terminal import internal_assert
 from coconut.constants import (
     hash_prefix,
     tabideal,
     default_encoding,
     template_ext,
     justify_len,
     report_this_text,
     numpy_modules,
+    pandas_numpy_modules,
     jax_numpy_modules,
     self_match_types,
     is_data_var,
     data_defaults_var,
 )
 from coconut.util import (
     univ_open,
@@ -170,19 +171,19 @@
     if initial_newline:
         out = "\n" + out
     if newline:
         out += "\n"
     return out
 
 
-def make_py_str(str_contents, target_startswith, after_py_str_defined=False):
+def make_py_str(str_contents, target, after_py_str_defined=False):
     """Get code that effectively wraps the given code in py_str."""
     return (
-        repr(str_contents) if target_startswith == "3"
-        else "b" + repr(str_contents) if target_startswith == "2"
+        repr(str_contents) if target.startswith("3")
+        else "b" + repr(str_contents) if target.startswith("2")
         else "py_str(" + repr(str_contents) + ")" if after_py_str_defined
         else "str(" + repr(str_contents) + ")"
     )
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # FORMAT DICTIONARY:
@@ -198,43 +199,45 @@
 
 
 COMMENT = Comment()
 
 
 def process_header_args(which, use_hash, target, no_tco, strict, no_wrap):
     """Create the dictionary passed to str.format in the header."""
-    target_startswith = one_num_ver(target)
     target_info = get_target_info(target)
     pycondition = partial(base_pycondition, target)
 
     format_dict = dict(
         COMMENT=COMMENT,
-        empty_dict="{}",
+        empty_dict="{}" if target_info >= (3, 7) else "_coconut.dict()",
+        empty_py_dict="{}" if target_info >= (3, 7) else "_coconut_py_dict()",
         lbrace="{",
         rbrace="}",
         is_data_var=is_data_var,
         data_defaults_var=data_defaults_var,
-        target_startswith=target_startswith,
+        target_major=one_num_ver(target),
         default_encoding=default_encoding,
         hash_line=hash_prefix + use_hash + "\n" if use_hash is not None else "",
         typing_line="# type: ignore\n" if which == "__coconut__" else "",
+        _coconut_="_coconut_" if which != "__coconut__" else "",  # only for aliases defined at the end of the header
         VERSION_STR=VERSION_STR,
         module_docstring='"""Built-in Coconut utilities."""\n\n' if which == "__coconut__" else "",
-        __coconut__=make_py_str("__coconut__", target_startswith),
-        _coconut_cached__coconut__=make_py_str("_coconut_cached__coconut__", target_startswith),
-        object="" if target_startswith == "3" else "(object)",
-        comma_object="" if target_startswith == "3" else ", object",
+        __coconut__=make_py_str("__coconut__", target),
+        _coconut_cached__coconut__=make_py_str("_coconut_cached__coconut__", target),
+        object="" if target.startswith("3") else "(object)",
+        comma_object="" if target.startswith("3") else ", object",
         comma_slash=", /" if target_info >= (3, 8) else "",
         report_this_text=report_this_text,
         numpy_modules=tuple_str_of(numpy_modules, add_quotes=True),
+        pandas_numpy_modules=tuple_str_of(pandas_numpy_modules, add_quotes=True),
         jax_numpy_modules=tuple_str_of(jax_numpy_modules, add_quotes=True),
         self_match_types=tuple_str_of(self_match_types),
         set_super=(
             # we have to use _coconut_super even on the universal target, since once we set __class__ it becomes a local variable
-            "super = _coconut_super\n" if target_startswith != 3 else ""
+            "super = py_super" if target.startswith("3") else "super = _coconut_super"
         ),
         import_pickle=pycondition(
             (3,),
             if_lt=r'''
 import cPickle as pickle
             ''',
             if_ge=r'''
@@ -264,17 +267,17 @@
             r'''
 zip_longest = itertools.zip_longest if _coconut_sys.version_info >= (3,) else itertools.izip_longest
             ''' if not target
             else "zip_longest = itertools.zip_longest" if target_info >= (3,)
             else "zip_longest = itertools.izip_longest",
             indent=1,
         ),
-        comma_bytearray=", bytearray" if target_startswith != "3" else "",
-        lstatic="staticmethod(" if target_startswith != "3" else "",
-        rstatic=")" if target_startswith != "3" else "",
+        comma_bytearray=", bytearray" if not target.startswith("3") else "",
+        lstatic="staticmethod(" if not target.startswith("3") else "",
+        rstatic=")" if not target.startswith("3") else "",
         zip_iter=prepare(
             r'''
 for items in _coconut.iter(_coconut.zip(*self.iters, strict=self.strict) if _coconut_sys.version_info >= (3, 10) else _coconut.zip_longest(*self.iters, fillvalue=_coconut_sentinel) if self.strict else _coconut.zip(*self.iters)):
     if self.strict and _coconut_sys.version_info < (3, 10) and _coconut.any(x is _coconut_sentinel for x in items):
         raise _coconut.ValueError("zip(..., strict=True) arguments have mismatched lengths")
     yield items
             '''
@@ -342,15 +345,15 @@
         ),
         def_call_set_names=(
             r'''def _coconut_call_set_names(cls):
     for k, v in _coconut.vars(cls).items():
         set_name = _coconut.getattr(v, "__set_name__", None)
         if set_name is not None:
             set_name(cls, k)'''
-            if target_startswith == "2" else
+            if target.startswith("2") else
             r'''def _coconut_call_set_names(cls): pass'''
             if target_info >= (3, 6) else
             r'''def _coconut_call_set_names(cls):
     if _coconut_sys.version_info < (3, 6):
         for k, v in _coconut.vars(cls).items():
             set_name = _coconut.getattr(v, "__set_name__", None)
             if set_name is not None:
@@ -415,31 +418,20 @@
         try:
             result = b.__rmatmul__(a)
         except _coconut.NotImplementedError:
             pass
         else:
             if result is not _coconut.NotImplemented:
                 return result
-    if "numpy" in (a.__class__.__module__, b.__class__.__module__):
+    if "numpy" in (_coconut_get_base_module(a), _coconut_get_base_module(b)):
         from numpy import matmul
         return matmul(a, b)
     raise _coconut.TypeError("unsupported operand type(s) for @: " + _coconut.repr(_coconut.type(a)) + " and " + _coconut.repr(_coconut.type(b)))
             ''',
         ),
-        import_typing_NamedTuple=pycondition(
-            (3, 6),
-            if_lt='''
-def NamedTuple(name, fields):
-    return _coconut.collections.namedtuple(name, [x for x, t in fields])
-typing.NamedTuple = NamedTuple
-NamedTuple = staticmethod(NamedTuple)
-            ''',
-            indent=1,
-            newline=True,
-        ),
         def_total_and_comparisons=pycondition(
             (3, 10),
             if_lt='''
 def total(self):
     """Compute the sum of the counts in a multiset.
     Note that total_size is different from len(multiset), which only counts the unique elements."""
     return _coconut.sum(self.values())
@@ -479,18 +471,29 @@
             return False
         found_diff = found_diff or self[k] != v
     return found_diff
             ''',
             indent=1,
             newline=True,
         ),
+        assign_multiset_views=pycondition(
+            (3,),
+            if_lt='''
+keys = _coconut.collections.Counter.viewkeys
+values = _coconut.collections.Counter.viewvalues
+items = _coconut.collections.Counter.viewitems
+            ''',
+            indent=1,
+            newline=True,
+        ),
+
         # used in the second round
         tco_comma="_coconut_tail_call, _coconut_tco, " if not no_tco else "",
         call_set_names_comma="_coconut_call_set_names, " if target_info < (3, 6) else "",
-        handle_cls_args_comma="_coconut_handle_cls_kwargs, _coconut_handle_cls_stargs, " if target_startswith != "3" else "",
+        handle_cls_args_comma="_coconut_handle_cls_kwargs, _coconut_handle_cls_stargs, " if not target.startswith("3") else "",
         async_def_anext=prepare(
             r'''
 async def __anext__(self):
     return self.func(await self.aiter.__anext__())
             ''' if target_info >= (3, 5) else
             pycondition(
                 (3, 5),
@@ -521,61 +524,102 @@
             ''',
             indent=1,
             initial_newline=True,
         ),
     )
 
     # second round for format dict elements that use the format dict
+    #  (extra_format_dict is to keep indentation levels matching)
     extra_format_dict = dict(
         # when anything is added to this list it must also be added to *both* __coconut__ stub files
-        underscore_imports="{tco_comma}{call_set_names_comma}{handle_cls_args_comma}_namedtuple_of, _coconut, _coconut_super, _coconut_Expected, _coconut_MatchError, _coconut_iter_getitem, _coconut_base_compose, _coconut_forward_compose, _coconut_back_compose, _coconut_forward_star_compose, _coconut_back_star_compose, _coconut_forward_dubstar_compose, _coconut_back_dubstar_compose, _coconut_pipe, _coconut_star_pipe, _coconut_dubstar_pipe, _coconut_back_pipe, _coconut_back_star_pipe, _coconut_back_dubstar_pipe, _coconut_none_pipe, _coconut_none_star_pipe, _coconut_none_dubstar_pipe, _coconut_bool_and, _coconut_bool_or, _coconut_none_coalesce, _coconut_minus, _coconut_map, _coconut_partial, _coconut_get_function_match_error, _coconut_base_pattern_func, _coconut_addpattern, _coconut_sentinel, _coconut_assert, _coconut_raise, _coconut_mark_as_match, _coconut_reiterable, _coconut_self_match_types, _coconut_dict_merge, _coconut_exec, _coconut_comma_op, _coconut_multi_dim_arr, _coconut_mk_anon_namedtuple, _coconut_matmul, _coconut_py_str, _coconut_flatten, _coconut_multiset, _coconut_back_none_pipe, _coconut_back_none_star_pipe, _coconut_back_none_dubstar_pipe, _coconut_forward_none_compose, _coconut_back_none_compose, _coconut_forward_none_star_compose, _coconut_back_none_star_compose, _coconut_forward_none_dubstar_compose, _coconut_back_none_dubstar_compose".format(**format_dict),
+        underscore_imports="{tco_comma}{call_set_names_comma}{handle_cls_args_comma}_namedtuple_of, _coconut, _coconut_Expected, _coconut_MatchError, _coconut_SupportsAdd, _coconut_SupportsMinus, _coconut_SupportsMul, _coconut_SupportsPow, _coconut_SupportsTruediv, _coconut_SupportsFloordiv, _coconut_SupportsMod, _coconut_SupportsAnd, _coconut_SupportsXor, _coconut_SupportsOr, _coconut_SupportsLshift, _coconut_SupportsRshift, _coconut_SupportsMatmul, _coconut_SupportsInv, _coconut_iter_getitem, _coconut_base_compose, _coconut_forward_compose, _coconut_back_compose, _coconut_forward_star_compose, _coconut_back_star_compose, _coconut_forward_dubstar_compose, _coconut_back_dubstar_compose, _coconut_pipe, _coconut_star_pipe, _coconut_dubstar_pipe, _coconut_back_pipe, _coconut_back_star_pipe, _coconut_back_dubstar_pipe, _coconut_none_pipe, _coconut_none_star_pipe, _coconut_none_dubstar_pipe, _coconut_bool_and, _coconut_bool_or, _coconut_none_coalesce, _coconut_minus, _coconut_map, _coconut_partial, _coconut_get_function_match_error, _coconut_base_pattern_func, _coconut_addpattern, _coconut_sentinel, _coconut_assert, _coconut_raise, _coconut_mark_as_match, _coconut_reiterable, _coconut_self_match_types, _coconut_dict_merge, _coconut_exec, _coconut_comma_op, _coconut_multi_dim_arr, _coconut_mk_anon_namedtuple, _coconut_matmul, _coconut_py_str, _coconut_flatten, _coconut_multiset, _coconut_back_none_pipe, _coconut_back_none_star_pipe, _coconut_back_none_dubstar_pipe, _coconut_forward_none_compose, _coconut_back_none_compose, _coconut_forward_none_star_compose, _coconut_back_none_star_compose, _coconut_forward_none_dubstar_compose, _coconut_back_none_dubstar_compose, _coconut_call_or_coefficient, _coconut_in, _coconut_not_in".format(**format_dict),
         import_typing=pycondition(
             (3, 5),
             if_ge="import typing",
             if_lt='''
 class typing_mock{object}:
     """The typing module is not available at runtime in Python 3.4 or earlier;
     try hiding your typedefs behind an 'if TYPE_CHECKING:' block."""
     TYPE_CHECKING = False
     Any = Ellipsis
     def cast(self, t, x):
         """typing.cast[T](t: Type[T], x: Any) -> T = x"""
         return x
     def __getattr__(self, name):
         raise _coconut.ImportError("the typing module is not available at runtime in Python 3.4 or earlier; try hiding your typedefs behind an 'if TYPE_CHECKING:' block")
+    def TypeVar(name, *args, **kwargs):
+        """Runtime mock of typing.TypeVar for Python 3.4 and earlier."""
+        return name
+    class Generic_mock{object}:
+        """Runtime mock of typing.Generic for Python 3.4 and earlier."""
+        __slots__ = ()
+        def __getitem__(self, vars):
+            return _coconut.object
+    Generic = Generic_mock()
 typing = typing_mock()
             '''.format(**format_dict),
             indent=1,
         ),
         # all typing_extensions imports must be added to the _coconut stub file
-        import_typing_TypeAlias_ParamSpec_Concatenate=pycondition(
+        import_typing_36=pycondition(
+            (3, 6),
+            if_lt='''
+def NamedTuple(name, fields):
+    return _coconut.collections.namedtuple(name, [x for x, t in fields])
+typing.NamedTuple = NamedTuple
+NamedTuple = staticmethod(NamedTuple)
+            ''',
+            indent=1,
+            newline=True,
+        ),
+        import_typing_38=pycondition(
+            (3, 8),
+            if_lt='''
+try:
+    from typing_extensions import Protocol
+except ImportError:
+    class YouNeedToInstallTypingExtensions{object}:
+        __slots__ = ()
+    Protocol = YouNeedToInstallTypingExtensions
+typing.Protocol = Protocol
+            '''.format(**format_dict),
+            indent=1,
+            newline=True,
+        ),
+        import_typing_310=pycondition(
             (3, 10),
             if_lt='''
 try:
-    from typing_extensions import TypeAlias, ParamSpec, Concatenate
+    from typing_extensions import ParamSpec, TypeAlias, Concatenate
 except ImportError:
+    def ParamSpec(name, *args, **kwargs):
+        """Runtime mock of typing.ParamSpec for Python 3.9 and earlier."""
+        return _coconut.typing.TypeVar(name)
     class you_need_to_install_typing_extensions{object}:
         __slots__ = ()
-    TypeAlias = ParamSpec = Concatenate = you_need_to_install_typing_extensions()
-typing.TypeAlias = TypeAlias
+    TypeAlias = Concatenate = you_need_to_install_typing_extensions()
 typing.ParamSpec = ParamSpec
+typing.TypeAlias = TypeAlias
 typing.Concatenate = Concatenate
             '''.format(**format_dict),
             indent=1,
             newline=True,
         ),
-        import_typing_TypeVarTuple_Unpack=pycondition(
+        import_typing_311=pycondition(
             (3, 11),
             if_lt='''
 try:
     from typing_extensions import TypeVarTuple, Unpack
 except ImportError:
+    def TypeVarTuple(name, *args, **kwargs):
+        """Runtime mock of typing.TypeVarTuple for Python 3.10 and earlier."""
+        return _coconut.typing.TypeVar(name)
     class you_need_to_install_typing_extensions{object}:
         __slots__ = ()
-    TypeVarTuple = Unpack = you_need_to_install_typing_extensions()
+    Unpack = you_need_to_install_typing_extensions()
 typing.TypeVarTuple = TypeVarTuple
 typing.Unpack = Unpack
             '''.format(**format_dict),
             indent=1,
             newline=True,
         ),
         import_asyncio=pycondition(
@@ -595,15 +639,15 @@
         ),
         class_amap=pycondition(
             (3, 3),
             if_lt=r'''
 _coconut_amap = None
             ''',
             if_ge=r'''
-class _coconut_amap(_coconut_base_hashable):
+class _coconut_amap(_coconut_baseclass):
     __slots__ = ("func", "aiter")
     def __init__(self, func, aiter):
         self.func = func
         self.aiter = aiter
     def __reduce__(self):
         return (self.__class__, (self.func, self.aiter))
     def __repr__(self):
@@ -654,21 +698,21 @@
     )
 
     if which == "none":
         return ""
 
     # initial, __coconut__, package:n, sys, code, file
 
-    target_startswith = one_num_ver(target)
     target_info = get_target_info(target)
-    header_info = tuple_str_of((VERSION, target, no_tco, strict, no_wrap), add_quotes=True)
+    # header_info only includes arguments that affect __coconut__.py compatibility
+    header_info = tuple_str_of((VERSION, target, strict), add_quotes=True)
     format_dict = process_header_args(which, use_hash, target, no_tco, strict, no_wrap)
 
     if which == "initial" or which == "__coconut__":
-        header = '''#!/usr/bin/env python{target_startswith}
+        header = '''#!/usr/bin/env python{target_major}
 # -*- coding: {default_encoding} -*-
 {hash_line}{typing_line}
 # Compiled with Coconut version {VERSION_STR}
 
 {module_docstring}'''.format(**format_dict)
     elif use_hash is not None:
         raise CoconutInternalException("can only add a hash to an initial or __coconut__ header, not", which)
@@ -678,15 +722,15 @@
     if which == "initial":
         return header
 
     # __coconut__, package:n, sys, code, file
 
     header += section("Coconut Header", newline_before=False)
 
-    if target_startswith != "3":
+    if not target.startswith("3"):
         header += "from __future__ import print_function, absolute_import, unicode_literals, division\n"
     # including generator_stop here is fine, even though to universalize
     #  generator returns we raise StopIteration errors, since we only do so
     #  when target_info < (3, 3)
     elif target_info >= (3, 7):
         if no_wrap:
             header += "from __future__ import generator_stop\n"
@@ -752,24 +796,26 @@
     header += prepare(
         '''
 _coconut_cached__coconut__ = _coconut_sys.modules.get({_coconut_cached__coconut__}, _coconut_sys.modules.get({__coconut__}))
         ''',
         newline=True,
     ).format(**format_dict)
 
+    if target_info >= (3, 9):
+        header += _get_root_header("39")
     if target_info >= (3, 7):
-        header += PY37_HEADER
-    elif target_startswith == "3":
-        header += PY3_HEADER
+        header += _get_root_header("37")
+    elif target.startswith("3"):
+        header += _get_root_header("3")
     elif target_info >= (2, 7):
-        header += PY27_HEADER
-    elif target_startswith == "2":
-        header += PY2_HEADER
+        header += _get_root_header("27")
+    elif target.startswith("2"):
+        header += _get_root_header("2")
     else:
-        header += PYCHECK_HEADER
+        header += _get_root_header("universal")
 
     header += get_template("header").format(**format_dict)
 
     if which == "file":
         header += section("Compiled Coconut")
 
     return header
```

### Comparing `coconut-2.2.0/coconut/compiler/matching.py` & `coconut-3.0.0/coconut/compiler/matching.py`

 * *Files 4% similar despite different names*

```diff
@@ -38,14 +38,17 @@
     closeindent,
     function_match_error_var,
     match_set_name_var,
     is_data_var,
     data_defaults_var,
     default_matcher_style,
     self_match_types,
+    match_first_arg_var,
+    match_to_args_var,
+    match_to_kwargs_var,
 )
 from coconut.compiler.util import (
     paren_join,
     handle_indentation,
     add_int_and_strs,
     ordered,
     tuple_str_of,
@@ -226,17 +229,20 @@
         self.defs.insert(index, def_item)
 
     @property
     def using_python_rules(self):
         """Whether the current style uses PEP 622 rules."""
         return self.style.startswith("python")
 
-    def rule_conflict_warn(self, message, if_coconut=None, if_python=None, extra=None):
+    def rule_conflict_warn(self, message, if_coconut=None, if_python=None, extra=None, only_strict=False):
         """Warns on conflicting style rules if callback was given."""
-        if self.style.endswith("warn") or self.style.endswith("strict") and self.comp.strict:
+        if (
+            self.style.endswith("warn") and (not only_strict or self.comp.strict)
+            or self.style.endswith("strict") and self.comp.strict
+        ):
             full_msg = message
             if if_python or if_coconut:
                 full_msg += " (" + (if_python if self.using_python_rules else if_coconut) + ")"
             if extra:
                 full_msg += " (" + extra + ")"
             if self.style.endswith("strict"):
                 full_msg += " (remove --strict to dismiss)"
@@ -339,18 +345,41 @@
         elif min_len == max_len:
             self.add_check("_coconut.len(" + item + ") == " + str(min_len))
         elif not min_len:
             self.add_check("_coconut.len(" + item + ") <= " + str(max_len))
         else:
             self.add_check(str(min_len) + " <= _coconut.len(" + item + ") <= " + str(max_len))
 
-    def match_function(self, args, kwargs, pos_only_match_args=(), match_args=(), star_arg=None, kwd_only_match_args=(), dubstar_arg=None):
+    def match_function(
+        self,
+        first_arg=match_first_arg_var,
+        args=match_to_args_var,
+        kwargs=match_to_kwargs_var,
+        pos_only_match_args=(),
+        match_args=(),
+        star_arg=None,
+        kwd_only_match_args=(),
+        dubstar_arg=None,
+    ):
         """Matches a pattern-matching function."""
         # before everything, pop the FunctionMatchError from context
         self.add_def(function_match_error_var + " = _coconut_get_function_match_error()")
+        # and fix args to include first_arg, which we have to do to make super work
+        self.add_def(
+            handle_indentation(
+                """
+if {first_arg} is not _coconut_sentinel:
+    {args} = ({first_arg},) + {args}
+            """,
+            ).format(
+                first_arg=first_arg,
+                args=args,
+            ),
+        )
+
         with self.down_a_level():
 
             self.match_in_args_kwargs(pos_only_match_args, match_args, args, kwargs, allow_star_args=star_arg is not None)
 
             if star_arg is not None:
                 self.match(star_arg, args + "[" + str(len(match_args)) + ":]")
 
@@ -471,23 +500,24 @@
 
         self.add_check("_coconut.isinstance(" + item + ", _coconut.abc.Mapping)")
 
         if rest is None:
             self.rule_conflict_warn(
                 "found pattern with new behavior in Coconut v2; dict patterns now allow the dictionary being matched against to contain extra keys",
                 extra="use explicit '{..., **_}' or '{..., **{}}' syntax to resolve",
+                only_strict=True,
             )
-            check_len = not self.using_python_rules
+            strict_len = not self.using_python_rules
         elif rest == "{}":
-            check_len = True
+            strict_len = True
             rest = None
         else:
-            check_len = False
+            strict_len = False
 
-        if check_len:
+        if strict_len:
             self.add_check("_coconut.len(" + item + ") == " + str(len(matches)))
 
         seen_keys = set()
         for k, v in matches:
             if k in seen_keys:
                 raise CoconutDeferredSyntaxError("duplicate key {k!r} in dictionary pattern".format(k=k), self.loc)
             seen_keys.add(k)
@@ -496,16 +526,16 @@
             with self.down_a_level():
                 self.add_check(key_var + " is not _coconut_sentinel")
                 self.match(v, key_var)
 
         if rest is not None and rest != wildcard:
             match_keys = [k for k, v in matches]
             rest_item = (
-                "dict((k, v) for k, v in "
-                + item + ".items() if k not in set(("
+                "_coconut.dict((k, v) for k, v in "
+                + item + ".items() if k not in _coconut.set(("
                 + ", ".join(match_keys) + ("," if len(match_keys) == 1 else "")
                 + ")))"
             )
             with self.down_a_level():
                 self.match_var([rest], rest_item)
 
     def proc_sequence_match(self, tokens, iter_match=False):
@@ -896,19 +926,56 @@
     def match_in(self, tokens, item):
         """Matches a containment check."""
         match, = tokens
         self.add_check(item + " in " + match)
 
     def match_set(self, tokens, item):
         """Matches a set."""
-        match, = tokens
-        self.add_check("_coconut.isinstance(" + item + ", _coconut.abc.Set)")
-        self.add_check("_coconut.len(" + item + ") == " + str(len(match)))
-        for const in match:
-            self.add_check(const + " in " + item)
+        if len(tokens) == 2:
+            letter_toks, match = tokens
+            star = None
+        else:
+            letter_toks, match, star = tokens
+
+        if letter_toks:
+            letter, = letter_toks
+        else:
+            letter = "s"
+
+        # process *() or *_
+        if star is None:
+            self.rule_conflict_warn(
+                "found pattern with new behavior in Coconut v3; set patterns now allow the set being matched against to contain extra items",
+                extra="use explicit '{..., *_}' or '{..., *()}' syntax to resolve",
+            )
+            strict_len = not self.using_python_rules
+        elif star == wildcard:
+            strict_len = False
+        else:
+            internal_assert(star == "()", "invalid set match tokens", tokens)
+            strict_len = True
+
+        # handle set letter
+        if letter == "s":
+            self.add_check("_coconut.isinstance(" + item + ", _coconut.abc.Set)")
+        elif letter == "f":
+            self.add_check("_coconut.isinstance(" + item + ", _coconut.frozenset)")
+        elif letter == "m":
+            self.add_check("_coconut.isinstance(" + item + ", _coconut.collections.Counter)")
+        else:
+            raise CoconutInternalException("invalid set match letter", letter)
+
+        # match set contents
+        if letter == "m":
+            self.add_check("_coconut_multiset(" + tuple_str_of(match) + ") " + ("== " if strict_len else "<= ") + item)
+        else:
+            if strict_len:
+                self.add_check("_coconut.len(" + item + ") == " + str(len(match)))
+            for const in match:
+                self.add_check(const + " in " + item)
 
     def split_data_or_class_match(self, tokens):
         """Split data/class match tokens into cls_name, pos_matches, name_matches, star_match."""
         cls_name, matches = tokens
 
         pos_matches = []
         name_matches = {}
```

### Comparing `coconut-2.2.0/coconut/compiler/templates/header.py_template` & `coconut-3.0.0/coconut/compiler/templates/header.py_template`

 * *Files 2% similar despite different names*

```diff
@@ -7,53 +7,90 @@
         try:
             cls = frame.f_locals["__class__"]
         except _coconut.AttributeError:
             raise _coconut.RuntimeError("super(): __class__ cell not found")
         self = frame.f_locals[frame.f_code.co_varnames[0]]
         return _coconut_py_super(cls, self)
     return _coconut_py_super(type, object_or_type)
-{set_super}class _coconut{object}:{COMMENT.EVERYTHING_HERE_MUST_BE_COPIED_TO_STUB_FILE}
+{set_super}
+class _coconut{object}:{COMMENT.EVERYTHING_HERE_MUST_BE_COPIED_TO_STUB_FILE}
     import collections, copy, functools, types, itertools, operator, threading, os, warnings, contextlib, traceback, weakref, multiprocessing
     from multiprocessing import dummy as multiprocessing_dummy
 {maybe_bind_lru_cache}{import_copyreg}
 {import_asyncio}
 {import_pickle}
 {import_OrderedDict}
 {import_collections_abc}
 {import_typing}
-{import_typing_NamedTuple}{import_typing_TypeAlias_ParamSpec_Concatenate}{import_typing_TypeVarTuple_Unpack}{set_zip_longest}
+{import_typing_36}{import_typing_38}{import_typing_310}{import_typing_311}{set_zip_longest}
     try:
         import numpy
     except ImportError:
         class you_need_to_install_numpy{object}:
             __slots__ = ()
         numpy = you_need_to_install_numpy()
     else:
         abc.Sequence.register(numpy.ndarray)
     numpy_modules = {numpy_modules}
+    pandas_numpy_modules = {pandas_numpy_modules}
     jax_numpy_modules = {jax_numpy_modules}
     tee_type = type(itertools.tee((), 1)[0])
     reiterables = abc.Sequence, abc.Mapping, abc.Set
     abc.Sequence.register(collections.deque)
-    Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, super, tuple, type, vars, zip, repr, print{comma_bytearray} = Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, {lstatic}super{rstatic}, tuple, type, vars, zip, {lstatic}repr{rstatic}, {lstatic}print{rstatic}{comma_bytearray}
-class _coconut_Sentinel{object}:
-    __slots__ = ()
-_coconut_sentinel = _coconut_Sentinel()
-class _coconut_base_hashable{object}:
+    Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, globals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, super, tuple, type, vars, zip, repr, print{comma_bytearray} = Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, globals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, {lstatic}super{rstatic}, tuple, type, vars, zip, {lstatic}repr{rstatic}, {lstatic}print{rstatic}{comma_bytearray}
+def _coconut_handle_cls_kwargs(**kwargs):
+    """Some code taken from six under the terms of its MIT license."""
+    metaclass = kwargs.pop("metaclass", None)
+    if kwargs and metaclass is None:
+        raise _coconut.TypeError("unexpected keyword argument(s) in class definition: %r" % (kwargs,))
+    def coconut_handle_cls_kwargs_wrapper(cls):
+        if metaclass is None:
+            return cls
+        orig_vars = cls.__dict__.copy()
+        slots = orig_vars.get("__slots__")
+        if slots is not None:
+            if _coconut.isinstance(slots, _coconut.str):
+                slots = [slots]
+            for slots_var in slots:
+                orig_vars.pop(slots_var)
+        orig_vars.pop("__dict__", None)
+        orig_vars.pop("__weakref__", None)
+        if _coconut.hasattr(cls, "__qualname__"):
+            orig_vars["__qualname__"] = cls.__qualname__
+        return metaclass(cls.__name__, cls.__bases__, orig_vars, **kwargs)
+    return coconut_handle_cls_kwargs_wrapper
+def _coconut_handle_cls_stargs(*args):
+    temp_names = ["_coconut_base_cls_%s" % (i,) for i in _coconut.range(_coconut.len(args))]
+    ns = _coconut_py_dict(_coconut.zip(temp_names, args))
+    _coconut_exec("class _coconut_cls_stargs_base(" + ", ".join(temp_names) + "): pass", ns)
+    return ns["_coconut_cls_stargs_base"]
+class _coconut_baseclass{object}:
     __slots__ = ("__weakref__",)
     def __reduce_ex__(self, _):
         return self.__reduce__()
     def __eq__(self, other):
         return self.__class__ is other.__class__ and self.__reduce__() == other.__reduce__()
     def __hash__(self):
         return _coconut.hash(self.__reduce__())
     def __setstate__(self, setvars):{COMMENT.fixes_unpickling_with_slots}
         for k, v in setvars.items():
             _coconut.setattr(self, k, v)
-class MatchError(_coconut_base_hashable, Exception):
+    def __iter_getitem__(self, index):
+        getitem = _coconut.getattr(self, "__getitem__", None)
+        if getitem is None:
+            raise _coconut.NotImplementedError
+        return getitem(index)
+class _coconut_Sentinel(_coconut_baseclass):
+    __slots__ = ()
+    def __reduce__(self):
+        return (self.__class__, ())
+_coconut_sentinel = _coconut_Sentinel()
+def _coconut_get_base_module(obj):
+    return obj.__class__.__module__.split(".", 1)[0]
+class MatchError(_coconut_baseclass, Exception):
     """Pattern-matching error. Has attributes .pattern, .value, and .message."""{COMMENT.no_slots_to_allow_setattr_below}
     max_val_repr_len = 500
     def __init__(self, pattern=None, value=None):
         self.pattern = pattern
         self.value = value
         self._message = None
     @property
@@ -71,26 +108,28 @@
         return Exception.__str__(self)
     def __unicode__(self):
         self.message
         return Exception.__unicode__(self)
     def __reduce__(self):
         return (self.__class__, (self.pattern, self.value), {lbrace}"_message": self._message{rbrace})
     def __setstate__(self, state):
-        _coconut_base_hashable.__setstate__(self, state)
+        _coconut_baseclass.__setstate__(self, state)
         if self._message is not None:
             Exception.__init__(self, self._message)
 _coconut_cached_MatchError = None if _coconut_cached__coconut__ is None else getattr(_coconut_cached__coconut__, "MatchError", None)
 if _coconut_cached_MatchError is not None:{patch_cached_MatchError}
     MatchError = _coconut_cached_MatchError
-class _coconut_tail_call{object}:
+class _coconut_tail_call(_coconut_baseclass):
     __slots__ = ("func", "args", "kwargs")
     def __init__(self, _coconut_func, *args, **kwargs):
         self.func = _coconut_func
         self.args = args
         self.kwargs = kwargs
+    def __reduce__(self):
+        return (self.__class__, (self.func, self.args, self.kwargs))
 _coconut_tco_func_dict = {empty_dict}
 def _coconut_tco(func):
     @_coconut.functools.wraps(func)
     def tail_call_optimized_func(*args, **kwargs):
         call_func = func
         while True:{COMMENT.weakrefs_necessary_for_ignoring_functools_wraps_decorators}
             if _coconut.isinstance(call_func, _coconut_base_pattern_func):
@@ -137,52 +176,52 @@
                 except _coconut.TypeError:
                     break
                 else:
                     existing_copies.append(copy)
             else:{COMMENT.no_break}
                 return _coconut.tuple(existing_copies)
         return _coconut.itertools.tee(iterable, n)
-class _coconut_has_iter(_coconut_base_hashable):
+class _coconut_has_iter(_coconut_baseclass):
     __slots__ = ("lock", "iter")
     def __new__(cls, iterable):
         self = _coconut.object.__new__(cls)
         self.lock = _coconut.threading.Lock()
         self.iter = iterable
         return self
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
-            self.iter = _coconut_reiterable(self.iter)
+            self.iter = {_coconut_}reiterable(self.iter)
         return self.iter
     def __fmap__(self, func):
-        return _coconut_map(func, self)
+        return {_coconut_}map(func, self)
 class reiterable(_coconut_has_iter):
     """Allow an iterator to be iterated over multiple times with the same results."""
     __slots__ = ()
     def __new__(cls, iterable):
         if _coconut.isinstance(iterable, _coconut.reiterables):
             return iterable
         return _coconut_has_iter.__new__(cls, iterable)
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
-            self.iter, new_iter = _coconut_tee(self.iter)
+            self.iter, new_iter = {_coconut_}tee(self.iter)
         return new_iter
     def __iter__(self):
         return _coconut.iter(self.get_new_iter())
     def __repr__(self):
         return "reiterable(%s)" % (_coconut.repr(self.get_new_iter()),)
     def __reduce__(self):
         return (self.__class__, (self.iter,))
     def __copy__(self):
         return self.__class__(self.get_new_iter())
     def __getitem__(self, index):
         return _coconut_iter_getitem(self.get_new_iter(), index)
     def __reversed__(self):
-        return _coconut_reversed(self.get_new_iter())
+        return {_coconut_}reversed(self.get_new_iter())
     def __len__(self):
         if not _coconut.isinstance(self.iter, _coconut.abc.Sized):
             return _coconut.NotImplemented
         return _coconut.len(self.get_new_iter())
     def __contains__(self, elem):
         return elem in self.get_new_iter()
     def count(self, elem):
@@ -199,29 +238,28 @@
         cached_item = cache.popleft()
         if index % step == 0:
             yield cached_item
         cache.append(item)
 def _coconut_iter_getitem(iterable, index):
     """Iterator slicing works just like sequence slicing, including support for negative indices and slices, and support for `slice` objects in the same way as can be done with normal slicing.
 
-    Coconut's iterator slicing is very similar to Python's `itertools.islice`, but unlike `itertools.islice`, Coconut's iterator slicing supports negative indices, and will preferentially call an object's `__iter_getitem__` (Coconut-specific magic method, preferred) or `__getitem__` (general Python magic method), if they exist. Coconut's iterator slicing is also optimized to work well with all of Coconut's built-in objects, only computing the elements of each that are actually necessary to extract the desired slice.
+    Coconut's iterator slicing is very similar to Python's `itertools.islice`, but unlike `itertools.islice`, Coconut's iterator slicing supports negative indices, and will preferentially call an object's `__iter_getitem__` (always used if available) or `__getitem__` (only used if the object is a collections.abc.Sequence). Coconut's iterator slicing is also optimized to work well with all of Coconut's built-in objects, only computing the elements of each that are actually necessary to extract the desired slice.
 
     Some code taken from more_itertools under the terms of its MIT license.
     """
     obj_iter_getitem = _coconut.getattr(iterable, "__iter_getitem__", None)
-    if obj_iter_getitem is None:
+    if obj_iter_getitem is None and _coconut.isinstance(iterable, _coconut.abc.Sequence):
         obj_iter_getitem = _coconut.getattr(iterable, "__getitem__", None)
     if obj_iter_getitem is not None:
         try:
             result = obj_iter_getitem(index)
         except _coconut.NotImplementedError:
             pass
         else:
-            if result is not _coconut.NotImplemented:
-                return result
+            return result
     if not _coconut.isinstance(index, _coconut.slice):
         index = _coconut.operator.index(index)
         if index < 0:
             return _coconut.collections.deque(iterable, maxlen=-index)[0]
         result = _coconut.next(_coconut.itertools.islice(iterable, index, index + 1), _coconut_sentinel)
         if result is _coconut_sentinel:
             raise _coconut.IndexError(".$[] index out of range")
@@ -254,30 +292,30 @@
             else:
                 j = _coconut.max(len_iter + stop, 0)
             n = j - i
             if n <= 0:
                 return ()
             if n < -start or step != 1:
                 cache = _coconut.itertools.islice(cache, 0, n, step)
-            return _coconut_map(_coconut.operator.itemgetter(1), cache)
+            return {_coconut_}map(_coconut.operator.itemgetter(1), cache)
         elif stop is None or stop >= 0:
             return _coconut.itertools.islice(iterable, start, stop, step)
         else:
             return _coconut_iter_getitem_special_case(iterable, start, stop, step)
     else:
         start = -1 if start is None else start
         if stop is not None and stop < 0:
             n = -stop - 1
             cache = _coconut.collections.deque(_coconut.enumerate(iterable, 1), maxlen=n)
             len_iter = cache[-1][0] if cache else 0
             if start < 0:
                 i, j = start, stop
             else:
                 i, j = _coconut.min(start - len_iter, -1), None
-            return _coconut_map(_coconut.operator.itemgetter(1), _coconut.tuple(cache)[i:j:step])
+            return {_coconut_}map(_coconut.operator.itemgetter(1), _coconut.tuple(cache)[i:j:step])
         else:
             if stop is not None:
                 m = stop + 1
                 iterable = _coconut.itertools.islice(iterable, m, None)
             if start < 0:
                 i = start
                 n = None
@@ -288,15 +326,15 @@
                 i = None
                 n = start - stop
             if n is not None:
                 if n <= 0:
                     return ()
                 iterable = _coconut.itertools.islice(iterable, 0, n)
             return _coconut.tuple(iterable)[i::step]
-class _coconut_base_compose(_coconut_base_hashable):
+class _coconut_base_compose(_coconut_baseclass):
     __slots__ = ("func", "func_infos")
     def __init__(self, func, *func_infos):
         self.func = func
         self.func_infos = []
         for f, stars, none_aware in func_infos:
             if _coconut.isinstance(f, _coconut_base_compose):
                 self.func_infos.append((f.func, stars, none_aware))
@@ -435,14 +473,20 @@
     raise exc
 def _coconut_bool_and(a, b):
     """Boolean and operator (and). Equivalent to (a, b) -> a and b."""
     return a and b
 def _coconut_bool_or(a, b):
     """Boolean or operator (or). Equivalent to (a, b) -> a or b."""
     return a or b
+def _coconut_in(a, b):
+    """Containment operator (in). Equivalent to (a, b) -> a in b."""
+    return a in b
+def _coconut_not_in(a, b):
+    """Negative containment operator (not in). Equivalent to (a, b) -> a not in b."""
+    return a not in b
 def _coconut_none_coalesce(a, b):
     """None coalescing operator (??). Equivalent to (a, b) -> a if a is not None else b."""
     return b if a is None else a
 def _coconut_minus(a, b=_coconut_sentinel):
     """Minus operator (-). Effectively equivalent to (a, b=None) -> a - b if b is not None else -a."""
     if b is _coconut_sentinel:
         return -a
@@ -513,15 +557,15 @@
     def count(self, elem):
         """Count the number of times elem appears in the reversed iterable."""
         return self.iter.count(elem)
     def index(self, elem):
         """Find the index of elem in the reversed iterable."""
         return _coconut.len(self.iter) - self.iter.index(elem) - 1
     def __fmap__(self, func):
-        return self.__class__(_coconut_map(func, self.iter))
+        return self.__class__({_coconut_}map(func, self.iter))
 class flatten(_coconut_has_iter):{COMMENT.cant_implement_len_else_list_calls_become_very_innefficient}
     """Flatten an iterable of iterables into a single iterable.
     Only flattens the top level of the iterable."""
     __slots__ = ("levels", "_made_reit")
     def __new__(cls, iterable, levels=1):
         if levels is not None:
             levels = _coconut.operator.index(levels)
@@ -534,17 +578,17 @@
         self._made_reit = False
         return self
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
             if not self._made_reit:
                 for i in _coconut.reversed(_coconut.range(0 if self.levels is None else self.levels + 1)):
-                    mapper = _coconut_reiterable
+                    mapper = {_coconut_}reiterable
                     for _ in _coconut.range(i):
-                        mapper = _coconut.functools.partial(_coconut_map, mapper)
+                        mapper = _coconut.functools.partial({_coconut_}map, mapper)
                     self.iter = mapper(self.iter)
                 self._made_reit = True
         return self.iter
     def __iter__(self):
         if self.levels is None:
             return self._iter_all_levels()
         new_iter = self.iter
@@ -560,17 +604,17 @@
             else:
                 yield item
     def __reversed__(self):
         if self.levels is None:
             return _coconut.reversed(_coconut.tuple(self._iter_all_levels(new=True)))
         reversed_iter = self.get_new_iter()
         for i in _coconut.reversed(_coconut.range(self.levels + 1)):
-            reverser = _coconut_reversed
+            reverser = {_coconut_}reversed
             for _ in _coconut.range(i):
-                reverser = _coconut.functools.partial(_coconut_map, reverser)
+                reverser = _coconut.functools.partial({_coconut_}map, reverser)
             reversed_iter = reverser(reversed_iter)
         return self.__class__(reversed_iter, self.levels)
     def __repr__(self):
         return "flatten(" + _coconut.repr(self.iter) + (", " + _coconut.repr(self.levels) if self.levels is not None else "") + ")"
     def __reduce__(self):
         return (self.__class__, (self.iter, self.levels))
     def __copy__(self):
@@ -593,53 +637,57 @@
             try:
                 return ind + it.index(elem)
             except _coconut.ValueError:
                 ind += _coconut.len(it)
         raise ValueError("%r not in %r" % (elem, self))
     def __fmap__(self, func):
         if self.levels == 1:
-            return self.__class__(_coconut_map(_coconut.functools.partial(_coconut_map, func), self.get_new_iter()))
-        return _coconut_map(func, self)
-class cartesian_product(_coconut_base_hashable):
+            return self.__class__({_coconut_}map(_coconut.functools.partial({_coconut_}map, func), self.get_new_iter()))
+        return {_coconut_}map(func, self)
+class cartesian_product(_coconut_baseclass):
     __slots__ = ("iters", "repeat")
     __doc__ = getattr(_coconut.itertools.product, "__doc__", "Cartesian product of input iterables.") + """
 
 Additionally supports Cartesian products of numpy arrays."""
     def __new__(cls, *iterables, **kwargs):
         repeat = _coconut.operator.index(kwargs.pop("repeat", 1))
         if kwargs:
             raise _coconut.TypeError("cartesian_product() got unexpected keyword arguments " + _coconut.repr(kwargs))
         if repeat == 0:
             iterables = ()
             repeat = 1
         if repeat < 0:
             raise _coconut.ValueError("cartesian_product: repeat cannot be negative")
-        if iterables and _coconut.all(it.__class__.__module__ in _coconut.numpy_modules for it in iterables):
-            if _coconut.any(it.__class__.__module__ in _coconut.jax_numpy_modules for it in iterables):
-                from jax import numpy
-            else:
-                numpy = _coconut.numpy
-            iterables *= repeat
-            dtype = numpy.result_type(*iterables)
-            arr = numpy.empty([_coconut.len(a) for a in iterables] + [_coconut.len(iterables)], dtype=dtype)
-            for i, a in _coconut.enumerate(numpy.ix_(*iterables)):
-                arr[..., i] = a
-            return arr.reshape(-1, _coconut.len(iterables))
+        if iterables:
+            it_modules = [_coconut_get_base_module(it) for it in iterables]
+            if _coconut.all(mod in _coconut.numpy_modules for mod in it_modules):
+                if _coconut.any(mod in _coconut.pandas_numpy_modules for mod in it_modules):
+                    iterables = tuple((it.to_numpy() if _coconut_get_base_module(it) in _coconut.pandas_numpy_modules else it) for it in iterables)
+                if _coconut.any(mod in _coconut.jax_numpy_modules for mod in it_modules):
+                    from jax import numpy
+                else:
+                    numpy = _coconut.numpy
+                iterables *= repeat
+                dtype = numpy.result_type(*iterables)
+                arr = numpy.empty([_coconut.len(a) for a in iterables] + [_coconut.len(iterables)], dtype=dtype)
+                for i, a in _coconut.enumerate(numpy.ix_(*iterables)):
+                    arr[..., i] = a
+                return arr.reshape(-1, _coconut.len(iterables))
         self = _coconut.object.__new__(cls)
         self.iters = iterables
         self.repeat = repeat
         return self
     def __iter__(self):
         return _coconut.itertools.product(*self.iters, repeat=self.repeat)
     def __repr__(self):
         return "cartesian_product(" + ", ".join(_coconut.repr(it) for it in self.iters) + (", repeat=" + _coconut.repr(self.repeat) if self.repeat != 1 else "") + ")"
     def __reduce__(self):
         return (self.__class__, self.iters, {lbrace}"repeat": self.repeat{rbrace})
     def __copy__(self):
-        self.iters = _coconut.tuple(_coconut_reiterable(it) for it in self.iters)
+        self.iters = _coconut.tuple({_coconut_}reiterable(it) for it in self.iters)
         return self.__class__(*self.iters, repeat=self.repeat)
     @property
     def all_iters(self):
         return _coconut.itertools.chain.from_iterable(_coconut.itertools.repeat(self.iters, self.repeat))
     def __len__(self):
         total_len = 1
         for it in self.iters:
@@ -659,50 +707,50 @@
             if e is _coconut_sentinel or it is _coconut_sentinel:
                 return 0
             total_count *= it.count(e)
             if not total_count:
                 return total_count
         return total_count
     def __fmap__(self, func):
-        return _coconut_map(func, self)
-class map(_coconut_base_hashable, _coconut.map):
+        return {_coconut_}map(func, self)
+class map(_coconut_baseclass, _coconut.map):
     __slots__ = ("func", "iters")
     __doc__ = getattr(_coconut.map, "__doc__", "<see help(py_map)>")
     def __new__(cls, function, *iterables, **kwargs):
         strict = kwargs.pop("strict", False)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         if strict and _coconut.len(iterables) > 1:
-            return _coconut_starmap(function, _coconut_zip(*iterables, strict=True))
+            return {_coconut_}starmap(function, {_coconut_}zip(*iterables, strict=True))
         self = _coconut.map.__new__(cls, function, *iterables)
         self.func = function
         self.iters = iterables
         return self
     def __getitem__(self, index):
         if _coconut.isinstance(index, _coconut.slice):
             return self.__class__(self.func, *(_coconut_iter_getitem(it, index) for it in self.iters))
         return self.func(*(_coconut_iter_getitem(it, index) for it in self.iters))
     def __reversed__(self):
-        return self.__class__(self.func, *(_coconut_reversed(it) for it in self.iters))
+        return self.__class__(self.func, *({_coconut_}reversed(it) for it in self.iters))
     def __len__(self):
         if not _coconut.all(_coconut.isinstance(it, _coconut.abc.Sized) for it in self.iters):
             return _coconut.NotImplemented
         return _coconut.min(_coconut.len(it) for it in self.iters)
     def __repr__(self):
         return "%s(%r, %s)" % (self.__class__.__name__, self.func, ", ".join((_coconut.repr(it) for it in self.iters)))
     def __reduce__(self):
         return (self.__class__, (self.func,) + self.iters)
     def __copy__(self):
-        self.iters = _coconut.tuple(_coconut_reiterable(it) for it in self.iters)
+        self.iters = _coconut.tuple({_coconut_}reiterable(it) for it in self.iters)
         return self.__class__(self.func, *self.iters)
     def __iter__(self):
         return _coconut.iter(_coconut.map(self.func, *self.iters))
     def __fmap__(self, func):
         return self.__class__(_coconut_forward_compose(self.func, func), *self.iters)
-class _coconut_parallel_concurrent_map_func_wrapper(_coconut_base_hashable):
+class _coconut_parallel_concurrent_map_func_wrapper(_coconut_baseclass):
     __slots__ = ("map_cls", "func", "star")
     def __init__(self, map_cls, func, star):
         self.map_cls = map_cls
         self.func = func
         self.star = star
     def __reduce__(self):
         return (self.__class__, (self.map_cls, self.func, self.star))
@@ -722,15 +770,15 @@
             assert self.map_cls.get_pool_stack().pop() is None, "internal parallel/concurrent map error {report_this_text}"
 class _coconut_base_parallel_concurrent_map(map):
     __slots__ = ("result", "chunksize", "strict")
     @classmethod
     def get_pool_stack(cls):
         return cls.threadlocal_ns.__dict__.setdefault("pool_stack", [None])
     def __new__(cls, function, *iterables, **kwargs):
-        self = _coconut_map.__new__(cls, function, *iterables)
+        self = {_coconut_}map.__new__(cls, function, *iterables)
         self.result = None
         self.chunksize = kwargs.pop("chunksize", 1)
         self.strict = kwargs.pop("strict", False)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         if cls.get_pool_stack()[-1] is not None:
             return self.get_list()
@@ -750,18 +798,18 @@
             yield
     def get_list(self):
         if self.result is None:
             with self.multiple_sequential_calls():
                 if _coconut.len(self.iters) == 1:
                     self.result = _coconut.list(self.get_pool_stack()[-1].imap(_coconut_parallel_concurrent_map_func_wrapper(self.__class__, self.func, False), self.iters[0], self.chunksize))
                 elif self.strict:
-                    self.result = _coconut.list(self.get_pool_stack()[-1].imap(_coconut_parallel_concurrent_map_func_wrapper(self.__class__, self.func, True), _coconut_zip(*self.iters, strict=True), self.chunksize))
+                    self.result = _coconut.list(self.get_pool_stack()[-1].imap(_coconut_parallel_concurrent_map_func_wrapper(self.__class__, self.func, True), {_coconut_}zip(*self.iters, strict=True), self.chunksize))
                 else:
                     self.result = _coconut.list(self.get_pool_stack()[-1].imap(_coconut_parallel_concurrent_map_func_wrapper(self.__class__, self.func, True), _coconut.zip(*self.iters), self.chunksize))
-            self.func = _coconut_ident
+            self.func = {_coconut_}ident
             self.iters = (self.result,)
         return self.result
     def __iter__(self):
         return _coconut.iter(self.get_list())
 class parallel_map(_coconut_base_parallel_concurrent_map):
     """Multi-process implementation of map. Requires arguments to be pickleable.
 
@@ -782,50 +830,50 @@
             ...
     """
     __slots__ = ()
     threadlocal_ns = _coconut.threading.local()
     @staticmethod
     def make_pool(max_workers=None):
         return _coconut.multiprocessing_dummy.Pool(_coconut.multiprocessing.cpu_count() * 5 if max_workers is None else max_workers)
-class zip(_coconut_base_hashable, _coconut.zip):
+class zip(_coconut_baseclass, _coconut.zip):
     __slots__ = ("iters", "strict")
     __doc__ = getattr(_coconut.zip, "__doc__", "<see help(py_zip)>")
     def __new__(cls, *iterables, **kwargs):
         self = _coconut.zip.__new__(cls, *iterables)
         self.iters = iterables
         self.strict = kwargs.pop("strict", False)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         return self
     def __getitem__(self, index):
         if _coconut.isinstance(index, _coconut.slice):
             return self.__class__(*(_coconut_iter_getitem(it, index) for it in self.iters), strict=self.strict)
         return _coconut.tuple(_coconut_iter_getitem(it, index) for it in self.iters)
     def __reversed__(self):
-        return self.__class__(*(_coconut_reversed(it) for it in self.iters), strict=self.strict)
+        return self.__class__(*({_coconut_}reversed(it) for it in self.iters), strict=self.strict)
     def __len__(self):
         if not _coconut.all(_coconut.isinstance(it, _coconut.abc.Sized) for it in self.iters):
             return _coconut.NotImplemented
         return _coconut.min(_coconut.len(it) for it in self.iters)
     def __repr__(self):
         return "zip(%s%s)" % (", ".join((_coconut.repr(it) for it in self.iters)), ", strict=True" if self.strict else "")
     def __reduce__(self):
         return (self.__class__, self.iters, {lbrace}"strict": self.strict{rbrace})
     def __copy__(self):
-        self.iters = _coconut.tuple(_coconut_reiterable(it) for it in self.iters)
+        self.iters = _coconut.tuple({_coconut_}reiterable(it) for it in self.iters)
         return self.__class__(*self.iters, strict=self.strict)
     def __iter__(self):
 {zip_iter}
     def __fmap__(self, func):
-        return _coconut_map(func, self)
+        return {_coconut_}map(func, self)
 class zip_longest(zip):
     __slots__ = ("fillvalue",)
     __doc__ = getattr(_coconut.zip_longest, "__doc__", "Version of zip that fills in missing values with fillvalue.")
     def __new__(cls, *iterables, **kwargs):
-        self = _coconut_zip.__new__(cls, *iterables, strict=False)
+        self = {_coconut_}zip.__new__(cls, *iterables, strict=False)
         self.fillvalue = kwargs.pop("fillvalue", None)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         return self
     def __getitem__(self, index):
         self_len = None
         if _coconut.isinstance(index, _coconut.slice):
@@ -858,56 +906,56 @@
             return _coconut.NotImplemented
         return _coconut.max(_coconut.len(it) for it in self.iters)
     def __repr__(self):
         return "zip_longest(%s, fillvalue=%s)" % (", ".join((_coconut.repr(it) for it in self.iters)), _coconut.repr(self.fillvalue))
     def __reduce__(self):
         return (self.__class__, self.iters, {lbrace}"fillvalue": self.fillvalue{rbrace})
     def __copy__(self):
-        self.iters = _coconut.tuple(_coconut_reiterable(it) for it in self.iters)
+        self.iters = _coconut.tuple({_coconut_}reiterable(it) for it in self.iters)
         return self.__class__(*self.iters, fillvalue=self.fillvalue)
     def __iter__(self):
         return _coconut.iter(_coconut.zip_longest(*self.iters, fillvalue=self.fillvalue))
-class filter(_coconut_base_hashable, _coconut.filter):
+class filter(_coconut_baseclass, _coconut.filter):
     __slots__ = ("func", "iter")
     __doc__ = getattr(_coconut.filter, "__doc__", "<see help(py_filter)>")
     def __new__(cls, function, iterable):
         self = _coconut.filter.__new__(cls, function, iterable)
         self.func = function
         self.iter = iterable
         return self
     def __reversed__(self):
-        return self.__class__(self.func, _coconut_reversed(self.iter))
+        return self.__class__(self.func, {_coconut_}reversed(self.iter))
     def __repr__(self):
         return "filter(%r, %s)" % (self.func, _coconut.repr(self.iter))
     def __reduce__(self):
         return (self.__class__, (self.func, self.iter))
     def __copy__(self):
-        self.iter = _coconut_reiterable(self.iter)
+        self.iter = {_coconut_}reiterable(self.iter)
         return self.__class__(self.func, self.iter)
     def __iter__(self):
         return _coconut.iter(_coconut.filter(self.func, self.iter))
     def __fmap__(self, func):
-        return _coconut_map(func, self)
-class enumerate(_coconut_base_hashable, _coconut.enumerate):
+        return {_coconut_}map(func, self)
+class enumerate(_coconut_baseclass, _coconut.enumerate):
     __slots__ = ("iter", "start")
     __doc__ = getattr(_coconut.enumerate, "__doc__", "<see help(py_enumerate)>")
     def __new__(cls, iterable, start=0):
         start = _coconut.operator.index(start)
         self = _coconut.enumerate.__new__(cls, iterable, start)
         self.iter = iterable
         self.start = start
         return self
     def __repr__(self):
         return "enumerate(%s, %r)" % (_coconut.repr(self.iter), self.start)
     def __fmap__(self, func):
-        return _coconut_map(func, self)
+        return {_coconut_}map(func, self)
     def __reduce__(self):
         return (self.__class__, (self.iter, self.start))
     def __copy__(self):
-        self.iter = _coconut_reiterable(self.iter)
+        self.iter = {_coconut_}reiterable(self.iter)
         return self.__class__(self.iter, self.start)
     def __iter__(self):
         return _coconut.iter(_coconut.enumerate(self.iter, self.start))
     def __getitem__(self, index):
         if _coconut.isinstance(index, _coconut.slice):
             return self.__class__(_coconut_iter_getitem(self.iter, index), self.start + (0 if index.start is None else index.start if index.start >= 0 else _coconut.len(self.iter) + index.start))
         return (self.start + index, _coconut_iter_getitem(self.iter, index))
@@ -917,34 +965,35 @@
         return _coconut.len(self.iter)
 class multi_enumerate(_coconut_has_iter):
     """Enumerate an iterable of iterables. Works like enumerate, but indexes
     through inner iterables and produces a tuple index representing the index
     in each inner iterable. Supports indexing.
 
     For numpy arrays, effectively equivalent to:
-        it = np.nditer(iterable, flags=["multi_index"])
+        it = np.nditer(iterable, flags=["multi_index", "refs_ok"])
         for x in it:
             yield it.multi_index, x
 
     Also supports len for numpy arrays.
     """
     __slots__ = ()
     def __repr__(self):
         return "multi_enumerate(%s)" % (_coconut.repr(self.iter),)
     def __reduce__(self):
         return (self.__class__, (self.iter,))
     def __copy__(self):
         return self.__class__(self.get_new_iter())
     @property
     def is_numpy(self):
-        return self.iter.__class__.__module__ in _coconut.numpy_modules
+        return _coconut_get_base_module(self.iter) in _coconut.numpy_modules
     def __iter__(self):
         if self.is_numpy:
-            it = _coconut.numpy.nditer(self.iter, flags=["multi_index"])
+            it = _coconut.numpy.nditer(self.iter, ["multi_index", "refs_ok"], [["readonly"]])
             for x in it:
+                x, = x.flatten()
                 yield it.multi_index, x
         else:
             ind = [-1]
             its = [_coconut.iter(self.iter)]
             while its:
                 ind[-1] += 1
                 try:
@@ -967,15 +1016,15 @@
             multi_ind = _coconut.tuple(_coconut.reversed(multi_ind))
             return multi_ind, self.iter[multi_ind]
         return _coconut_iter_getitem(_coconut.iter(self), index)
     def __len__(self):
         if self.is_numpy:
             return self.iter.size
         return _coconut.NotImplemented
-class count(_coconut_base_hashable):
+class count(_coconut_baseclass):
     __slots__ = ("start", "step")
     __doc__ = getattr(_coconut.itertools.count, "__doc__", "count(start, step) returns an infinite iterator starting at start and increasing by step.")
     def __init__(self, start=0, step=1):
         self.start = start
         self.step = step
     def __reduce__(self):
         return (self.__class__, (self.start, self.step))
@@ -983,15 +1032,15 @@
         return "count(%s, %s)" % (_coconut.repr(self.start), _coconut.repr(self.step))
     def __iter__(self):
         while True:
             yield self.start
             if self.step:
                 self.start += self.step
     def __fmap__(self, func):
-        return _coconut_map(func, self)
+        return {_coconut_}map(func, self)
     def __contains__(self, elem):
         if not self.step:
             return elem == self.start
         if self.step > 0 and elem < self.start or self.step < 0 and elem > self.start:
             return False
         return (elem - self.start) % self.step == 0
     def __getitem__(self, index):
@@ -1002,15 +1051,15 @@
                     new_start += self.step * index.start
                 if self.step and index.step is not None:
                     new_step *= index.step
                 if index.stop is None:
                     return self.__class__(new_start, new_step)
                 if self.step and _coconut.isinstance(self.start, _coconut.int) and _coconut.isinstance(self.step, _coconut.int):
                     return _coconut.range(new_start, self.start + self.step * index.stop, new_step)
-                return _coconut_map(self.__getitem__, _coconut.range(index.start if index.start is not None else 0, index.stop, index.step if index.step is not None else 1))
+                return {_coconut_}map(self.__getitem__, _coconut.range(index.start if index.start is not None else 0, index.stop, index.step if index.step is not None else 1))
             raise _coconut.IndexError("count() indices cannot be negative")
         if index < 0:
             raise _coconut.IndexError("count() indices cannot be negative")
         return self.start + self.step * index if self.step else self.start
     def count(self, elem):
         """Count the number of times elem appears in the count."""
         if not self.step:
@@ -1055,25 +1104,25 @@
         return elem in self.iter
     def __getitem__(self, index):
         if not _coconut.isinstance(index, _coconut.slice):
             if self.times is not None and index // _coconut.len(self.iter) >= self.times:
                 raise _coconut.IndexError("cycle index out of range")
             return self.iter[index % _coconut.len(self.iter)]
         if self.times is None:
-            return _coconut_map(self.__getitem__, _coconut_count()[index])
+            return {_coconut_}map(self.__getitem__, {_coconut_}count()[index])
         else:
-            return _coconut_map(self.__getitem__, _coconut_range(0, _coconut.len(self))[index])
+            return {_coconut_}map(self.__getitem__, {_coconut_}range(0, _coconut.len(self))[index])
     def __len__(self):
         if self.times is None or not _coconut.isinstance(self.iter, _coconut.abc.Sized):
             return _coconut.NotImplemented
         return _coconut.len(self.iter) * self.times
     def __reversed__(self):
         if self.times is None:
             raise _coconut.TypeError(_coconut.repr(self) + " object is not reversible")
-        return self.__class__(_coconut_reversed(self.get_new_iter()), self.times)
+        return self.__class__({_coconut_}reversed(self.get_new_iter()), self.times)
     def count(self, elem):
         """Count the number of times elem appears in the cycle."""
         return self.iter.count(elem) * (float("inf") if self.times is None else self.times)
     def index(self, elem):
         """Find the index of elem in the cycle."""
         if elem not in self.iter:
             raise _coconut.ValueError(_coconut.repr(elem) + " not in " + _coconut.repr(self))
@@ -1156,15 +1205,15 @@
         return (_coconut.len(self.iter) + self.group_size - 1) // self.group_size
     def __repr__(self):
         return "groupsof(" + _coconut.repr(self.group_size) + ", " + _coconut.repr(self.iter) + (", fillvalue=" + _coconut.repr(self.fillvalue) if self.fillvalue is not _coconut_sentinel else "") + ")"
     def __reduce__(self):
         return (self.__class__, (self.group_size, self.iter))
     def __copy__(self):
         return self.__class__(self.group_size, self.get_new_iter())
-class recursive_iterator(_coconut_base_hashable):
+class recursive_iterator(_coconut_baseclass):
     """Decorator that optimizes a recursive function that returns an iterator (e.g. a recursive generator)."""
     __slots__ = ("func", "reit_store", "backup_reit_store")
     def __init__(self, func):
         self.func = func
         self.reit_store = {empty_dict}
         self.backup_reit_store = []
     def __call__(self, *args, **kwargs):
@@ -1177,61 +1226,59 @@
                 key = _coconut.pickle.dumps(key, -1)
             except _coconut.Exception:
                 use_backup = True
         if use_backup:
             for k, v in self.backup_reit_store:
                 if k == key:
                     return reit
-            reit = _coconut_reiterable(self.func(*args, **kwargs))
+            reit = {_coconut_}reiterable(self.func(*args, **kwargs))
             self.backup_reit_store.append([key, reit])
             return reit
         else:
             reit = self.reit_store.get(key)
             if reit is None:
-                reit = _coconut_reiterable(self.func(*args, **kwargs))
+                reit = {_coconut_}reiterable(self.func(*args, **kwargs))
                 self.reit_store[key] = reit
             return reit
     def __repr__(self):
         return "recursive_iterator(%r)" % (self.func,)
     def __reduce__(self):
         return (self.__class__, (self.func,))
     def __get__(self, obj, objtype=None):
         if obj is None:
             return self
 {return_method_of_self}
-class _coconut_FunctionMatchErrorContext{object}:
+class _coconut_FunctionMatchErrorContext(_coconut_baseclass):
     __slots__ = ("exc_class", "taken")
     threadlocal_ns = _coconut.threading.local()
     def __init__(self, exc_class):
         self.exc_class = exc_class
         self.taken = False
     @classmethod
     def get_contexts(cls):
-        try:
-            return cls.threadlocal_ns.contexts
-        except _coconut.AttributeError:
-            cls.threadlocal_ns.contexts = []
-            return cls.threadlocal_ns.contexts
+        return cls.threadlocal_ns.__dict__.setdefault("contexts", [])
     def __enter__(self):
         self.get_contexts().append(self)
     def __exit__(self, type, value, traceback):
         self.get_contexts().pop()
+    def __reduce__(self):
+        return (self.__class__, (self.exc_class,))
 def _coconut_get_function_match_error():
-    try:
-        ctx = _coconut_FunctionMatchErrorContext.get_contexts()[-1]
-    except _coconut.IndexError:
-        return _coconut_MatchError
+    contexts = _coconut_FunctionMatchErrorContext.get_contexts()
+    if not contexts:
+        return {_coconut_}MatchError
+    ctx = contexts[-1]
     if ctx.taken:
-        return _coconut_MatchError
+        return {_coconut_}MatchError
     ctx.taken = True
     return ctx.exc_class
-class _coconut_base_pattern_func(_coconut_base_hashable):{COMMENT.no_slots_to_allow_func_attrs}
+class _coconut_base_pattern_func(_coconut_baseclass):{COMMENT.no_slots_to_allow_func_attrs}
     _coconut_is_match = True
     def __init__(self, *funcs):
-        self.FunctionMatchError = _coconut.type(_coconut_py_str("MatchError"), (_coconut_MatchError,), {empty_dict})
+        self.FunctionMatchError = _coconut.type(_coconut_py_str("MatchError"), ({_coconut_}MatchError,), {empty_py_dict})
         self.patterns = []
         self.__doc__ = None
         self.__name__ = None
 {set_qualname_none}
         for func in funcs:
             self.add_pattern(func)
     def add_pattern(self, func):
@@ -1281,15 +1328,15 @@
     if kwargs:
         raise _coconut.TypeError("addpattern() got unexpected keyword arguments " + _coconut.repr(kwargs))
     if add_funcs:
         return _coconut_base_pattern_func(base_func, *add_funcs)
     return _coconut.functools.partial(_coconut_base_pattern_func, base_func)
 _coconut_addpattern = addpattern
 {def_prepattern}
-class _coconut_partial(_coconut_base_hashable):
+class _coconut_partial(_coconut_baseclass):
     __slots__ = ("func", "_argdict", "_arglen", "_pos_kwargs", "_stargs", "keywords")
     def __init__(self, _coconut_func, _coconut_argdict, _coconut_arglen, _coconut_pos_kwargs, *args, **kwargs):
         self.func = _coconut_func
         self._argdict = _coconut_argdict
         self._arglen = _coconut_arglen
         self._pos_kwargs = _coconut_pos_kwargs
         self._stargs = args
@@ -1339,38 +1386,38 @@
             args.append(k + "=?")
         for k, v in self.keywords.items():
             args.append(k + "=" + _coconut.repr(v))
         return "%r$(%s)" % (self.func, ", ".join(args))
 def consume(iterable, keep_last=0):
     """consume(iterable, keep_last) fully exhausts iterable and returns the last keep_last elements."""
     return _coconut.collections.deque(iterable, maxlen=keep_last)
-class starmap(_coconut_base_hashable, _coconut.itertools.starmap):
+class starmap(_coconut_baseclass, _coconut.itertools.starmap):
     __slots__ = ("func", "iter")
     __doc__ = getattr(_coconut.itertools.starmap, "__doc__", "starmap(func, iterable) = (func(*args) for args in iterable)")
     def __new__(cls, function, iterable):
         self = _coconut.itertools.starmap.__new__(cls, function, iterable)
         self.func = function
         self.iter = iterable
         return self
     def __getitem__(self, index):
         if _coconut.isinstance(index, _coconut.slice):
             return self.__class__(self.func, _coconut_iter_getitem(self.iter, index))
         return self.func(*_coconut_iter_getitem(self.iter, index))
     def __reversed__(self):
-        return self.__class__(self.func, *_coconut_reversed(self.iter))
+        return self.__class__(self.func, *{_coconut_}reversed(self.iter))
     def __len__(self):
         if not _coconut.isinstance(self.iter, _coconut.abc.Sized):
             return _coconut.NotImplemented
         return _coconut.len(self.iter)
     def __repr__(self):
         return "starmap(%r, %s)" % (self.func, _coconut.repr(self.iter))
     def __reduce__(self):
         return (self.__class__, (self.func, self.iter))
     def __copy__(self):
-        self.iter = _coconut_reiterable(self.iter)
+        self.iter = {_coconut_}reiterable(self.iter)
         return self.__class__(self.func, self.iter)
     def __iter__(self):
         return _coconut.iter(_coconut.itertools.starmap(self.func, self.iter))
     def __fmap__(self, func):
         return self.__class__(_coconut_forward_compose(self.func, func), self.iter)
 class multiset(_coconut.collections.Counter{comma_object}):
     __slots__ = ()
@@ -1402,15 +1449,15 @@
     def count(self, item):
         """Return the number of times an element occurs in a multiset.
         Equivalent to multiset[item], but additionally verifies the count is non-negative."""
         result = self[item]
         if result < 0:
             raise _coconut.ValueError("multiset has negative count for " + _coconut.repr(item))
         return result
-{def_total_and_comparisons}_coconut.abc.MutableSet.register(multiset)
+{def_total_and_comparisons}{assign_multiset_views}_coconut.abc.MutableSet.register(multiset)
 def _coconut_base_makedata(data_type, args):
     if _coconut.hasattr(data_type, "_make") and _coconut.issubclass(data_type, _coconut.tuple):
         return data_type._make(args)
     if _coconut.issubclass(data_type, (_coconut.range, _coconut.abc.Iterator)):
         return args
     if _coconut.issubclass(data_type, _coconut.str):
         return "".join(args)
@@ -1434,45 +1481,50 @@
         try:
             result = obj_fmap(func)
         except _coconut.NotImplementedError:
             pass
         else:
             if result is not _coconut.NotImplemented:
                 return result
-    if obj.__class__.__module__ in _coconut.jax_numpy_modules:
+    obj_module = _coconut_get_base_module(obj)
+    if obj_module in _coconut.pandas_numpy_modules:
+        if obj.ndim <= 1:
+            return obj.apply(func)
+        return obj.apply(func, axis=obj.ndim-1)
+    if obj_module in _coconut.jax_numpy_modules:
         import jax.numpy as jnp
         return jnp.vectorize(func)(obj)
-    if obj.__class__.__module__ in _coconut.numpy_modules:
+    if obj_module in _coconut.numpy_modules:
         return _coconut.numpy.vectorize(func)(obj)
     obj_aiter = _coconut.getattr(obj, "__aiter__", None)
     if obj_aiter is not None and _coconut_amap is not None:
         try:
             aiter = obj_aiter()
         except _coconut.NotImplementedError:
             pass
         else:
             if aiter is not _coconut.NotImplemented:
                 return _coconut_amap(func, aiter)
     if starmap_over_mappings:
-        return _coconut_base_makedata(obj.__class__, _coconut_starmap(func, obj.items()) if _coconut.isinstance(obj, _coconut.abc.Mapping) else _coconut_map(func, obj))
+        return _coconut_base_makedata(obj.__class__, {_coconut_}starmap(func, obj.items()) if _coconut.isinstance(obj, _coconut.abc.Mapping) else {_coconut_}map(func, obj))
     else:
-        return _coconut_base_makedata(obj.__class__, _coconut_map(func, obj.items() if _coconut.isinstance(obj, _coconut.abc.Mapping) else obj))
+        return _coconut_base_makedata(obj.__class__, {_coconut_}map(func, obj.items() if _coconut.isinstance(obj, _coconut.abc.Mapping) else obj))
 def _coconut_memoize_helper(maxsize=None, typed=False):
     return maxsize, typed
 def memoize(*args, **kwargs):
     """Decorator that memoizes a function, preventing it from being recomputed
     if it is called multiple times with the same arguments."""
     if not kwargs and _coconut.len(args) == 1 and _coconut.callable(args[0]):
         return _coconut.functools.lru_cache(maxsize=None)(args[0])
     if _coconut.len(kwargs) == 1 and "user_function" in kwargs and _coconut.callable(kwargs["user_function"]):
         return _coconut.functools.lru_cache(maxsize=None)(kwargs["user_function"])
     maxsize, typed = _coconut_memoize_helper(*args, **kwargs)
     return _coconut.functools.lru_cache(maxsize, typed)
 {def_call_set_names}
-class override(_coconut_base_hashable):
+class override(_coconut_baseclass):
     __slots__ = ("func",)
     def __init__(self, func):
         self.func = func
     def __get__(self, obj, objtype=None):
         if obj is None:
             return self.func
 {return_method_of_self_func}
@@ -1485,40 +1537,14 @@
     """Special function to get MyPy to print the type of the given expression.
     At runtime, reveal_type is the identity function."""
     return obj
 def reveal_locals():
     """Special function to get MyPy to print the type of the current locals.
     At runtime, reveal_locals always returns None."""
     pass
-def _coconut_handle_cls_kwargs(**kwargs):
-    """Some code taken from six under the terms of its MIT license."""
-    metaclass = kwargs.pop("metaclass", None)
-    if kwargs and metaclass is None:
-        raise _coconut.TypeError("unexpected keyword argument(s) in class definition: %r" % (kwargs,))
-    def coconut_handle_cls_kwargs_wrapper(cls):
-        if metaclass is None:
-            return cls
-        orig_vars = cls.__dict__.copy()
-        slots = orig_vars.get("__slots__")
-        if slots is not None:
-            if _coconut.isinstance(slots, _coconut.str):
-                slots = [slots]
-            for slots_var in slots:
-                orig_vars.pop(slots_var)
-        orig_vars.pop("__dict__", None)
-        orig_vars.pop("__weakref__", None)
-        if _coconut.hasattr(cls, "__qualname__"):
-            orig_vars["__qualname__"] = cls.__qualname__
-        return metaclass(cls.__name__, cls.__bases__, orig_vars, **kwargs)
-    return coconut_handle_cls_kwargs_wrapper
-def _coconut_handle_cls_stargs(*args):
-    temp_names = ["_coconut_base_cls_%s" % (i,) for i in _coconut.range(_coconut.len(args))]
-    ns = _coconut.dict(_coconut.zip(temp_names, args))
-    _coconut_exec("class _coconut_cls_stargs_base(" + ", ".join(temp_names) + "): pass", ns)
-    return ns["_coconut_cls_stargs_base"]
 def _coconut_dict_merge(*dicts, **kwargs):
     for_func = kwargs.pop("for_func", False)
     assert not kwargs, "error with internal Coconut function _coconut_dict_merge {report_this_text}"
     newdict = {empty_dict}
     prevlen = 0
     for d in dicts:
         newdict.update(d)
@@ -1552,17 +1578,17 @@
         def safe_call(f, /, *args, **kwargs):
             try:
                 return Expected(f(*args, **kwargs))
             except Exception as err:
                 return Expected(error=err)
     """
     try:
-        return _coconut_Expected(_coconut_f(*args, **kwargs))
+        return {_coconut_}Expected(_coconut_f(*args, **kwargs))
     except _coconut.Exception as err:
-        return _coconut_Expected(error=err)
+        return {_coconut_}Expected(error=err)
 class Expected(_coconut.collections.namedtuple("Expected", ("result", "error")){comma_object}):
     '''Coconut's Expected built-in is a Coconut data that represents a value
     that may or may not be an error, similar to Haskell's Either.
 
     Effectively equivalent to:
         data Expected[T](result: T? = None, error: BaseException? = None):
             def __bool__(self) -> bool:
@@ -1576,14 +1602,17 @@
             def join(self: Expected[Expected[T]]) -> Expected[T]:
                 """Monadic join. Converts Expected[Expected[T]] to Expected[T]."""
                 if not self:
                     return self
                 if not self.result `isinstance` Expected:
                     raise TypeError("Expected.join() requires an Expected[Expected[_]]")
                 return self.result
+            def map_error(self, func: BaseException -> BaseException) -> Expected[T]:
+                """Maps func over the error if it exists."""
+                return self if self else self.__class__(error=func(self.error))
             def or_else[U](self, func: BaseException -> Expected[U]) -> Expected[T | U]:
                 """Return self if no error, otherwise return the result of evaluating func on the error."""
                 return self if self else func(self.error)
             def result_or[U](self, default: U) -> T | U:
                 """Return the result if it exists, otherwise return the default."""
                 return self.result if self else default
             def result_or_else[U](self, func: BaseException -> U) -> T | U:
@@ -1614,46 +1643,53 @@
             raise _coconut.TypeError("Expected must have either a result or an error")
         if result is _coconut_sentinel:
             result = None
         return _coconut.tuple.__new__(cls, (result, error))
     def __bool__(self):
         return self.error is None
     def __fmap__(self, func):
-        return self if not self else self.__class__(func(self.result))
+        """Maps func over the result if it exists.
+
+        __fmap__ should be used directly only when fmap is not available (e.g. when consuming an Expected in vanilla Python).
+        """
+        return self.__class__(func(self.result)) if self else self
     def and_then(self, func):
         """Maps a T -> Expected[U] over an Expected[T] to produce an Expected[U].
         Implements a monadic bind. Equivalent to fmap ..> .join()."""
         return self.__fmap__(func).join()
     def join(self):
         """Monadic join. Converts Expected[Expected[T]] to Expected[T]."""
         if not self:
             return self
-        if not _coconut.isinstance(self.result, _coconut_Expected):
+        if not _coconut.isinstance(self.result, {_coconut_}Expected):
             raise _coconut.TypeError("Expected.join() requires an Expected[Expected[_]]")
         return self.result
+    def map_error(self, func):
+        """Maps func over the error if it exists."""
+        return self if self else self.__class__(error=func(self.error))
     def or_else(self, func):
         """Return self if no error, otherwise return the result of evaluating func on the error."""
         if self:
             return self
         got = func(self.error)
-        if not _coconut.isinstance(got, _coconut_Expected):
+        if not _coconut.isinstance(got, {_coconut_}Expected):
             raise _coconut.TypeError("Expected.or_else() requires a function that returns an Expected")
         return got
     def result_or(self, default):
         """Return the result if it exists, otherwise return the default."""
         return self.result if self else default
     def result_or_else(self, func):
         """Return the result if it exists, otherwise return the result of evaluating func on the error."""
         return self.result if self else func(self.error)
     def unwrap(self):
         """Unwrap the result or raise the error."""
         if not self:
             raise self.error
         return self.result
-class flip(_coconut_base_hashable):
+class flip(_coconut_baseclass):
     """Given a function, return a new function with inverse argument order.
     If nargs is passed, only the first nargs arguments are reversed."""
     __slots__ = ("func", "nargs")
     def __init__(self, func, nargs=None):
         self.func = func
         if nargs is None:
             self.nargs = None
@@ -1667,38 +1703,38 @@
         if self.nargs is None:
             return self.func(*args[::-1], **kwargs)
         if self.nargs == 0:
             return self.func(*args, **kwargs)
         return self.func(*(args[self.nargs-1::-1] + args[self.nargs:]), **kwargs)
     def __repr__(self):
         return "flip(%r%s)" % (self.func, "" if self.nargs is None else ", " + _coconut.repr(self.nargs))
-class const(_coconut_base_hashable):
+class const(_coconut_baseclass):
     """Create a function that, whatever its arguments, just returns the given value."""
     __slots__ = ("value",)
     def __init__(self, value):
         self.value = value
     def __reduce__(self):
         return (self.__class__, (self.value,))
     def __call__(self, *args, **kwargs):
         return self.value
     def __repr__(self):
         return "const(%s)" % (_coconut.repr(self.value),)
-class _coconut_lifted(_coconut_base_hashable):
+class _coconut_lifted(_coconut_baseclass):
     __slots__ = ("func", "func_args", "func_kwargs")
     def __init__(self, _coconut_func, *func_args, **func_kwargs):
         self.func = _coconut_func
         self.func_args = func_args
         self.func_kwargs = func_kwargs
     def __reduce__(self):
         return (self.__class__, (self.func,) + self.func_args, {lbrace}"func_kwargs": self.func_kwargs{rbrace})
     def __call__(self, *args, **kwargs):
-        return self.func(*(g(*args, **kwargs) for g in self.func_args), **_coconut.dict((k, h(*args, **kwargs)) for k, h in self.func_kwargs.items()))
+        return self.func(*(g(*args, **kwargs) for g in self.func_args), **_coconut_py_dict((k, h(*args, **kwargs)) for k, h in self.func_kwargs.items()))
     def __repr__(self):
         return "lift(%r)(%s%s)" % (self.func, ", ".join(_coconut.repr(g) for g in self.func_args), ", ".join(k + "=" + _coconut.repr(h) for k, h in self.func_kwargs.items()))
-class lift(_coconut_base_hashable):
+class lift(_coconut_baseclass):
     """Lifts a function up so that all of its arguments are functions.
 
     For a binary function f(x, y) and two unary functions g(z) and h(z), lift works as the S' combinator:
         lift(f)(g, h)(z) == f(g(z), h(z))
 
     In general, lift is requivalent to:
         def lift(f) = ((*func_args, **func_kwargs) -> (*args, **kwargs) ->
@@ -1720,15 +1756,18 @@
     def __repr__(self):
         return "lift(%r)" % (self.func,)
 def all_equal(iterable):
     """For a given iterable, check whether all elements in that iterable are equal to each other.
 
     Supports numpy arrays. Assumes transitivity and 'x != y' being equivalent to 'not (x == y)'.
     """
-    if iterable.__class__.__module__ in _coconut.numpy_modules:
+    iterable_module = _coconut_get_base_module(iterable)
+    if iterable_module in _coconut.numpy_modules:
+        if iterable_module in _coconut.pandas_numpy_modules:
+            iterable = iterable.to_numpy()
         return not _coconut.len(iterable) or (iterable == iterable[0]).all()
     first_item = _coconut_sentinel
     for item in iterable:
         if first_item is _coconut_sentinel:
             first_item = item
         elif first_item != item:
             return False
@@ -1763,52 +1802,114 @@
     else:
         NT = _coconut.typing.NamedTuple("_namedtuple_of", [(f, t) for f, t in _coconut.zip(fields, types)])
     _coconut.copyreg.pickle(NT, lambda nt: (_coconut_mk_anon_namedtuple, (nt._fields, types, nt._asdict())))
     if of_kwargs is None:
         return NT
     return NT(**of_kwargs)
 def _coconut_ndim(arr):
-    if (arr.__class__.__module__ in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "ndim"):
+    if (_coconut_get_base_module(arr) in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "ndim"):
         return arr.ndim
-    if not _coconut.isinstance(arr, _coconut.abc.Sequence):
+    if not _coconut.isinstance(arr, _coconut.abc.Sequence) or _coconut.isinstance(arr, (_coconut.str, _coconut.bytes)):
         return 0
     if _coconut.len(arr) == 0:
         return 1
     arr_dim = 1
     inner_arr = arr[0]
+    if inner_arr == arr:
+        return 0
     while _coconut.isinstance(inner_arr, _coconut.abc.Sequence):
         arr_dim += 1
         if _coconut.len(inner_arr) < 1:
             break
-        inner_arr = inner_arr[0]
+        new_inner_arr = inner_arr[0]
+        if new_inner_arr == inner_arr:
+            break
+        inner_arr = new_inner_arr
     return arr_dim
 def _coconut_expand_arr(arr, new_dims):
-    if (arr.__class__.__module__ in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "reshape"):
+    if (_coconut_get_base_module(arr) in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "reshape"):
         return arr.reshape((1,) * new_dims + arr.shape)
     for _ in _coconut.range(new_dims):
         arr = [arr]
     return arr
 def _coconut_concatenate(arrs, axis):
     matconcat = None
     for a in arrs:
-        if a.__class__.__module__ in _coconut.jax_numpy_modules:
+        if _coconut.hasattr(a.__class__, "__matconcat__"):
+            matconcat = a.__class__.__matconcat__
+            break
+        a_module = _coconut_get_base_module(a)
+        if a_module in _coconut.pandas_numpy_modules:
+            from pandas import concat as matconcat
+            break
+        if a_module in _coconut.jax_numpy_modules:
             from jax.numpy import concatenate as matconcat
             break
-        if a.__class__.__module__ in _coconut.numpy_modules:
+        if a_module in _coconut.numpy_modules:
             matconcat = _coconut.numpy.concatenate
             break
-        if _coconut.hasattr(a.__class__, "__matconcat__"):
-            matconcat = a.__class__.__matconcat__
-            break
     if matconcat is not None:
-        return matconcat(arrs, axis)
+        return matconcat(arrs, axis=axis)
     if not axis:
         return _coconut.list(_coconut.itertools.chain.from_iterable(arrs))
     return [_coconut_concatenate(rows, axis - 1) for rows in _coconut.zip(*arrs)]
 def _coconut_multi_dim_arr(arrs, dim):
     arr_dims = [_coconut_ndim(a) for a in arrs]
     arrs = [_coconut_expand_arr(a, dim - d) if d < dim else a for a, d in _coconut.zip(arrs, arr_dims)]
     arr_dims.append(dim)
     max_arr_dim = _coconut.max(arr_dims)
     return _coconut_concatenate(arrs, max_arr_dim - dim)
+def _coconut_call_or_coefficient(func, *args):
+    if _coconut.callable(func):
+        return func(*args)
+    if not _coconut.isinstance(func, (_coconut.int, _coconut.float, _coconut.complex)) and _coconut_get_base_module(func) not in _coconut.numpy_modules:
+        raise _coconut.TypeError("implicit function application and coefficient syntax only supported for Callable, int, float, complex, and numpy objects")
+    func = func
+    for x in args:
+        func = func * x{COMMENT.no_times_equals_to_avoid_modification}
+    return func
+class _coconut_SupportsAdd(_coconut.typing.Protocol):
+    def __add__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((+) in a typing context is a Protocol)")
+class _coconut_SupportsMinus(_coconut.typing.Protocol):
+    def __sub__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((-) in a typing context is a Protocol)")
+    def __neg__(self):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((-) in a typing context is a Protocol)")
+class _coconut_SupportsMul(_coconut.typing.Protocol):
+    def __mul__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((*) in a typing context is a Protocol)")
+class _coconut_SupportsPow(_coconut.typing.Protocol):
+    def __pow__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((**) in a typing context is a Protocol)")
+class _coconut_SupportsTruediv(_coconut.typing.Protocol):
+    def __truediv__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((/) in a typing context is a Protocol)")
+class _coconut_SupportsFloordiv(_coconut.typing.Protocol):
+    def __floordiv__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((//) in a typing context is a Protocol)")
+class _coconut_SupportsMod(_coconut.typing.Protocol):
+    def __mod__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((%) in a typing context is a Protocol)")
+class _coconut_SupportsAnd(_coconut.typing.Protocol):
+    def __and__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((&) in a typing context is a Protocol)")
+class _coconut_SupportsXor(_coconut.typing.Protocol):
+    def __xor__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((^) in a typing context is a Protocol)")
+class _coconut_SupportsOr(_coconut.typing.Protocol):
+    def __or__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((|) in a typing context is a Protocol)")
+class _coconut_SupportsLshift(_coconut.typing.Protocol):
+    def __lshift__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((<<) in a typing context is a Protocol)")
+class _coconut_SupportsRshift(_coconut.typing.Protocol):
+    def __rshift__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((>>) in a typing context is a Protocol)")
+class _coconut_SupportsMatmul(_coconut.typing.Protocol):
+    def __matmul__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((@) in a typing context is a Protocol)")
+class _coconut_SupportsInv(_coconut.typing.Protocol):
+    def __invert__(self):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((~) in a typing context is a Protocol)")
 _coconut_self_match_types = {self_match_types}
 _coconut_Expected, _coconut_MatchError, _coconut_count, _coconut_enumerate, _coconut_flatten, _coconut_filter, _coconut_ident, _coconut_map, _coconut_multiset, _coconut_range, _coconut_reiterable, _coconut_reversed, _coconut_starmap, _coconut_tee, _coconut_zip, TYPE_CHECKING, reduce, takewhile, dropwhile = Expected, MatchError, count, enumerate, flatten, filter, ident, map, multiset, range, reiterable, reversed, starmap, tee, zip, False, _coconut.functools.reduce, _coconut.itertools.takewhile, _coconut.itertools.dropwhile
```

### Comparing `coconut-2.2.0/coconut/compiler/util.py` & `coconut-3.0.0/coconut/compiler/util.py`

 * *Files 2% similar despite different names*

```diff
@@ -89,14 +89,15 @@
     reserved_vars,
     use_packrat_parser,
     packrat_cache_size,
     temp_grammar_item_ref_count,
     indchars,
     comment_chars,
     non_syntactic_newline,
+    allow_explicit_keyword_vars,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 
@@ -302,16 +303,15 @@
 else:
     combine = Combine
 
 
 def add_action(item, action, make_copy=None):
     """Add a parse action to the given item."""
     if make_copy is None:
-        item_ref_count = sys.getrefcount(item) if CPYTHON else float("inf")
-        # keep this a lambda to prevent CPython refcounting changes from breaking release builds
+        item_ref_count = sys.getrefcount(item) if CPYTHON and not on_new_python else float("inf")
         internal_assert(lambda: item_ref_count >= temp_grammar_item_ref_count, "add_action got item with too low ref count", (item, type(item), item_ref_count))
         make_copy = item_ref_count > temp_grammar_item_ref_count
     if make_copy:
         item = item.copy()
     return item.addParseAction(action)
 
 
@@ -385,59 +385,69 @@
         ParserElement._packratEnabled = False
         ParserElement.enablePackrat(packrat_cache_size)
     try:
         yield
     finally:
         if inner_parse and use_packrat_parser:
             ParserElement.packrat_cache = old_cache
-            ParserElement.packrat_cache_stats[0] += old_cache_stats[0]
-            ParserElement.packrat_cache_stats[1] += old_cache_stats[1]
+            if logger.verbose:
+                ParserElement.packrat_cache_stats[0] += old_cache_stats[0]
+                ParserElement.packrat_cache_stats[1] += old_cache_stats[1]
 
 
 def prep_grammar(grammar, streamline=False):
     """Prepare a grammar item to be used as the root of a parse."""
     if streamline:
         grammar.streamlined = False
         grammar.streamline()
     else:
         grammar.streamlined = True
     return grammar.parseWithTabs()
 
 
-def parse(grammar, text, inner=True):
+def parse(grammar, text, inner=True, eval_parse_tree=True):
     """Parse text using grammar."""
     with parsing_context(inner):
-        return unpack(prep_grammar(grammar).parseString(text))
+        result = prep_grammar(grammar).parseString(text)
+        if eval_parse_tree:
+            result = unpack(result)
+        return result
 
 
-def try_parse(grammar, text, inner=True):
+def try_parse(grammar, text, inner=True, eval_parse_tree=True):
     """Attempt to parse text using grammar else None."""
     try:
-        return parse(grammar, text, inner)
+        return parse(grammar, text, inner, eval_parse_tree)
     except ParseBaseException:
         return None
 
 
-def all_matches(grammar, text, inner=True):
+def does_parse(grammar, text, inner=True):
+    """Determine if text can be parsed using grammar."""
+    return try_parse(grammar, text, inner, eval_parse_tree=False)
+
+
+def all_matches(grammar, text, inner=True, eval_parse_tree=True):
     """Find all matches for grammar in text."""
     with parsing_context(inner):
         for tokens, start, stop in prep_grammar(grammar).scanString(text):
-            yield unpack(tokens), start, stop
+            if eval_parse_tree:
+                tokens = unpack(tokens)
+            yield tokens, start, stop
 
 
 def parse_where(grammar, text, inner=True):
     """Determine where the first parse is."""
-    with parsing_context(inner):
-        for tokens, start, stop in prep_grammar(grammar).scanString(text):
-            return start, stop
+    for tokens, start, stop in all_matches(grammar, text, inner, eval_parse_tree=False):
+        return start, stop
     return None, None
 
 
 def match_in(grammar, text, inner=True):
-    """Determine if there is a match for grammar in text."""
+    """Determine if there is a match for grammar anywhere in text."""
     start, stop = parse_where(grammar, text, inner)
     internal_assert((start is None) == (stop is None), "invalid parse_where results", (start, stop))
     return start is not None
 
 
 def transform(grammar, text, inner=True):
     """Transform text by replacing matches to grammar."""
@@ -448,22 +458,24 @@
         return result
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # TARGETS:
 # -----------------------------------------------------------------------------------------------------------------------
 
+on_new_python = False
 
 raw_sys_target = str(sys.version_info[0]) + str(sys.version_info[1])
 if raw_sys_target in pseudo_targets:
     sys_target = pseudo_targets[raw_sys_target]
 elif raw_sys_target in specific_targets:
     sys_target = raw_sys_target
 elif sys.version_info > supported_py3_vers[-1]:
     sys_target = "".join(str(i) for i in supported_py3_vers[-1])
+    on_new_python = True
 elif sys.version_info < supported_py2_vers[0]:
     sys_target = "".join(str(i) for i in supported_py2_vers[0])
 elif sys.version_info < (3,):
     sys_target = "".join(str(i) for i in supported_py2_vers[-1])
 else:
     sys_target = "".join(str(i) for i in supported_py3_vers[0])
 
@@ -518,31 +530,31 @@
 # -----------------------------------------------------------------------------------------------------------------------
 # PARSE ELEMENTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Wrap(ParseElementEnhance):
     """PyParsing token that wraps the given item in the given context manager."""
 
-    def __init__(self, item, wrapper, greedy=False, can_affect_parse_success=False):
+    def __init__(self, item, wrapper, greedy=False, include_in_packrat_context=False):
         super(Wrap, self).__init__(item)
         self.wrapper = wrapper
         self.greedy = greedy
-        self.can_affect_parse_success = can_affect_parse_success
+        self.include_in_packrat_context = include_in_packrat_context
 
     @property
     def wrapped_name(self):
         return get_name(self.expr) + " (Wrapped)"
 
     @contextmanager
     def wrapped_packrat_context(self):
         """Context manager that edits the packrat_context.
 
         Required to allow the packrat cache to distinguish between wrapped
         and unwrapped parses. Only supported natively on cPyparsing."""
-        if self.can_affect_parse_success and hasattr(self, "packrat_context"):
+        if self.include_in_packrat_context and hasattr(self, "packrat_context"):
             self.packrat_context.append(self.wrapper)
             try:
                 yield
             finally:
                 self.packrat_context.pop()
         else:
             yield
@@ -551,57 +563,57 @@
     def parseImpl(self, original, loc, *args, **kwargs):
         """Wrapper around ParseElementEnhance.parseImpl."""
         if logger.tracing:  # avoid the overhead of the call if not tracing
             logger.log_trace(self.wrapped_name, original, loc)
         with logger.indent_tracing():
             with self.wrapper(self, original, loc):
                 with self.wrapped_packrat_context():
-                    parse_loc, evaluated_toks = super(Wrap, self).parseImpl(original, loc, *args, **kwargs)
+                    parse_loc, tokens = super(Wrap, self).parseImpl(original, loc, *args, **kwargs)
                     if self.greedy:
-                        evaluated_toks = evaluate_tokens(evaluated_toks)
+                        tokens = evaluate_tokens(tokens)
         if logger.tracing:  # avoid the overhead of the call if not tracing
-            logger.log_trace(self.wrapped_name, original, loc, evaluated_toks)
-        return parse_loc, evaluated_toks
+            logger.log_trace(self.wrapped_name, original, loc, tokens)
+        return parse_loc, tokens
 
     def __str__(self):
         return self.wrapped_name
 
     def __repr__(self):
         return self.wrapped_name
 
 
 def disable_inside(item, *elems, **kwargs):
     """Prevent elems from matching inside of item.
 
     Returns (item with elem disabled, *new versions of elems).
     """
     _invert = kwargs.pop("_invert", False)
-    internal_assert(not kwargs, "excess keyword arguments passed to disable_inside")
+    internal_assert(not kwargs, "excess keyword arguments passed to disable_inside", kwargs)
 
     level = [0]  # number of wrapped items deep we are; in a list to allow modification
 
     @contextmanager
     def manage_item(self, original, loc):
         level[0] += 1
         try:
             yield
         finally:
             level[0] -= 1
 
-    yield Wrap(item, manage_item, can_affect_parse_success=True)
+    yield Wrap(item, manage_item, include_in_packrat_context=True)
 
     @contextmanager
     def manage_elem(self, original, loc):
         if level[0] == 0 if not _invert else level[0] > 0:
             yield
         else:
             raise ParseException(original, loc, self.errmsg, self)
 
     for elem in elems:
-        yield Wrap(elem, manage_elem, can_affect_parse_success=True)
+        yield Wrap(elem, manage_elem, include_in_packrat_context=True)
 
 
 def disable_outside(item, *elems):
     """Prevent elems from matching outside of item.
 
     Returns (item with elem enabled, *new versions of elems).
     """
@@ -773,53 +785,46 @@
     internal_assert(len(tokens) == 0, "invalid store loc tokens", tokens)
     return str(loc)
 
 
 stores_loc_action.ignore_tokens = True
 
 
-stores_loc_item = attach(Empty(), stores_loc_action, make_copy=False)
+always_match = Empty()
+stores_loc_item = attach(always_match, stores_loc_action)
 
 
 def disallow_keywords(kwds, with_suffix=None):
     """Prevent the given kwds from matching."""
     item = ~(
-        keyword(kwds[0], explicit_prefix=False)
+        base_keyword(kwds[0])
         if with_suffix is None else
-        keyword(kwds[0], explicit_prefix=False) + with_suffix
+        base_keyword(kwds[0]) + with_suffix
     )
     for k in kwds[1:]:
         item += ~(
-            keyword(k, explicit_prefix=False)
+            base_keyword(k)
             if with_suffix is None else
-            keyword(k, explicit_prefix=False) + with_suffix
+            base_keyword(k) + with_suffix
         )
     return item
 
 
 def any_keyword_in(kwds):
     """Match any of the given keywords."""
     return regex_item(r"|".join(k + r"\b" for k in kwds))
 
 
-@memoize()
-def keyword(name, explicit_prefix=None, require_whitespace=False):
+def base_keyword(name, explicit_prefix=False, require_whitespace=False):
     """Construct a grammar which matches name as a Python keyword."""
-    if explicit_prefix is not False:
-        internal_assert(
-            (name in reserved_vars) is (explicit_prefix is not None),
-            "invalid keyword call for", name,
-            extra="pass explicit_prefix to keyword for all reserved_vars and only reserved_vars",
-        )
-
     base_kwd = regex_item(name + r"\b" + (r"(?=\s)" if require_whitespace else ""))
-    if explicit_prefix in (None, False):
-        return base_kwd
-    else:
+    if explicit_prefix and name in reserved_vars + allow_explicit_keyword_vars:
         return combine(Optional(explicit_prefix.suppress()) + base_kwd)
+    else:
+        return base_kwd
 
 
 boundary = regex_item(r"\b")
 
 
 def any_len_perm_with_one_of_each_group(*groups_and_elems):
     """Matches any len permutation of elems that contains at least one of each group."""
@@ -866,14 +871,25 @@
 
     groups_and_elems = []
     groups_and_elems.extend(optional)
     groups_and_elems.extend(enumerate(required))
     return any_len_perm_with_one_of_each_group(*groups_and_elems)
 
 
+def any_len_perm_at_least_one(*elems, **kwargs):
+    """Any length permutation of elems that includes at least one of the elems and all the required."""
+    required = kwargs.pop("required", ())
+    internal_assert(not kwargs, "invalid any_len_perm kwargs", kwargs)
+
+    groups_and_elems = []
+    groups_and_elems.extend((-1, e) for e in elems)
+    groups_and_elems.extend(enumerate(required))
+    return any_len_perm_with_one_of_each_group(*groups_and_elems)
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 def ordered(items):
     """Return the items in a deterministic order."""
     if PY2:
@@ -1032,23 +1048,30 @@
 
 def should_indent(code):
     """Determines whether the next line should be indented."""
     last_line = rem_comment(code.splitlines()[-1])
     return last_line.endswith((":", "=", "\\")) or paren_change(last_line) < 0
 
 
-def split_leading_comment(inputstr):
-    """Split into leading comment and rest.
-    Comment must be at very start of string."""
-    if inputstr.startswith(comment_chars):
-        comment_line, rest = inputstr.split("\n", 1)
-        comment, indent = split_trailing_indent(comment_line)
-        return comment + "\n", indent + rest
-    else:
-        return "", inputstr
+def split_leading_comments(inputstr):
+    """Split into leading comments and rest."""
+    comments = ""
+    indent, base = split_leading_indent(inputstr)
+
+    while base.startswith(comment_chars):
+        comment_line, rest = base.split("\n", 1)
+
+        got_comment, got_indent = split_trailing_indent(comment_line)
+        comments += got_comment + "\n"
+        indent += got_indent
+
+        got_indent, base = split_leading_indent(rest)
+        indent += got_indent
+
+    return comments, indent + base
 
 
 def split_trailing_comment(inputstr):
     """Split into rest and trailing comment."""
     parts = inputstr.rsplit("\n", 1)
     if len(parts) == 1:
         return parts[0], ""
@@ -1056,45 +1079,45 @@
         rest, last_line = parts
         last_line, comment = split_comment(last_line)
         return rest + "\n" + last_line, comment
 
 
 def split_leading_indent(inputstr, max_indents=None):
     """Split inputstr into leading indent and main."""
-    indent = ""
+    indents = []
     while (
         (max_indents is None or max_indents > 0)
         and inputstr.startswith(indchars)
     ) or inputstr.lstrip() != inputstr:
         got_ind, inputstr = inputstr[0], inputstr[1:]
         # max_indents only refers to openindents/closeindents, not all indchars
         if max_indents is not None and got_ind in (openindent, closeindent):
             max_indents -= 1
-        indent += got_ind
-    return indent, inputstr
+        indents.append(got_ind)
+    return "".join(indents), inputstr
 
 
 def split_trailing_indent(inputstr, max_indents=None, handle_comments=True):
     """Split inputstr into leading indent and main."""
-    indent = ""
+    indents_from_end = []
     while (
         (max_indents is None or max_indents > 0)
         and inputstr.endswith(indchars)
     ) or inputstr.rstrip() != inputstr:
         inputstr, got_ind = inputstr[:-1], inputstr[-1]
         # max_indents only refers to openindents/closeindents, not all indchars
         if max_indents is not None and got_ind in (openindent, closeindent):
             max_indents -= 1
-        indent = got_ind + indent
+        indents_from_end.append(got_ind)
     if handle_comments:
         inputstr, comment = split_trailing_comment(inputstr)
         inputstr, inner_indent = split_trailing_indent(inputstr, max_indents, handle_comments=False)
         inputstr = inputstr + comment
-        indent = inner_indent + indent
-    return inputstr, indent
+        indents_from_end.append(inner_indent)
+    return inputstr, "".join(reversed(indents_from_end))
 
 
 def split_leading_trailing_indent(line, max_indents=None):
     """Split leading and trailing indent."""
     leading_indent, line = split_leading_indent(line, max_indents)
     line, trailing_indent = split_trailing_indent(line, max_indents)
     return leading_indent, line, trailing_indent
@@ -1265,14 +1288,16 @@
     annotation = getattr(func, "trim_arity", None)
     if annotation is not None:
         return annotation
     try:
         func_args = get_func_args(func)
     except TypeError:
         return True
+    if not func_args:
+        return True
     if func_args[0] == "self":
         func_args.pop(0)
     if func_args[:3] == ["original", "loc", "tokens"]:
         return False
     return True
```

### Comparing `coconut-2.2.0/coconut/constants.py` & `coconut-3.0.0/coconut/constants.py`

 * *Files 2% similar despite different names*

```diff
@@ -75,15 +75,15 @@
 PY38 = sys.version_info >= (3, 8)
 PY39 = sys.version_info >= (3, 9)
 PY310 = sys.version_info >= (3, 10)
 PY311 = sys.version_info >= (3, 11)
 IPY = (
     ((PY2 and not PY26) or PY35)
     and not (PYPY and WINDOWS)
-    and not (PY311 and not WINDOWS)
+    and (PY37 or not PYPY)
 )
 MYPY = (
     PY37
     and not WINDOWS
     and not PYPY
 )
 XONSH = (
@@ -109,39 +109,48 @@
 packrat_cache_size = None  # only works because final() clears the cache
 streamline_grammar_for_len = 4000
 
 default_whitespace_chars = " \t\f"  # the only non-newline whitespace Python allows
 
 varchars = string.ascii_letters + string.digits + "_"
 
+use_computation_graph_env_var = "COCONUT_USE_COMPUTATION_GRAPH"
+
 # -----------------------------------------------------------------------------------------------------------------------
 # COMPILER CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 # set this to True only ever temporarily for ease of debugging
 embed_on_internal_exc = False
 assert not embed_on_internal_exc or DEVELOP, "embed_on_internal_exc should never be enabled on non-develop build"
 
 # should be the minimal ref count observed by attach
 temp_grammar_item_ref_count = 3 if PY311 else 5
 
 minimum_recursion_limit = 128
-default_recursion_limit = 2090
+# shouldn't be raised any higher to avoid stack overflows
+default_recursion_limit = 1920
 
 if sys.getrecursionlimit() < default_recursion_limit:
     sys.setrecursionlimit(default_recursion_limit)
 
 # modules that numpy-like arrays can live in
+pandas_numpy_modules = (
+    "pandas",
+)
 jax_numpy_modules = (
-    "jaxlib.xla_extension",
+    "jaxlib",
 )
 numpy_modules = (
     "numpy",
-    "pandas",
-) + jax_numpy_modules
+    "torch",
+) + (
+    pandas_numpy_modules
+    + jax_numpy_modules
+)
 
 legal_indent_chars = " \t"  # the only Python-legal indent chars
 
 non_syntactic_newline = "\f"  # must be a single character
 
 # both must be in ascending order and must be unbroken with no missing 2 num vers
 supported_py2_vers = (
@@ -179,14 +188,15 @@
     "312",
 )
 pseudo_targets = {
     "universal": "",
     "26": "2",
     "32": "3",
 }
+assert all(v in specific_targets or v in pseudo_targets for v in ROOT_HEADER_VERSIONS)
 
 targets = ("",) + specific_targets
 
 template_ext = ".py_template"
 
 default_encoding = "utf-8"
 
@@ -201,14 +211,15 @@
 format_var = reserved_prefix + "_format"
 is_data_var = reserved_prefix + "_is_data"
 custom_op_var = reserved_prefix + "_op"
 is_data_var = reserved_prefix + "_is_data"
 data_defaults_var = reserved_prefix + "_data_defaults"
 
 # prefer Matcher.get_temp_var to proliferating more vars here
+match_first_arg_var = reserved_prefix + "_match_first_arg"
 match_to_args_var = reserved_prefix + "_match_args"
 match_to_kwargs_var = reserved_prefix + "_match_kwargs"
 function_match_error_var = reserved_prefix + "_FunctionMatchError"
 match_set_name_var = reserved_prefix + "_match_set_name"
 
 # should match reserved_compiler_symbols below
 openindent = "\u204b"  # reverse pilcrow
@@ -244,15 +255,15 @@
 
 taberrfmt = 2  # spaces to indent exceptions
 tabideal = 4  # spaces to indent code for displaying
 
 justify_len = 79  # ideal line length
 
 # for pattern-matching
-default_matcher_style = "python warn on strict"
+default_matcher_style = "python warn"
 wildcard = "_"
 
 in_place_op_funcs = {
     "|?>=": "_coconut_none_pipe",
     "|?*>=": "_coconut_none_star_pipe",
     "|?**>=": "_coconut_none_dubstar_pipe",
     "<?|=": "_coconut_back_none_pipe",
@@ -269,14 +280,36 @@
     "..?>=": "_coconut_forward_none_compose",
     "<*?..=": "_coconut_back_none_star_compose",
     "..?*>=": "_coconut_forward_none_star_compose",
     "<**?..=": "_coconut_back_none_dubstar_compose",
     "..?**>=": "_coconut_forward_none_dubstar_compose",
 }
 
+op_func_protocols = {
+    "add": "_coconut_SupportsAdd",
+    "minus": "_coconut_SupportsMinus",
+    "mul": "_coconut_SupportsMul",
+    "pow": "_coconut_SupportsPow",
+    "truediv": "_coconut_SupportsTruediv",
+    "floordiv": "_coconut_SupportsFloordiv",
+    "mod": "_coconut_SupportsMod",
+    "and": "_coconut_SupportsAnd",
+    "xor": "_coconut_SupportsXor",
+    "or": "_coconut_SupportsOr",
+    "lshift": "_coconut_SupportsLshift",
+    "rshift": "_coconut_SupportsRshift",
+    "matmul": "_coconut_SupportsMatmul",
+    "inv": "_coconut_SupportsInv",
+}
+
+allow_explicit_keyword_vars = (
+    "async",
+    "await",
+)
+
 keyword_vars = (
     "and",
     "as",
     "assert",
     "break",
     "class",
     "continue",
@@ -300,35 +333,34 @@
     "raise",
     "return",
     "try",
     "while",
     "with",
     "yield",
     "nonlocal",
-)
+) + allow_explicit_keyword_vars
 
 const_vars = (
     "True",
     "False",
     "None",
 )
 
 # names that can be backslash-escaped
 reserved_vars = (
-    "async",
-    "await",
     "data",
     "match",
     "case",
     "cases",
     "where",
     "addpattern",
     "then",
     "operator",
     "type",
+    "copyclosure",
     "\u03bb",  # lambda
 )
 
 # names that trigger __class__ to be bound to local vars
 super_names = (
     # we would include py_super, but it's not helpful, since
     #  py_super is unsatisfied by a simple local __class__ var
@@ -513,14 +545,15 @@
 
 main_sig = "Coconut: "
 
 main_prompt = ">>> "
 more_prompt = "    "
 
 mypy_path_env_var = "MYPYPATH"
+
 style_env_var = "COCONUT_STYLE"
 vi_mode_env_var = "COCONUT_VI_MODE"
 home_env_var = "COCONUT_HOME"
 use_color_env_var = "COCONUT_USE_COLOR"
 
 coconut_home = fixpath(os.getenv(home_env_var, "~"))
 
@@ -562,24 +595,25 @@
 reserved_command_symbols = exit_chars + (
     ansii_escape,
 )
 
 # always use atomic --xxx=yyy rather than --xxx yyy
 coconut_run_args = ("--run", "--target=sys", "--line-numbers", "--quiet")
 coconut_run_verbose_args = ("--run", "--target=sys", "--line-numbers")
-coconut_import_hook_args = ("--target=sys", "--line-numbers", "--quiet")
+coconut_import_hook_args = ("--target=sys", "--line-numbers", "--keep-lines", "--quiet")
 
 default_mypy_args = (
     "--pretty",
 )
 verbose_mypy_args = (
+    "--show-traceback",
+    "--show-error-context",
     "--warn-unused-configs",
     "--warn-redundant-casts",
     "--warn-return-any",
-    "--show-error-context",
     "--warn-incomplete-stub",
 )
 
 mypy_silent_non_err_prefixes = (
     "Success:",
 )
 mypy_silent_err_prefixes = (
@@ -590,25 +624,33 @@
 )
 mypy_non_err_infixes = (
     ": note: ",
 )
 
 oserror_retcode = 127
 
+kilobyte = 1024
+min_stack_size_kbs = 160
+
+default_jobs = "sys" if not PY26 else 0
+
 mypy_install_arg = "install"
 
 mypy_builtin_regex = re.compile(r"\b(reveal_type|reveal_locals)\b")
 
 interpreter_uses_auto_compilation = True
 interpreter_uses_coconut_breakpoint = True
 
-coconut_pth_file = os.path.join(base_dir, "command", "resources", "zcoconut.pth")
+command_resources_dir = os.path.join(base_dir, "command", "resources")
+coconut_pth_file = os.path.join(command_resources_dir, "zcoconut.pth")
 
 interpreter_compiler_var = "__coconut_compiler__"
 
+jupyter_console_commands = ("console", "qtconsole")
+
 # -----------------------------------------------------------------------------------------------------------------------
 # HIGHLIGHTER CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 shebang_regex = r'coconut(?:-run)?'
 
 interp_only_builtins = (
@@ -652,14 +694,15 @@
     "collectby",
     "multi_enumerate",
     "cartesian_product",
     "multiset",
     "cycle",
     "windowsof",
     "py_chr",
+    "py_dict",
     "py_hex",
     "py_input",
     "py_int",
     "py_map",
     "py_object",
     "py_oct",
     "py_open",
@@ -676,14 +719,19 @@
     "py_repr",
     "py_breakpoint",
     "_namedtuple_of",
     "reveal_type",
     "reveal_locals",
 )
 
+# builtins that must be imported from the exact right target header
+must_use_specific_target_builtins = (
+    "super",
+)
+
 coconut_exceptions = (
     "MatchError",
 )
 
 all_builtins = frozenset(python_builtins + coconut_specific_builtins + coconut_exceptions)
 
 magic_methods = (
@@ -699,14 +747,15 @@
     r";+",
     r"(?:<\*?\*?\??)?(?!\.\.\.)\.\.(?:\??\*?\*?>)?",  # ..
     r"\|\??\*?\*?>",
     r"<\*?\*?\??\|",
     r"->",
     r"\?\??",
     r"<:",
+    r"&:",
     "\u2192",  # ->
     "\\??\\*?\\*?\u21a6",  # |>
     "\u21a4\\*?\\*?\\??",  # <|
     "<?\\*?\\*?\\??\u2218\\??\\*?\\*?>?",  # ..
     "\xd7",  # *
     "\u2191",  # **
     "\xf7",  # /
@@ -756,195 +805,211 @@
     "cpython": (
         "cPyparsing",
     ),
     "purepython": (
         "pyparsing",
     ),
     "non-py26": (
-        "pygments",
+        "psutil",
     ),
     "py2": (
         "futures",
         "backports.functools-lru-cache",
         ("prompt_toolkit", "mark2"),
     ),
     "py3": (
         ("prompt_toolkit", "mark3"),
     ),
     "py26": (
         "argparse",
     ),
-    "jobs": (
-        "psutil",
+    "py<39": (
+        ("pygments", "mark<39"),
+    ),
+    "py39": (
+        ("pygments", "mark39"),
     ),
     "kernel": (
         ("ipython", "py2"),
-        ("ipython", "py3"),
+        ("ipython", "py3;py<38"),
+        ("ipython", "py38"),
         ("ipykernel", "py2"),
-        ("ipykernel", "py3"),
-        ("jupyter-client", "py2"),
+        ("ipykernel", "py3;py<38"),
+        ("ipykernel", "py38"),
+        ("jupyter-client", "py<35"),
         ("jupyter-client", "py==35"),
         ("jupyter-client", "py36"),
-        "jedi",
+        ("jedi", "py<39"),
+        ("jedi", "py39"),
         ("pywinpty", "py2;windows"),
     ),
     "jupyter": (
         "jupyter",
-        ("jupyter-console", "py2"),
-        ("jupyter-console", "py==35"),
-        ("jupyter-console", "py36"),
+        ("jupyter-console", "py<35"),
+        ("jupyter-console", "py>=35;py<37"),
+        ("jupyter-console", "py37"),
         ("jupyterlab", "py35"),
         ("jupytext", "py3"),
         "papermill",
     ),
     "mypy": (
         "mypy[python2]",
         "types-backports",
         ("typing_extensions", "py==35"),
-        ("typing_extensions", "py36"),
+        ("typing_extensions", "py==36"),
+        ("typing_extensions", "py37"),
     ),
     "watch": (
         "watchdog",
     ),
     "xonsh": (
         "xonsh",
     ),
     "backports": (
         ("trollius", "py2;cpy"),
         ("aenum", "py<34"),
         ("dataclasses", "py==36"),
         ("typing", "py<35"),
         ("typing_extensions", "py==35"),
-        ("typing_extensions", "py36"),
+        ("typing_extensions", "py==36"),
+        ("typing_extensions", "py37"),
     ),
     "dev": (
         ("pre-commit", "py3"),
         "requests",
         "vprof",
     ),
     "docs": (
         "sphinx",
-        "pygments",
+        ("pygments", "mark<39"),
+        ("pygments", "mark39"),
         "myst-parser",
         "pydata-sphinx-theme",
     ),
     "tests": (
         "pytest",
         "pexpect",
         ("numpy", "py34"),
         ("numpy", "py2;cpy"),
+        ("pandas", "py36"),
     ),
 }
 
 # min versions are inclusive
 min_versions = {
-    "cPyparsing": (2, 4, 7, 1, 2, 0),
-    ("pre-commit", "py3"): (2, 21),
+    "cPyparsing": (2, 4, 7, 1, 2, 1),
+    ("pre-commit", "py3"): (3,),
     "psutil": (5,),
     "jupyter": (1, 0),
     "types-backports": (0, 1),
     "futures": (3, 4),
     "backports.functools-lru-cache": (1, 6),
     "argparse": (1, 4),
     "pexpect": (4,),
     ("trollius", "py2;cpy"): (2, 2),
-    "requests": (2, 28),
+    "requests": (2, 29),
     ("numpy", "py34"): (1,),
     ("numpy", "py2;cpy"): (1,),
     ("dataclasses", "py==36"): (0, 8),
     ("aenum", "py<34"): (3,),
-    "sphinx": (5, 3),
-    "pydata-sphinx-theme": (0, 12),
-    "myst-parser": (0, 18),
-    "mypy[python2]": (0, 991),
-    ("jupyter-console", "py36"): (6, 4),
+    "pydata-sphinx-theme": (0, 13),
+    "myst-parser": (1,),
+    "mypy[python2]": (1, 2),
+    ("jupyter-console", "py37"): (6,),
     ("typing", "py<35"): (3, 10),
+    ("typing_extensions", "py37"): (4, 5),
+    ("ipython", "py38"): (8,),
+    ("ipykernel", "py38"): (6,),
+    ("jedi", "py39"): (0, 18),
+    ("pygments", "mark39"): (2, 15),
 
     # pinned reqs: (must be added to pinned_reqs below)
 
+    # don't upgrade until myst-parser supports the new version
+    "sphinx": (6,),
     # don't upgrade this; it breaks on Python 3.6
+    ("pandas", "py36"): (1,),
     ("jupyter-client", "py36"): (7, 1, 2),
-    ("typing_extensions", "py36"): (4, 1),
+    ("typing_extensions", "py==36"): (4, 1),
     # don't upgrade these; they break on Python 3.5
-    ("ipykernel", "py3"): (5, 5),
-    ("ipython", "py3"): (7, 9),
-    ("jupyter-console", "py==35"): (6, 1),
+    ("ipykernel", "py3;py<38"): (5, 5),
+    ("ipython", "py3;py<38"): (7, 9),
+    ("jupyter-console", "py>=35;py<37"): (6, 1),
     ("jupyter-client", "py==35"): (6, 1, 12),
     ("jupytext", "py3"): (1, 8),
     ("jupyterlab", "py35"): (2, 2),
     "xonsh": (0, 9),
     ("typing_extensions", "py==35"): (3, 10),
     # don't upgrade this to allow all versions
     ("prompt_toolkit", "mark3"): (1,),
     # don't upgrade this; it breaks on Python 2.6
     "pytest": (3,),
     # don't upgrade this; it breaks on unix
     "vprof": (0, 36),
     # don't upgrade this; it breaks on Python 3.4
-    "pygments": (2, 3),
+    ("pygments", "mark<39"): (2, 3),
     # don't upgrade these; they break on Python 2
-    ("jupyter-client", "py2"): (5, 3),
+    ("jupyter-client", "py<35"): (5, 3),
     ("pywinpty", "py2;windows"): (0, 5),
-    ("jupyter-console", "py2"): (5, 2),
+    ("jupyter-console", "py<35"): (5, 2),
     ("ipython", "py2"): (5, 4),
     ("ipykernel", "py2"): (4, 10),
     ("prompt_toolkit", "mark2"): (1,),
     "watchdog": (0, 10),
     "papermill": (1, 2),
     # don't upgrade this; it breaks with old IPython versions
-    "jedi": (0, 17),
+    ("jedi", "py<39"): (0, 17),
     # Coconut requires pyparsing 2
     "pyparsing": (2, 4, 7),
 }
 
 # should match the reqs with comments above
 pinned_reqs = (
+    "sphinx",
+    ("pandas", "py36"),
     ("jupyter-client", "py36"),
-    ("typing_extensions", "py36"),
-    ("jupyter-client", "py2"),
-    ("ipykernel", "py3"),
-    ("ipython", "py3"),
-    ("jupyter-console", "py==35"),
+    ("typing_extensions", "py==36"),
+    ("jupyter-client", "py<35"),
+    ("ipykernel", "py3;py<38"),
+    ("ipython", "py3;py<38"),
+    ("jupyter-console", "py>=35;py<37"),
     ("jupyter-client", "py==35"),
     ("jupytext", "py3"),
     ("jupyterlab", "py35"),
     "xonsh",
     ("typing_extensions", "py==35"),
     ("prompt_toolkit", "mark3"),
     "pytest",
     "vprof",
-    "pygments",
+    ("pygments", "mark<39"),
     ("pywinpty", "py2;windows"),
-    ("jupyter-console", "py2"),
+    ("jupyter-console", "py<35"),
     ("ipython", "py2"),
     ("ipykernel", "py2"),
     ("prompt_toolkit", "mark2"),
     "watchdog",
     "papermill",
-    "jedi",
+    ("jedi", "py<39"),
     "pyparsing",
 )
 
 # max versions are exclusive; None implies that the max version should
 #  be generated by incrementing the min version; multiple Nones implies
 #  that the element corresponding to the last None should be incremented
 _ = None
 max_versions = {
     ("jupyter-client", "py==35"): _,
     "pyparsing": _,
     "cPyparsing": (_, _, _),
     ("prompt_toolkit", "mark2"): _,
-    "jedi": _,
+    ("jedi", "py<39"): _,
     ("pywinpty", "py2;windows"): _,
+    ("ipython", "py3;py<38"): _,
 }
 
-allowed_constrained_but_unpinned_reqs = (
-    "cPyparsing",
-)
-
 classifiers = (
     "Development Status :: 5 - Production/Stable",
     "License :: OSI Approved :: Apache Software License",
     "Intended Audience :: Developers",
     "Topic :: Software Development",
     "Topic :: Software Development :: Code Generators",
     "Topic :: Software Development :: Compilers",
@@ -1103,14 +1168,16 @@
 py_syntax_version = 3
 mimetype = "text/x-python3"
 
 all_keywords = keyword_vars + const_vars + reserved_vars
 
 conda_build_env_var = "CONDA_BUILD"
 
+disabled_xonsh_modes = ("exec", "eval")
+
 # -----------------------------------------------------------------------------------------------------------------------
 # DOCUMENTATION CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 without_toc = """
 ..
     <insert toctree here>
```

### Comparing `coconut-2.2.0/coconut/convenience.py` & `coconut-3.0.0/coconut/convenience.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/convenience.pyi` & `coconut-3.0.0/coconut/convenience.pyi`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/exceptions.py` & `coconut-3.0.0/coconut/exceptions.py`

 * *Files 12% similar despite different names*

```diff
@@ -84,27 +84,36 @@
 class CoconutException(BaseCoconutException, Exception):
     """Coconut Exception."""
 
 
 class CoconutSyntaxError(CoconutException):
     """Coconut SyntaxError."""
     point_to_endpoint = False
+    argnames = ("message", "source", "point", "ln", "extra", "endpoint", "filename")
 
-    def __init__(self, message, source=None, point=None, ln=None, extra=None, endpoint=None):
+    def __init__(self, message, source=None, point=None, ln=None, extra=None, endpoint=None, filename=None):
         """Creates the Coconut SyntaxError."""
-        self.args = (message, source, point, ln, extra, endpoint)
+        self.args = (message, source, point, ln, extra, endpoint, filename)
 
-    def message(self, message, source, point, ln, extra=None, endpoint=None):
+    @property
+    def kwargs(self):
+        """Get the arguments as keyword arguments."""
+        return dict(zip(self.args, self.argnames))
+
+    def message(self, message, source, point, ln, extra=None, endpoint=None, filename=None):
         """Creates a SyntaxError-like message."""
         if message is None:
             message = "parsing failed"
         if extra is not None:
             message += " (" + str(extra) + ")"
         if ln is not None:
-            message += " (line " + str(ln) + ")"
+            message += " (line " + str(ln)
+            if filename is not None:
+                message += " in " + repr(filename)
+            message += ")"
         if source:
             if point is None:
                 for line in source.splitlines():
                     message += "\n" + " " * taberrfmt + clean(line)
             else:
                 source = normalize_newlines(source)
 
@@ -170,48 +179,59 @@
                         message += "\n" + " " * taberrfmt + line
                     message += "\n\n" + " " * taberrfmt + "~" * (endpoint_ind) + "^"
 
         return message
 
     def syntax_err(self):
         """Creates a SyntaxError."""
-        args = self.args[:2] + (None, None) + self.args[4:]
-        err = SyntaxError(self.message(*args))
-        err.offset = args[2]
-        err.lineno = args[3]
+        kwargs = self.kwargs
+        if self.point_to_endpoint and "endpoint" in kwargs:
+            point = kwargs.pop("endpoint")
+        else:
+            point = kwargs.pop("point")
+        kwargs["point"] = kwargs["endpoint"] = None
+        ln = kwargs.pop("ln")
+        filename = kwargs.pop("filename", None)
+
+        err = SyntaxError(self.message(**kwargs))
+        err.offset = point
+        err.lineno = ln
+        if filename is not None:
+            err.filename = filename
         return err
 
     def set_point_to_endpoint(self, point_to_endpoint):
         """Sets whether to point to the endpoint."""
         self.point_to_endpoint = point_to_endpoint
         return self
 
 
 class CoconutStyleError(CoconutSyntaxError):
     """Coconut --strict error."""
 
-    def __init__(self, message, source=None, point=None, ln=None, extra="remove --strict to dismiss", endpoint=None):
+    def __init__(self, message, source=None, point=None, ln=None, extra="remove --strict to dismiss", endpoint=None, filename=None):
         """Creates the --strict Coconut error."""
-        self.args = (message, source, point, ln, extra, endpoint)
+        self.args = (message, source, point, ln, extra, endpoint, filename)
 
 
 class CoconutTargetError(CoconutSyntaxError):
     """Coconut --target error."""
+    argnames = ("message", "source", "point", "ln", "target", "endpoint", "filename")
 
-    def __init__(self, message, source=None, point=None, ln=None, target=None, endpoint=None):
+    def __init__(self, message, source=None, point=None, ln=None, target=None, endpoint=None, filename=None):
         """Creates the --target Coconut error."""
-        self.args = (message, source, point, ln, target, endpoint)
+        self.args = (message, source, point, ln, target, endpoint, filename)
 
-    def message(self, message, source, point, ln, target, endpoint):
+    def message(self, message, source, point, ln, target, endpoint, filename):
         """Creates the --target Coconut error message."""
         if target is None:
             extra = None
         else:
             extra = "pass --target " + get_displayable_target(target) + " to fix"
-        return super(CoconutTargetError, self).message(message, source, point, ln, extra, endpoint)
+        return super(CoconutTargetError, self).message(message, source, point, ln, extra, endpoint, filename)
 
 
 class CoconutParseError(CoconutSyntaxError):
     """Coconut ParseError."""
     point_to_endpoint = True
```

### Comparing `coconut-2.2.0/coconut/highlighter.py` & `coconut-3.0.0/coconut/highlighter.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/icoconut/__init__.py` & `coconut-3.0.0/coconut/icoconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/icoconut/__main__.py` & `coconut-3.0.0/coconut/icoconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/icoconut/embed.py` & `coconut-3.0.0/coconut/icoconut/embed.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/icoconut/root.py` & `coconut-3.0.0/coconut/icoconut/root.py`

 * *Files 0% similar despite different names*

```diff
@@ -210,15 +210,15 @@
     """Version of run_cell that always uses shell_futures."""
     # cell_id is just ignored because we don't use it but we have to have it because
     #  the presence of **kwargs means ipykernel.kernelbase._accepts_cell_id thinks we do
     return super({cls}, self).run_cell(raw_cell, store_history, silent, shell_futures=True, **kwargs)
 
 if asyncio is not None:
     @override
-    {async_}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
+    {coroutine}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
         """Version of run_cell_async that always uses shell_futures."""
         # same as above
         return super({cls}, self).run_cell_async(raw_cell, store_history, silent, shell_futures=True, **kwargs)
 
 @override
 def user_expressions(self, expressions):
     """Version of user_expressions that compiles Coconut code first."""
@@ -229,16 +229,16 @@
         except CoconutException:
             compiled_expressions[key] = expr
     return super({cls}, self).user_expressions(compiled_expressions)
 '''
 
     format_dict = dict(
         dict="{}",
-        async_=(
-            "async " if PY311 else
+        coroutine=(
+            "" if PY311 else
             """@asyncio.coroutine
     """
         ),
     )
 
     class CoconutShell(ZMQInteractiveShell, object):
         """ZMQInteractiveShell for Coconut."""
```

### Comparing `coconut-2.2.0/coconut/integrations.py` & `coconut-3.0.0/coconut/integrations.py`

 * *Files 18% similar despite different names*

```diff
@@ -17,15 +17,18 @@
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 from types import MethodType
 
-from coconut.constants import coconut_kernel_kwargs
+from coconut.constants import (
+    coconut_kernel_kwargs,
+    disabled_xonsh_modes,
+)
 
 # -----------------------------------------------------------------------------------------------------------------------
 # IPYTHON:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def embed(kernel=False, depth=0, **kwargs):
@@ -82,22 +85,53 @@
 
 # -----------------------------------------------------------------------------------------------------------------------
 # XONSH:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class CoconutXontribLoader(object):
     """Implements Coconut's _load_xontrib_."""
-    timing_info = []
+    loaded = False
     compiler = None
     runner = None
+    timing_info = []
+
+    def new_parse(self, parser, code, mode="exec", *args, **kwargs):
+        """Coconut-aware version of xonsh's _parse."""
+        if self.loaded and mode not in disabled_xonsh_modes:
+            # hide imports to avoid circular dependencies
+            from coconut.exceptions import CoconutException
+            from coconut.terminal import format_error
+            from coconut.util import get_clock_time
+            from coconut.terminal import logger
+
+            parse_start_time = get_clock_time()
+            quiet, logger.quiet = logger.quiet, True
+            try:
+                code = self.compiler.parse_xonsh(code, keep_state=True)
+            except CoconutException as err:
+                err_str = format_error(err).splitlines()[0]
+                code += "  #" + err_str
+            finally:
+                logger.quiet = quiet
+                self.timing_info.append(("parse", get_clock_time() - parse_start_time))
+        return parser.__class__.parse(parser, code, mode=mode, *args, **kwargs)
+
+    def new_try_subproc_toks(self, ctxtransformer, *args, **kwargs):
+        """Version of try_subproc_toks that handles the fact that Coconut
+        code may have different columns than Python code."""
+        mode = ctxtransformer.mode
+        if self.loaded:
+            ctxtransformer.mode = "eval"
+        try:
+            return ctxtransformer.__class__.try_subproc_toks(ctxtransformer, *args, **kwargs)
+        finally:
+            ctxtransformer.mode = mode
 
     def __call__(self, xsh, **kwargs):
         # hide imports to avoid circular dependencies
-        from coconut.exceptions import CoconutException
-        from coconut.terminal import format_error
         from coconut.util import get_clock_time
 
         start_time = get_clock_time()
 
         if self.compiler is None:
             from coconut.compiler import Compiler
             self.compiler = Compiler(**coconut_kernel_kwargs)
@@ -105,30 +139,32 @@
 
         if self.runner is None:
             from coconut.command.util import Runner
             self.runner = Runner(self.compiler)
 
         self.runner.update_vars(xsh.ctx)
 
-        def new_parse(execer, s, *args, **kwargs):
-            """Coconut-aware version of xonsh's _parse."""
-            parse_start_time = get_clock_time()
-            try:
-                s = self.compiler.parse_xonsh(s, keep_state=True)
-            except CoconutException as err:
-                err_str = format_error(err).splitlines()[0]
-                s += "  #" + err_str
-            self.timing_info.append(("parse", get_clock_time() - parse_start_time))
-            return execer.__class__.parse(execer, s, *args, **kwargs)
-
         main_parser = xsh.execer.parser
-        main_parser.parse = MethodType(new_parse, main_parser)
+        main_parser.parse = MethodType(self.new_parse, main_parser)
+
+        ctxtransformer = xsh.execer.ctxtransformer
+        ctx_parser = ctxtransformer.parser
+        ctx_parser.parse = MethodType(self.new_parse, ctx_parser)
 
-        ctx_parser = xsh.execer.ctxtransformer.parser
-        ctx_parser.parse = MethodType(new_parse, ctx_parser)
+        ctxtransformer.try_subproc_toks = MethodType(self.new_try_subproc_toks, ctxtransformer)
 
         self.timing_info.append(("load", get_clock_time() - start_time))
+        self.loaded = True
 
         return self.runner.vars
 
+    def unload(self, xsh):
+        if not self.loaded:
+            # hide imports to avoid circular dependencies
+            from coconut.exceptions import CoconutException
+            raise CoconutException("attempting to unload Coconut xontrib but it was never loaded")
+        self.loaded = False
+
 
 _load_xontrib_ = CoconutXontribLoader()
+
+_unload_xontrib_ = _load_xontrib_.unload
```

### Comparing `coconut-2.2.0/coconut/main.py` & `coconut-3.0.0/coconut/main.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/requirements.py` & `coconut-3.0.0/coconut/requirements.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,17 +19,17 @@
 
 import sys
 import time
 import traceback
 
 from coconut.integrations import embed
 from coconut.constants import (
-    PYPY,
     CPYTHON,
     PY34,
+    PY39,
     IPY,
     MYPY,
     XONSH,
     WINDOWS,
     PURE_PYTHON,
     all_reqs,
     min_versions,
@@ -182,15 +182,14 @@
 # -----------------------------------------------------------------------------------------------------------------------
 
 requirements = get_reqs("main")
 
 extras = {
     "kernel": get_reqs("kernel"),
     "watch": get_reqs("watch"),
-    "jobs": get_reqs("jobs"),
     "mypy": get_reqs("mypy"),
     "backports": get_reqs("backports"),
     "xonsh": get_reqs("xonsh"),
 }
 
 extras["jupyter"] = uniqueify_all(
     extras["kernel"],
@@ -201,15 +200,14 @@
 
 extras.update({
     "ipython": extras["jupyter"],
     "docs": unique_wrt(get_reqs("docs"), requirements),
     "tests": uniqueify_all(
         get_reqs("tests"),
         extras["backports"],
-        extras["jobs"] if not PYPY else [],
         extras["jupyter"] if IPY else [],
         extras["mypy"] if MYPY else [],
         extras["xonsh"] if XONSH else [],
     ),
 })
 
 extras["dev"] = uniqueify_all(
@@ -236,24 +234,30 @@
 
 if using_modern_setuptools:
     # modern method
     extras[":python_version<'2.7'"] = get_reqs("py26")
     extras[":python_version>='2.7'"] = get_reqs("non-py26")
     extras[":python_version<'3'"] = get_reqs("py2")
     extras[":python_version>='3'"] = get_reqs("py3")
+    extras[":python_version<'3.9'"] = get_reqs("py<39")
+    extras[":python_version>='3.9'"] = get_reqs("py39")
 else:
     # old method
     if PY26:
         requirements += get_reqs("py26")
     else:
         requirements += get_reqs("non-py26")
     if PY2:
         requirements += get_reqs("py2")
     else:
         requirements += get_reqs("py3")
+    if PY39:
+        requirements += get_reqs("py39")
+    else:
+        requirements += get_reqs("py<39")
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def all_versions(req):
```

### Comparing `coconut-2.2.0/coconut/root.py` & `coconut-3.0.0/coconut/root.py`

 * *Files 15% similar despite different names*

```diff
@@ -19,91 +19,54 @@
 
 import sys as _coconut_sys
 
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSION:
 # -----------------------------------------------------------------------------------------------------------------------
 
-VERSION = "2.2.0"
+VERSION = "3.0.0"
 VERSION_NAME = None
 # False for release, int >= 1 for develop
 DEVELOP = False
 ALPHA = False  # for pre releases rather than post releases
 
+assert DEVELOP is False or DEVELOP >= 1, "DEVELOP must be False or an int >= 1"
+assert DEVELOP or not ALPHA, "alpha releases are only for develop"
+
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def _indent(code, by=1, tabsize=4, strip=False, newline=False, initial_newline=False):
     """Indents every nonempty line of the given code."""
     return ("\n" if initial_newline else "") + "".join(
         (" " * (tabsize * by) if line.strip() else "") + line
         for line in (code.strip() if strip else code).splitlines(True)
     ) + ("\n" if newline else "")
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# CONSTANTS:
+# HEADER:
 # -----------------------------------------------------------------------------------------------------------------------
 
-assert isinstance(DEVELOP, int) or DEVELOP is False, "DEVELOP must be an int or False"
-assert DEVELOP or not ALPHA, "alpha releases are only for develop"
-
-if DEVELOP:
-    VERSION += "-" + ("a" if ALPHA else "post") + "_dev" + str(int(DEVELOP))
-VERSION_STR = VERSION + (" [" + VERSION_NAME + "]" if VERSION_NAME else "")
-
-PY2 = _coconut_sys.version_info < (3,)
-PY26 = _coconut_sys.version_info < (2, 7)
-PY37 = _coconut_sys.version_info >= (3, 7)
-
-_non_py37_extras = r'''def _coconut_default_breakpointhook(*args, **kwargs):
-    hookname = _coconut.os.getenv("PYTHONBREAKPOINT")
-    if hookname != "0":
-        if not hookname:
-            hookname = "pdb.set_trace"
-        modname, dot, funcname = hookname.rpartition(".")
-        if not dot:
-            modname = "builtins" if _coconut_sys.version_info >= (3,) else "__builtin__"
-        if _coconut_sys.version_info >= (2, 7):
-            import importlib
-            module = importlib.import_module(modname)
-        else:
-            import imp
-            module = imp.load_module(modname, *imp.find_module(modname))
-        hook = _coconut.getattr(module, funcname)
-        return hook(*args, **kwargs)
-if not hasattr(_coconut_sys, "__breakpointhook__"):
-    _coconut_sys.__breakpointhook__ = _coconut_default_breakpointhook
-def breakpoint(*args, **kwargs):
-    return _coconut.getattr(_coconut_sys, "breakpointhook", _coconut_default_breakpointhook)(*args, **kwargs)
-'''
-
 # if a new assignment is added below, a new builtins import should be added alongside it
-_base_py3_header = r'''from builtins import chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
-py_chr, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_repr = chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
-_coconut_py_str, _coconut_py_super = str, super
+_base_py3_header = r'''from builtins import chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
+py_chr, py_dict, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_repr = chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
+_coconut_py_str, _coconut_py_super, _coconut_py_dict = str, super, dict
 from functools import wraps as _coconut_wraps
 exec("_coconut_exec = exec")
 '''
 
-PY37_HEADER = _base_py3_header + r'''py_breakpoint = breakpoint
-'''
-
-PY3_HEADER = _base_py3_header + r'''if _coconut_sys.version_info < (3, 7):
-''' + _indent(_non_py37_extras) + r'''else:
-    py_breakpoint = breakpoint
-'''
-
 # if a new assignment is added below, a new builtins import should be added alongside it
-PY27_HEADER = r'''from __builtin__ import chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr, long
-py_chr, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_raw_input, py_xrange, py_repr = chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr
-_coconut_py_raw_input, _coconut_py_xrange, _coconut_py_int, _coconut_py_long, _coconut_py_print, _coconut_py_str, _coconut_py_super, _coconut_py_unicode, _coconut_py_repr = raw_input, xrange, int, long, print, str, super, unicode, repr
+_base_py2_header = r'''from __builtin__ import chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr, long
+py_chr, py_dict, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_raw_input, py_xrange, py_repr = chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr
+_coconut_py_raw_input, _coconut_py_xrange, _coconut_py_int, _coconut_py_long, _coconut_py_print, _coconut_py_str, _coconut_py_super, _coconut_py_unicode, _coconut_py_repr, _coconut_py_dict = raw_input, xrange, int, long, print, str, super, unicode, repr, dict
 from functools import wraps as _coconut_wraps
+from collections import Sequence as _coconut_Sequence
 from future_builtins import *
 chr, str = unichr, unicode
 from io import open
 class object(object):
     __slots__ = ()
     def __ne__(self, other):
         eq = self == other
@@ -185,15 +148,14 @@
         return self.__reduce_ex__(_coconut.pickle.DEFAULT_PROTOCOL)
     def __hash__(self):
         return _coconut.hash(self._args)
     def __copy__(self):
         return self.__class__(*self._args)
     def __eq__(self, other):
         return self.__class__ is other.__class__ and self._args == other._args
-from collections import Sequence as _coconut_Sequence
 _coconut_Sequence.register(range)
 @_coconut_wraps(_coconut_py_print)
 def print(*args, **kwargs):
     file = kwargs.get("file", _coconut_sys.stdout)
     if "flush" in kwargs:
         flush = kwargs["flush"]
         del kwargs["flush"]
@@ -232,29 +194,152 @@
 def _coconut_exec(obj, globals=None, locals=None):
     """Execute the given source in the context of globals and locals."""
     if locals is None:
         locals = _coconut_sys._getframe(1).f_locals if globals is None else globals
     if globals is None:
         globals = _coconut_sys._getframe(1).f_globals
     exec(obj, globals, locals)
-''' + _non_py37_extras
+'''
+
+_non_py37_extras = r'''def _coconut_default_breakpointhook(*args, **kwargs):
+    hookname = _coconut.os.getenv("PYTHONBREAKPOINT")
+    if hookname != "0":
+        if not hookname:
+            hookname = "pdb.set_trace"
+        modname, dot, funcname = hookname.rpartition(".")
+        if not dot:
+            modname = "builtins" if _coconut_sys.version_info >= (3,) else "__builtin__"
+        if _coconut_sys.version_info >= (2, 7):
+            import importlib
+            module = importlib.import_module(modname)
+        else:
+            import imp
+            module = imp.load_module(modname, *imp.find_module(modname))
+        hook = _coconut.getattr(module, funcname)
+        return hook(*args, **kwargs)
+if not hasattr(_coconut_sys, "__breakpointhook__"):
+    _coconut_sys.__breakpointhook__ = _coconut_default_breakpointhook
+def breakpoint(*args, **kwargs):
+    return _coconut.getattr(_coconut_sys, "breakpointhook", _coconut_default_breakpointhook)(*args, **kwargs)
+'''
+
+_finish_dict_def = '''
+    def __or__(self, other):
+        out = self.copy()
+        out.update(other)
+        return out
+    def __ror__(self, other):
+        out = self.__class__(other)
+        out.update(self)
+        return out
+    def __ior__(self, other):
+        self.update(other)
+        return self
+class _coconut_dict_meta(type):
+    def __instancecheck__(cls, inst):
+        return _coconut.isinstance(inst, _coconut_py_dict)
+    def __subclasscheck__(cls, subcls):
+        return _coconut.issubclass(subcls, _coconut_py_dict)
+dict = _coconut_dict_meta(py_str("dict"), _coconut_dict_base.__bases__, _coconut_dict_base.__dict__.copy())
+'''
+
+_below_py37_extras = '''from collections import OrderedDict as _coconut_OrderedDict
+class _coconut_dict_base(_coconut_OrderedDict):
+    __slots__ = ()
+    __doc__ = getattr(_coconut_OrderedDict, "__doc__", "<see help(py_dict)>")
+    __eq__ = _coconut_py_dict.__eq__
+    def __repr__(self):
+        return "{" + ", ".join("{k!r}: {v!r}".format(k=k, v=v) for k, v in self.items()) + "}"''' + _finish_dict_def
+
+_py37_py38_extras = '''class _coconut_dict_base(_coconut_py_dict):
+    __slots__ = ()
+    __doc__ = getattr(_coconut_py_dict, "__doc__", "<see help(py_dict)>")''' + _finish_dict_def
 
-PY2_HEADER = PY27_HEADER + '''if _coconut_sys.version_info < (2, 7):
+_py26_extras = '''if _coconut_sys.version_info < (2, 7):
     import functools as _coconut_functools, copy_reg as _coconut_copy_reg
     def _coconut_new_partial(func, args, keywords):
         return _coconut_functools.partial(func, *(args if args is not None else ()), **(keywords if keywords is not None else {}))
     _coconut_copy_reg.constructor(_coconut_new_partial)
     def _coconut_reduce_partial(self):
         return (_coconut_new_partial, (self.func, self.args, self.keywords))
     _coconut_copy_reg.pickle(_coconut_functools.partial, _coconut_reduce_partial)
 '''
 
-PYCHECK_HEADER = r'''if _coconut_sys.version_info < (3,):
-''' + _indent(PY2_HEADER) + '''else:
-''' + _indent(PY3_HEADER)
+
+# whenever new versions are added here, header.py must be updated to use them
+ROOT_HEADER_VERSIONS = (
+    "universal",
+    "2",
+    "3",
+    "27",
+    "37",
+    "39",
+)
+
+
+def _get_root_header(version="universal"):
+    assert version in ROOT_HEADER_VERSIONS, version
+
+    if version == "universal":
+        return r'''if _coconut_sys.version_info < (3,):
+''' + _indent(_get_root_header("2")) + '''else:
+''' + _indent(_get_root_header("3"))
+
+    header = ""
+
+    if version.startswith("3"):
+        header += _base_py3_header
+    else:
+        assert version.startswith("2"), version
+        # if a new assignment is added below, a new builtins import should be added alongside it
+        header += _base_py2_header
+
+    if version in ("37", "39"):
+        header += r'''py_breakpoint = breakpoint
+'''
+    elif version == "3":
+        header += r'''if _coconut_sys.version_info < (3, 7):
+''' + _indent(_non_py37_extras) + r'''else:
+    py_breakpoint = breakpoint
+'''
+    else:
+        assert version.startswith("2"), version
+        header += _non_py37_extras
+        if version == "2":
+            header += _py26_extras
+
+    if version == "3":
+        header += r'''if _coconut_sys.version_info < (3, 7):
+''' + _indent(_below_py37_extras) + r'''elif _coconut_sys.version_info < (3, 9):
+''' + _indent(_py37_py38_extras)
+    elif version == "37":
+        header += r'''if _coconut_sys.version_info < (3, 9):
+''' + _indent(_py37_py38_extras)
+    elif version.startswith("2"):
+        header += _below_py37_extras + '''dict.keys = _coconut_OrderedDict.viewkeys
+dict.values = _coconut_OrderedDict.viewvalues
+dict.items = _coconut_OrderedDict.viewitems
+'''
+    else:
+        assert version == "39", version
+
+    return header
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# CONSTANTS:
+# -----------------------------------------------------------------------------------------------------------------------
+
+if DEVELOP:
+    VERSION += "-" + ("a" if ALPHA else "post") + "_dev" + str(int(DEVELOP))
+VERSION_STR = VERSION + (" [" + VERSION_NAME + "]" if VERSION_NAME else "")
+
+PY2 = _coconut_sys.version_info < (3,)
+PY26 = _coconut_sys.version_info < (2, 7)
+PY37 = _coconut_sys.version_info >= (3, 7)
 
 # -----------------------------------------------------------------------------------------------------------------------
 # SETUP:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if PY2:
     import __builtin__ as _coconut  # NOQA
@@ -263,15 +348,8 @@
 
 import pickle
 _coconut.pickle = pickle
 
 import os
 _coconut.os = os
 
-if PY26:
-    exec(PY2_HEADER)
-elif PY2:
-    exec(PY27_HEADER)
-elif PY37:
-    exec(PY37_HEADER)
-else:
-    exec(PY3_HEADER)
+exec(_get_root_header())
```

### Comparing `coconut-2.2.0/coconut/terminal.py` & `coconut-3.0.0/coconut/terminal.py`

 * *Files 3% similar despite different names*

```diff
@@ -20,20 +20,23 @@
 from coconut.root import *  # NOQA
 
 import sys
 import os
 import traceback
 import logging
 from contextlib import contextmanager
+from collections import defaultdict
+from functools import wraps
 if sys.version_info < (2, 7):
     from StringIO import StringIO
 else:
     from io import StringIO
 
 from coconut._pyparsing import (
+    MODERN_PYPARSING,
     lineno,
     col,
     ParserElement,
 )
 
 from coconut.root import _indent
 from coconut.integrations import embed
@@ -95,15 +98,15 @@
 def complain(error):
     """Raises in develop; warns in release."""
     if callable(error):
         if DEVELOP:
             error = error()
         else:
             return
-    if not isinstance(error, CoconutInternalException) and isinstance(error, CoconutException):
+    if not isinstance(error, BaseException) or (not isinstance(error, CoconutInternalException) and isinstance(error, CoconutException)):
         error = CoconutInternalException(str(error))
     if not DEVELOP:
         logger.warn_err(error)
     elif embed_on_internal_exc:
         logger.warn_err(error)
         embed(depth=1)
     else:
@@ -192,15 +195,15 @@
     @classmethod
     def enable_colors(cls):
         """Attempt to enable CLI colors."""
         if not cls.colors_enabled:
             # necessary to resolve https://bugs.python.org/issue40134
             try:
                 os.system("")
-            except Exception:
+            except BaseException:
                 logger.log_exc()
             cls.colors_enabled = True
 
     def copy_from(self, other):
         """Copy other onto self."""
         self.verbose, self.quiet, self.path, self.name, self.tracing, self.trace_ind = other.verbose, other.quiet, other.path, other.name, other.tracing, other.trace_ind
 
@@ -208,15 +211,26 @@
         """Completely reset the logger."""
         self.copy_from(Logger())
 
     def copy(self):
         """Make a copy of the logger."""
         return Logger(self)
 
-    def display(self, messages, sig="", end="\n", file=None, level="normal", color=None, **kwargs):
+    def display(
+        self,
+        messages,
+        sig="",
+        end="\n",
+        file=None,
+        level="normal",
+        color=None,
+        # flush by default to ensure our messages show up when printing from a child process
+        flush=True,
+        **kwargs
+    ):
         """Prints an iterator of messages."""
         if level == "normal":
             file = file or sys.stdout
         elif level == "logging":
             file = file or sys.stderr
             color = color or log_color_code
         elif level == "error":
@@ -244,16 +258,17 @@
                 line = sig + line
             components.append(line)
         if color:
             components.append(ansii_reset)
         components.append(end)
         full_message = "".join(components)
 
-        # we use end="" to ensure atomic printing (and so we add the end in earlier)
-        print(full_message, file=file, end="", **kwargs)
+        if full_message:
+            # we use end="" to ensure atomic printing (and so we add the end in earlier)
+            print(full_message, file=file, end="", flush=flush, **kwargs)
 
     def print(self, *messages, **kwargs):
         """Print messages to stdout."""
         self.display(messages, **kwargs)
 
     def printerr(self, *messages, **kwargs):
         """Print errors to stderr."""
@@ -436,16 +451,17 @@
                 out = ["[" + tag + "]"]
                 add_line_col = True
                 if item is not None:
                     if isinstance(item, Exception):
                         msg = displayable(str(item))
                         if "{" in msg:
                             head, middle = msg.split("{", 1)
-                            middle, tail = middle.rsplit("}", 1)
-                            msg = head + "{...}" + tail
+                            if "}" in middle:
+                                middle, tail = middle.rsplit("}", 1)
+                                msg = head + "{...}" + tail
                         out.append(msg)
                         add_line_col = False
                     elif len(item) == 1 and isinstance(item[0], str):
                         out.append(ascii(item[0]))
                     else:
                         out.append(ascii(item))
                 if add_line_col:
@@ -460,15 +476,15 @@
 
     def _trace_exc_action(self, original, loc, expr, exc):
         if self.tracing:  # avoid the overhead of an extra function call
             self.log_trace(expr, original, loc, exc)
 
     def trace(self, item):
         """Traces a parse element (only enabled in develop)."""
-        if DEVELOP:
+        if DEVELOP and not MODERN_PYPARSING:
             item.debugActions = (
                 None,  # no start action
                 self._trace_success_action,
                 self._trace_exc_action,
             )
             item.debug = True
         return item
@@ -485,28 +501,55 @@
                 self.printlog("Time while parsing:", elapsed_time, "secs")
                 if use_packrat_parser:
                     hits, misses = ParserElement.packrat_cache_stats
                     self.printlog("\tPackrat parsing stats:", hits, "hits;", misses, "misses")
         else:
             yield
 
+    total_block_time = defaultdict(int)
+
+    @contextmanager
+    def time_block(self, name):
+        start_time = get_clock_time()
+        try:
+            yield
+        finally:
+            elapsed_time = get_clock_time() - start_time
+            self.total_block_time[name] += elapsed_time
+            self.printlog("Time while running", name + ":", elapsed_time, "secs (total so far:", self.total_block_time[name], "secs)")
+
     def time_func(self, func):
         """Decorator to print timing info for a function."""
+        @wraps(func)
         def timed_func(*args, **kwargs):
             """Function timed by logger.time_func."""
             if not DEVELOP or self.quiet:
                 return func(*args, **kwargs)
-            start_time = get_clock_time()
-            try:
+            with self.time_block(func.__name__):
                 return func(*args, **kwargs)
-            finally:
-                elapsed_time = get_clock_time() - start_time
-                self.printlog("Time while running", func.__name__ + ":", elapsed_time, "secs")
         return timed_func
 
+    def debug_func(self, func):
+        """Decorates a function to print the input/output behavior."""
+        @wraps(func)
+        def printing_func(*args, **kwargs):
+            """Function decorated by logger.debug_func."""
+            if not DEVELOP or self.quiet:
+                return func(*args, **kwargs)
+            if not kwargs:
+                self.printerr(func, "<*|", args)
+            elif not args:
+                self.printerr(func, "<**|", kwargs)
+            else:
+                self.printerr(func, "<<|", args, kwargs)
+            out = func(*args, **kwargs)
+            self.printerr(func, "=>", repr(out))
+            return out
+        return printing_func
+
     def patch_logging(self):
         """Patches built-in Python logging if necessary."""
         if not hasattr(logging, "getLogger"):
             def getLogger(name=None):
                 other = Logger(self)
                 if name is not None:
                     other.name = name
```

### Comparing `coconut-2.2.0/coconut/tests/__init__.py` & `coconut-3.0.0/coconut/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/tests/__main__.py` & `coconut-3.0.0/coconut/tests/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/tests/constants_test.py` & `coconut-3.0.0/coconut/tests/constants_test.py`

 * *Files 4% similar despite different names*

```diff
@@ -105,15 +105,17 @@
             elif sys.version_info >= ver_cutoff:
                 assert is_importable(new_imp), "Failed to import " + new_imp
             else:
                 assert is_importable(old_imp), "Failed to import " + old_imp
 
     def test_reqs(self):
         assert set(constants.pinned_reqs) <= set(constants.min_versions), "found old pinned requirement"
-        assert set(constants.max_versions) <= set(constants.pinned_reqs) | set(constants.allowed_constrained_but_unpinned_reqs), "found unlisted constrained but unpinned requirements"
+        assert set(constants.max_versions) <= set(constants.pinned_reqs) | set(("cPyparsing",)), "found unlisted constrained but unpinned requirements"
+        for maxed_ver in constants.max_versions:
+            assert isinstance(maxed_ver, tuple) or maxed_ver in ("pyparsing", "cPyparsing"), "maxed versions must be tagged to a specific Python version"
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if __name__ == "__main__":
```

### Comparing `coconut-2.2.0/coconut/tests/main_test.py` & `coconut-3.0.0/coconut/tests/main_test.py`

 * *Files 1% similar despite different names*

```diff
@@ -45,32 +45,47 @@
 from coconut.constants import (
     WINDOWS,
     PYPY,
     IPY,
     MYPY,
     PY35,
     PY36,
-    PY39,
+    PY38,
+    PY310,
     icoconut_default_kernel_names,
     icoconut_custom_kernel_name,
     mypy_err_infixes,
     get_bool_env_var,
 )
 
 from coconut.convenience import (
     auto_compilation,
     setup,
 )
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# SETUP:
+# -----------------------------------------------------------------------------------------------------------------------
+
+
 auto_compilation(False)
 
+logger.verbose = property(lambda self: True, lambda self, value: print("WARNING: ignoring attempt to set logger.verbose = {value}".format(value=value)))
+
+os.environ["PYDEVD_DISABLE_FILE_VALIDATION"] = "1"
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
-logger.verbose = property(lambda self: True, lambda self, value: print("WARNING: ignoring attempt to set logger.verbose = {value}".format(value=value)))
+
+default_recursion_limit = "4096"
+default_stack_size = "4096"
 
 base = os.path.dirname(os.path.relpath(__file__))
 src = os.path.join(base, "src")
 dest = os.path.join(base, "dest")
 additional_dest = os.path.join(base, "dest", "additional_dest")
 
 runnable_coco = os.path.join(src, "runnable.coco")
@@ -81,15 +96,16 @@
 bbopt = os.path.join(os.curdir, "bbopt")
 
 pyston_git = "https://github.com/evhub/pyston.git"
 pyprover_git = "https://github.com/evhub/pyprover.git"
 prelude_git = "https://github.com/evhub/coconut-prelude"
 bbopt_git = "https://github.com/evhub/bbopt.git"
 
-coconut_snip = r"msg = '<success>'; pmsg = print$(msg); `pmsg`"
+coconut_snip = "msg = '<success>'; pmsg = print$(msg); `pmsg`"
+target_3_snip = "assert super is py_super; print('<success>')"
 
 always_err_strs = (
     "CoconutInternalException",
     "<unprintable",
     "*** glibc detected ***",
     "INTERNAL ERROR",
 )
@@ -112,14 +128,16 @@
     "sqlite3.ProgrammingError",
     "OSError: handle is closed",
 )
 
 ignore_last_lines_with = (
     "DeprecationWarning: The distutils package is deprecated",
     "from distutils.version import LooseVersion",
+    ": SyntaxWarning: 'int' object is not ",
+    " assert_raises(",
 )
 
 kernel_installation_msg = (
     "Coconut: Successfully installed Jupyter kernels: '"
     + "', '".join((icoconut_custom_kernel_name,) + icoconut_default_kernel_names) + "'"
 )
 
@@ -232,15 +250,23 @@
     i = 0
     while True:
         if i >= len(raw_lines):
             break
         line = raw_lines[i]
 
         # ignore https://bugs.python.org/issue39098 errors
-        if sys.version_info < (3, 9) and line == "Error in atexit._run_exitfuncs:":
+        if sys.version_info < (3, 9) and (
+            line == "Error in atexit._run_exitfuncs:"
+            or (
+                line == "Traceback (most recent call last):"
+                and i + 1 < len(raw_lines)
+                and "concurrent/futures/process.py" in raw_lines[i + 1]
+                and "_python_exit" in raw_lines[i + 1]
+            )
+        ):
             while True:
                 i += 1
                 if i >= len(raw_lines):
                     break
 
                 new_line = raw_lines[i]
                 if not new_line.startswith(" ") and not any(test in new_line for test in ignore_atexit_errors_with):
@@ -263,15 +289,16 @@
 
         lines.append(line)
         i += 1
 
     for line in lines:
         for errstr in always_err_strs:
             assert errstr not in line, "{errstr!r} in {line!r}".format(errstr=errstr, line=line)
-        if check_errors:
+        # ignore SyntaxWarnings containing assert_raises
+        if check_errors and "assert_raises(" not in line:
             assert "Traceback (most recent call last):" not in line, "Traceback in " + repr(line)
             assert "Exception" not in line, "Exception in " + repr(line)
             assert "Error" not in line, "Error in " + repr(line)
         if check_mypy and all(test not in line for test in ignore_mypy_errs_with):
             assert "error:" not in line, "MyPy error in " + repr(line)
 
     if isinstance(assert_output, str):
@@ -296,16 +323,18 @@
 def call_python(args, **kwargs):
     """Calls the current Python."""
     call([sys.executable] + args, **kwargs)
 
 
 def call_coconut(args, **kwargs):
     """Calls Coconut."""
-    if "--jobs" not in args and not PYPY and not PY26:
-        args = ["--jobs", "sys"] + args
+    if default_recursion_limit is not None and "--recursion-limit" not in args:
+        args = ["--recursion-limit", default_recursion_limit] + args
+    if default_stack_size is not None and "--stack-size" not in args:
+        args = ["--stack-size", default_stack_size] + args
     if "--mypy" in args and "check_mypy" not in kwargs:
         kwargs["check_mypy"] = True
     if PY26:
         call(["coconut"] + args, **kwargs)
     else:
         call_python(["-m", "coconut"] + args, **kwargs)
 
@@ -638,14 +667,18 @@
 
 @add_test_func_names
 class TestShell(unittest.TestCase):
 
     def test_code(self):
         call(["coconut", "-s", "-c", coconut_snip], assert_output=True)
 
+    if not PY2:
+        def test_target_3_snip(self):
+            call(["coconut", "-t3", "-c", target_3_snip], assert_output=True)
+
     def test_pipe(self):
         call('echo ' + escape(coconut_snip) + "| coconut -s", shell=True, assert_output=True)
 
     def test_convenience(self):
         call_python(["-c", 'from coconut.convenience import parse; exec(parse("' + coconut_snip + '"))'], assert_output=True)
 
     def test_import_hook(self):
@@ -681,14 +714,16 @@
         def test_xontrib(self):
             p = spawn_cmd("xonsh")
             p.expect("$")
             p.sendline("xontrib load coconut")
             p.expect("$")
             p.sendline("!(ls -la) |> bool")
             p.expect("True")
+            p.sendline("xontrib unload coconut")
+            p.expect("$")
             p.sendeof()
             if p.isalive():
                 p.terminate()
 
     if IPY and (not WINDOWS or PY35):
         def test_ipython_extension(self):
             call(
@@ -699,14 +734,16 @@
                 expect_retcode=0 if not WINDOWS else None,
             )
 
         def test_kernel_installation(self):
             call(["coconut", "--jupyter"], assert_output=kernel_installation_msg)
             stdout, stderr, retcode = call_output(["jupyter", "kernelspec", "list"])
             stdout, stderr = "".join(stdout), "".join(stderr)
+            if not stdout:
+                stdout, stderr = stderr, ""
             assert not retcode and not stderr, stderr
             for kernel in (icoconut_custom_kernel_name,) + icoconut_default_kernel_names:
                 assert kernel in stdout
 
         if not WINDOWS and not PYPY:
             def test_exit_jupyter(self):
                 p = spawn_cmd("coconut --jupyter console")
@@ -774,14 +811,22 @@
     def test_no_tco(self):
         run(["--no-tco"])
 
     if PY35:
         def test_no_wrap(self):
             run(["--no-wrap"])
 
+    if get_bool_env_var("COCONUT_TEST_VERBOSE"):
+        def test_verbose(self):
+            run(["--jobs", "0", "--verbose"])
+
+    if get_bool_env_var("COCONUT_TEST_TRACE"):
+        def test_trace(self):
+            run(["--jobs", "0", "--trace"], check_errors=False)
+
     # avoids a strange, unreproducable failure on appveyor
     if not (WINDOWS and sys.version_info[:2] == (3, 8)):
         def test_run(self):
             run(use_run_arg=True)
 
     if not PYPY and not PY26:
         def test_jobs_zero(self):
@@ -804,35 +849,36 @@
 class TestExternal(unittest.TestCase):
 
     # more appveyor timeout prevention
     if not (WINDOWS and PY2):
         def test_pyprover(self):
             with using_path(pyprover):
                 comp_pyprover()
-                run_pyprover()
+                if PY38:
+                    run_pyprover()
 
     if not PYPY or PY2:
         def test_prelude(self):
             with using_path(prelude):
                 comp_prelude()
-                if MYPY:
+                if MYPY and PY38:
                     run_prelude()
 
+    def test_bbopt(self):
+        with using_path(bbopt):
+            comp_bbopt()
+            if not PYPY and PY38 and not PY310:
+                install_bbopt()
+
     def test_pyston(self):
         with using_path(pyston):
             comp_pyston(["--no-tco"])
             if PYPY and PY2:
                 run_pyston()
 
-    def test_bbopt(self):
-        with using_path(bbopt):
-            comp_bbopt()
-            if not PYPY and (PY2 or PY36) and not PY39:
-                install_bbopt()
-
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if __name__ == "__main__":
     unittest.main()
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/main.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/main.coco`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/primary.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/primary.coco`

 * *Files 2% similar despite different names*

```diff
@@ -8,22 +8,16 @@
 operator log10
 from math import \log10 as (log10)
 
 # need to be at top level to avoid binding sys as a local in primary_test
 from importlib import reload  # NOQA
 from enum import Enum  # noqa
 
-def assert_raises(c, exc):
-    """Test whether callable c raises an exception of type exc."""
-    try:
-        c()
-    except exc:
-        return True
-    else:
-        raise AssertionError("%r failed to raise exception %r" % (c, exc))
+from .util import assert_raises
+
 
 def primary_test() -> bool:
     """Basic no-dependency tests."""
     # must come at start so that local sys binding is correct
     import queue as q, builtins, email.mime.base
     assert q.Queue  # type: ignore
     assert builtins.len([1, 1]) == 2
@@ -99,15 +93,14 @@
         return x + y
     assert multiline_backslash_test(1, 2) == 3
     \\ assert True
     class one_line_class: pass
     assert isinstance(one_line_class(), one_line_class)
     assert (.join)("")(["1", "2", "3"]) == "123"
     assert "" |> .join <| ["1","2","3"] == "123"
-    assert "". <| "join" <| ["1","2","3"] == "123"
     assert 1 |> [1,2,3][] == 2 == 1 |> [1,2,3]$[]
     assert 1 |> "123"[] == "2" == 1 |> "123"$[]
     assert (| -1, 0, |) :: range(1, 5) |> list == [-1, 0, 1, 2, 3, 4]
     assert (| 1 |) :: (| 2 |) |> list == [1, 2]
     assert not isinstance(map((+)$(2), [1,2,3]), list)
     assert not isinstance(range(10), list)
     longint: int = 10**100
@@ -450,15 +443,14 @@
     price = 100
     assert 0 == (requested_quantity ?? default_quantity) * price
     assert range(10) |> .[1] .. .[1:] == 2 == range(10) |> .[1:] |> .[1]
     assert None?.herp(derp) is None  # type: ignore
     assert None?[herp].derp is None  # type: ignore
     assert None?(derp)[herp] is None  # type: ignore
     assert None?$(herp)(derp) is None  # type: ignore
-    assert "a b c" == (" ". ?? "not gonna happen")("join")("abc")
     a: int[]? = None  # type: ignore
     assert a is None
     assert range(5) |> iter |> reiterable |> .[1] == 1
     assert range(5) |> reiterable |> fmap$(-> _ + 1) |> list == [1, 2, 3, 4, 5]
 
     a: Iterable[int] = [1] :: [2] :: [3]  # type: ignore
     a = a |> reiterable
@@ -1266,16 +1258,16 @@
     xs = [1] :: [2]
     assert xs |> list == [1, 2] == xs |> list
     ys = (_ for _ in range(2)) :: (_ for _ in range(2))
     assert ys |> list == [0, 1, 0, 1]
     assert ys |> list == []
 
     some_err = ValueError()
-    assert Expected(10) |> fmap$(.+1) == Expected(11)
-    assert Expected(error=some_err) |> fmap$(.+1) == Expected(error=some_err)
+    assert Expected(10) |> fmap$(.+1) == Expected(11) == Expected(10) |> .__fmap__(.+1)
+    assert Expected(error=some_err) |> fmap$(.+1) == Expected(error=some_err) == Expected(error=some_err) |> .__fmap__(.+1)
     res, err = Expected(10)
     assert (res, err) == (10, None)
     assert Expected("abc")
     assert not Expected(error=TypeError())
     assert all(it `isinstance` flatten for it in tee(flatten([[1], [2]])))
     fl12 = flatten([[1], [2]])
     assert fl12.get_new_iter() is fl12.get_new_iter()  # type: ignore
@@ -1295,14 +1287,16 @@
     assert_raises(Expected(error=TypeError()).unwrap, TypeError)
     assert_raises(Expected(error=KeyboardInterrupt()).unwrap, KeyboardInterrupt)
     assert Expected(10).or_else(const <| Expected(20)) == Expected(10) == Expected(error=TypeError()).or_else(const <| Expected(10))
     Expected(x) = Expected(10)
     assert x == 10
     Expected(error=err) = Expected(error=some_err)
     assert err is some_err
+    assert Expected(error=TypeError()).map_error(const some_err) == Expected(error=some_err)
+    assert Expected(10).map_error(const some_err) == Expected(10)
 
     recit = ([1,2,3] :: recit) |> map$(.+1)
     assert tee(recit)
     rawit = (_ for _ in (0, 1))
     t1, t2 = tee(rawit)
     t1a, t1b = tee(t1)
     assert (list(t1a), list(t1b), list(t2)) == ([0, 1], [0, 1], [0, 1])
@@ -1412,15 +1406,15 @@
     assert (a=1, b=2)[1] == 2
     obj = object()
     assert_raises((def -> obj.abc = 123), AttributeError)  # type: ignore
     hardref = map((.+1), [1,2,3])
     assert weakref.ref(hardref)() |> list == [2, 3, 4]
     my_match_err = MatchError("my match error", 123)
     assert parallel_map(ident, [my_match_err]) |> list |> str == str([my_match_err])
-    # repeat the same thin again now that my_match_err.str has been called
+    # repeat the same thing again now that my_match_err.str has been called
     assert parallel_map(ident, [my_match_err]) |> list |> str == str([my_match_err])
     match data tuple(1, 2) in (1, 2, 3):
         assert False
     data TestDefaultMatching(x="x default", y="y default")
     TestDefaultMatching(got_x) = TestDefaultMatching(1)
     assert got_x == 1
     TestDefaultMatching(y=got_y) = TestDefaultMatching(y=10)
@@ -1497,8 +1491,102 @@
     optx ..?**>= (,)
     assert optx() is None
     optx = (.+1)
     optx <?..= (+)
     optx <*?..= (,)
     optx <**?..= const None
     assert optx() is None
+
+    s{} = s{1, 2}
+    s{*_} = s{1, 2}
+    s{*()} = s{}
+    s{*[]} = s{}
+    s{*s{}} = s{}
+    s{*f{}} = s{}
+    s{*m{}} = s{}
+    match s{*()} in s{1, 2}:
+        assert False
+    s{} = f{1, 2}
+    f{1} = f{1, 2}
+    f{1, *_} = f{1, 2}
+    f{1, 2, *()} = f{1, 2}
+    match f{} in s{}:
+        assert False
+    s{} = m{1, 1}
+    s{1} = m{1}
+    m{1, 1} = m{1, 1}
+    m{1} = m{1, 1}
+    match m{1, 1} in m{1}:
+        assert False
+    m{1, *_} = m{1, 1}
+    match m{1, *()} in m{1, 1}:
+        assert False
+    s{*(),} = s{}
+    s{1, *_,} = s{1, 2}
+    {**{},} = {}
+    m{} = collections.Counter()
+    match m{1, 1} in collections.Counter((1,)):
+        assert False
+
+    assert_raises(() :: 1 .. 2, TypeError)
+    two = 2
+    three = 3
+    five = 5
+    assert 1.0 two three ** -4 five == 2*5/3**4
+    x = 10
+    assert 2 x == 20
+    assert 2 x**2 + 3 x == 230
+    match 1 in (1,):
+        case True:
+            pass
+        case _:
+            assert False
+    assert two**2 three**2 == 2**2 * 3**2
+    assert_raises(-> five (two + three), TypeError)
+    assert_raises(-> 5 (10), TypeError)
+    assert_raises(-> 5 [0], TypeError)
+    assert five ** 2 two == 50
+    assert 2i x == 20i
+    some_str = "some"
+    assert_raises(-> some_str five, TypeError)
+    assert (not in)("a", "bcd")
+    assert not (not in)("a", "abc")
+    assert ("a" not in .)("bcd")
+    assert (. not in "abc")("d")
+    assert (is not)(1, True)
+    assert not (is not)(False, False)
+    assert (True is not .)(1)
+    assert (. is not True)(1)
+    a_dict = {}
+    a_dict[1] = 1
+    a_dict[3] = 2
+    a_dict[2] = 3
+    assert a_dict |> str == "{1: 1, 3: 2, 2: 3}" == a_dict |> repr, a_dict
+    assert a_dict.keys() |> tuple == (1, 3, 2)
+    assert not a_dict.keys() `isinstance` list
+    assert not a_dict.values() `isinstance` list
+    assert not a_dict.items() `isinstance` list
+    assert len(a_dict.keys()) == len(a_dict.values()) == len(a_dict.items()) == 3
+    assert {1: 1, 3: 2, 2: 3}.keys() |> tuple == (1, 3, 2)
+    assert {**{1: 0, 3: 0}, 2: 0}.keys() |> tuple == (1, 3, 2) == {**dict([(1, 1), (3, 2), (2, 3)])}.keys() |> tuple
+    assert a_dict == {1: 1, 2: 3, 3: 2}
+    assert {1: 1} |> str == "{1: 1}" == {1: 1} |> repr
+    assert py_dict `issubclass` dict
+    assert py_dict() `isinstance` dict
+    assert {5:0, 3:0, **{2:0, 6:0}, 8:0}.keys() |> tuple == (5, 3, 2, 6, 8)
+    a_multiset = m{1,1,2}
+    assert not a_multiset.keys() `isinstance` list
+    assert not a_multiset.values() `isinstance` list
+    assert not a_multiset.items() `isinstance` list
+    assert len(a_multiset.keys()) == len(a_multiset.values()) == len(a_multiset.items()) == 2
+    assert (in)(1, [1, 2])
+    assert not (1 not in .)([1, 2])
+    assert not (in)([[]], [])
+    assert ("{a}" . .)("format")(a=1) == "1"
+    a_dict = {"a": 1, "b": 2}
+    a_dict |= {"a": 10, "c": 20}
+    assert a_dict == {"a": 10, "b": 2, "c": 20} == {"a": 1, "b": 2} | {"a": 10, "c": 20}
+    assert ["abc" ; "def"] == ['abc', 'def']
+    assert ["abc" ;; "def"] == [['abc'], ['def']]
+    assert {"a":0, "b":1}$[0] == "a"
+    assert (|0, NotImplemented, 2|)$[1] is NotImplemented
     return True
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/specific.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/specific.coco`

 * *Files 1% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-from io import StringIO  # type: ignore
+from io import StringIO
 if TYPE_CHECKING:
     from typing import Any
 
 from .util import mod  # NOQA
 
 
 def non_py26_test() -> bool:
@@ -102,15 +102,15 @@
 
     data D1[T](x: T, y: T)  # type: ignore
     assert D1(10, 20).y == 20
 
     data D2[T <: int[]](xs: T)  # type: ignore
     assert D2((10, 20)).xs == (10, 20)
 
-    def myid[T](x: T) -> T = x
+    def myid[ T ]( x : T ) -> T = x
     assert myid(10) == 10
 
     def fst[T](x: T, y: T) -> T = x
     assert fst(1, 2) == 1
 
     def twople[T, U](x: T, y: U) -> (T; U) = (x, y)
     assert twople(1, 2) == (1, 2)
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/suite.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/suite.coco`

 * *Files 2% similar despite different names*

```diff
@@ -88,15 +88,15 @@
     assert preN(range(-5, 0))$[1:10] |> list == [-4,-3,-2,-1,0,1,2,3,4]
     assert map_iter((*)$(2), N())$[:5] |> list == [0,2,4,6,8]
     assert N()$[:100] |> tuple == N_()$[:100] |> tuple == N__()$[:100] |> tuple
     assert 12 |> next_mul_of $(5) == 15
     assert collatz(27)
     assert preop(1, 2).add() == 3
     assert vector(3, 4) |> abs == 5 == vector_with_id(3, 4, 1) |> abs
-    assert vector(1, 2) |> ((v) -> map(v., ("x", "y"))) |> tuple == (1, 2)  # type: ignore
+    assert vector(1, 2) |> ((v) -> map(getattr$(v), ("x", "y"))) |> tuple == (1, 2)  # type: ignore
     assert vector(3, 1) |> vector(1, 2).transform |> ((v) -> map(v[], (0, 1))) |> tuple == (4, 3)  # type: ignore
     assert vector(1, 2) |> vector(1, 2).__eq__
     assert not vector(1, 2) |> vector(3, 4).__eq__
     assert not (1, 2) |> vector(1, 2).__eq__
     assert vector(vector(4, 3)) == vector(4, 3)
     assert not vector(4, 3) != vector(4, 3)
     assert not vector(1, 2) == (1, 2)
@@ -206,15 +206,15 @@
     assert is_empty(())
     assert not is_empty([1])
     assert is_one(iter([1]))
     assert not is_one(iter(()))
     assert not is_one([])
     assert is_one([1])
     assert trilen(3, 4).h == 5 == datamaker(trilen)(5).h
-    assert A().true() is True
+    assert clsA().true() is True
     inh_a = inh_A()
     assert inh_a.true() is True
     assert inh_a.inh_true1() is True
     assert inh_a.inh_true2() is True
     assert inh_a.inh_true3() is True
     assert inh_a.inh_true4() is True
     assert inh_a.inh_true5() is True
@@ -433,15 +433,15 @@
     assert a?.b?.c?.m?() == "method"
     assert a.b.c.none?.derp.herp is None  # type: ignore
     assert tco_chain([1, 2, 3]) |> list == ["last"]
     assert partition([1, 2, 3], 2) |> map$(tuple) |> list == [(1,), (3, 2)] == partition_([1, 2, 3], 2) |> map$(tuple) |> list
     assert myreduce((+), (1, 2, 3)) == 6
     assert recurse_n_times(10000)
     assert fake_recurse_n_times(10000)
-    a = A()
+    a = clsA()
     assert ((not)..a.true)() is False
     assert 10 % 4 % 3 == 2 == 10 `mod` 4 `mod` 3
     assert square_times2_plus1(3) == 19 == square_times2_plus1_(3)
     assert plus1_cube(2) == 27
     assert square ..> times2 ..> plus1 |> repr == square ..> (times2 ..> plus1) |> repr
     assert range(1, 5) |> map$(range) |> starmap$(toprint) |> tuple == ('0', '0 1', '0 1 2', '0 1 2 3')
     assert range(1, 5) |> map$(range) |> starmap$(toprint) |> fmap$(.strip(" 0")) |> tuple == ("", "1", "1 2", "1 2 3")
@@ -702,15 +702,15 @@
         assert False
     it = (|1, (|2, 3|), 4, (|5, 6|)|)
     assert eval_iters(it) == [1, [2, 3], 4, [5, 6]] == eval_iters_(it)
     assert inf_rec(5) == 10 == inf_rec_(5)
     m = methtest2()
     assert m.inf_rec(5) == 10 == m.inf_rec_(5)
     assert reqs(lazy_client)$[:10] |> list == range(10) |> list == reqs(lazy_client_)$[:10] |> list
-    class T(A, B, *(C, D), metaclass=Meta, e=5)  # type: ignore
+    class T(clsA, clsB, *(clsC, clsD), metaclass=Meta, e=5)  # type: ignore
     assert T.a == 1
     assert T.b == 2
     assert T.c == 3
     assert T.d == 4
     assert T.e == 5
     d1 = {"a": 1}
     assert ret_args_kwargs(*[1], *[2], **d1, **{"b": 2}) == ((1, 2), {"a": 1, "b": 2})
@@ -739,16 +739,16 @@
         assert False
     (-> 3) -> _ `isinstance` int = "a"  # type: ignore
     assert empty_it() |> list == [] == empty_it_of_int(1) |> list
     assert just_it(1) |> list == [1]
     assert just_it_of_int(1) |> list == [1] == just_it_of_int_(1) |> list
     assert must_be_int(4) == 4 == must_be_int_(4)
     assert typed_plus(1, 2) == 3
-    (class inh_A() `isinstance` A) `isinstance` object = inh_A()
-    class inh_A() `isinstance` A `isinstance` object = inh_A()
+    (class inh_A() `isinstance` clsA) `isinstance` object = inh_A()
+    class inh_A() `isinstance` clsA `isinstance` object = inh_A()
     for maxdiff in (maxdiff1, maxdiff2, maxdiff3, maxdiff_):
         assert maxdiff([7,1,4,5]) == 4, "failed for " + repr(maxdiff)
     assert all(r == 4 for r in parallel_map(call$(?, [7,1,4,5]), [maxdiff1, maxdiff2, maxdiff3]))
     assert ret_ret_func(1) == ((), {"func": 1}) == ret_args_kwargs$(func=1)()  # type: ignore
     assert ret_args_kwargs$(?, func=2)(1) == ((1,), {"func": 2})
     assert lift(ret_args_kwargs)(ident, plus1, times2, sq=square)(3) == ((3, 4, 6), {"sq": 9})
     assert plus1 `call` 2 == 3
@@ -915,20 +915,20 @@
             HasThreeVals(
                 val1=[HasTwoVals("a", "c")],
                 val2=[],
                 val3=[],
             )
         ),
     ))
-    A(.a=1) = A()
-    match A(.a=2) in A():
+    clsA(.a=1) = clsA()
+    match clsA(.a=2) in clsA():
         assert False
-    assert_raises((def -> A(.b=1) = A()), AttributeError)
+    assert_raises((def -> clsA(.b=1) = clsA()), AttributeError)
     assert MySubExc("derp") `isinstance` Exception
-    assert A().not_super() is True
+    assert clsA().not_super() is True
     match class store.A(1) = store.A(1)
     match data store.A(1) = store.A(1)
     match store.A(1) = store.A(1)
     match store.A(1) in store.A(1):
         pass
     else:
         assert False
@@ -1010,14 +1010,45 @@
     assert first_disjoint_n(4, "mjqjpqmgbl") == 7 == first_disjoint_n_(4, "mjqjpqmgbl")
     assert reduce_n(4, (run, new) -> run + [new], "123456", []) |> map$("".join) |> list == ["1234", "2345", "3456"]
     assert cycle_slide("123", slide=1)$[:9] |> "".join == "123231312"
     assert "1234" |> windowsof_$(2) |> map$("".join) |> list == ["12", "23", "34"] == "1234" |> windowsof$(2) |> map$("".join) |> list
     assert try_divide(1, 2) |> fmap$(.+1) == Expected(1.5)
     assert sum_evens(0, 5) == 6 == sum_evens(1, 6)
     assert sum_evens(7, 3) == 0 == sum_evens(4, 4)
+    assert num_it() |> list == [5]
+    assert left_right_diff([10,4,8,3]) |> list == [15, 1, 11, 22]
+    assert num_until_neg_sum([2,-1,0,1,-3,3,-3]) == 6
+    assert S((+), (.*10)) <| 2 == 22
+    assert K 1 <| 2 == 1
+    assert I 1 == 1
+    assert KI 1 <| 2 == 2
+    assert W(+) <| 3 == 6
+    assert C((/), 5) <| 20 == 4
+    assert B((.+1), (.*2)) <| 3 == 7
+    assert B1((.*2), (+), 3) <| 4 == 14
+    assert B2(((0,)+.), (,), 1, 2) <| 3 == (0, 1, 2, 3)
+    assert B3((.+1), (.*2), (.**2)) <| 3 == 19
+    assert D((+), 5, (.+1)) <| 2 == 8
+    assert Phi((,), (.+1), (.-1)) <| 5 == (6, 4)
+    assert Psi((,), (.+1), 3) <| 4 == (4, 5)
+    assert D1((,), 0, 1, (.+1)) <| 1 == (0, 1, 2)
+    assert D2((+), (.*2), 3, (.+1)) <| 4 == 11
+    assert E((+), 10, (*), 2) <| 3 == 16
+    assert Phi1((,), (+), (*), 2) <| 3 == (5, 6)
+    assert BE((,), (+), 10, 2, (*), 2) <| 3 == (12, 6)
+    assert (+) `on` (.*2) <*| (3, 5) == 16
+    assert test_super_B().method({'somekey': 'string', 'someotherkey': 42})
+    assert outer_func_normal() |> map$(call) |> list == [4] * 5
+    for outer_func in (outer_func_1, outer_func_2, outer_func_3, outer_func_4, outer_func_5):
+        assert outer_func() |> map$(call) |> list == range(5) |> list
+    assert get_glob() == 0
+    assert wrong_get_set_glob(10) == 0
+    assert get_glob() == 0
+    assert wrong_get_set_glob(20) == 10
+    assert take_xy(xy("a", "b")) == ("a", "b")
 
     # must come at end
     assert fibs_calls[0] == 1
     assert lols[0] == 5
     return True
 
 def tco_test() -> bool:
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/tutorial.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/tutorial.coco`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/agnostic/util.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/agnostic/util.coco`

 * *Files 2% similar despite different names*

```diff
@@ -221,15 +221,15 @@
 def CONST = 10
 
 operator 
 operator 
 () = () = (,) ..> map$(str) ..> "".join
 
 operator !
-match def (int(x))! = 0 if x else 1
+addpattern def (int(x))! = 0 if x else 1  # type: ignore
 addpattern def (float(x))! = 0.0 if x else 1.0  # type: ignore
 addpattern def x! if x = False  # type: ignore
 addpattern def x! = True  # type: ignore
 
 # Type aliases:
 if sys.version_info >= (3, 5) or TYPE_CHECKING:
     import typing
@@ -613,15 +613,15 @@
         return None
     raise TypeError()
 
 match def fact(n) = fact(n, 1)  # type: ignore
 match addpattern def fact(0, acc) = acc  # type: ignore
 addpattern match def fact(n, acc) = fact(n-1, acc*n)  # type: ignore
 
-def factorial(0, acc=1) = acc
+addpattern def factorial(0, acc=1) = acc  # type: ignore
 addpattern def factorial(int() as n, acc=1 if n > 0) =  # type: ignore
     """this is a docstring"""
     factorial(n-1, acc*n)
 
 # Match Functions:
 def classify(value):
     match tuple() in value:
@@ -645,18 +645,18 @@
             return "pair list"
         return "list"
     match {} in value:
         match {**{}} in value:
             return "empty dict"
         else:
             return "dict"
-    match _ `isinstance` (set, frozenset) in value:
-        match s{} in value:
+    match s{*_} in value:
+        match s{*()} in value:
             return "empty set"
-        match {0} in value:
+        match {0, *()} in value:
             return "set of 0"
         return "set"
     raise TypeError()
 def classify_sequence(value):
     out = ""
     cases value:
         match ():
@@ -825,50 +825,61 @@
 
 # Constructed Data Types:
 data trilen(h):
     def __new__(cls, a, b):
         return (a**2 + b**2)**0.5 |> datamaker(cls)
 
 # Inheritance:
-class A:
+class clsA:
     a = 1
     def true(self):
         return True
     def not_super(self):
         def \super() = self
         return super().true()
     @classmethod
     def cls_true(cls) = True
-class inh_A(A):
+class inh_A(clsA):
     def inh_true1(self) =
         super().true()
     def inh_true2(self) =
         super(inh_A, self).true()
     def inh_true3(nonstandard_self) =
         super().true()
     def inh_true4(self) =
         py_super(inh_A, self).true()
     inh_true5 = def (self) -> super().true()
     @classmethod
     def inh_cls_true(cls) = super().cls_true()
-class B:
+class clsB:
     b = 2
-class C:
+class clsC:
     c = 3
-class D:
+class clsD:
     d = 4
 
 class MyExc(Exception):
     def __init__(self, m):
         super().__init__(m)
 
 class MySubExc(MyExc):
     def __init__(self, m):
         super().__init__(m)
 
+class test_super_A:
+    @classmethod
+    addpattern def method(cls, {'somekey': str()}) = True
+
+
+class test_super_B(test_super_A):
+    @classmethod
+    addpattern def method(cls, {'someotherkey': int(), **rest}) =
+        super().method(rest)
+
+
 # Nesting:
 class Nest:
     class B:
         class C:
             d = "data"
             def m(self) = "method"
             none = None
@@ -1029,18 +1040,62 @@
 class unrepresentable:
     class Fail(Exception)
     def __repr__(self):
         raise Fail("unrepresentable")
 
 # Typing
 if TYPE_CHECKING or sys.version_info >= (3, 5):
-    from typing import List, Dict, Any, cast
+    from typing import (
+        List,
+        Dict,
+        Any,
+        cast,
+        Protocol,
+        TypeVar,
+        Generic,
+    )
+
+    T = TypeVar("T", covariant=True)
+    U = TypeVar("U", contravariant=True)
+    V = TypeVar("V", covariant=True)
+
+    class SupportsAdd(Protocol, Generic[T, U, V]):
+        def __add__(self: T, other: U) -> V:
+            raise NotImplementedError
+
+    class SupportsMul(Protocol, Generic[T, U, V]):
+        def __mul__(self: T, other: U) -> V:
+            raise NotImplementedError
+
+    class X(Protocol):
+        x: str
+
+    class Y(Protocol):
+        y: str
+
 else:
     def cast(typ, value) = value
 
+obj_with_add_and_mul: SupportsAdd &: SupportsMul = 10
+an_int: (
+    (+)
+    &: (-)
+    &: (*)
+    &: (**)
+    &: (/)
+    &: (//)
+    &: (%)
+    &: (&)
+    &: (^)
+    &: (|)
+    &: (<<)
+    &: (>>)
+    &: (~)
+) = 10
+
 def args_kwargs_func(args: List[Any]=[], kwargs: Dict[Any, Any]={}) -> typing.Literal[True] =
     True
 
 def int_func(*args: int, **kwargs: int) -> int =
     0
 
 def one_int_or_str(x: int | str) -> int | str = x
@@ -1052,14 +1107,23 @@
 
 def try_divide(x: float, y: float) -> Expected[float]:
     try:
         return Expected(x / y)
     except Exception as err:
         return Expected(error=err)
 
+class xy:
+    def __init__(self, x: str, y: str):
+        self.x: str = x
+        self.y: str = y
+
+def take_xy(xy: X &: Y) -> (str; str) =
+    xy.x, xy.y
+
+
 # Enhanced Pattern-Matching
 
 def fact_(0, acc=1) = acc
 addpattern def fact_(int() as n, acc=1 if n > 0) = fact_(n-1, acc*n)  # type: ignore
 
 def x_is_int(int() as x) = x
 
@@ -1287,14 +1351,21 @@
 def ret_locals() =
     abc = 1
     locals()
 def ret_globals() =
     abc = 1
     locals()
 
+global glob = 0
+copyclosure def wrong_get_set_glob(x):
+    global glob
+    old_glob, glob = glob, x
+    return old_glob
+def get_glob() = glob
+
 
 # Pos/kwd only args
 match def pos_only(a, b, /) = a, b
 
 match def kwd_only(*, a) = a
 
 
@@ -1375,25 +1446,52 @@
 
 yield match def just_it_of_int(int() as x):
     yield x
 
 match yield def just_it_of_int_(int() as x):
     yield x
 
+yield def num_it() -> int$[]:
+    yield 5
+
+
+# combinators
+
+def S(f, g) = lift(f)(ident, g)
+K = const
+I = ident
+KI = const(ident)
+def W(f) = lift(f)(ident, ident)
+def C(f, x) = flip(f)$(x)
+B = (..)
+def B1(f, g, x) = f .. g$(x)
+def B2(f, g, x, y) = f .. g$(x, y)
+def B3(f, g, h) = f .. g .. h
+def D(f, x, g) = lift(f)(const x, g)
+def Phi(f, g, h) = lift(f)(g, h)
+def Psi(f, g, x) = g ..> lift(f)(const(g x), ident)
+def D1(f, x, y, g) = lift(f)(const x, const y, g)
+def D2(f, g, x, h) = lift(f)(const(g x), h)
+def E(f, x, g, y) = lift(f)(const x, g$(y))
+def Phi1(f, g, h, x) = lift(f)(g$(x), h$(x))
+def BE(f, g, x, y, h, z) = lift(f)(const(g x y), h$(z))
+
+def on(b, u) = (,) ..> map$(u) ..*> b
+
+
 # maximum difference
 def maxdiff1(ns) = (
     ns
     |> scan$(min)
     |> zip$(ns)
     |> starmap$(-)
     |> filter$(->_ != 0)
     |> reduce$(max, ?, -1)
 )
 
-def S(binop, unop) = lift(binop)(ident, unop)
 def ne_zero(x) = x != 0
 
 maxdiff2 = (
     reduce$(max, ?, -1)
     <.. filter$(ne_zero)
     <.. starmap$(-)
     <.. S(zip, scan$(min))
@@ -1536,15 +1634,15 @@
     def __index__(self if self.offset < 0) = self.offset
     def __call__(self) = self.offset or None
     def __bool__(self) = self.offset != 0
 
 end = End()
 
 
-# advent of code
+# coding challenges
 proc_moves = (
     .strip()
     ..> .splitlines()
     ..> map$(
         .split()
         ..*> (def (move, num) ->
             n = int(num);
@@ -1654,14 +1752,41 @@
     |> map$(set)
     |> enumerate
     |> filter$(.[1] ..> len ..> (.==n))
     |> map$(.[0] ..> (.+n))
     |> .$[0]
 )
 
+shifted_left_sum = (
+    scan$((+), ?, 0)
+    ..> .$[:-1]
+)
+
+shifted_right_sum = (
+    reversed
+    ..> shifted_left_sum
+    ..> list
+    ..> reversed
+)
+
+left_right_diff = (
+    lift(zip)(shifted_left_sum, shifted_right_sum)
+    ..> starmap$(-)
+    ..> map$(abs)
+)  # type: ignore
+
+num_until_neg_sum = (
+    sorted
+    ..> reversed
+    ..> scan$(+)
+    ..> filter$(.>0)
+    ..> list
+    ..> len
+)
+
 
 # Search patterns
 def first_twin(_ + [p, (.-2) -> p] + _) = (p, p+2)
 def first_twin_((*_, p, (.-2) -> p, *_)) = (p, p+2)
 
 def has_abc(s):
     match _ + "abc" + _ in s:
@@ -1783,7 +1908,54 @@
         return cls(new_shape, new_arr)
     def __fmap__(self, func):
         new_arr = zeros(self.shape)
         for ind in indices(self.shape):
             setind(new_arr, ind, func(getind(self.arr, ind)))
         return self.__class__(self.shape, new_arr)
     def __neg__(self) = self |> fmap$(-)
+
+
+# copyclosure
+
+def outer_func_normal():
+    funcs = []
+    for x in range(5):
+        def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_1():
+    funcs = []
+    for x in range(5):
+        copyclosure def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_2():
+    funcs = []
+    for x in range(5):
+        funcs.append(copyclosure def -> x)
+    return funcs
+
+def outer_func_3():
+    funcs = []
+    for x in range(5):
+        class inner_cls
+        @staticmethod
+        copyclosure def inner_cls.inner_func() = x
+        funcs.append(inner_cls.inner_func)
+    return funcs
+
+def outer_func_4():
+    funcs = []
+    for x in range(5):
+        match def inner_func(x) = x
+        addpattern copyclosure def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_5() -> (() -> int)[]:
+    funcs = []
+    for x in range(5):
+        copyclosure def inner_func() -> int = x
+        funcs.append(inner_func)
+    return funcs
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/non_strict/non_strict_test.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/non_strict/non_strict_test.coco`

 * *Files 12% similar despite different names*

```diff
@@ -76,11 +76,13 @@
             pass
     else:
         assert False
     def weird_func(f:lambda g=->_:g=lambda h=->_:h) = f  # type: ignore
     assert weird_func()()(5) == 5
     a_dict: TextMap[str, int] = {"a": 1}
     assert a_dict["a"] == 1
+    assert "". <| "join" <| ["1","2","3"] == "123"
+    assert "a b c" == (" ". ?? "not gonna happen")("join")("abc")
     return True
 
 if __name__ == "__main__":
     assert non_strict_test()
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/target_3/py3_test.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/target_3/py3_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/target_36/py36_test.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/target_36/py36_test.coco`

 * *Files 23% similar despite different names*

```diff
@@ -4,17 +4,17 @@
     """Performs Python-3.6-specific tests."""
     assert f"{[] |> len}" == "0"
     assert (a=1, b=2) == _namedtuple_of(a=1, b=2) == (1, 2)  # type: ignore
 
     loop = asyncio.new_event_loop()
 
     async def ayield(x) = x
-    async def arange(n):
+    :async def arange(n):
         for i in range(n):
-            yield await ayield(i)
+            yield :await ayield(i)
     async def afor_test():
         # syntax 1
         got = []
         async for int(i) in arange(5):
             got.append(i)
         assert got == range(5) |> list
 
@@ -40,15 +40,40 @@
         for x in range(n):
             yield x
     async def aconsume(ait):
         async for _ in ait:
             pass
     l: typing.List[int] = []
     async def aiter_test():
-        await (range(10) |> toa |> fmap$(l.append) |> aconsume)
-        await (arange_(10) |> fmap$(l.append) |> aconsume)
+        range(10) |> toa |> fmap$(l.append) |> aconsume |> await
+        arange_(10) |> fmap$(l.append) |> aconsume |> await
     loop.run_until_complete(aiter_test())
     assert l == list(range(10)) + list(range(10))
 
+    async def arec(x) = await arec(x-1) if x else x
+    async def outer_func():
+        funcs = []
+        for x in range(5):
+            funcs.append(async copyclosure def -> x)
+        return funcs
+    async def await_all(xs) = [await x for x in xs]
+    async def atest():
+        assert (
+            10
+            |> arec
+            |> await
+            |> (.+10)
+            |> arec
+            |> await
+        ) == 0
+        assert (
+            outer_func()
+            |> await
+            |> map$(call)
+            |> await_all
+            |> await
+        ) == range(5) |> list
+    loop.run_until_complete(atest())
+
     loop.close()
 
     return True
```

### Comparing `coconut-2.2.0/coconut/tests/src/cocotest/target_sys/target_sys_test.coco` & `coconut-3.0.0/coconut/tests/src/cocotest/target_sys/target_sys_test.coco`

 * *Files 4% similar despite different names*

```diff
@@ -57,16 +57,16 @@
     async def aplus(x) = y -> x + y
     aplus_: async int -> int -> int = async def x -> y -> x + y
     if sys.version_info >= (3, 5) or TYPE_CHECKING:
         type AsyncNumFunc[T <: int | float] = async T -> T
     aplus1: AsyncNumFunc[int] = async def x -> x + 1
     async def main():
         assert await async_map_test()
-        assert `(+)$(1) .. await aplus 1` 1 == 3
-        assert `(.+1) .. await aplus_ 1` 1 == 3
+        assert `(+)$(1) .. await (aplus 1)` 1 == 3
+        assert `(.+1) .. await (aplus_ 1)` 1 == 3
         assert await (async def (x, y) -> x + y)(1, 2) == 3
         assert await (async def (int(x), int(y)) -> x + y)(1, 2) == 3
         assert await (async match def (int(x), int(y)) -> x + y)(1, 2) == 3
         assert await (match async def (int(x), int(y)) -> x + y)(1, 2) == 3
         assert await (aplus1 2) == 3
 
     loop = asyncio.new_event_loop()
```

### Comparing `coconut-2.2.0/coconut/tests/src/extras.coco` & `coconut-3.0.0/coconut/tests/src/extras.coco`

 * *Files 5% similar despite different names*

```diff
@@ -1,18 +1,19 @@
 from collections.abc import Sequence
 
-from coconut.__coconut__ import consume as coc_consume  # type: ignore
+from coconut.__coconut__ import consume as coc_consume
 from coconut.constants import (
     IPY,
     PY2,
     PY34,
     PY35,
-    WINDOWS,
+    PY36,
     PYPY,
 )  # type: ignore
+from coconut._pyparsing import USE_COMPUTATION_GRAPH  # type: ignore
 from coconut.exceptions import (
     CoconutSyntaxError,
     CoconutStyleError,
     CoconutTargetError,
     CoconutParseError,
 )  # type: ignore
 from coconut.convenience import (
@@ -20,36 +21,42 @@
     cmd,
     version,
     setup,
     parse,
     coconut_eval,
 )
 
-if IPY and not WINDOWS:
+if IPY:
     if PY35:
-        import asyncio  # type: ignore
+        import asyncio
     from coconut.icoconut import CoconutKernel  # type: ignore
 else:
     CoconutKernel = None  # type: ignore
 
 
 def assert_raises(c, exc, not_exc=None, err_has=None):
     """Test whether callable c raises an exception of type exc."""
     if not_exc is None and exc is CoconutSyntaxError:
         not_exc = CoconutParseError
+    # we don't check err_has without the computation graph since errors can be quite different
+    if not USE_COMPUTATION_GRAPH:
+        err_has = None
+
     try:
         c()
     except exc as err:
         if not_exc is not None:
             assert not isinstance(err, not_exc), f"{err} instance of {not_exc}"
         if err_has is not None:
             if isinstance(err_has, tuple):
                 assert any(has in str(err) for has in err_has), f"{str(err)!r} does not contain any of {err_has!r}"
             else:
                 assert err_has in str(err), f"{err_has!r} not in {str(err)!r}"
+        if exc `isinstance` CoconutSyntaxError:
+            assert "SyntaxError" in str(exc.syntax_err())
     except BaseException as err:
         raise AssertionError(f"got wrong exception {err} (expected {exc})")
     else:
         raise AssertionError(f"{c} failed to raise exception {exc}")
 
 
 def unwrap_future(event_loop, maybe_future):
@@ -98,15 +105,15 @@
     assert parse("abc ")
     assert parse("abc # derp", "lenient") == "abc  # derp"
     assert "==" not in parse("None = None")
     assert parse("(1\f+\f2)", "lenient") == "(1 + 2)" == parse("(1\f+\f2)", "eval")
     assert "Ellipsis" not in parse("x: ... = 1")
 
     # things that don't parse correctly without the computation graph
-    if not PYPY:
+    if USE_COMPUTATION_GRAPH:
         exec(parse("assert (1,2,3,4) == ([1, 2], [3, 4]) |*> def (x, y) -> *x, *y"), {})
 
     assert_raises(-> parse("(a := b)"), CoconutTargetError)
     assert_raises(-> parse("async def f() = 1"), CoconutTargetError)
     assert_raises(-> parse("exec = 1"), CoconutTargetError)
 
     assert_raises(-> parse(" abc", "file"), CoconutSyntaxError)
@@ -117,14 +124,15 @@
     assert_raises(-> parse("_coconut"), CoconutSyntaxError)
     assert_raises(-> parse("[;]"), CoconutSyntaxError)
     assert_raises(-> parse("[; ;; ;]"), CoconutSyntaxError)
     assert_raises(-> parse("f$()"), CoconutSyntaxError)
     assert_raises(-> parse("f(**x, y)"), CoconutSyntaxError)
     assert_raises(-> parse("def f(x) = return x"), CoconutSyntaxError)
     assert_raises(-> parse("def f(x) =\n return x"), CoconutSyntaxError)
+    assert_raises(-> parse("10 20"), CoconutSyntaxError)
 
     assert_raises(-> parse("()[(())"), CoconutSyntaxError, err_has="""
 unclosed open '[' (line 1)
   ()[(())
     ^
     """.strip())
     assert_raises(-> parse("{}(([])"), CoconutSyntaxError, err_has="""
@@ -160,14 +168,16 @@
     assert_raises(-> parse("(..*?>)"), CoconutSyntaxError, err_has="'..?*>'")
     assert_raises(-> parse("(..**?>)"), CoconutSyntaxError, err_has="'..?**>'")
     assert_raises(-> parse("(<?*..)"), CoconutSyntaxError, err_has="'<*?..'")
     assert_raises(-> parse("(<?**..)"), CoconutSyntaxError, err_has="'<**?..'")
     assert_raises(-> parse("(.+1) .. x -> x * 2"), CoconutSyntaxError, err_has="<..")
     assert_raises(-> parse('f"Black holes {*all_black_holes} and revelations"'), CoconutSyntaxError, err_has="format string")
     assert_raises(-> parse("operator ++\noperator ++"), CoconutSyntaxError, err_has="custom operator already declared")
+    assert_raises(-> parse("type HasIn = (in)"), CoconutSyntaxError, err_has="not supported")
+
     assert_raises(
         -> parse("type abc[T,T] = T | T"),
         CoconutSyntaxError,
         err_has=r"""
 cannot reassign type variable 'T' (use explicit '\T' syntax if intended) (line 1)
   type abc[T,T] = T | T
              ^
@@ -180,27 +190,29 @@
     assert_raises(-> parse("1 + return"), CoconutParseError, err_has=" ~~~~~^")
     assert_raises(-> parse("""
 def f() =
     assert 1
     assert 2
     """.strip()), CoconutParseError, err_has=(
         """
-  assert 2
-          ^
-        """.strip(),
-        """
       assert 2
 
   ~~~~~~~~~~~~^
         """.strip(),
+        """
+  assert 2
+          ^
+        """.strip()
     ))
     assert_raises(-> parse('b"abc" "def"'), CoconutParseError, err_has=" ~~~~~~~^")
     assert_raises(-> parse('"abc" b"def"'), CoconutParseError, err_has=" ~~~~~~^")
+    assert_raises(-> parse('"a" 10'), CoconutParseError, err_has=" ~~~~^")
+    assert_raises(-> parse("A. ."), CoconutParseError, err_has=" ~~~^")
 
-    assert_raises(-> parse("return = 1"), CoconutParseError, err_has="invalid use of the keyword")
+    assert_raises(-> parse("return = 1"), CoconutParseError, err_has='invalid use of the keyword "return"')
     assert_raises(-> parse("if a = b: pass"), CoconutParseError, err_has="misplaced assignment")
     assert_raises(-> parse("while a == b"), CoconutParseError, err_has="misplaced newline")
 
     try:
         parse("""
 def gam_eps_rate(bitarr) = (
     bitarr
@@ -215,20 +227,21 @@
     |> map$(int(?, 2))
     |*> (*)
 )
         """.strip())
     except CoconutParseError as err:
         err_str = str(err)
         assert "misplaced '?'" in err_str
-        assert """
+        if not PYPY:
+            assert """
   |> map$(int(?, 2))
          ~~~~~^""" in err_str or """
       |> map$(int(?, 2))
 
-  ~~~~~~~~~~~~~~~~~^""" in err_str
+  ~~~~~~~~~~~~~~~~~^""" in err_str, err_str
     else:
         assert False
 
     assert parse("def f(x):\n ${var}", "xonsh") == "def f(x):\n    ${var}\n"
     assert "data ABC" not in parse("data ABC:\n ${var}", "xonsh")
 
     assert parse('"abc" "xyz"', "lenient") == "'abcxyz'"
@@ -282,14 +295,18 @@
         """.strip())
     except CoconutStyleError as err:
         assert str(err) == """found deprecated isinstance-checking 'x is int is str' pattern; rewrite to use class patterns (try 'int(x) and str(x)') or explicit isinstance-checking ('x `isinstance` int and x `isinstance` str' should always work) (remove --strict to downgrade to a warning) (line 2)
   x is int is str = x""", err
     assert_raises(-> parse("""case x:
     match x:
         pass"""), CoconutStyleError, err_has="case x:")
+    assert_raises(-> parse("obj."), CoconutStyleError, err_has="getattr")
+
+    setup(strict=True, target="sys")
+    assert_raises(-> parse("await f x"), CoconutParseError, err_has='invalid use of the keyword "await"')
 
     setup(target="2.7")
     assert parse("from io import BytesIO", mode="lenient") == "from io import BytesIO"
     assert_raises(-> parse("def f(*, x=None) = x"), CoconutTargetError, err_has="\n        ^")
 
     setup(target="3")
     assert parse("""
@@ -367,14 +384,18 @@
     assert keyword_complete_result["cursor_start"] == 0
     assert keyword_complete_result["cursor_end"] == 1
     return True
 
 
 def test_numpy() -> bool:
     import numpy as np
+    A = np.array([1, 2;; 3, 4])
+    B = np.array([5, 6;; 7, 8])
+    C = np.array([19, 22;; 43, 50])
+
     assert isinstance(np.array([1, 2]) |> fmap$(.+1), np.ndarray)
     assert np.all(fmap(-> _ + 1, np.arange(3)) == np.array([1, 2, 3]))  # type: ignore
     assert np.array([1, 2;; 3, 4]).shape == (2, 2)
     assert [
         1, 2 ;;
         np.array([3, 4]) ;;
     ].shape == (2, 2)  # type: ignore
@@ -387,33 +408,35 @@
     assert two == 2
     [] = np.array([])  # type: ignore
     assert [1,2 ;;; 3,4] |> np.array |> .shape == (2, 1, 2)
     assert [1;2 ;;; 3;4] |> np.array |> .shape == (2, 1, 2)
     assert [1;2 ;;;; 3;4] |> np.array |> .shape == (2, 1, 1, 2)
     assert [1,2 ;;;; 3,4] |> np.array |> .shape == (2, 1, 1, 2)
     assert np.array([1,2 ;; 3,4]) `np.array_equal` np.array([[1,2],[3,4]])
-    a = np.array([1,2 ;; 3,4])
-    assert [a ; a] `np.array_equal` np.array([1,2,1,2 ;; 3,4,3,4])
-    assert [a ;; a] `np.array_equal` np.array([1,2;; 3,4;; 1,2;; 3,4])
-    assert [a ;;; a].shape == (2, 2, 2)  # type: ignore
-    assert np.array([1, 2;; 3, 4]) @ np.array([5, 6;; 7, 8]) `np.array_equal` np.array([19, 22;; 43, 50])
-    assert np.array([1, 2;; 3, 4]) @ np.identity(2) @ np.identity(2) `np.array_equal` np.array([1, 2;; 3, 4])
-    assert (@)(np.array([1, 2;; 3, 4]), np.array([5, 6;; 7, 8])) `np.array_equal` np.array([19, 22;; 43, 50])
+    assert [A ; A] `np.array_equal` np.array([1,2,1,2 ;; 3,4,3,4])
+    assert [A ;; A] `np.array_equal` np.array([1,2;; 3,4;; 1,2;; 3,4])
+    assert [A ;;; A].shape == (2, 2, 2)  # type: ignore
+    assert A @ B `np.array_equal` C
+    assert A @ np.identity(2) @ np.identity(2) `np.array_equal` A
+    assert (@)(A, B) `np.array_equal` C
     non_zero_diags = (
         np.array
         ..> lift(,)(ident, reversed ..> np.array)
         ..> map$(np.einsum$("ii -> i") ..> .all())
         ..*> (and)
     )
     assert non_zero_diags([1,0,1;;0,1,0;;1,0,1])
     assert not non_zero_diags([1,0,0;;0,1,0;;1,0,1])
     enumeration = multi_enumerate(np.array([1, 2;; 3, 4]))
     assert len(enumeration) == 4  # type: ignore
     assert enumeration[2] == ((1, 0), 3)  # type: ignore
     assert list(enumeration) == [((0, 0), 1), ((0, 1), 2), ((1, 0), 3), ((1, 1), 4)]
+    for ind, x in multi_enumerate(np.array([1, 2])):
+        assert ind `isinstance` tuple, (type(ind), ind)
+        assert x `isinstance` (np.int32, np.int64), (type(x), x)
     assert all_equal(np.array([]))
     assert all_equal(np.array([1]))
     assert all_equal(np.array([1, 1]))
     assert all_equal(np.array([1, 1;; 1, 1]))
     assert not all_equal(np.array([1, 1;; 1, 2]))
     assert (
         cartesian_product(np.array([1, 2]), np.array([3, 4]))
@@ -425,20 +448,61 @@
         `np.array_equal`
         np.array([1, 1;; 1, 2;; 2, 1;; 2, 2])
     )  # type: ignore
     assert flatten(np.array([1,2;;3,4])) `isinstance` flatten
     assert (flatten(np.array([1,2;;3,4])) |> list) == [1,2,3,4]
     assert cycle(np.array([1,2;;3,4]), 2) `isinstance` cycle
     assert (cycle(np.array([1,2;;3,4]), 2) |> np.asarray) `np.array_equal` np.array([1,2;;3,4;;1,2;;3,4])
+    assert 10 A `np.array_equal` A * 10
+    assert A 10 `np.array_equal` A * 10  # type: ignore
+    assert A B `np.array_equal` A * B
+    obj_arr = np.array([[1, "a"], [2.3, "abc"]], dtype=object)
+    assert obj_arr |> multi_enumerate |> map$(.[0]) |> list == [(0, 0), (0, 1), (1, 0), (1, 1)]
+
+    # must come at end; checks no modification
+    assert A `np.array_equal` np.array([1, 2;; 3, 4])
+    assert B `np.array_equal` np.array([5, 6;; 7, 8])
+    return True
+
+
+def test_pandas() -> bool:
+    import pandas as pd
+    import numpy as np
+    d1 = pd.DataFrame({"nums": [1, 2, 3], "chars": ["a", "b", "c"]})
+    assert d1$[0] == "nums"
+    assert [d1; d1].keys() |> list == ["nums", "chars"] * 2  # type: ignore
+    assert [d1;; d1].itertuples() |> list == [(0, 1, 'a'), (1, 2, 'b'), (2, 3, 'c'), (0, 1, 'a'), (1, 2, 'b'), (2, 3, 'c')]  # type: ignore
+    d2 = pd.DataFrame({"a": range(3) |> list, "b": range(1, 4) |> list})
+    d3 = d2 |> fmap$(fmap$(.+1))
+    assert d3["a"] |> list == range(1, 4) |> list
+    assert d3["b"] |> list == range(2, 5) |> list
+    assert multi_enumerate(d1) |> list == [((0, 0), 1), ((1, 0), 2), ((2, 0), 3), ((0, 1), 'a'), ((1, 1), 'b'), ((2, 1), 'c')]
+    assert not all_equal(d1)
+    assert not all_equal(d2)
+    assert cartesian_product(d1["nums"], d1["chars"]) `np.array_equal` np.array([
+        1; 'a';;
+        1; 'b';;
+        1; 'c';;
+        2; 'a';;
+        2; 'b';;
+        2; 'c';;
+        3; 'a';;
+        3; 'b';;
+        3; 'c';;
+    ], dtype=object)  # type: ignore
+    d4 = d1 |> fmap$(def r -> r["nums2"] = r["nums"]*2; r)
+    assert (d4["nums"] * 2 == d4["nums2"]).all()
     return True
 
 
 def test_extras() -> bool:
     if not PYPY and (PY2 or PY34):
         assert test_numpy() is True
+    if not PYPY and PY36:
+        assert test_pandas() is True
     if CoconutKernel is not None:
         assert test_kernel() is True
     assert test_setup_none() is True
     assert test_convenience() is True
     return True
```

### Comparing `coconut-2.2.0/coconut/tests/src/runner.coco` & `coconut-3.0.0/coconut/tests/src/runner.coco`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/coconut/util.py` & `coconut-3.0.0/coconut/util.py`

 * *Files 3% similar despite different names*

```diff
@@ -26,14 +26,15 @@
 import traceback
 import time
 import ast
 from zlib import crc32
 from warnings import warn
 from types import MethodType
 from contextlib import contextmanager
+from collections import defaultdict
 
 if sys.version_info >= (3, 2):
     from functools import lru_cache
 else:
     try:
         from backports.functools_lru_cache import lru_cache
     except ImportError:
@@ -52,19 +53,14 @@
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
-def printerr(*args, **kwargs):
-    """Prints to standard error."""
-    print(*args, file=sys.stderr, **kwargs)
-
-
 def univ_open(filename, opentype="r+", encoding=None, **kwargs):
     """Open a file using default_encoding."""
     if encoding is None:
         encoding = default_encoding
     if "b" not in opentype:
         kwargs["encoding"] = encoding
     # we use io.open from coconut.root here
@@ -211,14 +207,22 @@
     if it is called multiple times with the same arguments."""
     if lru_cache is None:
         return lambda func: func
     else:
         return lru_cache(maxsize, *args, **kwargs)
 
 
+class keydefaultdict(defaultdict, object):
+    """Version of defaultdict that calls the factory with the key."""
+
+    def __missing__(self, key):
+        self[key] = self.default_factory(key)
+        return self[key]
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSIONING:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def ver_tuple_to_str(req_ver):
     """Converts a requirement version tuple into a version string."""
```

### Comparing `coconut-2.2.0/coconut.egg-info/SOURCES.txt` & `coconut-3.0.0/coconut.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/conf.py` & `coconut-3.0.0/conf.py`

 * *Files identical despite different names*

### Comparing `coconut-2.2.0/setup.py` & `coconut-3.0.0/setup.py`

 * *Files identical despite different names*

