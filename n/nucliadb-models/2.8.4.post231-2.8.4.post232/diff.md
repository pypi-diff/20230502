# Comparing `tmp/nucliadb_models-2.8.4.post231-py3-none-any.whl.zip` & `tmp/nucliadb_models-2.8.4.post232-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,28 @@
-Zip file size: 31692 bytes, number of entries: 26
--rw-r--r--  2.0 unx     1273 b- defN 23-May-01 17:00 nucliadb_models/__init__.py
--rw-r--r--  2.0 unx     6240 b- defN 23-May-01 17:00 nucliadb_models/common.py
--rw-r--r--  2.0 unx     3982 b- defN 23-May-01 17:00 nucliadb_models/conversation.py
--rw-r--r--  2.0 unx     1682 b- defN 23-May-01 17:00 nucliadb_models/datetime.py
--rw-r--r--  2.0 unx     3023 b- defN 23-May-01 17:00 nucliadb_models/entities.py
--rw-r--r--  2.0 unx     8090 b- defN 23-May-01 17:00 nucliadb_models/extracted.py
--rw-r--r--  2.0 unx     2191 b- defN 23-May-01 17:00 nucliadb_models/file.py
--rw-r--r--  2.0 unx     1735 b- defN 23-May-01 17:00 nucliadb_models/keywordset.py
--rw-r--r--  2.0 unx     1468 b- defN 23-May-01 17:00 nucliadb_models/labels.py
--rw-r--r--  2.0 unx     3147 b- defN 23-May-01 17:00 nucliadb_models/layout.py
--rw-r--r--  2.0 unx     2177 b- defN 23-May-01 17:00 nucliadb_models/link.py
--rw-r--r--  2.0 unx    11144 b- defN 23-May-01 17:00 nucliadb_models/metadata.py
--rw-r--r--  2.0 unx      998 b- defN 23-May-01 17:00 nucliadb_models/processing.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-01 17:00 nucliadb_models/py.typed
--rw-r--r--  2.0 unx     7361 b- defN 23-May-01 17:00 nucliadb_models/resource.py
--rw-r--r--  2.0 unx    12225 b- defN 23-May-01 17:00 nucliadb_models/search.py
--rw-r--r--  2.0 unx     1904 b- defN 23-May-01 17:00 nucliadb_models/synonyms.py
--rw-r--r--  2.0 unx     2195 b- defN 23-May-01 17:00 nucliadb_models/text.py
--rw-r--r--  2.0 unx     1960 b- defN 23-May-01 17:00 nucliadb_models/utils.py
--rw-r--r--  2.0 unx     2553 b- defN 23-May-01 17:00 nucliadb_models/vectors.py
--rw-r--r--  2.0 unx     4341 b- defN 23-May-01 17:00 nucliadb_models/writer.py
--rw-r--r--  2.0 unx      415 b- defN 23-May-01 17:02 nucliadb_models-2.8.4.post231.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-01 17:02 nucliadb_models-2.8.4.post231.dist-info/WHEEL
--rw-r--r--  2.0 unx       16 b- defN 23-May-01 17:02 nucliadb_models-2.8.4.post231.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-May-01 17:01 nucliadb_models-2.8.4.post231.dist-info/zip-safe
--rw-rw-r--  2.0 unx     2205 b- defN 23-May-01 17:02 nucliadb_models-2.8.4.post231.dist-info/RECORD
-26 files, 82418 bytes uncompressed, 28120 bytes compressed:  65.9%
+Zip file size: 31762 bytes, number of entries: 26
+-rw-r--r--  2.0 unx     1273 b- defN 23-May-02 09:13 nucliadb_models/__init__.py
+-rw-r--r--  2.0 unx     6240 b- defN 23-May-02 09:13 nucliadb_models/common.py
+-rw-r--r--  2.0 unx     3982 b- defN 23-May-02 09:13 nucliadb_models/conversation.py
+-rw-r--r--  2.0 unx     1682 b- defN 23-May-02 09:13 nucliadb_models/datetime.py
+-rw-r--r--  2.0 unx     3023 b- defN 23-May-02 09:13 nucliadb_models/entities.py
+-rw-r--r--  2.0 unx     8090 b- defN 23-May-02 09:13 nucliadb_models/extracted.py
+-rw-r--r--  2.0 unx     2191 b- defN 23-May-02 09:13 nucliadb_models/file.py
+-rw-r--r--  2.0 unx     1735 b- defN 23-May-02 09:13 nucliadb_models/keywordset.py
+-rw-r--r--  2.0 unx     1468 b- defN 23-May-02 09:13 nucliadb_models/labels.py
+-rw-r--r--  2.0 unx     3147 b- defN 23-May-02 09:13 nucliadb_models/layout.py
+-rw-r--r--  2.0 unx     2177 b- defN 23-May-02 09:13 nucliadb_models/link.py
+-rw-r--r--  2.0 unx    11144 b- defN 23-May-02 09:13 nucliadb_models/metadata.py
+-rw-r--r--  2.0 unx      998 b- defN 23-May-02 09:13 nucliadb_models/processing.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-02 09:13 nucliadb_models/py.typed
+-rw-r--r--  2.0 unx     7361 b- defN 23-May-02 09:13 nucliadb_models/resource.py
+-rw-r--r--  2.0 unx    12225 b- defN 23-May-02 09:13 nucliadb_models/search.py
+-rw-r--r--  2.0 unx     1904 b- defN 23-May-02 09:13 nucliadb_models/synonyms.py
+-rw-r--r--  2.0 unx     2373 b- defN 23-May-02 09:13 nucliadb_models/text.py
+-rw-r--r--  2.0 unx     1960 b- defN 23-May-02 09:13 nucliadb_models/utils.py
+-rw-r--r--  2.0 unx     2553 b- defN 23-May-02 09:13 nucliadb_models/vectors.py
+-rw-r--r--  2.0 unx     4372 b- defN 23-May-02 09:13 nucliadb_models/writer.py
+-rw-r--r--  2.0 unx      415 b- defN 23-May-02 09:15 nucliadb_models-2.8.4.post232.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-02 09:15 nucliadb_models-2.8.4.post232.dist-info/WHEEL
+-rw-r--r--  2.0 unx       16 b- defN 23-May-02 09:15 nucliadb_models-2.8.4.post232.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-May-02 09:14 nucliadb_models-2.8.4.post232.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     2205 b- defN 23-May-02 09:15 nucliadb_models-2.8.4.post232.dist-info/RECORD
+26 files, 82627 bytes uncompressed, 28190 bytes compressed:  65.9%
```

## zipnote {}

```diff
@@ -57,23 +57,23 @@
 
 Filename: nucliadb_models/vectors.py
 Comment: 
 
 Filename: nucliadb_models/writer.py
 Comment: 
 
-Filename: nucliadb_models-2.8.4.post231.dist-info/METADATA
+Filename: nucliadb_models-2.8.4.post232.dist-info/METADATA
 Comment: 
 
-Filename: nucliadb_models-2.8.4.post231.dist-info/WHEEL
+Filename: nucliadb_models-2.8.4.post232.dist-info/WHEEL
 Comment: 
 
-Filename: nucliadb_models-2.8.4.post231.dist-info/top_level.txt
+Filename: nucliadb_models-2.8.4.post232.dist-info/top_level.txt
 Comment: 
 
-Filename: nucliadb_models-2.8.4.post231.dist-info/zip-safe
+Filename: nucliadb_models-2.8.4.post232.dist-info/zip-safe
 Comment: 
 
-Filename: nucliadb_models-2.8.4.post231.dist-info/RECORD
+Filename: nucliadb_models-2.8.4.post232.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nucliadb_models/text.py

```diff
@@ -40,14 +40,22 @@
 class TextFormat(Enum):  # type: ignore
     PLAIN = "PLAIN"
     HTML = "HTML"
     RST = "RST"
     MARKDOWN = "MARKDOWN"
 
 
+TEXT_FORMAT_TO_MIMETYPE = {
+    TextFormat.PLAIN: "text/plain",
+    TextFormat.HTML: "text/html",
+    TextFormat.RST: "text/x-rst",
+    TextFormat.MARKDOWN: "text/markdown",
+}
+
+
 # Visualization classes (Those used on reader endpoints)
 
 
 class FieldText(BaseModel):
     body: Optional[str]
     format: Optional[TextFormat]
     md5: Optional[str]
```

## nucliadb_models/writer.py

```diff
@@ -41,15 +41,15 @@
 GENERIC_MIME_TYPE = "application/generic"
 
 
 class CreateResourcePayload(BaseModel):
     title: Optional[str] = None
     summary: Optional[str] = None
     slug: Optional[SlugString] = None
-    icon: Optional[str] = GENERIC_MIME_TYPE
+    icon: Optional[str] = None
     thumbnail: Optional[str] = None
     layout: Optional[str] = None
     metadata: Optional[InputMetadata] = None
     usermetadata: Optional[UserMetadata] = None
     fieldmetadata: Optional[List[UserFieldMetadata]] = None
     uservectors: Optional[UserVectorsWrapper] = None
     origin: Optional[Origin] = None
@@ -63,14 +63,17 @@
     datetimes: Dict[FieldIdString, FieldDatetime] = {}
 
     # Processing options
     processing_options: Optional[PushProcessingOptions] = PushProcessingOptions()
 
     @validator("icon")
     def icon_check(cls, v):
+        if v is None:
+            return v
+
         if "/" not in v:
             raise ValueError("Icon should be a MIME string")
 
         if len(v.split("/")) != 2:
             raise ValueError("Icon needs two parts of MIME string")
 
         return v
```

## Comparing `nucliadb_models-2.8.4.post231.dist-info/RECORD` & `nucliadb_models-2.8.4.post232.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -11,16 +11,16 @@
 nucliadb_models/link.py,sha256=HovN2zkCD8SbUvIuj33ek4HQ-Td1_mLjsds_V19igjI,2177
 nucliadb_models/metadata.py,sha256=n0X-txSJDMjZ5boCW1ovyQZ3uFiN_nMxI1sGtwI4-Co,11144
 nucliadb_models/processing.py,sha256=9bSD2fYnUiDThxgzpeq3DiK0AgfDu31F7YmxE3J5Qak,998
 nucliadb_models/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 nucliadb_models/resource.py,sha256=U0hfVjIo3FYGHizUw_4JCfkrdnTBjsbLDFgUsjW0EM0,7361
 nucliadb_models/search.py,sha256=ubSQ0vNdrl1E7SeSqSpjCidhkT4yA8gwduzdxeV8DRM,12225
 nucliadb_models/synonyms.py,sha256=nvC2dmmFahhyK0cDHzDy-THQ07_LySbIPQphRDpn_7w,1904
-nucliadb_models/text.py,sha256=YYJOyOyc4cW5cWT0b5L-EI-vNGeRt3zAc3Dl31mSDzc,2195
+nucliadb_models/text.py,sha256=mYh4KmMvTqQu5mdLh45WX1q-4cJrlzbdD7NBxG2TLSc,2373
 nucliadb_models/utils.py,sha256=pweXqBd4jhRq1_KQK7DvMpi58I3LDUFK2VFzGvPGUiI,1960
 nucliadb_models/vectors.py,sha256=uvkRrFMv8sCaRoNFq_dUzNiBc4T3REKC4sN31Po_xGA,2553
-nucliadb_models/writer.py,sha256=qbu1VC-yrztfS1Ll5FIZgqtLFBiM7hF_kJQa7vuOswg,4341
-nucliadb_models-2.8.4.post231.dist-info/METADATA,sha256=ChV__soMC-BABIqXq2_0xRr5PPtkecD5tNVRq12T6iE,415
-nucliadb_models-2.8.4.post231.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-nucliadb_models-2.8.4.post231.dist-info/top_level.txt,sha256=UrY1I8oeovIRwkXLYplssTrxQdUjhSEFDFbnwaIV3tA,16
-nucliadb_models-2.8.4.post231.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-nucliadb_models-2.8.4.post231.dist-info/RECORD,,
+nucliadb_models/writer.py,sha256=B9PEvv1OE1EHAVOdqT45s8hveHek7tB0Ci0-7eoqusM,4372
+nucliadb_models-2.8.4.post232.dist-info/METADATA,sha256=5R-BG1sYuHSvyYScj6HL8_5q-3MH3880qPr4-WgCf18,415
+nucliadb_models-2.8.4.post232.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+nucliadb_models-2.8.4.post232.dist-info/top_level.txt,sha256=UrY1I8oeovIRwkXLYplssTrxQdUjhSEFDFbnwaIV3tA,16
+nucliadb_models-2.8.4.post232.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+nucliadb_models-2.8.4.post232.dist-info/RECORD,,
```

